"use strict";var FYe=Object.create;var K4=Object.defineProperty;var tpe=Object.getOwnPropertyDescriptor;var MYe=Object.getOwnPropertyNames;var QYe=Object.getPrototypeOf,OYe=Object.prototype.hasOwnProperty;var Zhe=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),epe=e=>{throw TypeError(e)};var s=(e,t)=>K4(e,"name",{value:t,configurable:!0});var UYe=(e,t)=>()=>(e&&(t=e(e=0)),t);var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),H1=(e,t)=>{for(var r in t)K4(e,r,{get:t[r],enumerable:!0})},rpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MYe(t))!OYe.call(e,i)&&i!==r&&K4(e,i,{get:()=>t[i],enumerable:!(n=tpe(t,i))||n.enumerable});return e};var Ze=(e,t,r)=>(r=e!=null?FYe(QYe(e)):{},rpe(t||!e||!e.__esModule?K4(r,"default",{value:e,enumerable:!0}):r,e)),qYe=e=>rpe(K4({},"__esModule",{value:!0}),e),a0=(e,t,r,n)=>{for(var i=n>1?void 0:n?tpe(t,r):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&K4(t,r,i),i},js=(e,t)=>(r,n)=>t(r,n,e);var CK=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&epe("Object expected");var n,i;r&&(n=t[Zhe("asyncDispose")]),n===void 0&&(n=t[Zhe("dispose")],r&&(i=n)),typeof n!="function"&&epe("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.push([r,n,t])}else r&&e.push([r]);return t},xK=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),o=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(o,c=>(i(c),o()))}catch(c){i(c)}if(r)throw t};return o()};var importMetaUrlShim,d=UYe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var ipe=j(vK=>{d();var npe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");vK.encode=function(e){if(0<=e&&e<npe.length)return npe[e];throw new TypeError("Must be between 0 and 63: "+e)};vK.decode=function(e){var t=65,r=90,n=97,i=122,o=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:o<=e&&e<=a?e-o+f:e==l?62:e==c?63:-1}});var IK=j(EK=>{d();var ope=ipe(),bK=5,spe=1<<bK,ape=spe-1,lpe=spe;function WYe(e){return e<0?(-e<<1)+1:(e<<1)+0}s(WYe,"toVLQSigned");function GYe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}s(GYe,"fromVLQSigned");EK.encode=s(function(t){var r="",n,i=WYe(t);do n=i&ape,i>>>=bK,i>0&&(n|=lpe),r+=ope.encode(n);while(i>0);return r},"base64VLQ_encode");EK.decode=s(function(t,r,n){var i=t.length,o=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=ope.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&lpe),c&=ape,o=o+(c<<a),a+=bK}while(l);n.value=GYe(o),n.rest=r},"base64VLQ_decode")});var Z4=j(_c=>{d();function HYe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}s(HYe,"getArg");_c.getArg=HYe;var cpe=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,jYe=/^data:.+\,.+$/;function R7(e){var t=e.match(cpe);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}s(R7,"urlParse");_c.urlParse=R7;function J4(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}s(J4,"urlGenerate");_c.urlGenerate=J4;function TK(e){var t=e,r=R7(e);if(r){if(!r.path)return e;t=r.path}for(var n=_c.isAbsolute(t),i=t.split(/\/+/),o,a=0,l=i.length-1;l>=0;l--)o=i[l],o==="."?i.splice(l,1):o===".."?a++:a>0&&(o===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,J4(r)):t}s(TK,"normalize");_c.normalize=TK;function upe(e,t){e===""&&(e="."),t===""&&(t=".");var r=R7(t),n=R7(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),J4(r);if(r||t.match(jYe))return t;if(n&&!n.host&&!n.path)return n.host=t,J4(n);var i=t.charAt(0)==="/"?t:TK(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,J4(n)):i}s(upe,"join");_c.join=upe;_c.isAbsolute=function(e){return e.charAt(0)==="/"||cpe.test(e)};function VYe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}s(VYe,"relative");_c.relative=VYe;var fpe=function(){var e=Object.create(null);return!("__proto__"in e)}();function dpe(e){return e}s(dpe,"identity");function $Ye(e){return mpe(e)?"$"+e:e}s($Ye,"toSetString");_c.toSetString=fpe?dpe:$Ye;function zYe(e){return mpe(e)?e.slice(1):e}s(zYe,"fromSetString");_c.fromSetString=fpe?dpe:zYe;function mpe(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}s(mpe,"isProtoString");function YYe(e,t,r){var n=X4(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:X4(e.name,t.name)}s(YYe,"compareByOriginalPositions");_c.compareByOriginalPositions=YYe;function KYe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=X4(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:X4(e.name,t.name)}s(KYe,"compareByGeneratedPositionsDeflated");_c.compareByGeneratedPositionsDeflated=KYe;function X4(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}s(X4,"strcmp");function JYe(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=X4(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:X4(e.name,t.name)}s(JYe,"compareByGeneratedPositionsInflated");_c.compareByGeneratedPositionsInflated=JYe;function XYe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}s(XYe,"parseSourceMapInput");_c.parseSourceMapInput=XYe;function ZYe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=R7(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=upe(J4(n),t)}return TK(t)}s(ZYe,"computeSourceURL");_c.computeSourceURL=ZYe});var SK=j(hpe=>{d();var wK=Z4(),_K=Object.prototype.hasOwnProperty,Ix=typeof Map<"u";function j1(){this._array=[],this._set=Ix?new Map:Object.create(null)}s(j1,"ArraySet");j1.fromArray=s(function(t,r){for(var n=new j1,i=0,o=t.length;i<o;i++)n.add(t[i],r);return n},"ArraySet_fromArray");j1.prototype.size=s(function(){return Ix?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");j1.prototype.add=s(function(t,r){var n=Ix?t:wK.toSetString(t),i=Ix?this.has(t):_K.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(t),i||(Ix?this._set.set(t,o):this._set[n]=o)},"ArraySet_add");j1.prototype.has=s(function(t){if(Ix)return this._set.has(t);var r=wK.toSetString(t);return _K.call(this._set,r)},"ArraySet_has");j1.prototype.indexOf=s(function(t){if(Ix){var r=this._set.get(t);if(r>=0)return r}else{var n=wK.toSetString(t);if(_K.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");j1.prototype.at=s(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");j1.prototype.toArray=s(function(){return this._array.slice()},"ArraySet_toArray");hpe.ArraySet=j1});var Ape=j(gpe=>{d();var ppe=Z4();function eKe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return n>r||n==r&&o>=i||ppe.compareByGeneratedPositionsInflated(e,t)<=0}s(eKe,"generatedPositionAfter");function FP(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s(FP,"MappingList");FP.prototype.unsortedForEach=s(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");FP.prototype.add=s(function(t){eKe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");FP.prototype.toArray=s(function(){return this._sorted||(this._array.sort(ppe.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");gpe.MappingList=FP});var RK=j(ype=>{d();var k7=IK(),Oa=Z4(),MP=SK().ArraySet,tKe=Ape().MappingList;function fd(e){e||(e={}),this._file=Oa.getArg(e,"file",null),this._sourceRoot=Oa.getArg(e,"sourceRoot",null),this._skipValidation=Oa.getArg(e,"skipValidation",!1),this._sources=new MP,this._names=new MP,this._mappings=new tKe,this._sourcesContents=null}s(fd,"SourceMapGenerator");fd.prototype._version=3;fd.fromSourceMap=s(function(t){var r=t.sourceRoot,n=new fd({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=Oa.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),t.sources.forEach(function(i){var o=i;r!==null&&(o=Oa.relative(r,i)),n._sources.has(o)||n._sources.add(o);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");fd.prototype.addMapping=s(function(t){var r=Oa.getArg(t,"generated"),n=Oa.getArg(t,"original",null),i=Oa.getArg(t,"source",null),o=Oa.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})},"SourceMapGenerator_addMapping");fd.prototype.setSourceContent=s(function(t,r){var n=t;this._sourceRoot!=null&&(n=Oa.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Oa.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Oa.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");fd.prototype.applySourceMap=s(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var o=this._sourceRoot;o!=null&&(i=Oa.relative(o,i));var a=new MP,l=new MP;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Oa.join(n,c.source)),o!=null&&(c.source=Oa.relative(o,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Oa.join(n,c)),o!=null&&(c=Oa.relative(o,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");fd.prototype._validateMapping=s(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");fd.prototype._serializeMappings=s(function(){for(var t=0,r=1,n=0,i=0,o=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,g=h.length;p<g;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Oa.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=k7.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=k7.encode(m-a),a=m,c+=k7.encode(u.originalLine-1-i),i=u.originalLine-1,c+=k7.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=k7.encode(f-o),o=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");fd.prototype._generateSourcesContent=s(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Oa.relative(r,n));var i=Oa.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");fd.prototype.toJSON=s(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");fd.prototype.toString=s(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");ype.SourceMapGenerator=fd});var Cpe=j(Tx=>{d();Tx.GREATEST_LOWER_BOUND=1;Tx.LEAST_UPPER_BOUND=2;function kK(e,t,r,n,i,o){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?kK(a,t,r,n,i,o):o==Tx.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?kK(e,a,r,n,i,o):o==Tx.LEAST_UPPER_BOUND?a:e<0?-1:e}s(kK,"recursiveSearch");Tx.search=s(function(t,r,n,i){if(r.length===0)return-1;var o=kK(-1,r.length,t,r,n,i||Tx.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o},"search")});var vpe=j(xpe=>{d();function BK(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}s(BK,"swap");function rKe(e,t){return Math.round(e+Math.random()*(t-e))}s(rKe,"randomIntInRange");function DK(e,t,r,n){if(r<n){var i=rKe(r,n),o=r-1;BK(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(o+=1,BK(e,o,l));BK(e,o+1,l);var c=o+1;DK(e,t,r,c-1),DK(e,t,c+1,n)}}s(DK,"doQuickSort");xpe.quickSort=function(e,t){DK(e,t,0,e.length-1)}});var Epe=j(QP=>{d();var Ur=Z4(),PK=Cpe(),eI=SK().ArraySet,nKe=IK(),B7=vpe().quickSort;function ss(e,t){var r=e;return typeof e=="string"&&(r=Ur.parseSourceMapInput(e)),r.sections!=null?new Wm(r,t):new ec(r,t)}s(ss,"SourceMapConsumer");ss.fromSourceMap=function(e,t){return ec.fromSourceMap(e,t)};ss.prototype._version=3;ss.prototype.__generatedMappings=null;Object.defineProperty(ss.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:s(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});ss.prototype.__originalMappings=null;Object.defineProperty(ss.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:s(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});ss.prototype._charIsMappingSeparator=s(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");ss.prototype._parseMappings=s(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");ss.GENERATED_ORDER=1;ss.ORIGINAL_ORDER=2;ss.GREATEST_LOWER_BOUND=1;ss.LEAST_UPPER_BOUND=2;ss.prototype.eachMapping=s(function(t,r,n){var i=r||null,o=n||ss.GENERATED_ORDER,a;switch(o){case ss.GENERATED_ORDER:a=this._generatedMappings;break;case ss.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Ur.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");ss.prototype.allGeneratedPositionsFor=s(function(t){var r=Ur.getArg(t,"line"),n={source:Ur.getArg(t,"source"),originalLine:r,originalColumn:Ur.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Ur.compareByOriginalPositions,PK.LEAST_UPPER_BOUND);if(o>=0){var a=this._originalMappings[o];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Ur.getArg(a,"generatedLine",null),column:Ur.getArg(a,"generatedColumn",null),lastColumn:Ur.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Ur.getArg(a,"generatedLine",null),column:Ur.getArg(a,"generatedColumn",null),lastColumn:Ur.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o]}return i},"SourceMapConsumer_allGeneratedPositionsFor");QP.SourceMapConsumer=ss;function ec(e,t){var r=e;typeof e=="string"&&(r=Ur.parseSourceMapInput(e));var n=Ur.getArg(r,"version"),i=Ur.getArg(r,"sources"),o=Ur.getArg(r,"names",[]),a=Ur.getArg(r,"sourceRoot",null),l=Ur.getArg(r,"sourcesContent",null),c=Ur.getArg(r,"mappings"),u=Ur.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Ur.normalize(a)),i=i.map(String).map(Ur.normalize).map(function(f){return a&&Ur.isAbsolute(a)&&Ur.isAbsolute(f)?Ur.relative(a,f):f}),this._names=eI.fromArray(o.map(String),!0),this._sources=eI.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Ur.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}s(ec,"BasicSourceMapConsumer");ec.prototype=Object.create(ss.prototype);ec.prototype.consumer=ss;ec.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Ur.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};ec.fromSourceMap=s(function(t,r){var n=Object.create(ec.prototype),i=n._names=eI.fromArray(t._names.toArray(),!0),o=n._sources=eI.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Ur.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new bpe;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=o.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return B7(n.__originalMappings,Ur.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");ec.prototype._version=3;Object.defineProperty(ec.prototype,"sources",{get:s(function(){return this._absoluteSources.slice()},"get")});function bpe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s(bpe,"Mapping");ec.prototype._parseMappings=s(function(t,r){for(var n=1,i=0,o=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],g=[],y,v,b,E,_;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(y=new bpe,y.generatedLine=n,E=f;E<u&&!this._charIsMappingSeparator(t,E);E++);if(v=t.slice(f,E),b=m[v],b)f+=v.length;else{for(b=[];f<E;)nKe.decode(t,f,h),_=h.value,f=h.rest,b.push(_);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");m[v]=b}y.generatedColumn=i+b[0],i=y.generatedColumn,b.length>1&&(y.source=l+b[1],l+=b[1],y.originalLine=o+b[2],o=y.originalLine,y.originalLine+=1,y.originalColumn=a+b[3],a=y.originalColumn,b.length>4&&(y.name=c+b[4],c+=b[4])),g.push(y),typeof y.originalLine=="number"&&p.push(y)}B7(g,Ur.compareByGeneratedPositionsDeflated),this.__generatedMappings=g,B7(p,Ur.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");ec.prototype._findMapping=s(function(t,r,n,i,o,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return PK.search(t,r,o,a)},"SourceMapConsumer_findMapping");ec.prototype.computeColumnSpans=s(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");ec.prototype.originalPositionFor=s(function(t){var r={generatedLine:Ur.getArg(t,"line"),generatedColumn:Ur.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Ur.compareByGeneratedPositionsDeflated,Ur.getArg(t,"bias",ss.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=Ur.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=Ur.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=Ur.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:o,line:Ur.getArg(i,"originalLine",null),column:Ur.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");ec.prototype.hasContentsOfAllSources=s(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");ec.prototype.sourceContentFor=s(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Ur.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=Ur.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");ec.prototype.generatedPositionFor=s(function(t){var r=Ur.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Ur.getArg(t,"line"),originalColumn:Ur.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Ur.compareByOriginalPositions,Ur.getArg(t,"bias",ss.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:Ur.getArg(o,"generatedLine",null),column:Ur.getArg(o,"generatedColumn",null),lastColumn:Ur.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");QP.BasicSourceMapConsumer=ec;function Wm(e,t){var r=e;typeof e=="string"&&(r=Ur.parseSourceMapInput(e));var n=Ur.getArg(r,"version"),i=Ur.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new eI,this._names=new eI;var o={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Ur.getArg(a,"offset"),c=Ur.getArg(l,"line"),u=Ur.getArg(l,"column");if(c<o.line||c===o.line&&u<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new ss(Ur.getArg(a,"map"),t)}})}s(Wm,"IndexedSourceMapConsumer");Wm.prototype=Object.create(ss.prototype);Wm.prototype.constructor=ss;Wm.prototype._version=3;Object.defineProperty(Wm.prototype,"sources",{get:s(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});Wm.prototype.originalPositionFor=s(function(t){var r={generatedLine:Ur.getArg(t,"line"),generatedColumn:Ur.getArg(t,"column")},n=PK.search(r,this._sections,function(o,a){var l=o.generatedLine-a.generatedOffset.generatedLine;return l||o.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Wm.prototype.hasContentsOfAllSources=s(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Wm.prototype.sourceContentFor=s(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(t,!0);if(o)return o}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Wm.prototype.generatedPositionFor=s(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Ur.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Wm.prototype._parseMappings=s(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var l=o[a],c=i.consumer._sources.at(l.source);c=Ur.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}B7(this.__generatedMappings,Ur.compareByGeneratedPositionsDeflated),B7(this.__originalMappings,Ur.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");QP.IndexedSourceMapConsumer=Wm});var Tpe=j(Ipe=>{d();var iKe=RK().SourceMapGenerator,OP=Z4(),oKe=/(\r?\n)/,sKe=10,tI="$$$isSourceNode$$$";function Wu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[tI]=!0,n!=null&&this.add(n)}s(Wu,"SourceNode");Wu.fromStringWithSourceMap=s(function(t,r,n){var i=new Wu,o=t.split(oKe),a=0,l=s(function(){var h=g(),p=g()||"";return h+p;function g(){return a<o.length?o[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=o[a]||"",g=p.substr(0,h.generatedColumn-u);o[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,g),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=o[a]||"";i.add(p.substr(0,h.generatedColumn)),o[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<o.length&&(f&&m(f,l()),i.add(o.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=OP.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var g=n?OP.join(n,h.source):h.source;i.add(new Wu(h.originalLine,h.originalColumn,g,p,h.name))}}s(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Wu.prototype.add=s(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[tI]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Wu.prototype.prepend=s(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[tI]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Wu.prototype.walk=s(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[tI]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Wu.prototype.join=s(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");Wu.prototype.replaceRight=s(function(t,r){var n=this.children[this.children.length-1];return n[tI]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Wu.prototype.setSourceContent=s(function(t,r){this.sourceContents[OP.toSetString(t)]=r},"SourceNode_setSourceContent");Wu.prototype.walkSourceContents=s(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][tI]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(OP.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");Wu.prototype.toString=s(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Wu.prototype.toStringWithSourceMap=s(function(t){var r={code:"",line:1,column:0},n=new iKe(t),i=!1,o=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((o!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),o=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===sKe?(r.line++,r.column=0,m+1===h?(o=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");Ipe.SourceNode=Wu});var wpe=j(UP=>{d();UP.SourceMapGenerator=RK().SourceMapGenerator;UP.SourceMapConsumer=Epe().SourceMapConsumer;UP.SourceNode=Tpe().SourceNode});var Spe=j((NHt,_pe)=>{d();var aKe=Object.prototype.toString,NK=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function lKe(e){return aKe.call(e).slice(8,-1)==="ArrayBuffer"}s(lKe,"isArrayBuffer");function cKe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return NK?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}s(cKe,"fromArrayBuffer");function uKe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return NK?Buffer.from(e,t):new Buffer(e,t)}s(uKe,"fromString");function fKe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return lKe(e)?cKe(e,t,r):typeof e=="string"?uKe(e,t):NK?Buffer.from(e):new Buffer(e)}s(fKe,"bufferFrom");_pe.exports=fKe});var Fpe=j((_x,QK)=>{d();var dKe=wpe().SourceMapConsumer,LK=require("path"),Wp;try{Wp=require("fs"),(!Wp.existsSync||!Wp.readFileSync)&&(Wp=null)}catch{}var mKe=Spe();function Rpe(e,t){return e.require(t)}s(Rpe,"dynamicRequire");var kpe=!1,Bpe=!1,FK=!1,D7="auto",wx={},P7={},hKe=/^data:application\/json[^,]+base64,/,zy=[],Yy=[];function OK(){return D7==="browser"?!0:D7==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}s(OK,"isInBrowser");function pKe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}s(pKe,"hasGlobalProcessEventEmitter");function gKe(){return typeof process=="object"&&process!==null?process.version:""}s(gKe,"globalProcessVersion");function AKe(){if(typeof process=="object"&&process!==null)return process.stderr}s(AKe,"globalProcessStderr");function yKe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}s(yKe,"globalProcessExit");function qP(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}s(qP,"handlerExec");var UK=qP(zy);zy.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in wx)return wx[e];var t="";try{if(Wp)Wp.existsSync(e)&&(t=Wp.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return wx[e]=t});function MK(e,t){if(!e)return t;var r=LK.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",o=r.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/",i+LK.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+LK.resolve(r.slice(i.length),t)}s(MK,"supportRelativeURL");function CKe(e){var t;if(OK())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=UK(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,o,a;a=i.exec(t);)o=a;return o?o[1]:null}s(CKe,"retrieveSourceMapURL");var qK=qP(Yy);Yy.push(function(e){var t=CKe(e);if(!t)return null;var r;if(hKe.test(t)){var n=t.slice(t.indexOf(",")+1);r=mKe(n,"base64").toString(),t=e}else t=MK(e,t),r=UK(t);return r?{url:t,map:r}:null});function WK(e){var t=P7[e.source];if(!t){var r=qK(e.source);r?(t=P7[e.source]={url:r.url,map:new dKe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,o){var a=t.map.sourcesContent[o];if(a){var l=MK(t.url,i);wx[l]=a}})):t=P7[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=MK(t.url,n.source),n}return e}s(WK,"mapSourcePosition");function Ppe(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=WK({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Ppe(t[2])+")":e}s(Ppe,"mapEvalOrigin");function xKe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();o?(u&&o.indexOf(u)!=0&&(i+=u+"."),i+=o,f&&o.indexOf("."+f)!=o.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}s(xKe,"CallSiteToString");function Dpe(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=xKe,t}s(Dpe,"cloneCallSite");function Npe(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=o.test(gKe())?0:62;n===1&&i>a&&!OK()&&!e.isEval()&&(i-=a);var l=WK({source:r,line:n,column:i});t.curPosition=l,e=Dpe(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=Ppe(u),e=Dpe(e),e.getEvalOrigin=function(){return u}),e}s(Npe,"wrapCallSite");function vKe(e,t){FK&&(wx={},P7={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,o={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Npe(t[l],o)),o.nextPosition=o.curPosition;return o.curPosition=o.nextPosition=null,i+a.reverse().join("")}s(vKe,"prepareStackTrace");function Lpe(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],o=wx[r];if(!o&&Wp&&Wp.existsSync(r))try{o=Wp.readFileSync(r,"utf8")}catch{o=""}if(o){var a=o.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}s(Lpe,"getErrorSource");function bKe(e){var t=Lpe(e),r=AKe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),yKe(1)}s(bKe,"printErrorAndExit");function EKe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return bKe(arguments[1])}return e.apply(this,arguments)}}s(EKe,"shimEmitUncaughtException");var IKe=zy.slice(0),TKe=Yy.slice(0);_x.wrapCallSite=Npe;_x.getErrorSource=Lpe;_x.mapSourcePosition=WK;_x.retrieveSourceMap=qK;_x.install=function(e){if(e=e||{},e.environment&&(D7=e.environment,["node","browser","auto"].indexOf(D7)===-1))throw new Error("environment "+D7+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(zy.length=0),zy.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Yy.length=0),Yy.unshift(e.retrieveSourceMap)),e.hookRequire&&!OK()){var t=Rpe(QK,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(o,a){return wx[a]=o,P7[a]=void 0,r.call(this,o,a)},t.prototype._compile.__sourceMapSupport=!0)}if(FK||(FK="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),kpe||(kpe=!0,Error.prepareStackTrace=vKe),!Bpe){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Rpe(QK,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&pKe()&&(Bpe=!0,EKe())}};_x.resetRetrieveHandlers=function(){zy.length=0,Yy.length=0,zy=IKe.slice(0),Yy=TKe.slice(0),qK=qP(Yy),UK=qP(zy)}});var ki=j((WP,Mpe)=>{d();(function(e,t){typeof WP=="object"?Mpe.exports=WP=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(WP,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),o=Object.create||function(){function b(){}return s(b,"F"),function(E){var _;return b.prototype=E,_=new b,b.prototype=null,_}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:s(function(b){var E=o(this);return b&&E.mixIn(b),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},"extend"),create:s(function(){var b=this.extend();return b.init.apply(b,arguments),b},"create"),init:s(function(){},"init"),mixIn:s(function(b){for(var E in b)b.hasOwnProperty(E)&&(this[E]=b[E]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},"mixIn"),clone:s(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:s(function(b,E){b=this.words=b||[],E!=r?this.sigBytes=E:this.sigBytes=b.length*4},"init"),toString:s(function(b){return(b||m).stringify(this)},"toString"),concat:s(function(b){var E=this.words,_=b.words,k=this.sigBytes,B=b.sigBytes;if(this.clamp(),k%4)for(var N=0;N<B;N++){var M=_[N>>>2]>>>24-N%4*8&255;E[k+N>>>2]|=M<<24-(k+N)%4*8}else for(var re=0;re<B;re+=4)E[k+re>>>2]=_[re>>>2];return this.sigBytes+=B,this},"concat"),clamp:s(function(){var b=this.words,E=this.sigBytes;b[E>>>2]&=4294967295<<32-E%4*8,b.length=t.ceil(E/4)},"clamp"),clone:s(function(){var b=c.clone.call(this);return b.words=this.words.slice(0),b},"clone"),random:s(function(b){for(var E=[],_=0;_<b;_+=4)E.push(i());return new u.init(E,b)},"random")}),f=a.enc={},m=f.Hex={stringify:s(function(b){for(var E=b.words,_=b.sigBytes,k=[],B=0;B<_;B++){var N=E[B>>>2]>>>24-B%4*8&255;k.push((N>>>4).toString(16)),k.push((N&15).toString(16))}return k.join("")},"stringify"),parse:s(function(b){for(var E=b.length,_=[],k=0;k<E;k+=2)_[k>>>3]|=parseInt(b.substr(k,2),16)<<24-k%8*4;return new u.init(_,E/2)},"parse")},h=f.Latin1={stringify:s(function(b){for(var E=b.words,_=b.sigBytes,k=[],B=0;B<_;B++){var N=E[B>>>2]>>>24-B%4*8&255;k.push(String.fromCharCode(N))}return k.join("")},"stringify"),parse:s(function(b){for(var E=b.length,_=[],k=0;k<E;k++)_[k>>>2]|=(b.charCodeAt(k)&255)<<24-k%4*8;return new u.init(_,E)},"parse")},p=f.Utf8={stringify:s(function(b){try{return decodeURIComponent(escape(h.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:s(function(b){return h.parse(unescape(encodeURIComponent(b)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:s(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:s(function(b){typeof b=="string"&&(b=p.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},"_append"),_process:s(function(b){var E,_=this._data,k=_.words,B=_.sigBytes,N=this.blockSize,M=N*4,re=B/M;b?re=t.ceil(re):re=t.max((re|0)-this._minBufferSize,0);var pe=re*N,Z=t.min(pe*4,B);if(pe){for(var G=0;G<pe;G+=N)this._doProcessBlock(k,G);E=k.splice(0,pe),_.sigBytes-=Z}return new u.init(E,Z)},"_process"),clone:s(function(){var b=c.clone.call(this);return b._data=this._data.clone(),b},"clone"),_minBufferSize:0}),y=l.Hasher=g.extend({cfg:c.extend(),init:s(function(b){this.cfg=this.cfg.extend(b),this.reset()},"init"),reset:s(function(){g.reset.call(this),this._doReset()},"reset"),update:s(function(b){return this._append(b),this._process(),this},"update"),finalize:s(function(b){b&&this._append(b);var E=this._doFinalize();return E},"finalize"),blockSize:512/32,_createHelper:s(function(b){return function(E,_){return new b.init(_).finalize(E)}},"_createHelper"),_createHmacHelper:s(function(b){return function(E,_){return new v.HMAC.init(b,_).finalize(E)}},"_createHmacHelper")}),v=a.algo={};return a}(Math);return e})});var L7=j((GP,Qpe)=>{d();(function(e,t){typeof GP=="object"?Qpe.exports=GP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(GP,function(e){return function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:s(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:s(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:s(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return o.create(m,this.sigBytes)},"toX32"),clone:s(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var Upe=j((HP,Ope)=>{d();(function(e,t){typeof HP=="object"?Ope.exports=HP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(HP,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,o=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray})});var Wpe=j((jP,qpe)=>{d();(function(e,t){typeof jP=="object"?qpe.exports=jP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(jP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Utf16=i.Utf16BE={stringify:s(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:s(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:s(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:s(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}s(a,"swapEndian")}(),e.enc.Utf16})});var Ky=j((VP,Gpe)=>{d();(function(e,t){typeof VP=="object"?Gpe.exports=VP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(VP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64={stringify:s(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,g=c[h+1>>>2]>>>24-(h+1)%4*8&255,y=c[h+2>>>2]>>>24-(h+2)%4*8&255,v=p<<16|g<<8|y,b=0;b<4&&h+b*.75<u;b++)m.push(f.charAt(v>>>6*(3-b)&63));var E=f.charAt(64);if(E)for(;m.length%4;)m.push(E);return m.join("")},"stringify"),parse:s(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,g=u[l.charCodeAt(h)]>>>6-h%4*2,y=p|g;f[m>>>2]|=y<<24-m%4*8,m++}return n.create(f,m)}s(a,"parseLoop")}(),e.enc.Base64})});var jpe=j(($P,Hpe)=>{d();(function(e,t){typeof $P=="object"?Hpe.exports=$P=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($P,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64url={stringify:s(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,y=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,b=g<<16|y<<8|v,E=0;E<4&&p+E*.75<f;E++)h.push(m.charAt(b>>>6*(3-E)&63));var _=m.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},"stringify"),parse:s(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(u=g)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,g=u[l.charCodeAt(h)]>>>6-h%4*2,y=p|g;f[m>>>2]|=y<<24-m%4*8,m++}return n.create(f,m)}s(a,"parseLoop")}(),e.enc.Base64url})});var Jy=j((zP,Vpe)=>{d();(function(e,t){typeof zP=="object"?Vpe.exports=zP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zP,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=o.extend({_doReset:s(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:s(function(p,g){for(var y=0;y<16;y++){var v=g+y,b=p[v];p[v]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var E=this._hash.words,_=p[g+0],k=p[g+1],B=p[g+2],N=p[g+3],M=p[g+4],re=p[g+5],pe=p[g+6],Z=p[g+7],G=p[g+8],q=p[g+9],ie=p[g+10],z=p[g+11],H=p[g+12],U=p[g+13],V=p[g+14],Y=p[g+15],ae=E[0],te=E[1],le=E[2],ce=E[3];ae=u(ae,te,le,ce,_,7,l[0]),ce=u(ce,ae,te,le,k,12,l[1]),le=u(le,ce,ae,te,B,17,l[2]),te=u(te,le,ce,ae,N,22,l[3]),ae=u(ae,te,le,ce,M,7,l[4]),ce=u(ce,ae,te,le,re,12,l[5]),le=u(le,ce,ae,te,pe,17,l[6]),te=u(te,le,ce,ae,Z,22,l[7]),ae=u(ae,te,le,ce,G,7,l[8]),ce=u(ce,ae,te,le,q,12,l[9]),le=u(le,ce,ae,te,ie,17,l[10]),te=u(te,le,ce,ae,z,22,l[11]),ae=u(ae,te,le,ce,H,7,l[12]),ce=u(ce,ae,te,le,U,12,l[13]),le=u(le,ce,ae,te,V,17,l[14]),te=u(te,le,ce,ae,Y,22,l[15]),ae=f(ae,te,le,ce,k,5,l[16]),ce=f(ce,ae,te,le,pe,9,l[17]),le=f(le,ce,ae,te,z,14,l[18]),te=f(te,le,ce,ae,_,20,l[19]),ae=f(ae,te,le,ce,re,5,l[20]),ce=f(ce,ae,te,le,ie,9,l[21]),le=f(le,ce,ae,te,Y,14,l[22]),te=f(te,le,ce,ae,M,20,l[23]),ae=f(ae,te,le,ce,q,5,l[24]),ce=f(ce,ae,te,le,V,9,l[25]),le=f(le,ce,ae,te,N,14,l[26]),te=f(te,le,ce,ae,G,20,l[27]),ae=f(ae,te,le,ce,U,5,l[28]),ce=f(ce,ae,te,le,B,9,l[29]),le=f(le,ce,ae,te,Z,14,l[30]),te=f(te,le,ce,ae,H,20,l[31]),ae=m(ae,te,le,ce,re,4,l[32]),ce=m(ce,ae,te,le,G,11,l[33]),le=m(le,ce,ae,te,z,16,l[34]),te=m(te,le,ce,ae,V,23,l[35]),ae=m(ae,te,le,ce,k,4,l[36]),ce=m(ce,ae,te,le,M,11,l[37]),le=m(le,ce,ae,te,Z,16,l[38]),te=m(te,le,ce,ae,ie,23,l[39]),ae=m(ae,te,le,ce,U,4,l[40]),ce=m(ce,ae,te,le,_,11,l[41]),le=m(le,ce,ae,te,N,16,l[42]),te=m(te,le,ce,ae,pe,23,l[43]),ae=m(ae,te,le,ce,q,4,l[44]),ce=m(ce,ae,te,le,H,11,l[45]),le=m(le,ce,ae,te,Y,16,l[46]),te=m(te,le,ce,ae,B,23,l[47]),ae=h(ae,te,le,ce,_,6,l[48]),ce=h(ce,ae,te,le,Z,10,l[49]),le=h(le,ce,ae,te,V,15,l[50]),te=h(te,le,ce,ae,re,21,l[51]),ae=h(ae,te,le,ce,H,6,l[52]),ce=h(ce,ae,te,le,N,10,l[53]),le=h(le,ce,ae,te,ie,15,l[54]),te=h(te,le,ce,ae,k,21,l[55]),ae=h(ae,te,le,ce,G,6,l[56]),ce=h(ce,ae,te,le,Y,10,l[57]),le=h(le,ce,ae,te,pe,15,l[58]),te=h(te,le,ce,ae,U,21,l[59]),ae=h(ae,te,le,ce,M,6,l[60]),ce=h(ce,ae,te,le,z,10,l[61]),le=h(le,ce,ae,te,B,15,l[62]),te=h(te,le,ce,ae,q,21,l[63]),E[0]=E[0]+ae|0,E[1]=E[1]+te|0,E[2]=E[2]+le|0,E[3]=E[3]+ce|0},"_doProcessBlock"),_doFinalize:s(function(){var p=this._data,g=p.words,y=this._nDataBytes*8,v=p.sigBytes*8;g[v>>>5]|=128<<24-v%32;var b=t.floor(y/4294967296),E=y;g[(v+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var _=this._hash,k=_.words,B=0;B<4;B++){var N=k[B];k[B]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return _},"_doFinalize"),clone:s(function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,g,y,v,b,E,_){var k=p+(g&y|~g&v)+b+_;return(k<<E|k>>>32-E)+g}s(u,"FF");function f(p,g,y,v,b,E,_){var k=p+(g&v|y&~v)+b+_;return(k<<E|k>>>32-E)+g}s(f,"GG");function m(p,g,y,v,b,E,_){var k=p+(g^y^v)+b+_;return(k<<E|k>>>32-E)+g}s(m,"HH");function h(p,g,y,v,b,E,_){var k=p+(y^(g|~v))+b+_;return(k<<E|k>>>32-E)+g}s(h,"II"),r.MD5=o._createHelper(c),r.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5})});var GK=j((YP,$pe)=>{d();(function(e,t){typeof YP=="object"?$pe.exports=YP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(YP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,a=[],l=o.SHA1=i.extend({_doReset:s(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],g=f[3],y=f[4],v=0;v<80;v++){if(v<16)a[v]=c[u+v]|0;else{var b=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=b<<1|b>>>31}var E=(m<<5|m>>>27)+y+a[v];v<20?E+=(h&p|~h&g)+1518500249:v<40?E+=(h^p^g)+1859775393:v<60?E+=(h&p|h&g|p&g)-1894007588:E+=(h^p^g)-899497514,y=g,g=p,p=h<<30|h>>>2,h=m,m=E}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},"_doProcessBlock"),_doFinalize:s(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var JP=j((KP,zpe)=>{d();(function(e,t){typeof KP=="object"?zpe.exports=KP=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(KP,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(y){for(var v=t.sqrt(y),b=2;b<=v;b++)if(!(y%b))return!1;return!0}s(m,"isPrime");function h(y){return(y-(y|0))*4294967296|0}s(h,"getFractionalBits");for(var p=2,g=0;g<64;)m(p)&&(g<8&&(l[g]=h(t.pow(p,1/2))),c[g]=h(t.pow(p,1/3)),g++),p++})();var u=[],f=a.SHA256=o.extend({_doReset:s(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:s(function(m,h){for(var p=this._hash.words,g=p[0],y=p[1],v=p[2],b=p[3],E=p[4],_=p[5],k=p[6],B=p[7],N=0;N<64;N++){if(N<16)u[N]=m[h+N]|0;else{var M=u[N-15],re=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,pe=u[N-2],Z=(pe<<15|pe>>>17)^(pe<<13|pe>>>19)^pe>>>10;u[N]=re+u[N-7]+Z+u[N-16]}var G=E&_^~E&k,q=g&y^g&v^y&v,ie=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),z=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),H=B+z+G+c[N]+u[N],U=ie+q;B=k,k=_,_=E,E=b+H|0,b=v,v=y,y=g,g=H+U|0}p[0]=p[0]+g|0,p[1]=p[1]+y|0,p[2]=p[2]+v|0,p[3]=p[3]+b|0,p[4]=p[4]+E|0,p[5]=p[5]+_|0,p[6]=p[6]+k|0,p[7]=p[7]+B|0},"_doProcessBlock"),_doFinalize:s(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,g=m.sigBytes*8;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=t.floor(p/4294967296),h[(g+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=o._createHelper(f),r.HmacSHA256=o._createHmacHelper(f)}(Math),e.SHA256})});var Kpe=j((XP,Ype)=>{d();(function(e,t,r){typeof XP=="object"?Ype.exports=XP=t(ki(),JP()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(XP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:s(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:s(function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})});var HK=j((ZP,Jpe)=>{d();(function(e,t,r){typeof ZP=="object"?Jpe.exports=ZP=t(ki(),L7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(ZP,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,o=i.Word,a=i.WordArray,l=t.algo;function c(){return o.create.apply(o,arguments)}s(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:s(function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:s(function(h,p){for(var g=this._hash.words,y=g[0],v=g[1],b=g[2],E=g[3],_=g[4],k=g[5],B=g[6],N=g[7],M=y.high,re=y.low,pe=v.high,Z=v.low,G=b.high,q=b.low,ie=E.high,z=E.low,H=_.high,U=_.low,V=k.high,Y=k.low,ae=B.high,te=B.low,le=N.high,ce=N.low,De=M,be=re,qe=pe,Re=Z,Xe=G,ft=q,at=ie,lt=z,oe=H,Ne=U,Ae=V,Ge=Y,K=ae,ne=te,Fe=le,Se=ce,Ce=0;Ce<80;Ce++){var Ue,Ve,tt=f[Ce];if(Ce<16)Ve=tt.high=h[p+Ce*2]|0,Ue=tt.low=h[p+Ce*2+1]|0;else{var Ct=f[Ce-15],Pt=Ct.high,yt=Ct.low,Kt=(Pt>>>1|yt<<31)^(Pt>>>8|yt<<24)^Pt>>>7,Xt=(yt>>>1|Pt<<31)^(yt>>>8|Pt<<24)^(yt>>>7|Pt<<25),ar=f[Ce-2],ge=ar.high,Me=ar.low,Je=(ge>>>19|Me<<13)^(ge<<3|Me>>>29)^ge>>>6,rt=(Me>>>19|ge<<13)^(Me<<3|ge>>>29)^(Me>>>6|ge<<26),Rt=f[Ce-7],bt=Rt.high,Mt=Rt.low,Ot=f[Ce-16],_t=Ot.high,kt=Ot.low;Ue=Xt+Mt,Ve=Kt+bt+(Ue>>>0<Xt>>>0?1:0),Ue=Ue+rt,Ve=Ve+Je+(Ue>>>0<rt>>>0?1:0),Ue=Ue+kt,Ve=Ve+_t+(Ue>>>0<kt>>>0?1:0),tt.high=Ve,tt.low=Ue}var St=oe&Ae^~oe&K,qt=Ne&Ge^~Ne&ne,$t=De&qe^De&Xe^qe&Xe,Zt=be&Re^be&ft^Re&ft,fr=(De>>>28|be<<4)^(De<<30|be>>>2)^(De<<25|be>>>7),xr=(be>>>28|De<<4)^(be<<30|De>>>2)^(be<<25|De>>>7),cr=(oe>>>14|Ne<<18)^(oe>>>18|Ne<<14)^(oe<<23|Ne>>>9),mr=(Ne>>>14|oe<<18)^(Ne>>>18|oe<<14)^(Ne<<23|oe>>>9),nr=u[Ce],hr=nr.high,Ie=nr.low,O=Se+mr,de=Fe+cr+(O>>>0<Se>>>0?1:0),O=O+qt,de=de+St+(O>>>0<qt>>>0?1:0),O=O+Ie,de=de+hr+(O>>>0<Ie>>>0?1:0),O=O+Ue,de=de+Ve+(O>>>0<Ue>>>0?1:0),ye=xr+Zt,J=fr+$t+(ye>>>0<xr>>>0?1:0);Fe=K,Se=ne,K=Ae,ne=Ge,Ae=oe,Ge=Ne,Ne=lt+O|0,oe=at+de+(Ne>>>0<lt>>>0?1:0)|0,at=Xe,lt=ft,Xe=qe,ft=Re,qe=De,Re=be,be=O+ye|0,De=de+J+(be>>>0<O>>>0?1:0)|0}re=y.low=re+be,y.high=M+De+(re>>>0<be>>>0?1:0),Z=v.low=Z+Re,v.high=pe+qe+(Z>>>0<Re>>>0?1:0),q=b.low=q+ft,b.high=G+Xe+(q>>>0<ft>>>0?1:0),z=E.low=z+lt,E.high=ie+at+(z>>>0<lt>>>0?1:0),U=_.low=U+Ne,_.high=H+oe+(U>>>0<Ne>>>0?1:0),Y=k.low=Y+Ge,k.high=V+Ae+(Y>>>0<Ge>>>0?1:0),te=B.low=te+ne,B.high=ae+K+(te>>>0<ne>>>0?1:0),ce=N.low=ce+Se,N.high=le+Fe+(ce>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:s(function(){var h=this._data,p=h.words,g=this._nDataBytes*8,y=h.sigBytes*8;p[y>>>5]|=128<<24-y%32,p[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(y+128>>>10<<5)+31]=g,h.sigBytes=p.length*4,this._process();var v=this._hash.toX32();return v},"_doFinalize"),clone:s(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var Zpe=j((eN,Xpe)=>{d();(function(e,t,r){typeof eN=="object"?Xpe.exports=eN=t(ki(),L7(),HK()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(eN,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo,a=o.SHA512,l=o.SHA384=a.extend({_doReset:s(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:s(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var tge=j((tN,ege)=>{d();(function(e,t,r){typeof tN=="object"?ege.exports=tN=t(ki(),L7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(tN,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var g=1,y=0,v=0;v<24;v++){u[g+5*y]=(v+1)*(v+2)/2%64;var b=y%5,E=(2*g+3*y)%5;g=b,y=E}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var _=1,k=0;k<24;k++){for(var B=0,N=0,M=0;M<7;M++){if(_&1){var re=(1<<M)-1;re<32?N^=1<<re:B^=1<<re-32}_&128?_=_<<1^113:_<<=1}m[k]=l.create(B,N)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=l.create()})();var p=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:s(function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:s(function(g,y){for(var v=this._state,b=this.blockSize/2,E=0;E<b;E++){var _=g[y+2*E],k=g[y+2*E+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var B=v[E];B.high^=k,B.low^=_}for(var N=0;N<24;N++){for(var M=0;M<5;M++){for(var re=0,pe=0,Z=0;Z<5;Z++){var B=v[M+5*Z];re^=B.high,pe^=B.low}var G=h[M];G.high=re,G.low=pe}for(var M=0;M<5;M++)for(var q=h[(M+4)%5],ie=h[(M+1)%5],z=ie.high,H=ie.low,re=q.high^(z<<1|H>>>31),pe=q.low^(H<<1|z>>>31),Z=0;Z<5;Z++){var B=v[M+5*Z];B.high^=re,B.low^=pe}for(var U=1;U<25;U++){var re,pe,B=v[U],V=B.high,Y=B.low,ae=u[U];ae<32?(re=V<<ae|Y>>>32-ae,pe=Y<<ae|V>>>32-ae):(re=Y<<ae-32|V>>>64-ae,pe=V<<ae-32|Y>>>64-ae);var te=h[f[U]];te.high=re,te.low=pe}var le=h[0],ce=v[0];le.high=ce.high,le.low=ce.low;for(var M=0;M<5;M++)for(var Z=0;Z<5;Z++){var U=M+5*Z,B=v[U],De=h[U],be=h[(M+1)%5+5*Z],qe=h[(M+2)%5+5*Z];B.high=De.high^~be.high&qe.high,B.low=De.low^~be.low&qe.low}var B=v[0],Re=m[N];B.high^=Re.high,B.low^=Re.low}},"_doProcessBlock"),_doFinalize:s(function(){var g=this._data,y=g.words,v=this._nDataBytes*8,b=g.sigBytes*8,E=this.blockSize*32;y[b>>>5]|=1<<24-b%32,y[(t.ceil((b+1)/E)*E>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var _=this._state,k=this.cfg.outputLength/8,B=k/8,N=[],M=0;M<B;M++){var re=_[M],pe=re.high,Z=re.low;pe=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360,Z=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360,N.push(Z),N.push(pe)}return new i.init(N,k)},"_doFinalize"),clone:s(function(){for(var g=o.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g},"clone")});r.SHA3=o._createHelper(p),r.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var nge=j((rN,rge)=>{d();(function(e,t){typeof rN=="object"?rge.exports=rN=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(rN,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:s(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(k,B){for(var N=0;N<16;N++){var M=B+N,re=k[M];k[M]=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360}var pe=this._hash.words,Z=m.words,G=h.words,q=l.words,ie=c.words,z=u.words,H=f.words,U,V,Y,ae,te,le,ce,De,be,qe;le=U=pe[0],ce=V=pe[1],De=Y=pe[2],be=ae=pe[3],qe=te=pe[4];for(var Re,N=0;N<80;N+=1)Re=U+k[B+q[N]]|0,N<16?Re+=g(V,Y,ae)+Z[0]:N<32?Re+=y(V,Y,ae)+Z[1]:N<48?Re+=v(V,Y,ae)+Z[2]:N<64?Re+=b(V,Y,ae)+Z[3]:Re+=E(V,Y,ae)+Z[4],Re=Re|0,Re=_(Re,z[N]),Re=Re+te|0,U=te,te=ae,ae=_(Y,10),Y=V,V=Re,Re=le+k[B+ie[N]]|0,N<16?Re+=E(ce,De,be)+G[0]:N<32?Re+=b(ce,De,be)+G[1]:N<48?Re+=v(ce,De,be)+G[2]:N<64?Re+=y(ce,De,be)+G[3]:Re+=g(ce,De,be)+G[4],Re=Re|0,Re=_(Re,H[N]),Re=Re+qe|0,le=qe,qe=be,be=_(De,10),De=ce,ce=Re;Re=pe[1]+Y+be|0,pe[1]=pe[2]+ae+qe|0,pe[2]=pe[3]+te+le|0,pe[3]=pe[4]+U+ce|0,pe[4]=pe[0]+V+De|0,pe[0]=Re},"_doProcessBlock"),_doFinalize:s(function(){var k=this._data,B=k.words,N=this._nDataBytes*8,M=k.sigBytes*8;B[M>>>5]|=128<<24-M%32,B[(M+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k.sigBytes=(B.length+1)*4,this._process();for(var re=this._hash,pe=re.words,Z=0;Z<5;Z++){var G=pe[Z];pe[Z]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return re},"_doFinalize"),clone:s(function(){var k=o.clone.call(this);return k._hash=this._hash.clone(),k},"clone")});function g(k,B,N){return k^B^N}s(g,"f1");function y(k,B,N){return k&B|~k&N}s(y,"f2");function v(k,B,N){return(k|~B)^N}s(v,"f3");function b(k,B,N){return k&N|B&~N}s(b,"f4");function E(k,B,N){return k^(B|~N)}s(E,"f5");function _(k,B){return k<<B|k>>>32-B}s(_,"rotl"),r.RIPEMD160=o._createHelper(p),r.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var iN=j((nN,ige)=>{d();(function(e,t){typeof nN=="object"?ige.exports=nN=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(nN,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,o=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:s(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=o.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),g=h.words,y=p.words,v=0;v<f;v++)g[v]^=1549556828,y[v]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:s(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:s(function(c){return this._hasher.update(c),this},"update"),finalize:s(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var sge=j((oN,oge)=>{d();(function(e,t,r){typeof oN=="object"?oge.exports=oN=t(ki(),JP(),iN()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(oN,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.SHA256,l=o.HMAC,c=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:s(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:s(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),g=i.create([1]),y=p.words,v=g.words,b=m.keySize,E=m.iterations;y.length<b;){var _=h.update(f).finalize(g);h.reset();for(var k=_.words,B=k.length,N=_,M=1;M<E;M++){N=h.finalize(N),h.reset();for(var re=N.words,pe=0;pe<B;pe++)k[pe]^=re[pe]}p.concat(_),v[0]++}return p.sigBytes=b*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var V1=j((sN,age)=>{d();(function(e,t,r){typeof sN=="object"?age.exports=sN=t(ki(),GK(),iN()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(sN,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,l=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:s(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:s(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),g=p.words,y=m.keySize,v=m.iterations;g.length<y;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var b=1;b<v;b++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=y*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var ll=j((aN,lge)=>{d();(function(e,t,r){typeof aN=="object"?lge.exports=aN=t(ki(),V1()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(aN,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:s(function(G,q){return this.create(this._ENC_XFORM_MODE,G,q)},"createEncryptor"),createDecryptor:s(function(G,q){return this.create(this._DEC_XFORM_MODE,G,q)},"createDecryptor"),init:s(function(G,q,ie){this.cfg=this.cfg.extend(ie),this._xformMode=G,this._key=q,this.reset()},"init"),reset:s(function(){a.reset.call(this),this._doReset()},"reset"),process:s(function(G){return this._append(G),this._process()},"process"),finalize:s(function(G){G&&this._append(G);var q=this._doFinalize();return q},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(q){return typeof q=="string"?Z:M}return s(G,"selectCipherStrategy"),function(q){return{encrypt:s(function(ie,z,H){return G(z).encrypt(q,ie,z,H)},"encrypt"),decrypt:s(function(ie,z,H){return G(z).decrypt(q,ie,z,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:s(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),g=r.mode={},y=n.BlockCipherMode=i.extend({createEncryptor:s(function(G,q){return this.Encryptor.create(G,q)},"createEncryptor"),createDecryptor:s(function(G,q){return this.Decryptor.create(G,q)},"createDecryptor"),init:s(function(G,q){this._cipher=G,this._iv=q},"init")}),v=g.CBC=function(){var G=y.extend();G.Encryptor=G.extend({processBlock:s(function(ie,z){var H=this._cipher,U=H.blockSize;q.call(this,ie,z,U),H.encryptBlock(ie,z),this._prevBlock=ie.slice(z,z+U)},"processBlock")}),G.Decryptor=G.extend({processBlock:s(function(ie,z){var H=this._cipher,U=H.blockSize,V=ie.slice(z,z+U);H.decryptBlock(ie,z),q.call(this,ie,z,U),this._prevBlock=V},"processBlock")});function q(ie,z,H){var U,V=this._iv;V?(U=V,this._iv=t):U=this._prevBlock;for(var Y=0;Y<H;Y++)ie[z+Y]^=U[Y]}return s(q,"xorBlock"),G}(),b=r.pad={},E=b.Pkcs7={pad:s(function(G,q){for(var ie=q*4,z=ie-G.sigBytes%ie,H=z<<24|z<<16|z<<8|z,U=[],V=0;V<z;V+=4)U.push(H);var Y=o.create(U,z);G.concat(Y)},"pad"),unpad:s(function(G){var q=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=q},"unpad")},_=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:v,padding:E}),reset:s(function(){var G;h.reset.call(this);var q=this.cfg,ie=q.iv,z=q.mode;this._xformMode==this._ENC_XFORM_MODE?G=z.createEncryptor:(G=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,ie&&ie.words):(this._mode=G.call(z,this,ie&&ie.words),this._mode.__creator=G)},"reset"),_doProcessBlock:s(function(G,q){this._mode.processBlock(G,q)},"_doProcessBlock"),_doFinalize:s(function(){var G,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),q.unpad(G)),G},"_doFinalize"),blockSize:128/32}),k=n.CipherParams=i.extend({init:s(function(G){this.mixIn(G)},"init"),toString:s(function(G){return(G||this.formatter).stringify(this)},"toString")}),B=r.format={},N=B.OpenSSL={stringify:s(function(G){var q,ie=G.ciphertext,z=G.salt;return z?q=o.create([1398893684,1701076831]).concat(z).concat(ie):q=ie,q.toString(u)},"stringify"),parse:s(function(G){var q,ie=u.parse(G),z=ie.words;return z[0]==1398893684&&z[1]==1701076831&&(q=o.create(z.slice(2,4)),z.splice(0,4),ie.sigBytes-=16),k.create({ciphertext:ie,salt:q})},"parse")},M=n.SerializableCipher=i.extend({cfg:i.extend({format:N}),encrypt:s(function(G,q,ie,z){z=this.cfg.extend(z);var H=G.createEncryptor(ie,z),U=H.finalize(q),V=H.cfg;return k.create({ciphertext:U,key:ie,iv:V.iv,algorithm:G,mode:V.mode,padding:V.padding,blockSize:G.blockSize,formatter:z.format})},"encrypt"),decrypt:s(function(G,q,ie,z){z=this.cfg.extend(z),q=this._parse(q,z.format);var H=G.createDecryptor(ie,z).finalize(q.ciphertext);return H},"decrypt"),_parse:s(function(G,q){return typeof G=="string"?q.parse(G,this):G},"_parse")}),re=r.kdf={},pe=re.OpenSSL={execute:s(function(G,q,ie,z,H){if(z||(z=o.random(64/8)),H)var U=m.create({keySize:q+ie,hasher:H}).compute(G,z);else var U=m.create({keySize:q+ie}).compute(G,z);var V=o.create(U.words.slice(q),ie*4);return U.sigBytes=q*4,k.create({key:U,iv:V,salt:z})},"execute")},Z=n.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:pe}),encrypt:s(function(G,q,ie,z){z=this.cfg.extend(z);var H=z.kdf.execute(ie,G.keySize,G.ivSize,z.salt,z.hasher);z.iv=H.iv;var U=M.encrypt.call(this,G,q,H.key,z);return U.mixIn(H),U},"encrypt"),decrypt:s(function(G,q,ie,z){z=this.cfg.extend(z),q=this._parse(q,z.format);var H=z.kdf.execute(ie,G.keySize,G.ivSize,q.salt,z.hasher);z.iv=H.iv;var U=M.decrypt.call(this,G,q,H.key,z);return U},"decrypt")})}()})});var uge=j((lN,cge)=>{d();(function(e,t,r){typeof lN=="object"?cge.exports=lN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(lN,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize;r.call(this,n,i,a,o),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,o),this._prevBlock=l},"processBlock")});function r(n,i,o,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<o;u++)n[i+u]^=l[u]}return s(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var dge=j((cN,fge)=>{d();(function(e,t,r){typeof cN=="object"?fge.exports=cN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(cN,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);o.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var hge=j((uN,mge)=>{d();(function(e,t,r){typeof uN=="object"?mge.exports=uN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(uN,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(o){if((o>>24&255)===255){var a=o>>16&255,l=o>>8&255,c=o&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,o=0,o+=a<<16,o+=l<<8,o+=c}else o+=1<<24;return o}s(r,"incWord");function n(o){return(o[0]=r(o[0]))===0&&(o[1]=r(o[1])),o}s(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:s(function(o,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)o[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var gge=j((fN,pge)=>{d();(function(e,t,r){typeof fN=="object"?pge.exports=fN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(fN,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var yge=j((dN,Age)=>{d();(function(e,t,r){typeof dN=="object"?Age.exports=dN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(dN,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:s(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:s(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var xge=j((mN,Cge)=>{d();(function(e,t,r){typeof mN=="object"?Cge.exports=mN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(mN,function(e){return e.pad.AnsiX923={pad:s(function(t,r){var n=t.sigBytes,i=r*4,o=i-n%i,a=n+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},"pad"),unpad:s(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var bge=j((hN,vge)=>{d();(function(e,t,r){typeof hN=="object"?vge.exports=hN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(hN,function(e){return e.pad.Iso10126={pad:s(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:s(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var Ige=j((pN,Ege)=>{d();(function(e,t,r){typeof pN=="object"?Ege.exports=pN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(pN,function(e){return e.pad.Iso97971={pad:s(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:s(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var wge=j((gN,Tge)=>{d();(function(e,t,r){typeof gN=="object"?Tge.exports=gN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(gN,function(e){return e.pad.ZeroPadding={pad:s(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:s(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Sge=j((AN,_ge)=>{d();(function(e,t,r){typeof AN=="object"?_ge.exports=AN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(AN,function(e){return e.pad.NoPadding={pad:s(function(){},"pad"),unpad:s(function(){},"unpad")},e.pad.NoPadding})});var kge=j((yN,Rge)=>{d();(function(e,t,r){typeof yN=="object"?Rge.exports=yN=t(ki(),ll()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(yN,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,o=r.enc,a=o.Hex,l=r.format,c=l.Hex={stringify:s(function(u){return u.ciphertext.toString(a)},"stringify"),parse:s(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var Dge=j((CN,Bge)=>{d();(function(e,t,r){typeof CN=="object"?Bge.exports=CN=t(ki(),Ky(),Jy(),V1(),ll()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(CN,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,o=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],g=[];(function(){for(var b=[],E=0;E<256;E++)E<128?b[E]=E<<1:b[E]=E<<1^283;for(var _=0,k=0,E=0;E<256;E++){var B=k^k<<1^k<<2^k<<3^k<<4;B=B>>>8^B&255^99,o[_]=B,a[B]=_;var N=b[_],M=b[N],re=b[M],pe=b[B]*257^B*16843008;l[_]=pe<<24|pe>>>8,c[_]=pe<<16|pe>>>16,u[_]=pe<<8|pe>>>24,f[_]=pe;var pe=re*16843009^M*65537^N*257^_*16843008;m[B]=pe<<24|pe>>>8,h[B]=pe<<16|pe>>>16,p[B]=pe<<8|pe>>>24,g[B]=pe,_?(_=N^b[b[b[re^N]]],k^=b[b[k]]):_=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=n.extend({_doReset:s(function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,_=E.words,k=E.sigBytes/4,B=this._nRounds=k+6,N=(B+1)*4,M=this._keySchedule=[],re=0;re<N;re++)re<k?M[re]=_[re]:(b=M[re-1],re%k?k>6&&re%k==4&&(b=o[b>>>24]<<24|o[b>>>16&255]<<16|o[b>>>8&255]<<8|o[b&255]):(b=b<<8|b>>>24,b=o[b>>>24]<<24|o[b>>>16&255]<<16|o[b>>>8&255]<<8|o[b&255],b^=y[re/k|0]<<24),M[re]=M[re-k]^b);for(var pe=this._invKeySchedule=[],Z=0;Z<N;Z++){var re=N-Z;if(Z%4)var b=M[re];else var b=M[re-4];Z<4||re<=4?pe[Z]=b:pe[Z]=m[o[b>>>24]]^h[o[b>>>16&255]]^p[o[b>>>8&255]]^g[o[b&255]]}}},"_doReset"),encryptBlock:s(function(b,E){this._doCryptBlock(b,E,this._keySchedule,l,c,u,f,o)},"encryptBlock"),decryptBlock:s(function(b,E){var _=b[E+1];b[E+1]=b[E+3],b[E+3]=_,this._doCryptBlock(b,E,this._invKeySchedule,m,h,p,g,a);var _=b[E+1];b[E+1]=b[E+3],b[E+3]=_},"decryptBlock"),_doCryptBlock:s(function(b,E,_,k,B,N,M,re){for(var pe=this._nRounds,Z=b[E]^_[0],G=b[E+1]^_[1],q=b[E+2]^_[2],ie=b[E+3]^_[3],z=4,H=1;H<pe;H++){var U=k[Z>>>24]^B[G>>>16&255]^N[q>>>8&255]^M[ie&255]^_[z++],V=k[G>>>24]^B[q>>>16&255]^N[ie>>>8&255]^M[Z&255]^_[z++],Y=k[q>>>24]^B[ie>>>16&255]^N[Z>>>8&255]^M[G&255]^_[z++],ae=k[ie>>>24]^B[Z>>>16&255]^N[G>>>8&255]^M[q&255]^_[z++];Z=U,G=V,q=Y,ie=ae}var U=(re[Z>>>24]<<24|re[G>>>16&255]<<16|re[q>>>8&255]<<8|re[ie&255])^_[z++],V=(re[G>>>24]<<24|re[q>>>16&255]<<16|re[ie>>>8&255]<<8|re[Z&255])^_[z++],Y=(re[q>>>24]<<24|re[ie>>>16&255]<<16|re[Z>>>8&255]<<8|re[G&255])^_[z++],ae=(re[ie>>>24]<<24|re[Z>>>16&255]<<16|re[G>>>8&255]<<8|re[q&255])^_[z++];b[E]=U,b[E+1]=V,b[E+2]=Y,b[E+3]=ae},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(v)}(),e.AES})});var Nge=j((xN,Pge)=>{d();(function(e,t,r){typeof xN=="object"?Pge.exports=xN=t(ki(),Ky(),Jy(),V1(),ll()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(xN,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=o.DES=i.extend({_doReset:s(function(){for(var y=this._key,v=y.words,b=[],E=0;E<56;E++){var _=a[E]-1;b[E]=v[_>>>5]>>>31-_%32&1}for(var k=this._subKeys=[],B=0;B<16;B++){for(var N=k[B]=[],M=c[B],E=0;E<24;E++)N[E/6|0]|=b[(l[E]-1+M)%28]<<31-E%6,N[4+(E/6|0)]|=b[28+(l[E+24]-1+M)%28]<<31-E%6;N[0]=N[0]<<1|N[0]>>>31;for(var E=1;E<7;E++)N[E]=N[E]>>>(E-1)*4+3;N[7]=N[7]<<5|N[7]>>>27}for(var re=this._invSubKeys=[],E=0;E<16;E++)re[E]=k[15-E]},"_doReset"),encryptBlock:s(function(y,v){this._doCryptBlock(y,v,this._subKeys)},"encryptBlock"),decryptBlock:s(function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},"decryptBlock"),_doCryptBlock:s(function(y,v,b){this._lBlock=y[v],this._rBlock=y[v+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var E=0;E<16;E++){for(var _=b[E],k=this._lBlock,B=this._rBlock,N=0,M=0;M<8;M++)N|=u[M][((B^_[M])&f[M])>>>0];this._lBlock=B,this._rBlock=k^N}var re=this._lBlock;this._lBlock=this._rBlock,this._rBlock=re,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(y,v){var b=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=b,this._lBlock^=b<<y}s(h,"exchangeLR");function p(y,v){var b=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=b,this._rBlock^=b<<y}s(p,"exchangeRL"),t.DES=i._createHelper(m);var g=o.TripleDES=i.extend({_doReset:s(function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=v.slice(0,2),E=v.length<4?v.slice(0,2):v.slice(2,4),_=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=m.createEncryptor(n.create(b)),this._des2=m.createEncryptor(n.create(E)),this._des3=m.createEncryptor(n.create(_))},"_doReset"),encryptBlock:s(function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},"encryptBlock"),decryptBlock:s(function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(g)}(),e.TripleDES})});var Fge=j((vN,Lge)=>{d();(function(e,t,r){typeof vN=="object"?Lge.exports=vN=t(ki(),Ky(),Jy(),V1(),ll()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(vN,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=i.RC4=n.extend({_doReset:s(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var g=h%f,y=u[g>>>2]>>>24-g%4*8&255;p=(p+m[h]+y)%256;var v=m[h];m[h]=m[p],m[p]=v}this._i=this._j=0},"_doReset"),_doProcessBlock:s(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}s(a,"generateKeystreamWord"),t.RC4=n._createHelper(o);var l=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:s(function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Qge=j((bN,Mge)=>{d();(function(e,t,r){typeof bN=="object"?Mge.exports=bN=t(ki(),Ky(),Jy(),V1(),ll()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(bN,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:s(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)g[h]^=p[h+4&7];if(m){var y=m.words,v=y[0],b=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=E>>>16|_&4294901760,B=_<<16|E&65535;g[0]^=E,g[1]^=k,g[2]^=_,g[3]^=B,g[4]^=E,g[5]^=k,g[6]^=_,g[7]^=B;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:s(function(f,m){var h=this._X;u.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,f[m+p]^=o[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],g=p&65535,y=p>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=v^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var Uge=j((EN,Oge)=>{d();(function(e,t,r){typeof EN=="object"?Oge.exports=EN=t(ki(),Ky(),Jy(),V1(),ll()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(EN,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:s(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)u.call(this);for(var g=0;g<8;g++)p[g]^=h[g+4&7];if(m){var y=m.words,v=y[0],b=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=E>>>16|_&4294901760,B=_<<16|E&65535;p[0]^=E,p[1]^=k,p[2]^=_,p[3]^=B,p[4]^=E,p[5]^=k,p[6]^=_,p[7]^=B;for(var g=0;g<4;g++)u.call(this)}},"_doReset"),_doProcessBlock:s(function(f,m){var h=this._X;u.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,f[m+p]^=o[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],g=p&65535,y=p>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=v^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Wge=j((IN,qge)=>{d();(function(e,t,r){typeof IN=="object"?qge.exports=IN=t(ki(),Ky(),Jy(),V1(),ll()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(IN,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let o=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(g,y){let v=y>>24&255,b=y>>16&255,E=y>>8&255,_=y&255,k=g.sbox[0][v]+g.sbox[1][b];return k=k^g.sbox[2][E],k=k+g.sbox[3][_],k}s(u,"F");function f(g,y,v){let b=y,E=v,_;for(let k=0;k<o;++k)b=b^g.pbox[k],E=u(g,b)^E,_=b,b=E,E=_;return _=b,b=E,E=_,E=E^g.pbox[o],b=b^g.pbox[o+1],{left:b,right:E}}s(f,"BlowFish_Encrypt");function m(g,y,v){let b=y,E=v,_;for(let k=o+1;k>1;--k)b=b^g.pbox[k],E=u(g,b)^E,_=b,b=E,E=_;return _=b,b=E,E=_,E=E^g.pbox[1],b=b^g.pbox[0],{left:b,right:E}}s(m,"BlowFish_Decrypt");function h(g,y,v){for(let B=0;B<4;B++){g.sbox[B]=[];for(let N=0;N<256;N++)g.sbox[B][N]=l[B][N]}let b=0;for(let B=0;B<o+2;B++)g.pbox[B]=a[B]^y[b],b++,b>=v&&(b=0);let E=0,_=0,k=0;for(let B=0;B<o+2;B+=2)k=f(g,E,_),E=k.left,_=k.right,g.pbox[B]=E,g.pbox[B+1]=_;for(let B=0;B<4;B++)for(let N=0;N<256;N+=2)k=f(g,E,_),E=k.left,_=k.right,g.sbox[B][N]=E,g.sbox[B][N+1]=_;return!0}s(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:s(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;h(c,y,v)}},"_doReset"),encryptBlock:s(function(g,y){var v=f(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},"encryptBlock"),decryptBlock:s(function(g,y){var v=m(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var Xy=j((TN,Gge)=>{d();(function(e,t,r){typeof TN=="object"?Gge.exports=TN=t(ki(),L7(),Upe(),Wpe(),Ky(),jpe(),Jy(),GK(),JP(),Kpe(),HK(),Zpe(),tge(),nge(),iN(),sge(),V1(),ll(),uge(),dge(),hge(),gge(),yge(),xge(),bge(),Ige(),wge(),Sge(),kge(),Dge(),Nge(),Fge(),Qge(),Uge(),Wge()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(TN,function(e){return e})});var II=j(Pc=>{"use strict";d();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.stringArray=Pc.array=Pc.func=Pc.error=Pc.number=Pc.string=Pc.boolean=void 0;function xtt(e){return e===!0||e===!1}s(xtt,"boolean");Pc.boolean=xtt;function n2e(e){return typeof e=="string"||e instanceof String}s(n2e,"string");Pc.string=n2e;function vtt(e){return typeof e=="number"||e instanceof Number}s(vtt,"number");Pc.number=vtt;function btt(e){return e instanceof Error}s(btt,"error");Pc.error=btt;function Ett(e){return typeof e=="function"}s(Ett,"func");Pc.func=Ett;function i2e(e){return Array.isArray(e)}s(i2e,"array");Pc.array=i2e;function Itt(e){return i2e(e)&&e.every(t=>n2e(t))}s(Itt,"stringArray");Pc.stringArray=Itt});var ZJ=j(Zr=>{"use strict";d();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Message=Zr.NotificationType9=Zr.NotificationType8=Zr.NotificationType7=Zr.NotificationType6=Zr.NotificationType5=Zr.NotificationType4=Zr.NotificationType3=Zr.NotificationType2=Zr.NotificationType1=Zr.NotificationType0=Zr.NotificationType=Zr.RequestType9=Zr.RequestType8=Zr.RequestType7=Zr.RequestType6=Zr.RequestType5=Zr.RequestType4=Zr.RequestType3=Zr.RequestType2=Zr.RequestType1=Zr.RequestType=Zr.RequestType0=Zr.AbstractMessageSignature=Zr.ParameterStructures=Zr.ResponseError=Zr.ErrorCodes=void 0;var Ux=II(),RJ;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(RJ||(Zr.ErrorCodes=RJ={}));var kJ=class e extends Error{static{s(this,"ResponseError")}constructor(t,r,n){super(r),this.code=Ux.number(t)?t:RJ.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Zr.ResponseError=kJ;var K0=class e{static{s(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Zr.ParameterStructures=K0;K0.auto=new K0("auto");K0.byPosition=new K0("byPosition");K0.byName=new K0("byName");var ds=class{static{s(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return K0.auto}};Zr.AbstractMessageSignature=ds;var BJ=class extends ds{static{s(this,"RequestType0")}constructor(t){super(t,0)}};Zr.RequestType0=BJ;var DJ=class extends ds{static{s(this,"RequestType")}constructor(t,r=K0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.RequestType=DJ;var PJ=class extends ds{static{s(this,"RequestType1")}constructor(t,r=K0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.RequestType1=PJ;var NJ=class extends ds{static{s(this,"RequestType2")}constructor(t){super(t,2)}};Zr.RequestType2=NJ;var LJ=class extends ds{static{s(this,"RequestType3")}constructor(t){super(t,3)}};Zr.RequestType3=LJ;var FJ=class extends ds{static{s(this,"RequestType4")}constructor(t){super(t,4)}};Zr.RequestType4=FJ;var MJ=class extends ds{static{s(this,"RequestType5")}constructor(t){super(t,5)}};Zr.RequestType5=MJ;var QJ=class extends ds{static{s(this,"RequestType6")}constructor(t){super(t,6)}};Zr.RequestType6=QJ;var OJ=class extends ds{static{s(this,"RequestType7")}constructor(t){super(t,7)}};Zr.RequestType7=OJ;var UJ=class extends ds{static{s(this,"RequestType8")}constructor(t){super(t,8)}};Zr.RequestType8=UJ;var qJ=class extends ds{static{s(this,"RequestType9")}constructor(t){super(t,9)}};Zr.RequestType9=qJ;var WJ=class extends ds{static{s(this,"NotificationType")}constructor(t,r=K0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.NotificationType=WJ;var GJ=class extends ds{static{s(this,"NotificationType0")}constructor(t){super(t,0)}};Zr.NotificationType0=GJ;var HJ=class extends ds{static{s(this,"NotificationType1")}constructor(t,r=K0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.NotificationType1=HJ;var jJ=class extends ds{static{s(this,"NotificationType2")}constructor(t){super(t,2)}};Zr.NotificationType2=jJ;var VJ=class extends ds{static{s(this,"NotificationType3")}constructor(t){super(t,3)}};Zr.NotificationType3=VJ;var $J=class extends ds{static{s(this,"NotificationType4")}constructor(t){super(t,4)}};Zr.NotificationType4=$J;var zJ=class extends ds{static{s(this,"NotificationType5")}constructor(t){super(t,5)}};Zr.NotificationType5=zJ;var YJ=class extends ds{static{s(this,"NotificationType6")}constructor(t){super(t,6)}};Zr.NotificationType6=YJ;var KJ=class extends ds{static{s(this,"NotificationType7")}constructor(t){super(t,7)}};Zr.NotificationType7=KJ;var JJ=class extends ds{static{s(this,"NotificationType8")}constructor(t){super(t,8)}};Zr.NotificationType8=JJ;var XJ=class extends ds{static{s(this,"NotificationType9")}constructor(t){super(t,9)}};Zr.NotificationType9=XJ;var o2e;(function(e){function t(i){let o=i;return o&&Ux.string(o.method)&&(Ux.string(o.id)||Ux.number(o.id))}s(t,"isRequest"),e.isRequest=t;function r(i){let o=i;return o&&Ux.string(o.method)&&i.id===void 0}s(r,"isNotification"),e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Ux.string(o.id)||Ux.number(o.id)||o.id===null)}s(n,"isResponse"),e.isResponse=n})(o2e||(Zr.Message=o2e={}))});var tX=j(l5=>{"use strict";d();var s2e;Object.defineProperty(l5,"__esModule",{value:!0});l5.LRUCache=l5.LinkedMap=l5.Touch=void 0;var Nc;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Nc||(l5.Touch=Nc={}));var eL=class{static{s(this,"LinkedMap")}constructor(){this[s2e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=Nc.None){let n=this._map.get(t);if(n)return r!==Nc.None&&this.touch(n,r),n.value}set(t,r,n=Nc.None){let i=this._map.get(t);if(i)i.value=r,n!==Nc.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Nc.None:this.addItemLast(i);break;case Nc.First:this.addItemFirst(i);break;case Nc.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(s2e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Nc.First&&r!==Nc.Last)){if(r===Nc.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===Nc.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};l5.LinkedMap=eL;var eX=class extends eL{static{s(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=Nc.AsNew){return super.get(t,r)}peek(t){return super.get(t,Nc.None)}set(t,r){return super.set(t,r,Nc.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};l5.LRUCache=eX});var l2e=j(tL=>{"use strict";d();Object.defineProperty(tL,"__esModule",{value:!0});tL.Disposable=void 0;var a2e;(function(e){function t(r){return{dispose:r}}s(t,"create"),e.create=t})(a2e||(tL.Disposable=a2e={}))});var c5=j(iX=>{"use strict";d();Object.defineProperty(iX,"__esModule",{value:!0});var rX;function nX(){if(rX===void 0)throw new Error("No runtime abstraction layer installed");return rX}s(nX,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");rX=r}s(t,"install"),e.install=t})(nX||(nX={}));iX.default=nX});var wI=j(TI=>{"use strict";d();Object.defineProperty(TI,"__esModule",{value:!0});TI.Emitter=TI.Event=void 0;var Ttt=c5(),c2e;(function(e){let t={dispose(){}};e.None=function(){return t}})(c2e||(TI.Event=c2e={}));var oX=class{static{s(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:s(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{r.push(n[o].apply(i[o],t))}catch(l){(0,Ttt.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},rL=class e{static{s(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new oX),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};TI.Emitter=rL;rL._noop=function(){}});var oL=j(_I=>{"use strict";d();Object.defineProperty(_I,"__esModule",{value:!0});_I.CancellationTokenSource=_I.CancellationToken=void 0;var wtt=c5(),_tt=II(),sX=wI(),nL;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:sX.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:sX.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||_tt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(t,"is"),e.is=t})(nL||(_I.CancellationToken=nL={}));var Stt=Object.freeze(function(e,t){let r=(0,wtt.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),iL=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Stt:(this._emitter||(this._emitter=new sX.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},aX=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new iL),this._token}cancel(){this._token?this._token.cancel():this._token=nL.Cancelled}dispose(){this._token?this._token instanceof iL&&this._token.dispose():this._token=nL.None}};_I.CancellationTokenSource=aX});var u2e=j(SI=>{"use strict";d();Object.defineProperty(SI,"__esModule",{value:!0});SI.SharedArrayReceiverStrategy=SI.SharedArraySenderStrategy=void 0;var Rtt=oL(),t_;(function(e){e.Continue=0,e.Cancelled=1})(t_||(t_={}));var lX=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=t_.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,t_.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};SI.SharedArraySenderStrategy=lX;var cX=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t_.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},uX=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new cX(t)}cancel(){}dispose(){}},fX=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new Rtt.CancellationTokenSource:new uX(r)}};SI.SharedArrayReceiverStrategy=fX});var mX=j(sL=>{"use strict";d();Object.defineProperty(sL,"__esModule",{value:!0});sL.Semaphore=void 0;var ktt=c5(),dX=class{static{s(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,ktt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};sL.Semaphore=dX});var d2e=j(u5=>{"use strict";d();Object.defineProperty(u5,"__esModule",{value:!0});u5.ReadableStreamMessageReader=u5.AbstractMessageReader=u5.MessageReader=void 0;var pX=c5(),RI=II(),hX=wI(),Btt=mX(),f2e;(function(e){function t(r){let n=r;return n&&RI.func(n.listen)&&RI.func(n.dispose)&&RI.func(n.onError)&&RI.func(n.onClose)&&RI.func(n.onPartialMessage)}s(t,"is"),e.is=t})(f2e||(u5.MessageReader=f2e={}));var aL=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new hX.Emitter,this.closeEmitter=new hX.Emitter,this.partialMessageEmitter=new hX.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${RI.string(t.message)?t.message:"unknown"}`)}};u5.AbstractMessageReader=aL;var gX;(function(e){function t(r){let n,i,o,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,pX.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}s(t,"fromOptions"),e.fromOptions=t})(gX||(gX={}));var AX=class extends aL{static{s(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=gX.fromOptions(r),this.buffer=(0,pX.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Btt.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,pX.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};u5.ReadableStreamMessageReader=AX});var A2e=j(f5=>{"use strict";d();Object.defineProperty(f5,"__esModule",{value:!0});f5.WriteableStreamMessageWriter=f5.AbstractMessageWriter=f5.MessageWriter=void 0;var m2e=c5(),r_=II(),Dtt=mX(),h2e=wI(),Ptt="Content-Length: ",p2e=`\r
`,g2e;(function(e){function t(r){let n=r;return n&&r_.func(n.dispose)&&r_.func(n.onClose)&&r_.func(n.onError)&&r_.func(n.write)}s(t,"is"),e.is=t})(g2e||(f5.MessageWriter=g2e={}));var lL=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new h2e.Emitter,this.closeEmitter=new h2e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${r_.string(t.message)?t.message:"unknown"}`)}};f5.AbstractMessageWriter=lL;var yX;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,m2e.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,m2e.default)().applicationJson.encoder}}s(t,"fromOptions"),e.fromOptions=t})(yX||(yX={}));var CX=class extends lL{static{s(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=yX.fromOptions(r),this.errorCount=0,this.writeSemaphore=new Dtt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Ptt,n.byteLength.toString(),p2e),i.push(p2e),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};f5.WriteableStreamMessageWriter=CX});var y2e=j(cL=>{"use strict";d();Object.defineProperty(cL,"__esModule",{value:!0});cL.AbstractMessageBuffer=void 0;var Ntt=13,Ltt=10,Ftt=`\r
`,xX=class{static{s(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Ntt:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case Ltt:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=u.byteLength,n++}if(r!==4)return;let a=this._read(o+i),l=new Map,c=this.toString(a,"ascii").split(Ftt);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let a=o.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};cL.AbstractMessageBuffer=xX});var E2e=j(Kn=>{"use strict";d();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.createMessageConnection=Kn.ConnectionOptions=Kn.MessageStrategy=Kn.CancellationStrategy=Kn.CancellationSenderStrategy=Kn.CancellationReceiverStrategy=Kn.RequestCancellationReceiverStrategy=Kn.IdCancellationReceiverStrategy=Kn.ConnectionStrategy=Kn.ConnectionError=Kn.ConnectionErrors=Kn.LogTraceNotification=Kn.SetTraceNotification=Kn.TraceFormat=Kn.TraceValues=Kn.Trace=Kn.NullLogger=Kn.ProgressType=Kn.ProgressToken=void 0;var C2e=c5(),Ys=II(),Rn=ZJ(),x2e=tX(),n_=wI(),vX=oL(),s_;(function(e){e.type=new Rn.NotificationType("$/cancelRequest")})(s_||(s_={}));var bX;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}s(t,"is"),e.is=t})(bX||(Kn.ProgressToken=bX={}));var i_;(function(e){e.type=new Rn.NotificationType("$/progress")})(i_||(i_={}));var EX=class{static{s(this,"ProgressType")}constructor(){}};Kn.ProgressType=EX;var IX;(function(e){function t(r){return Ys.func(r)}s(t,"is"),e.is=t})(IX||(IX={}));Kn.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var go;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(go||(Kn.Trace=go={}));var v2e;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(v2e||(Kn.TraceValues=v2e={}));(function(e){function t(n){if(!Ys.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}s(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}s(r,"toString"),e.toString=r})(go||(Kn.Trace=go={}));var Ju;(function(e){e.Text="text",e.JSON="json"})(Ju||(Kn.TraceFormat=Ju={}));(function(e){function t(r){return Ys.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}s(t,"fromString"),e.fromString=t})(Ju||(Kn.TraceFormat=Ju={}));var TX;(function(e){e.type=new Rn.NotificationType("$/setTrace")})(TX||(Kn.SetTraceNotification=TX={}));var uL;(function(e){e.type=new Rn.NotificationType("$/logTrace")})(uL||(Kn.LogTraceNotification=uL={}));var o_;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(o_||(Kn.ConnectionErrors=o_={}));var kI=class e extends Error{static{s(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Kn.ConnectionError=kI;var wX;(function(e){function t(r){let n=r;return n&&Ys.func(n.cancelUndispatched)}s(t,"is"),e.is=t})(wX||(Kn.ConnectionStrategy=wX={}));var fL;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Ys.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ys.func(n.dispose))}s(t,"is"),e.is=t})(fL||(Kn.IdCancellationReceiverStrategy=fL={}));var _X;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Ys.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ys.func(n.dispose))}s(t,"is"),e.is=t})(_X||(Kn.RequestCancellationReceiverStrategy=_X={}));var dL;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new vX.CancellationTokenSource}});function t(r){return fL.is(r)||_X.is(r)}s(t,"is"),e.is=t})(dL||(Kn.CancellationReceiverStrategy=dL={}));var mL;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(s_.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Ys.func(n.sendCancellation)&&Ys.func(n.cleanup)}s(t,"is"),e.is=t})(mL||(Kn.CancellationSenderStrategy=mL={}));var hL;(function(e){e.Message=Object.freeze({receiver:dL.Message,sender:mL.Message});function t(r){let n=r;return n&&dL.is(n.receiver)&&mL.is(n.sender)}s(t,"is"),e.is=t})(hL||(Kn.CancellationStrategy=hL={}));var pL;(function(e){function t(r){let n=r;return n&&Ys.func(n.handleMessage)}s(t,"is"),e.is=t})(pL||(Kn.MessageStrategy=pL={}));var b2e;(function(e){function t(r){let n=r;return n&&(hL.is(n.cancellationStrategy)||wX.is(n.connectionStrategy)||pL.is(n.messageStrategy))}s(t,"is"),e.is=t})(b2e||(Kn.ConnectionOptions=b2e={}));var th;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(th||(th={}));function Mtt(e,t,r,n){let i=r!==void 0?r:Kn.NullLogger,o=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,g,y=new x2e.LinkedMap,v=new Map,b=new Set,E=new Map,_=go.Off,k=Ju.Text,B,N=th.New,M=new n_.Emitter,re=new n_.Emitter,pe=new n_.Emitter,Z=new n_.Emitter,G=new n_.Emitter,q=n&&n.cancellationStrategy?n.cancellationStrategy:hL.Message;function ie(ge){if(ge===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ge.toString()}s(ie,"createRequestQueueKey");function z(ge){return ge===null?"res-unknown-"+(++l).toString():"res-"+ge.toString()}s(z,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}s(H,"createNotificationQueueKey");function U(ge,Me){Rn.Message.isRequest(Me)?ge.set(ie(Me.id),Me):Rn.Message.isResponse(Me)?ge.set(z(Me.id),Me):ge.set(H(),Me)}s(U,"addMessageToQueue");function V(ge){}s(V,"cancelUndispatched");function Y(){return N===th.Listening}s(Y,"isListening");function ae(){return N===th.Closed}s(ae,"isClosed");function te(){return N===th.Disposed}s(te,"isDisposed");function le(){(N===th.New||N===th.Listening)&&(N=th.Closed,re.fire(void 0))}s(le,"closeHandler");function ce(ge){M.fire([ge,void 0,void 0])}s(ce,"readErrorHandler");function De(ge){M.fire(ge)}s(De,"writeErrorHandler"),e.onClose(le),e.onError(ce),t.onClose(le),t.onError(De);function be(){g||y.size===0||(g=(0,C2e.default)().timer.setImmediate(()=>{g=void 0,Re()}))}s(be,"triggerMessageQueue");function qe(ge){Rn.Message.isRequest(ge)?ft(ge):Rn.Message.isNotification(ge)?lt(ge):Rn.Message.isResponse(ge)?at(ge):oe(ge)}s(qe,"handleMessage");function Re(){if(y.size===0)return;let ge=y.shift();try{let Me=n?.messageStrategy;pL.is(Me)?Me.handleMessage(ge,qe):qe(ge)}finally{be()}}s(Re,"processMessageQueue");let Xe=s(ge=>{try{if(Rn.Message.isNotification(ge)&&ge.method===s_.type.method){let Me=ge.params.id,Je=ie(Me),rt=y.get(Je);if(Rn.Message.isRequest(rt)){let bt=n?.connectionStrategy,Mt=bt&&bt.cancelUndispatched?bt.cancelUndispatched(rt,V):void 0;if(Mt&&(Mt.error!==void 0||Mt.result!==void 0)){y.delete(Je),E.delete(Me),Mt.id=rt.id,K(Mt,ge.method,Date.now()),t.write(Mt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Rt=E.get(Me);if(Rt!==void 0){Rt.cancel(),Fe(ge);return}else b.add(Me)}U(y,ge)}finally{be()}},"callback");function ft(ge){if(te())return;function Me(_t,kt,St){let qt={jsonrpc:c,id:ge.id};_t instanceof Rn.ResponseError?qt.error=_t.toJson():qt.result=_t===void 0?null:_t,K(qt,kt,St),t.write(qt).catch(()=>i.error("Sending response failed."))}s(Me,"reply");function Je(_t,kt,St){let qt={jsonrpc:c,id:ge.id,error:_t.toJson()};K(qt,kt,St),t.write(qt).catch(()=>i.error("Sending response failed."))}s(Je,"replyError");function rt(_t,kt,St){_t===void 0&&(_t=null);let qt={jsonrpc:c,id:ge.id,result:_t};K(qt,kt,St),t.write(qt).catch(()=>i.error("Sending response failed."))}s(rt,"replySuccess"),ne(ge);let Rt=f.get(ge.method),bt,Mt;Rt&&(bt=Rt.type,Mt=Rt.handler);let Ot=Date.now();if(Mt||u){let _t=ge.id??String(Date.now()),kt=fL.is(q.receiver)?q.receiver.createCancellationTokenSource(_t):q.receiver.createCancellationTokenSource(ge);ge.id!==null&&b.has(ge.id)&&kt.cancel(),ge.id!==null&&E.set(_t,kt);try{let St;if(Mt)if(ge.params===void 0){if(bt!==void 0&&bt.numberOfParams!==0){Je(new Rn.ResponseError(Rn.ErrorCodes.InvalidParams,`Request ${ge.method} defines ${bt.numberOfParams} params but received none.`),ge.method,Ot);return}St=Mt(kt.token)}else if(Array.isArray(ge.params)){if(bt!==void 0&&bt.parameterStructures===Rn.ParameterStructures.byName){Je(new Rn.ResponseError(Rn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by name but received parameters by position`),ge.method,Ot);return}St=Mt(...ge.params,kt.token)}else{if(bt!==void 0&&bt.parameterStructures===Rn.ParameterStructures.byPosition){Je(new Rn.ResponseError(Rn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by position but received parameters by name`),ge.method,Ot);return}St=Mt(ge.params,kt.token)}else u&&(St=u(ge.method,ge.params,kt.token));let qt=St;St?qt.then?qt.then($t=>{E.delete(_t),Me($t,ge.method,Ot)},$t=>{E.delete(_t),$t instanceof Rn.ResponseError?Je($t,ge.method,Ot):$t&&Ys.string($t.message)?Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${$t.message}`),ge.method,Ot):Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Ot)}):(E.delete(_t),Me(St,ge.method,Ot)):(E.delete(_t),rt(St,ge.method,Ot))}catch(St){E.delete(_t),St instanceof Rn.ResponseError?Me(St,ge.method,Ot):St&&Ys.string(St.message)?Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${St.message}`),ge.method,Ot):Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Ot)}}else Je(new Rn.ResponseError(Rn.ErrorCodes.MethodNotFound,`Unhandled method ${ge.method}`),ge.method,Ot)}s(ft,"handleRequest");function at(ge){if(!te())if(ge.id===null)ge.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ge.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Me=ge.id,Je=v.get(Me);if(Se(ge,Je),Je!==void 0){v.delete(Me);try{if(ge.error){let rt=ge.error;Je.reject(new Rn.ResponseError(rt.code,rt.message,rt.data))}else if(ge.result!==void 0)Je.resolve(ge.result);else throw new Error("Should never happen.")}catch(rt){rt.message?i.error(`Response handler '${Je.method}' failed with message: ${rt.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}s(at,"handleResponse");function lt(ge){if(te())return;let Me,Je;if(ge.method===s_.type.method){let rt=ge.params.id;b.delete(rt),Fe(ge);return}else{let rt=h.get(ge.method);rt&&(Je=rt.handler,Me=rt.type)}if(Je||m)try{if(Fe(ge),Je)if(ge.params===void 0)Me!==void 0&&Me.numberOfParams!==0&&Me.parameterStructures!==Rn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines ${Me.numberOfParams} params but received none.`),Je();else if(Array.isArray(ge.params)){let rt=ge.params;ge.method===i_.type.method&&rt.length===2&&bX.is(rt[0])?Je({token:rt[0],value:rt[1]}):(Me!==void 0&&(Me.parameterStructures===Rn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines parameters by name but received parameters by position`),Me.numberOfParams!==ge.params.length&&i.error(`Notification ${ge.method} defines ${Me.numberOfParams} params but received ${rt.length} arguments`)),Je(...rt))}else Me!==void 0&&Me.parameterStructures===Rn.ParameterStructures.byPosition&&i.error(`Notification ${ge.method} defines parameters by position but received parameters by name`),Je(ge.params);else m&&m(ge.method,ge.params)}catch(rt){rt.message?i.error(`Notification handler '${ge.method}' failed with message: ${rt.message}`):i.error(`Notification handler '${ge.method}' failed unexpectedly.`)}else pe.fire(ge)}s(lt,"handleNotification");function oe(ge){if(!ge){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ge,null,4)}`);let Me=ge;if(Ys.string(Me.id)||Ys.number(Me.id)){let Je=Me.id,rt=v.get(Je);rt&&rt.reject(new Error("The received response has neither a result nor an error property."))}}s(oe,"handleInvalidMessage");function Ne(ge){if(ge!=null)switch(_){case go.Verbose:return JSON.stringify(ge,null,4);case go.Compact:return JSON.stringify(ge);default:return}}s(Ne,"stringifyTrace");function Ae(ge){if(!(_===go.Off||!B))if(k===Ju.Text){let Me;(_===go.Verbose||_===go.Compact)&&ge.params&&(Me=`Params: ${Ne(ge.params)}

`),B.log(`Sending request '${ge.method} - (${ge.id})'.`,Me)}else Ce("send-request",ge)}s(Ae,"traceSendingRequest");function Ge(ge){if(!(_===go.Off||!B))if(k===Ju.Text){let Me;(_===go.Verbose||_===go.Compact)&&(ge.params?Me=`Params: ${Ne(ge.params)}

`:Me=`No parameters provided.

`),B.log(`Sending notification '${ge.method}'.`,Me)}else Ce("send-notification",ge)}s(Ge,"traceSendingNotification");function K(ge,Me,Je){if(!(_===go.Off||!B))if(k===Ju.Text){let rt;(_===go.Verbose||_===go.Compact)&&(ge.error&&ge.error.data?rt=`Error data: ${Ne(ge.error.data)}

`:ge.result?rt=`Result: ${Ne(ge.result)}

`:ge.error===void 0&&(rt=`No result returned.

`)),B.log(`Sending response '${Me} - (${ge.id})'. Processing request took ${Date.now()-Je}ms`,rt)}else Ce("send-response",ge)}s(K,"traceSendingResponse");function ne(ge){if(!(_===go.Off||!B))if(k===Ju.Text){let Me;(_===go.Verbose||_===go.Compact)&&ge.params&&(Me=`Params: ${Ne(ge.params)}

`),B.log(`Received request '${ge.method} - (${ge.id})'.`,Me)}else Ce("receive-request",ge)}s(ne,"traceReceivedRequest");function Fe(ge){if(!(_===go.Off||!B||ge.method===uL.type.method))if(k===Ju.Text){let Me;(_===go.Verbose||_===go.Compact)&&(ge.params?Me=`Params: ${Ne(ge.params)}

`:Me=`No parameters provided.

`),B.log(`Received notification '${ge.method}'.`,Me)}else Ce("receive-notification",ge)}s(Fe,"traceReceivedNotification");function Se(ge,Me){if(!(_===go.Off||!B))if(k===Ju.Text){let Je;if((_===go.Verbose||_===go.Compact)&&(ge.error&&ge.error.data?Je=`Error data: ${Ne(ge.error.data)}

`:ge.result?Je=`Result: ${Ne(ge.result)}

`:ge.error===void 0&&(Je=`No result returned.

`)),Me){let rt=ge.error?` Request failed: ${ge.error.message} (${ge.error.code}).`:"";B.log(`Received response '${Me.method} - (${ge.id})' in ${Date.now()-Me.timerStart}ms.${rt}`,Je)}else B.log(`Received response ${ge.id} without active response promise.`,Je)}else Ce("receive-response",ge)}s(Se,"traceReceivedResponse");function Ce(ge,Me){if(!B||_===go.Off)return;let Je={isLSPMessage:!0,type:ge,message:Me,timestamp:Date.now()};B.log(Je)}s(Ce,"logLSPMessage");function Ue(){if(ae())throw new kI(o_.Closed,"Connection is closed.");if(te())throw new kI(o_.Disposed,"Connection is disposed.")}s(Ue,"throwIfClosedOrDisposed");function Ve(){if(Y())throw new kI(o_.AlreadyListening,"Connection is already listening")}s(Ve,"throwIfListening");function tt(){if(!Y())throw new Error("Call listen() first.")}s(tt,"throwIfNotListening");function Ct(ge){return ge===void 0?null:ge}s(Ct,"undefinedToNull");function Pt(ge){if(ge!==null)return ge}s(Pt,"nullToUndefined");function yt(ge){return ge!=null&&!Array.isArray(ge)&&typeof ge=="object"}s(yt,"isNamedParam");function Kt(ge,Me){switch(ge){case Rn.ParameterStructures.auto:return yt(Me)?Pt(Me):[Ct(Me)];case Rn.ParameterStructures.byName:if(!yt(Me))throw new Error("Received parameters by name but param is not an object literal.");return Pt(Me);case Rn.ParameterStructures.byPosition:return[Ct(Me)];default:throw new Error(`Unknown parameter structure ${ge.toString()}`)}}s(Kt,"computeSingleParam");function Xt(ge,Me){let Je,rt=ge.numberOfParams;switch(rt){case 0:Je=void 0;break;case 1:Je=Kt(ge.parameterStructures,Me[0]);break;default:Je=[];for(let Rt=0;Rt<Me.length&&Rt<rt;Rt++)Je.push(Ct(Me[Rt]));if(Me.length<rt)for(let Rt=Me.length;Rt<rt;Rt++)Je.push(null);break}return Je}s(Xt,"computeMessageParams");let ar={sendNotification:s((ge,...Me)=>{Ue();let Je,rt;if(Ys.string(ge)){Je=ge;let bt=Me[0],Mt=0,Ot=Rn.ParameterStructures.auto;Rn.ParameterStructures.is(bt)&&(Mt=1,Ot=bt);let _t=Me.length,kt=_t-Mt;switch(kt){case 0:rt=void 0;break;case 1:rt=Kt(Ot,Me[Mt]);break;default:if(Ot===Rn.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);rt=Me.slice(Mt,_t).map(St=>Ct(St));break}}else{let bt=Me;Je=ge.method,rt=Xt(ge,bt)}let Rt={jsonrpc:c,method:Je,params:rt};return Ge(Rt),t.write(Rt).catch(bt=>{throw i.error("Sending notification failed."),bt})},"sendNotification"),onNotification:s((ge,Me)=>{Ue();let Je;return Ys.func(ge)?m=ge:Me&&(Ys.string(ge)?(Je=ge,h.set(ge,{type:void 0,handler:Me})):(Je=ge.method,h.set(ge.method,{type:ge,handler:Me}))),{dispose:s(()=>{Je!==void 0?h.delete(Je):m=void 0},"dispose")}},"onNotification"),onProgress:s((ge,Me,Je)=>{if(p.has(Me))throw new Error(`Progress handler for token ${Me} already registered`);return p.set(Me,Je),{dispose:s(()=>{p.delete(Me)},"dispose")}},"onProgress"),sendProgress:s((ge,Me,Je)=>ar.sendNotification(i_.type,{token:Me,value:Je}),"sendProgress"),onUnhandledProgress:Z.event,sendRequest:s((ge,...Me)=>{Ue(),tt();let Je,rt,Rt;if(Ys.string(ge)){Je=ge;let _t=Me[0],kt=Me[Me.length-1],St=0,qt=Rn.ParameterStructures.auto;Rn.ParameterStructures.is(_t)&&(St=1,qt=_t);let $t=Me.length;vX.CancellationToken.is(kt)&&($t=$t-1,Rt=kt);let Zt=$t-St;switch(Zt){case 0:rt=void 0;break;case 1:rt=Kt(qt,Me[St]);break;default:if(qt===Rn.ParameterStructures.byName)throw new Error(`Received ${Zt} parameters for 'by Name' request parameter structure.`);rt=Me.slice(St,$t).map(fr=>Ct(fr));break}}else{let _t=Me;Je=ge.method,rt=Xt(ge,_t);let kt=ge.numberOfParams;Rt=vX.CancellationToken.is(_t[kt])?_t[kt]:void 0}let bt=o++,Mt;Rt&&(Mt=Rt.onCancellationRequested(()=>{let _t=q.sender.sendCancellation(ar,bt);return _t===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${bt}`),Promise.resolve()):_t.catch(()=>{i.log(`Sending cancellation messages for id ${bt} failed`)})}));let Ot={jsonrpc:c,id:bt,method:Je,params:rt};return Ae(Ot),typeof q.sender.enableCancellation=="function"&&q.sender.enableCancellation(Ot),new Promise(async(_t,kt)=>{let St=s(Zt=>{_t(Zt),q.sender.cleanup(bt),Mt?.dispose()},"resolveWithCleanup"),qt=s(Zt=>{kt(Zt),q.sender.cleanup(bt),Mt?.dispose()},"rejectWithCleanup"),$t={method:Je,timerStart:Date.now(),resolve:St,reject:qt};try{await t.write(Ot),v.set(bt,$t)}catch(Zt){throw i.error("Sending request failed."),$t.reject(new Rn.ResponseError(Rn.ErrorCodes.MessageWriteError,Zt.message?Zt.message:"Unknown reason")),Zt}})},"sendRequest"),onRequest:s((ge,Me)=>{Ue();let Je=null;return IX.is(ge)?(Je=void 0,u=ge):Ys.string(ge)?(Je=null,Me!==void 0&&(Je=ge,f.set(ge,{handler:Me,type:void 0}))):Me!==void 0&&(Je=ge.method,f.set(ge.method,{type:ge,handler:Me})),{dispose:s(()=>{Je!==null&&(Je!==void 0?f.delete(Je):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>v.size>0,"hasPendingResponse"),trace:s(async(ge,Me,Je)=>{let rt=!1,Rt=Ju.Text;Je!==void 0&&(Ys.boolean(Je)?rt=Je:(rt=Je.sendNotification||!1,Rt=Je.traceFormat||Ju.Text)),_=ge,k=Rt,_===go.Off?B=void 0:B=Me,rt&&!ae()&&!te()&&await ar.sendNotification(TX.type,{value:go.toString(ge)})},"trace"),onError:M.event,onClose:re.event,onUnhandledNotification:pe.event,onDispose:G.event,end:s(()=>{t.end()},"end"),dispose:s(()=>{if(te())return;N=th.Disposed,G.fire(void 0);let ge=new Rn.ResponseError(Rn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Me of v.values())Me.reject(ge);v=new Map,E=new Map,b=new Set,y=new x2e.LinkedMap,Ys.func(t.dispose)&&t.dispose(),Ys.func(e.dispose)&&e.dispose()},"dispose"),listen:s(()=>{Ue(),Ve(),N=th.Listening,e.listen(Xe)},"listen"),inspect:s(()=>{(0,C2e.default)().console.log("inspect")},"inspect")};return ar.onNotification(uL.type,ge=>{if(_===go.Off||!B)return;let Me=_===go.Verbose||_===go.Compact;B.log(ge.message,Me?ge.verbose:void 0)}),ar.onNotification(i_.type,ge=>{let Me=p.get(ge.token);Me?Me(ge.value):Z.fire(ge)}),ar}s(Mtt,"createMessageConnection");Kn.createMessageConnection=Mtt});var gL=j(gt=>{"use strict";d();Object.defineProperty(gt,"__esModule",{value:!0});gt.ProgressType=gt.ProgressToken=gt.createMessageConnection=gt.NullLogger=gt.ConnectionOptions=gt.ConnectionStrategy=gt.AbstractMessageBuffer=gt.WriteableStreamMessageWriter=gt.AbstractMessageWriter=gt.MessageWriter=gt.ReadableStreamMessageReader=gt.AbstractMessageReader=gt.MessageReader=gt.SharedArrayReceiverStrategy=gt.SharedArraySenderStrategy=gt.CancellationToken=gt.CancellationTokenSource=gt.Emitter=gt.Event=gt.Disposable=gt.LRUCache=gt.Touch=gt.LinkedMap=gt.ParameterStructures=gt.NotificationType9=gt.NotificationType8=gt.NotificationType7=gt.NotificationType6=gt.NotificationType5=gt.NotificationType4=gt.NotificationType3=gt.NotificationType2=gt.NotificationType1=gt.NotificationType0=gt.NotificationType=gt.ErrorCodes=gt.ResponseError=gt.RequestType9=gt.RequestType8=gt.RequestType7=gt.RequestType6=gt.RequestType5=gt.RequestType4=gt.RequestType3=gt.RequestType2=gt.RequestType1=gt.RequestType0=gt.RequestType=gt.Message=gt.RAL=void 0;gt.MessageStrategy=gt.CancellationStrategy=gt.CancellationSenderStrategy=gt.CancellationReceiverStrategy=gt.ConnectionError=gt.ConnectionErrors=gt.LogTraceNotification=gt.SetTraceNotification=gt.TraceFormat=gt.TraceValues=gt.Trace=void 0;var Jo=ZJ();Object.defineProperty(gt,"Message",{enumerable:!0,get:s(function(){return Jo.Message},"get")});Object.defineProperty(gt,"RequestType",{enumerable:!0,get:s(function(){return Jo.RequestType},"get")});Object.defineProperty(gt,"RequestType0",{enumerable:!0,get:s(function(){return Jo.RequestType0},"get")});Object.defineProperty(gt,"RequestType1",{enumerable:!0,get:s(function(){return Jo.RequestType1},"get")});Object.defineProperty(gt,"RequestType2",{enumerable:!0,get:s(function(){return Jo.RequestType2},"get")});Object.defineProperty(gt,"RequestType3",{enumerable:!0,get:s(function(){return Jo.RequestType3},"get")});Object.defineProperty(gt,"RequestType4",{enumerable:!0,get:s(function(){return Jo.RequestType4},"get")});Object.defineProperty(gt,"RequestType5",{enumerable:!0,get:s(function(){return Jo.RequestType5},"get")});Object.defineProperty(gt,"RequestType6",{enumerable:!0,get:s(function(){return Jo.RequestType6},"get")});Object.defineProperty(gt,"RequestType7",{enumerable:!0,get:s(function(){return Jo.RequestType7},"get")});Object.defineProperty(gt,"RequestType8",{enumerable:!0,get:s(function(){return Jo.RequestType8},"get")});Object.defineProperty(gt,"RequestType9",{enumerable:!0,get:s(function(){return Jo.RequestType9},"get")});Object.defineProperty(gt,"ResponseError",{enumerable:!0,get:s(function(){return Jo.ResponseError},"get")});Object.defineProperty(gt,"ErrorCodes",{enumerable:!0,get:s(function(){return Jo.ErrorCodes},"get")});Object.defineProperty(gt,"NotificationType",{enumerable:!0,get:s(function(){return Jo.NotificationType},"get")});Object.defineProperty(gt,"NotificationType0",{enumerable:!0,get:s(function(){return Jo.NotificationType0},"get")});Object.defineProperty(gt,"NotificationType1",{enumerable:!0,get:s(function(){return Jo.NotificationType1},"get")});Object.defineProperty(gt,"NotificationType2",{enumerable:!0,get:s(function(){return Jo.NotificationType2},"get")});Object.defineProperty(gt,"NotificationType3",{enumerable:!0,get:s(function(){return Jo.NotificationType3},"get")});Object.defineProperty(gt,"NotificationType4",{enumerable:!0,get:s(function(){return Jo.NotificationType4},"get")});Object.defineProperty(gt,"NotificationType5",{enumerable:!0,get:s(function(){return Jo.NotificationType5},"get")});Object.defineProperty(gt,"NotificationType6",{enumerable:!0,get:s(function(){return Jo.NotificationType6},"get")});Object.defineProperty(gt,"NotificationType7",{enumerable:!0,get:s(function(){return Jo.NotificationType7},"get")});Object.defineProperty(gt,"NotificationType8",{enumerable:!0,get:s(function(){return Jo.NotificationType8},"get")});Object.defineProperty(gt,"NotificationType9",{enumerable:!0,get:s(function(){return Jo.NotificationType9},"get")});Object.defineProperty(gt,"ParameterStructures",{enumerable:!0,get:s(function(){return Jo.ParameterStructures},"get")});var SX=tX();Object.defineProperty(gt,"LinkedMap",{enumerable:!0,get:s(function(){return SX.LinkedMap},"get")});Object.defineProperty(gt,"LRUCache",{enumerable:!0,get:s(function(){return SX.LRUCache},"get")});Object.defineProperty(gt,"Touch",{enumerable:!0,get:s(function(){return SX.Touch},"get")});var Qtt=l2e();Object.defineProperty(gt,"Disposable",{enumerable:!0,get:s(function(){return Qtt.Disposable},"get")});var I2e=wI();Object.defineProperty(gt,"Event",{enumerable:!0,get:s(function(){return I2e.Event},"get")});Object.defineProperty(gt,"Emitter",{enumerable:!0,get:s(function(){return I2e.Emitter},"get")});var T2e=oL();Object.defineProperty(gt,"CancellationTokenSource",{enumerable:!0,get:s(function(){return T2e.CancellationTokenSource},"get")});Object.defineProperty(gt,"CancellationToken",{enumerable:!0,get:s(function(){return T2e.CancellationToken},"get")});var w2e=u2e();Object.defineProperty(gt,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return w2e.SharedArraySenderStrategy},"get")});Object.defineProperty(gt,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return w2e.SharedArrayReceiverStrategy},"get")});var RX=d2e();Object.defineProperty(gt,"MessageReader",{enumerable:!0,get:s(function(){return RX.MessageReader},"get")});Object.defineProperty(gt,"AbstractMessageReader",{enumerable:!0,get:s(function(){return RX.AbstractMessageReader},"get")});Object.defineProperty(gt,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return RX.ReadableStreamMessageReader},"get")});var kX=A2e();Object.defineProperty(gt,"MessageWriter",{enumerable:!0,get:s(function(){return kX.MessageWriter},"get")});Object.defineProperty(gt,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return kX.AbstractMessageWriter},"get")});Object.defineProperty(gt,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return kX.WriteableStreamMessageWriter},"get")});var Ott=y2e();Object.defineProperty(gt,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return Ott.AbstractMessageBuffer},"get")});var nc=E2e();Object.defineProperty(gt,"ConnectionStrategy",{enumerable:!0,get:s(function(){return nc.ConnectionStrategy},"get")});Object.defineProperty(gt,"ConnectionOptions",{enumerable:!0,get:s(function(){return nc.ConnectionOptions},"get")});Object.defineProperty(gt,"NullLogger",{enumerable:!0,get:s(function(){return nc.NullLogger},"get")});Object.defineProperty(gt,"createMessageConnection",{enumerable:!0,get:s(function(){return nc.createMessageConnection},"get")});Object.defineProperty(gt,"ProgressToken",{enumerable:!0,get:s(function(){return nc.ProgressToken},"get")});Object.defineProperty(gt,"ProgressType",{enumerable:!0,get:s(function(){return nc.ProgressType},"get")});Object.defineProperty(gt,"Trace",{enumerable:!0,get:s(function(){return nc.Trace},"get")});Object.defineProperty(gt,"TraceValues",{enumerable:!0,get:s(function(){return nc.TraceValues},"get")});Object.defineProperty(gt,"TraceFormat",{enumerable:!0,get:s(function(){return nc.TraceFormat},"get")});Object.defineProperty(gt,"SetTraceNotification",{enumerable:!0,get:s(function(){return nc.SetTraceNotification},"get")});Object.defineProperty(gt,"LogTraceNotification",{enumerable:!0,get:s(function(){return nc.LogTraceNotification},"get")});Object.defineProperty(gt,"ConnectionErrors",{enumerable:!0,get:s(function(){return nc.ConnectionErrors},"get")});Object.defineProperty(gt,"ConnectionError",{enumerable:!0,get:s(function(){return nc.ConnectionError},"get")});Object.defineProperty(gt,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return nc.CancellationReceiverStrategy},"get")});Object.defineProperty(gt,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return nc.CancellationSenderStrategy},"get")});Object.defineProperty(gt,"CancellationStrategy",{enumerable:!0,get:s(function(){return nc.CancellationStrategy},"get")});Object.defineProperty(gt,"MessageStrategy",{enumerable:!0,get:s(function(){return nc.MessageStrategy},"get")});var Utt=c5();gt.RAL=Utt.default});var R2e=j(NX=>{"use strict";d();Object.defineProperty(NX,"__esModule",{value:!0});var _2e=require("util"),iA=gL(),AL=class e extends iA.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new _2e.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};AL.emptyBuffer=Buffer.allocUnsafe(0);var BX=class{static{s(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),iA.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),iA.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),iA.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),iA.Disposable.create(()=>this.stream.off("data",t))}},DX=class{static{s(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),iA.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),iA.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),iA.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let o=s(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,o):this.stream.write(t,o)})}end(){this.stream.end()}},S2e=Object.freeze({messageBuffer:Object.freeze({create:s(e=>new AL(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new _2e.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:s(e=>new BX(e),"asReadableStream"),asWritableStream:s(e=>new DX(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:s(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:s(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:s(()=>clearInterval(n),"dispose")}}})});function PX(){return S2e}s(PX,"RIL");(function(e){function t(){iA.RAL.install(S2e)}s(t,"install"),e.install=t})(PX||(PX={}));NX.default=PX});var Gx=j(Wi=>{"use strict";d();var qtt=Wi&&Wi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wtt=Wi&&Wi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qtt(t,e,r)};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.createMessageConnection=Wi.createServerSocketTransport=Wi.createClientSocketTransport=Wi.createServerPipeTransport=Wi.createClientPipeTransport=Wi.generateRandomPipeName=Wi.StreamMessageWriter=Wi.StreamMessageReader=Wi.SocketMessageWriter=Wi.SocketMessageReader=Wi.PortMessageWriter=Wi.PortMessageReader=Wi.IPCMessageWriter=Wi.IPCMessageReader=void 0;var BI=R2e();BI.default.install();var k2e=require("path"),Gtt=require("os"),Htt=require("crypto"),xL=require("net"),Xu=gL();Wtt(gL(),Wi);var LX=class extends Xu.AbstractMessageReader{static{s(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Xu.Disposable.create(()=>this.process.off("message",t))}};Wi.IPCMessageReader=LX;var FX=class extends Xu.AbstractMessageWriter{static{s(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Wi.IPCMessageWriter=FX;var MX=class extends Xu.AbstractMessageReader{static{s(this,"PortMessageReader")}constructor(t){super(),this.onData=new Xu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};Wi.PortMessageReader=MX;var QX=class extends Xu.AbstractMessageWriter{static{s(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Wi.PortMessageWriter=QX;var qx=class extends Xu.ReadableStreamMessageReader{static{s(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,BI.default)().stream.asReadableStream(t),r)}};Wi.SocketMessageReader=qx;var Wx=class extends Xu.WriteableStreamMessageWriter{static{s(this,"SocketMessageWriter")}constructor(t,r){super((0,BI.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Wi.SocketMessageWriter=Wx;var yL=class extends Xu.ReadableStreamMessageReader{static{s(this,"StreamMessageReader")}constructor(t,r){super((0,BI.default)().stream.asReadableStream(t),r)}};Wi.StreamMessageReader=yL;var CL=class extends Xu.WriteableStreamMessageWriter{static{s(this,"StreamMessageWriter")}constructor(t,r){super((0,BI.default)().stream.asWritableStream(t),r)}};Wi.StreamMessageWriter=CL;var B2e=process.env.XDG_RUNTIME_DIR,jtt=new Map([["linux",107],["darwin",103]]);function Vtt(){let e=(0,Htt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;B2e?t=k2e.join(B2e,`vscode-ipc-${e}.sock`):t=k2e.join(Gtt.tmpdir(),`vscode-${e}.sock`);let r=jtt.get(process.platform);return r!==void 0&&t.length>r&&(0,BI.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}s(Vtt,"generateRandomPipeName");Wi.generateRandomPipeName=Vtt;function $tt(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,xL.createServer)(l=>{a.close(),r([new qx(l,t),new Wx(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),i({onConnected:s(()=>n,"onConnected")})})})}s($tt,"createClientPipeTransport");Wi.createClientPipeTransport=$tt;function ztt(e,t="utf-8"){let r=(0,xL.createConnection)(e);return[new qx(r,t),new Wx(r,t)]}s(ztt,"createServerPipeTransport");Wi.createServerPipeTransport=ztt;function Ytt(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,xL.createServer)(l=>{a.close(),r([new qx(l,t),new Wx(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:s(()=>n,"onConnected")})})})}s(Ytt,"createClientSocketTransport");Wi.createClientSocketTransport=Ytt;function Ktt(e,t="utf-8"){let r=(0,xL.createConnection)(e,"127.0.0.1");return[new qx(r,t),new Wx(r,t)]}s(Ktt,"createServerSocketTransport");Wi.createServerSocketTransport=Ktt;function Jtt(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}s(Jtt,"isReadableStream");function Xtt(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}s(Xtt,"isWritableStream");function Ztt(e,t,r,n){r||(r=Xu.NullLogger);let i=Jtt(e)?new yL(e):e,o=Xtt(t)?new CL(t):t;return Xu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Xu.createMessageConnection)(i,o,r,n)}s(Ztt,"createMessageConnection");Wi.createMessageConnection=Ztt});var OX=j((Clr,D2e)=>{"use strict";d();D2e.exports=Gx()});var bL=j((P2e,vL)=>{d();(function(e){if(typeof vL=="object"&&typeof vL.exports=="object"){var t=e(require,P2e);t!==void 0&&(vL.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(O){function de(ye){return typeof ye=="string"}s(de,"is"),O.is=de})(r||(t.DocumentUri=r={}));var n;(function(O){function de(ye){return typeof ye=="string"}s(de,"is"),O.is=de})(n||(t.URI=n={}));var i;(function(O){O.MIN_VALUE=-2147483648,O.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}s(de,"is"),O.is=de})(i||(t.integer=i={}));var o;(function(O){O.MIN_VALUE=0,O.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}s(de,"is"),O.is=de})(o||(t.uinteger=o={}));var a;(function(O){function de(J,F){return J===Number.MAX_VALUE&&(J=o.MAX_VALUE),F===Number.MAX_VALUE&&(F=o.MAX_VALUE),{line:J,character:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.uinteger(F.line)&&Ie.uinteger(F.character)}s(ye,"is"),O.is=ye})(a||(t.Position=a={}));var l;(function(O){function de(J,F,Te,Oe){if(Ie.uinteger(J)&&Ie.uinteger(F)&&Ie.uinteger(Te)&&Ie.uinteger(Oe))return{start:a.create(J,F),end:a.create(Te,Oe)};if(a.is(J)&&a.is(F))return{start:J,end:F};throw new Error("Range#create called with invalid arguments[".concat(J,", ").concat(F,", ").concat(Te,", ").concat(Oe,"]"))}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&a.is(F.start)&&a.is(F.end)}s(ye,"is"),O.is=ye})(l||(t.Range=l={}));var c;(function(O){function de(J,F){return{uri:J,range:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.range)&&(Ie.string(F.uri)||Ie.undefined(F.uri))}s(ye,"is"),O.is=ye})(c||(t.Location=c={}));var u;(function(O){function de(J,F,Te,Oe){return{targetUri:J,targetRange:F,targetSelectionRange:Te,originSelectionRange:Oe}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.targetRange)&&Ie.string(F.targetUri)&&l.is(F.targetSelectionRange)&&(l.is(F.originSelectionRange)||Ie.undefined(F.originSelectionRange))}s(ye,"is"),O.is=ye})(u||(t.LocationLink=u={}));var f;(function(O){function de(J,F,Te,Oe){return{red:J,green:F,blue:Te,alpha:Oe}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.numberRange(F.red,0,1)&&Ie.numberRange(F.green,0,1)&&Ie.numberRange(F.blue,0,1)&&Ie.numberRange(F.alpha,0,1)}s(ye,"is"),O.is=ye})(f||(t.Color=f={}));var m;(function(O){function de(J,F){return{range:J,color:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.range)&&f.is(F.color)}s(ye,"is"),O.is=ye})(m||(t.ColorInformation=m={}));var h;(function(O){function de(J,F,Te){return{label:J,textEdit:F,additionalTextEdits:Te}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.string(F.label)&&(Ie.undefined(F.textEdit)||B.is(F))&&(Ie.undefined(F.additionalTextEdits)||Ie.typedArray(F.additionalTextEdits,B.is))}s(ye,"is"),O.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(O){O.Comment="comment",O.Imports="imports",O.Region="region"})(p||(t.FoldingRangeKind=p={}));var g;(function(O){function de(J,F,Te,Oe,xt,Wt){var Lt={startLine:J,endLine:F};return Ie.defined(Te)&&(Lt.startCharacter=Te),Ie.defined(Oe)&&(Lt.endCharacter=Oe),Ie.defined(xt)&&(Lt.kind=xt),Ie.defined(Wt)&&(Lt.collapsedText=Wt),Lt}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.uinteger(F.startLine)&&Ie.uinteger(F.startLine)&&(Ie.undefined(F.startCharacter)||Ie.uinteger(F.startCharacter))&&(Ie.undefined(F.endCharacter)||Ie.uinteger(F.endCharacter))&&(Ie.undefined(F.kind)||Ie.string(F.kind))}s(ye,"is"),O.is=ye})(g||(t.FoldingRange=g={}));var y;(function(O){function de(J,F){return{location:J,message:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&c.is(F.location)&&Ie.string(F.message)}s(ye,"is"),O.is=ye})(y||(t.DiagnosticRelatedInformation=y={}));var v;(function(O){O.Error=1,O.Warning=2,O.Information=3,O.Hint=4})(v||(t.DiagnosticSeverity=v={}));var b;(function(O){O.Unnecessary=1,O.Deprecated=2})(b||(t.DiagnosticTag=b={}));var E;(function(O){function de(ye){var J=ye;return Ie.objectLiteral(J)&&Ie.string(J.href)}s(de,"is"),O.is=de})(E||(t.CodeDescription=E={}));var _;(function(O){function de(J,F,Te,Oe,xt,Wt){var Lt={range:J,message:F};return Ie.defined(Te)&&(Lt.severity=Te),Ie.defined(Oe)&&(Lt.code=Oe),Ie.defined(xt)&&(Lt.source=xt),Ie.defined(Wt)&&(Lt.relatedInformation=Wt),Lt}s(de,"create"),O.create=de;function ye(J){var F,Te=J;return Ie.defined(Te)&&l.is(Te.range)&&Ie.string(Te.message)&&(Ie.number(Te.severity)||Ie.undefined(Te.severity))&&(Ie.integer(Te.code)||Ie.string(Te.code)||Ie.undefined(Te.code))&&(Ie.undefined(Te.codeDescription)||Ie.string((F=Te.codeDescription)===null||F===void 0?void 0:F.href))&&(Ie.string(Te.source)||Ie.undefined(Te.source))&&(Ie.undefined(Te.relatedInformation)||Ie.typedArray(Te.relatedInformation,y.is))}s(ye,"is"),O.is=ye})(_||(t.Diagnostic=_={}));var k;(function(O){function de(J,F){for(var Te=[],Oe=2;Oe<arguments.length;Oe++)Te[Oe-2]=arguments[Oe];var xt={title:J,command:F};return Ie.defined(Te)&&Te.length>0&&(xt.arguments=Te),xt}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.title)&&Ie.string(F.command)}s(ye,"is"),O.is=ye})(k||(t.Command=k={}));var B;(function(O){function de(Te,Oe){return{range:Te,newText:Oe}}s(de,"replace"),O.replace=de;function ye(Te,Oe){return{range:{start:Te,end:Te},newText:Oe}}s(ye,"insert"),O.insert=ye;function J(Te){return{range:Te,newText:""}}s(J,"del"),O.del=J;function F(Te){var Oe=Te;return Ie.objectLiteral(Oe)&&Ie.string(Oe.newText)&&l.is(Oe.range)}s(F,"is"),O.is=F})(B||(t.TextEdit=B={}));var N;(function(O){function de(J,F,Te){var Oe={label:J};return F!==void 0&&(Oe.needsConfirmation=F),Te!==void 0&&(Oe.description=Te),Oe}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.string(F.label)&&(Ie.boolean(F.needsConfirmation)||F.needsConfirmation===void 0)&&(Ie.string(F.description)||F.description===void 0)}s(ye,"is"),O.is=ye})(N||(t.ChangeAnnotation=N={}));var M;(function(O){function de(ye){var J=ye;return Ie.string(J)}s(de,"is"),O.is=de})(M||(t.ChangeAnnotationIdentifier=M={}));var re;(function(O){function de(Te,Oe,xt){return{range:Te,newText:Oe,annotationId:xt}}s(de,"replace"),O.replace=de;function ye(Te,Oe,xt){return{range:{start:Te,end:Te},newText:Oe,annotationId:xt}}s(ye,"insert"),O.insert=ye;function J(Te,Oe){return{range:Te,newText:"",annotationId:Oe}}s(J,"del"),O.del=J;function F(Te){var Oe=Te;return B.is(Oe)&&(N.is(Oe.annotationId)||M.is(Oe.annotationId))}s(F,"is"),O.is=F})(re||(t.AnnotatedTextEdit=re={}));var pe;(function(O){function de(J,F){return{textDocument:J,edits:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&ae.is(F.textDocument)&&Array.isArray(F.edits)}s(ye,"is"),O.is=ye})(pe||(t.TextDocumentEdit=pe={}));var Z;(function(O){function de(J,F,Te){var Oe={kind:"create",uri:J};return F!==void 0&&(F.overwrite!==void 0||F.ignoreIfExists!==void 0)&&(Oe.options=F),Te!==void 0&&(Oe.annotationId=Te),Oe}s(de,"create"),O.create=de;function ye(J){var F=J;return F&&F.kind==="create"&&Ie.string(F.uri)&&(F.options===void 0||(F.options.overwrite===void 0||Ie.boolean(F.options.overwrite))&&(F.options.ignoreIfExists===void 0||Ie.boolean(F.options.ignoreIfExists)))&&(F.annotationId===void 0||M.is(F.annotationId))}s(ye,"is"),O.is=ye})(Z||(t.CreateFile=Z={}));var G;(function(O){function de(J,F,Te,Oe){var xt={kind:"rename",oldUri:J,newUri:F};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(xt.options=Te),Oe!==void 0&&(xt.annotationId=Oe),xt}s(de,"create"),O.create=de;function ye(J){var F=J;return F&&F.kind==="rename"&&Ie.string(F.oldUri)&&Ie.string(F.newUri)&&(F.options===void 0||(F.options.overwrite===void 0||Ie.boolean(F.options.overwrite))&&(F.options.ignoreIfExists===void 0||Ie.boolean(F.options.ignoreIfExists)))&&(F.annotationId===void 0||M.is(F.annotationId))}s(ye,"is"),O.is=ye})(G||(t.RenameFile=G={}));var q;(function(O){function de(J,F,Te){var Oe={kind:"delete",uri:J};return F!==void 0&&(F.recursive!==void 0||F.ignoreIfNotExists!==void 0)&&(Oe.options=F),Te!==void 0&&(Oe.annotationId=Te),Oe}s(de,"create"),O.create=de;function ye(J){var F=J;return F&&F.kind==="delete"&&Ie.string(F.uri)&&(F.options===void 0||(F.options.recursive===void 0||Ie.boolean(F.options.recursive))&&(F.options.ignoreIfNotExists===void 0||Ie.boolean(F.options.ignoreIfNotExists)))&&(F.annotationId===void 0||M.is(F.annotationId))}s(ye,"is"),O.is=ye})(q||(t.DeleteFile=q={}));var ie;(function(O){function de(ye){var J=ye;return J&&(J.changes!==void 0||J.documentChanges!==void 0)&&(J.documentChanges===void 0||J.documentChanges.every(function(F){return Ie.string(F.kind)?Z.is(F)||G.is(F)||q.is(F):pe.is(F)}))}s(de,"is"),O.is=de})(ie||(t.WorkspaceEdit=ie={}));var z=function(){function O(de,ye){this.edits=de,this.changeAnnotations=ye}return s(O,"TextEditChangeImpl"),O.prototype.insert=function(de,ye,J){var F,Te;if(J===void 0?F=B.insert(de,ye):M.is(J)?(Te=J,F=re.insert(de,ye,J)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(J),F=re.insert(de,ye,Te)),this.edits.push(F),Te!==void 0)return Te},O.prototype.replace=function(de,ye,J){var F,Te;if(J===void 0?F=B.replace(de,ye):M.is(J)?(Te=J,F=re.replace(de,ye,J)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(J),F=re.replace(de,ye,Te)),this.edits.push(F),Te!==void 0)return Te},O.prototype.delete=function(de,ye){var J,F;if(ye===void 0?J=B.del(de):M.is(ye)?(F=ye,J=re.del(de,ye)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(ye),J=re.del(de,F)),this.edits.push(J),F!==void 0)return F},O.prototype.add=function(de){this.edits.push(de)},O.prototype.all=function(){return this.edits},O.prototype.clear=function(){this.edits.splice(0,this.edits.length)},O.prototype.assertChangeAnnotations=function(de){if(de===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},O}(),H=function(){function O(de){this._annotations=de===void 0?Object.create(null):de,this._counter=0,this._size=0}return s(O,"ChangeAnnotations"),O.prototype.all=function(){return this._annotations},Object.defineProperty(O.prototype,"size",{get:s(function(){return this._size},"get"),enumerable:!1,configurable:!0}),O.prototype.manage=function(de,ye){var J;if(M.is(de)?J=de:(J=this.nextId(),ye=de),this._annotations[J]!==void 0)throw new Error("Id ".concat(J," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(J));return this._annotations[J]=ye,this._size++,J},O.prototype.nextId=function(){return this._counter++,this._counter.toString()},O}(),U=function(){function O(de){var ye=this;this._textEditChanges=Object.create(null),de!==void 0?(this._workspaceEdit=de,de.documentChanges?(this._changeAnnotations=new H(de.changeAnnotations),de.changeAnnotations=this._changeAnnotations.all(),de.documentChanges.forEach(function(J){if(pe.is(J)){var F=new z(J.edits,ye._changeAnnotations);ye._textEditChanges[J.textDocument.uri]=F}})):de.changes&&Object.keys(de.changes).forEach(function(J){var F=new z(de.changes[J]);ye._textEditChanges[J]=F})):this._workspaceEdit={}}return s(O,"WorkspaceChange"),Object.defineProperty(O.prototype,"edit",{get:s(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),O.prototype.getTextEditChange=function(de){if(ae.is(de)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:de.uri,version:de.version},J=this._textEditChanges[ye.uri];if(!J){var F=[],Te={textDocument:ye,edits:F};this._workspaceEdit.documentChanges.push(Te),J=new z(F,this._changeAnnotations),this._textEditChanges[ye.uri]=J}return J}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var J=this._textEditChanges[de];if(!J){var F=[];this._workspaceEdit.changes[de]=F,J=new z(F),this._textEditChanges[de]=J}return J}},O.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},O.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},O.prototype.createFile=function(de,ye,J){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;N.is(ye)||M.is(ye)?F=ye:J=ye;var Te,Oe;if(F===void 0?Te=Z.create(de,J):(Oe=M.is(F)?F:this._changeAnnotations.manage(F),Te=Z.create(de,J,Oe)),this._workspaceEdit.documentChanges.push(Te),Oe!==void 0)return Oe},O.prototype.renameFile=function(de,ye,J,F){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;N.is(J)||M.is(J)?Te=J:F=J;var Oe,xt;if(Te===void 0?Oe=G.create(de,ye,F):(xt=M.is(Te)?Te:this._changeAnnotations.manage(Te),Oe=G.create(de,ye,F,xt)),this._workspaceEdit.documentChanges.push(Oe),xt!==void 0)return xt},O.prototype.deleteFile=function(de,ye,J){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;N.is(ye)||M.is(ye)?F=ye:J=ye;var Te,Oe;if(F===void 0?Te=q.create(de,J):(Oe=M.is(F)?F:this._changeAnnotations.manage(F),Te=q.create(de,J,Oe)),this._workspaceEdit.documentChanges.push(Te),Oe!==void 0)return Oe},O}();t.WorkspaceChange=U;var V;(function(O){function de(J){return{uri:J}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)}s(ye,"is"),O.is=ye})(V||(t.TextDocumentIdentifier=V={}));var Y;(function(O){function de(J,F){return{uri:J,version:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)&&Ie.integer(F.version)}s(ye,"is"),O.is=ye})(Y||(t.VersionedTextDocumentIdentifier=Y={}));var ae;(function(O){function de(J,F){return{uri:J,version:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)&&(F.version===null||Ie.integer(F.version))}s(ye,"is"),O.is=ye})(ae||(t.OptionalVersionedTextDocumentIdentifier=ae={}));var te;(function(O){function de(J,F,Te,Oe){return{uri:J,languageId:F,version:Te,text:Oe}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)&&Ie.string(F.languageId)&&Ie.integer(F.version)&&Ie.string(F.text)}s(ye,"is"),O.is=ye})(te||(t.TextDocumentItem=te={}));var le;(function(O){O.PlainText="plaintext",O.Markdown="markdown";function de(ye){var J=ye;return J===O.PlainText||J===O.Markdown}s(de,"is"),O.is=de})(le||(t.MarkupKind=le={}));var ce;(function(O){function de(ye){var J=ye;return Ie.objectLiteral(ye)&&le.is(J.kind)&&Ie.string(J.value)}s(de,"is"),O.is=de})(ce||(t.MarkupContent=ce={}));var De;(function(O){O.Text=1,O.Method=2,O.Function=3,O.Constructor=4,O.Field=5,O.Variable=6,O.Class=7,O.Interface=8,O.Module=9,O.Property=10,O.Unit=11,O.Value=12,O.Enum=13,O.Keyword=14,O.Snippet=15,O.Color=16,O.File=17,O.Reference=18,O.Folder=19,O.EnumMember=20,O.Constant=21,O.Struct=22,O.Event=23,O.Operator=24,O.TypeParameter=25})(De||(t.CompletionItemKind=De={}));var be;(function(O){O.PlainText=1,O.Snippet=2})(be||(t.InsertTextFormat=be={}));var qe;(function(O){O.Deprecated=1})(qe||(t.CompletionItemTag=qe={}));var Re;(function(O){function de(J,F,Te){return{newText:J,insert:F,replace:Te}}s(de,"create"),O.create=de;function ye(J){var F=J;return F&&Ie.string(F.newText)&&l.is(F.insert)&&l.is(F.replace)}s(ye,"is"),O.is=ye})(Re||(t.InsertReplaceEdit=Re={}));var Xe;(function(O){O.asIs=1,O.adjustIndentation=2})(Xe||(t.InsertTextMode=Xe={}));var ft;(function(O){function de(ye){var J=ye;return J&&(Ie.string(J.detail)||J.detail===void 0)&&(Ie.string(J.description)||J.description===void 0)}s(de,"is"),O.is=de})(ft||(t.CompletionItemLabelDetails=ft={}));var at;(function(O){function de(ye){return{label:ye}}s(de,"create"),O.create=de})(at||(t.CompletionItem=at={}));var lt;(function(O){function de(ye,J){return{items:ye||[],isIncomplete:!!J}}s(de,"create"),O.create=de})(lt||(t.CompletionList=lt={}));var oe;(function(O){function de(J){return J.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(de,"fromPlainText"),O.fromPlainText=de;function ye(J){var F=J;return Ie.string(F)||Ie.objectLiteral(F)&&Ie.string(F.language)&&Ie.string(F.value)}s(ye,"is"),O.is=ye})(oe||(t.MarkedString=oe={}));var Ne;(function(O){function de(ye){var J=ye;return!!J&&Ie.objectLiteral(J)&&(ce.is(J.contents)||oe.is(J.contents)||Ie.typedArray(J.contents,oe.is))&&(ye.range===void 0||l.is(ye.range))}s(de,"is"),O.is=de})(Ne||(t.Hover=Ne={}));var Ae;(function(O){function de(ye,J){return J?{label:ye,documentation:J}:{label:ye}}s(de,"create"),O.create=de})(Ae||(t.ParameterInformation=Ae={}));var Ge;(function(O){function de(ye,J){for(var F=[],Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];var Oe={label:ye};return Ie.defined(J)&&(Oe.documentation=J),Ie.defined(F)?Oe.parameters=F:Oe.parameters=[],Oe}s(de,"create"),O.create=de})(Ge||(t.SignatureInformation=Ge={}));var K;(function(O){O.Text=1,O.Read=2,O.Write=3})(K||(t.DocumentHighlightKind=K={}));var ne;(function(O){function de(ye,J){var F={range:ye};return Ie.number(J)&&(F.kind=J),F}s(de,"create"),O.create=de})(ne||(t.DocumentHighlight=ne={}));var Fe;(function(O){O.File=1,O.Module=2,O.Namespace=3,O.Package=4,O.Class=5,O.Method=6,O.Property=7,O.Field=8,O.Constructor=9,O.Enum=10,O.Interface=11,O.Function=12,O.Variable=13,O.Constant=14,O.String=15,O.Number=16,O.Boolean=17,O.Array=18,O.Object=19,O.Key=20,O.Null=21,O.EnumMember=22,O.Struct=23,O.Event=24,O.Operator=25,O.TypeParameter=26})(Fe||(t.SymbolKind=Fe={}));var Se;(function(O){O.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(O){function de(ye,J,F,Te,Oe){var xt={name:ye,kind:J,location:{uri:Te,range:F}};return Oe&&(xt.containerName=Oe),xt}s(de,"create"),O.create=de})(Ce||(t.SymbolInformation=Ce={}));var Ue;(function(O){function de(ye,J,F,Te){return Te!==void 0?{name:ye,kind:J,location:{uri:F,range:Te}}:{name:ye,kind:J,location:{uri:F}}}s(de,"create"),O.create=de})(Ue||(t.WorkspaceSymbol=Ue={}));var Ve;(function(O){function de(J,F,Te,Oe,xt,Wt){var Lt={name:J,detail:F,kind:Te,range:Oe,selectionRange:xt};return Wt!==void 0&&(Lt.children=Wt),Lt}s(de,"create"),O.create=de;function ye(J){var F=J;return F&&Ie.string(F.name)&&Ie.number(F.kind)&&l.is(F.range)&&l.is(F.selectionRange)&&(F.detail===void 0||Ie.string(F.detail))&&(F.deprecated===void 0||Ie.boolean(F.deprecated))&&(F.children===void 0||Array.isArray(F.children))&&(F.tags===void 0||Array.isArray(F.tags))}s(ye,"is"),O.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var tt;(function(O){O.Empty="",O.QuickFix="quickfix",O.Refactor="refactor",O.RefactorExtract="refactor.extract",O.RefactorInline="refactor.inline",O.RefactorRewrite="refactor.rewrite",O.Source="source",O.SourceOrganizeImports="source.organizeImports",O.SourceFixAll="source.fixAll"})(tt||(t.CodeActionKind=tt={}));var Ct;(function(O){O.Invoked=1,O.Automatic=2})(Ct||(t.CodeActionTriggerKind=Ct={}));var Pt;(function(O){function de(J,F,Te){var Oe={diagnostics:J};return F!=null&&(Oe.only=F),Te!=null&&(Oe.triggerKind=Te),Oe}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.typedArray(F.diagnostics,_.is)&&(F.only===void 0||Ie.typedArray(F.only,Ie.string))&&(F.triggerKind===void 0||F.triggerKind===Ct.Invoked||F.triggerKind===Ct.Automatic)}s(ye,"is"),O.is=ye})(Pt||(t.CodeActionContext=Pt={}));var yt;(function(O){function de(J,F,Te){var Oe={title:J},xt=!0;return typeof F=="string"?(xt=!1,Oe.kind=F):k.is(F)?Oe.command=F:Oe.edit=F,xt&&Te!==void 0&&(Oe.kind=Te),Oe}s(de,"create"),O.create=de;function ye(J){var F=J;return F&&Ie.string(F.title)&&(F.diagnostics===void 0||Ie.typedArray(F.diagnostics,_.is))&&(F.kind===void 0||Ie.string(F.kind))&&(F.edit!==void 0||F.command!==void 0)&&(F.command===void 0||k.is(F.command))&&(F.isPreferred===void 0||Ie.boolean(F.isPreferred))&&(F.edit===void 0||ie.is(F.edit))}s(ye,"is"),O.is=ye})(yt||(t.CodeAction=yt={}));var Kt;(function(O){function de(J,F){var Te={range:J};return Ie.defined(F)&&(Te.data=F),Te}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&l.is(F.range)&&(Ie.undefined(F.command)||k.is(F.command))}s(ye,"is"),O.is=ye})(Kt||(t.CodeLens=Kt={}));var Xt;(function(O){function de(J,F){return{tabSize:J,insertSpaces:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&Ie.uinteger(F.tabSize)&&Ie.boolean(F.insertSpaces)}s(ye,"is"),O.is=ye})(Xt||(t.FormattingOptions=Xt={}));var ar;(function(O){function de(J,F,Te){return{range:J,target:F,data:Te}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&l.is(F.range)&&(Ie.undefined(F.target)||Ie.string(F.target))}s(ye,"is"),O.is=ye})(ar||(t.DocumentLink=ar={}));var ge;(function(O){function de(J,F){return{range:J,parent:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.range)&&(F.parent===void 0||O.is(F.parent))}s(ye,"is"),O.is=ye})(ge||(t.SelectionRange=ge={}));var Me;(function(O){O.namespace="namespace",O.type="type",O.class="class",O.enum="enum",O.interface="interface",O.struct="struct",O.typeParameter="typeParameter",O.parameter="parameter",O.variable="variable",O.property="property",O.enumMember="enumMember",O.event="event",O.function="function",O.method="method",O.macro="macro",O.keyword="keyword",O.modifier="modifier",O.comment="comment",O.string="string",O.number="number",O.regexp="regexp",O.operator="operator",O.decorator="decorator"})(Me||(t.SemanticTokenTypes=Me={}));var Je;(function(O){O.declaration="declaration",O.definition="definition",O.readonly="readonly",O.static="static",O.deprecated="deprecated",O.abstract="abstract",O.async="async",O.modification="modification",O.documentation="documentation",O.defaultLibrary="defaultLibrary"})(Je||(t.SemanticTokenModifiers=Je={}));var rt;(function(O){function de(ye){var J=ye;return Ie.objectLiteral(J)&&(J.resultId===void 0||typeof J.resultId=="string")&&Array.isArray(J.data)&&(J.data.length===0||typeof J.data[0]=="number")}s(de,"is"),O.is=de})(rt||(t.SemanticTokens=rt={}));var Rt;(function(O){function de(J,F){return{range:J,text:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return F!=null&&l.is(F.range)&&Ie.string(F.text)}s(ye,"is"),O.is=ye})(Rt||(t.InlineValueText=Rt={}));var bt;(function(O){function de(J,F,Te){return{range:J,variableName:F,caseSensitiveLookup:Te}}s(de,"create"),O.create=de;function ye(J){var F=J;return F!=null&&l.is(F.range)&&Ie.boolean(F.caseSensitiveLookup)&&(Ie.string(F.variableName)||F.variableName===void 0)}s(ye,"is"),O.is=ye})(bt||(t.InlineValueVariableLookup=bt={}));var Mt;(function(O){function de(J,F){return{range:J,expression:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return F!=null&&l.is(F.range)&&(Ie.string(F.expression)||F.expression===void 0)}s(ye,"is"),O.is=ye})(Mt||(t.InlineValueEvaluatableExpression=Mt={}));var Ot;(function(O){function de(J,F){return{frameId:J,stoppedLocation:F}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.defined(F)&&l.is(J.stoppedLocation)}s(ye,"is"),O.is=ye})(Ot||(t.InlineValueContext=Ot={}));var _t;(function(O){O.Type=1,O.Parameter=2;function de(ye){return ye===1||ye===2}s(de,"is"),O.is=de})(_t||(t.InlayHintKind=_t={}));var kt;(function(O){function de(J){return{value:J}}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&(F.tooltip===void 0||Ie.string(F.tooltip)||ce.is(F.tooltip))&&(F.location===void 0||c.is(F.location))&&(F.command===void 0||k.is(F.command))}s(ye,"is"),O.is=ye})(kt||(t.InlayHintLabelPart=kt={}));var St;(function(O){function de(J,F,Te){var Oe={position:J,label:F};return Te!==void 0&&(Oe.kind=Te),Oe}s(de,"create"),O.create=de;function ye(J){var F=J;return Ie.objectLiteral(F)&&a.is(F.position)&&(Ie.string(F.label)||Ie.typedArray(F.label,kt.is))&&(F.kind===void 0||_t.is(F.kind))&&F.textEdits===void 0||Ie.typedArray(F.textEdits,B.is)&&(F.tooltip===void 0||Ie.string(F.tooltip)||ce.is(F.tooltip))&&(F.paddingLeft===void 0||Ie.boolean(F.paddingLeft))&&(F.paddingRight===void 0||Ie.boolean(F.paddingRight))}s(ye,"is"),O.is=ye})(St||(t.InlayHint=St={}));var qt;(function(O){function de(ye){return{kind:"snippet",value:ye}}s(de,"createSnippet"),O.createSnippet=de})(qt||(t.StringValue=qt={}));var $t;(function(O){function de(ye,J,F,Te){return{insertText:ye,filterText:J,range:F,command:Te}}s(de,"create"),O.create=de})($t||(t.InlineCompletionItem=$t={}));var Zt;(function(O){function de(ye){return{items:ye}}s(de,"create"),O.create=de})(Zt||(t.InlineCompletionList=Zt={}));var fr;(function(O){O.Invoked=0,O.Automatic=1})(fr||(t.InlineCompletionTriggerKind=fr={}));var xr;(function(O){function de(ye,J){return{range:ye,text:J}}s(de,"create"),O.create=de})(xr||(t.SelectedCompletionInfo=xr={}));var cr;(function(O){function de(ye,J){return{triggerKind:ye,selectedCompletionInfo:J}}s(de,"create"),O.create=de})(cr||(t.InlineCompletionContext=cr={}));var mr;(function(O){function de(ye){var J=ye;return Ie.objectLiteral(J)&&n.is(J.uri)&&Ie.string(J.name)}s(de,"is"),O.is=de})(mr||(t.WorkspaceFolder=mr={})),t.EOL=[`
`,`\r
`,"\r"];var nr;(function(O){function de(Te,Oe,xt,Wt){return new hr(Te,Oe,xt,Wt)}s(de,"create"),O.create=de;function ye(Te){var Oe=Te;return!!(Ie.defined(Oe)&&Ie.string(Oe.uri)&&(Ie.undefined(Oe.languageId)||Ie.string(Oe.languageId))&&Ie.uinteger(Oe.lineCount)&&Ie.func(Oe.getText)&&Ie.func(Oe.positionAt)&&Ie.func(Oe.offsetAt))}s(ye,"is"),O.is=ye;function J(Te,Oe){for(var xt=Te.getText(),Wt=F(Oe,function(ur,zo){var Em=ur.range.start.line-zo.range.start.line;return Em===0?ur.range.start.character-zo.range.start.character:Em}),Lt=xt.length,or=Wt.length-1;or>=0;or--){var lr=Wt[or],Ut=Te.offsetAt(lr.range.start),It=Te.offsetAt(lr.range.end);if(It<=Lt)xt=xt.substring(0,Ut)+lr.newText+xt.substring(It,xt.length);else throw new Error("Overlapping edit");Lt=Ut}return xt}s(J,"applyEdits"),O.applyEdits=J;function F(Te,Oe){if(Te.length<=1)return Te;var xt=Te.length/2|0,Wt=Te.slice(0,xt),Lt=Te.slice(xt);F(Wt,Oe),F(Lt,Oe);for(var or=0,lr=0,Ut=0;or<Wt.length&&lr<Lt.length;){var It=Oe(Wt[or],Lt[lr]);It<=0?Te[Ut++]=Wt[or++]:Te[Ut++]=Lt[lr++]}for(;or<Wt.length;)Te[Ut++]=Wt[or++];for(;lr<Lt.length;)Te[Ut++]=Lt[lr++];return Te}s(F,"mergeSort")})(nr||(t.TextDocument=nr={}));var hr=function(){function O(de,ye,J,F){this._uri=de,this._languageId=ye,this._version=J,this._content=F,this._lineOffsets=void 0}return s(O,"FullTextDocument"),Object.defineProperty(O.prototype,"uri",{get:s(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"languageId",{get:s(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"version",{get:s(function(){return this._version},"get"),enumerable:!1,configurable:!0}),O.prototype.getText=function(de){if(de){var ye=this.offsetAt(de.start),J=this.offsetAt(de.end);return this._content.substring(ye,J)}return this._content},O.prototype.update=function(de,ye){this._content=de.text,this._version=ye,this._lineOffsets=void 0},O.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var de=[],ye=this._content,J=!0,F=0;F<ye.length;F++){J&&(de.push(F),J=!1);var Te=ye.charAt(F);J=Te==="\r"||Te===`
`,Te==="\r"&&F+1<ye.length&&ye.charAt(F+1)===`
`&&F++}J&&ye.length>0&&de.push(ye.length),this._lineOffsets=de}return this._lineOffsets},O.prototype.positionAt=function(de){de=Math.max(Math.min(de,this._content.length),0);var ye=this.getLineOffsets(),J=0,F=ye.length;if(F===0)return a.create(0,de);for(;J<F;){var Te=Math.floor((J+F)/2);ye[Te]>de?F=Te:J=Te+1}var Oe=J-1;return a.create(Oe,de-ye[Oe])},O.prototype.offsetAt=function(de){var ye=this.getLineOffsets();if(de.line>=ye.length)return this._content.length;if(de.line<0)return 0;var J=ye[de.line],F=de.line+1<ye.length?ye[de.line+1]:this._content.length;return Math.max(Math.min(J+de.character,F),J)},Object.defineProperty(O.prototype,"lineCount",{get:s(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),O}(),Ie;(function(O){var de=Object.prototype.toString;function ye(It){return typeof It<"u"}s(ye,"defined"),O.defined=ye;function J(It){return typeof It>"u"}s(J,"undefined"),O.undefined=J;function F(It){return It===!0||It===!1}s(F,"boolean"),O.boolean=F;function Te(It){return de.call(It)==="[object String]"}s(Te,"string"),O.string=Te;function Oe(It){return de.call(It)==="[object Number]"}s(Oe,"number"),O.number=Oe;function xt(It,ur,zo){return de.call(It)==="[object Number]"&&ur<=It&&It<=zo}s(xt,"numberRange"),O.numberRange=xt;function Wt(It){return de.call(It)==="[object Number]"&&-2147483648<=It&&It<=2147483647}s(Wt,"integer"),O.integer=Wt;function Lt(It){return de.call(It)==="[object Number]"&&0<=It&&It<=2147483647}s(Lt,"uinteger"),O.uinteger=Lt;function or(It){return de.call(It)==="[object Function]"}s(or,"func"),O.func=or;function lr(It){return It!==null&&typeof It=="object"}s(lr,"objectLiteral"),O.objectLiteral=lr;function Ut(It,ur){return Array.isArray(It)&&It.every(ur)}s(Ut,"typedArray"),O.typedArray=Ut})(Ie||(Ie={}))})});var Ns=j(J0=>{"use strict";d();Object.defineProperty(J0,"__esModule",{value:!0});J0.ProtocolNotificationType=J0.ProtocolNotificationType0=J0.ProtocolRequestType=J0.ProtocolRequestType0=J0.RegistrationType=J0.MessageDirection=void 0;var DI=Gx(),N2e;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(N2e||(J0.MessageDirection=N2e={}));var UX=class{static{s(this,"RegistrationType")}constructor(t){this.method=t}};J0.RegistrationType=UX;var qX=class extends DI.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(t){super(t)}};J0.ProtocolRequestType0=qX;var WX=class extends DI.RequestType{static{s(this,"ProtocolRequestType")}constructor(t){super(t,DI.ParameterStructures.byName)}};J0.ProtocolRequestType=WX;var GX=class extends DI.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(t){super(t)}};J0.ProtocolNotificationType0=GX;var HX=class extends DI.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(t){super(t,DI.ParameterStructures.byName)}};J0.ProtocolNotificationType=HX});var EL=j(Wa=>{"use strict";d();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.objectLiteral=Wa.typedArray=Wa.stringArray=Wa.array=Wa.func=Wa.error=Wa.number=Wa.string=Wa.boolean=void 0;function ert(e){return e===!0||e===!1}s(ert,"boolean");Wa.boolean=ert;function L2e(e){return typeof e=="string"||e instanceof String}s(L2e,"string");Wa.string=L2e;function trt(e){return typeof e=="number"||e instanceof Number}s(trt,"number");Wa.number=trt;function rrt(e){return e instanceof Error}s(rrt,"error");Wa.error=rrt;function nrt(e){return typeof e=="function"}s(nrt,"func");Wa.func=nrt;function F2e(e){return Array.isArray(e)}s(F2e,"array");Wa.array=F2e;function irt(e){return F2e(e)&&e.every(t=>L2e(t))}s(irt,"stringArray");Wa.stringArray=irt;function ort(e,t){return Array.isArray(e)&&e.every(t)}s(ort,"typedArray");Wa.typedArray=ort;function srt(e){return e!==null&&typeof e=="object"}s(srt,"objectLiteral");Wa.objectLiteral=srt});var O2e=j(IL=>{"use strict";d();Object.defineProperty(IL,"__esModule",{value:!0});IL.ImplementationRequest=void 0;var M2e=Ns(),Q2e;(function(e){e.method="textDocument/implementation",e.messageDirection=M2e.MessageDirection.clientToServer,e.type=new M2e.ProtocolRequestType(e.method)})(Q2e||(IL.ImplementationRequest=Q2e={}))});var W2e=j(TL=>{"use strict";d();Object.defineProperty(TL,"__esModule",{value:!0});TL.TypeDefinitionRequest=void 0;var U2e=Ns(),q2e;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=U2e.MessageDirection.clientToServer,e.type=new U2e.ProtocolRequestType(e.method)})(q2e||(TL.TypeDefinitionRequest=q2e={}))});var j2e=j(PI=>{"use strict";d();Object.defineProperty(PI,"__esModule",{value:!0});PI.DidChangeWorkspaceFoldersNotification=PI.WorkspaceFoldersRequest=void 0;var wL=Ns(),G2e;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=wL.MessageDirection.serverToClient,e.type=new wL.ProtocolRequestType0(e.method)})(G2e||(PI.WorkspaceFoldersRequest=G2e={}));var H2e;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=wL.MessageDirection.clientToServer,e.type=new wL.ProtocolNotificationType(e.method)})(H2e||(PI.DidChangeWorkspaceFoldersNotification=H2e={}))});var z2e=j(_L=>{"use strict";d();Object.defineProperty(_L,"__esModule",{value:!0});_L.ConfigurationRequest=void 0;var V2e=Ns(),$2e;(function(e){e.method="workspace/configuration",e.messageDirection=V2e.MessageDirection.serverToClient,e.type=new V2e.ProtocolRequestType(e.method)})($2e||(_L.ConfigurationRequest=$2e={}))});var J2e=j(NI=>{"use strict";d();Object.defineProperty(NI,"__esModule",{value:!0});NI.ColorPresentationRequest=NI.DocumentColorRequest=void 0;var SL=Ns(),Y2e;(function(e){e.method="textDocument/documentColor",e.messageDirection=SL.MessageDirection.clientToServer,e.type=new SL.ProtocolRequestType(e.method)})(Y2e||(NI.DocumentColorRequest=Y2e={}));var K2e;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=SL.MessageDirection.clientToServer,e.type=new SL.ProtocolRequestType(e.method)})(K2e||(NI.ColorPresentationRequest=K2e={}))});var eye=j(LI=>{"use strict";d();Object.defineProperty(LI,"__esModule",{value:!0});LI.FoldingRangeRefreshRequest=LI.FoldingRangeRequest=void 0;var RL=Ns(),X2e;(function(e){e.method="textDocument/foldingRange",e.messageDirection=RL.MessageDirection.clientToServer,e.type=new RL.ProtocolRequestType(e.method)})(X2e||(LI.FoldingRangeRequest=X2e={}));var Z2e;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=RL.MessageDirection.serverToClient,e.type=new RL.ProtocolRequestType0(e.method)})(Z2e||(LI.FoldingRangeRefreshRequest=Z2e={}))});var nye=j(kL=>{"use strict";d();Object.defineProperty(kL,"__esModule",{value:!0});kL.DeclarationRequest=void 0;var tye=Ns(),rye;(function(e){e.method="textDocument/declaration",e.messageDirection=tye.MessageDirection.clientToServer,e.type=new tye.ProtocolRequestType(e.method)})(rye||(kL.DeclarationRequest=rye={}))});var sye=j(BL=>{"use strict";d();Object.defineProperty(BL,"__esModule",{value:!0});BL.SelectionRangeRequest=void 0;var iye=Ns(),oye;(function(e){e.method="textDocument/selectionRange",e.messageDirection=iye.MessageDirection.clientToServer,e.type=new iye.ProtocolRequestType(e.method)})(oye||(BL.SelectionRangeRequest=oye={}))});var uye=j(d5=>{"use strict";d();Object.defineProperty(d5,"__esModule",{value:!0});d5.WorkDoneProgressCancelNotification=d5.WorkDoneProgressCreateRequest=d5.WorkDoneProgress=void 0;var art=Gx(),DL=Ns(),aye;(function(e){e.type=new art.ProgressType;function t(r){return r===e.type}s(t,"is"),e.is=t})(aye||(d5.WorkDoneProgress=aye={}));var lye;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=DL.MessageDirection.serverToClient,e.type=new DL.ProtocolRequestType(e.method)})(lye||(d5.WorkDoneProgressCreateRequest=lye={}));var cye;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=DL.MessageDirection.clientToServer,e.type=new DL.ProtocolNotificationType(e.method)})(cye||(d5.WorkDoneProgressCancelNotification=cye={}))});var hye=j(m5=>{"use strict";d();Object.defineProperty(m5,"__esModule",{value:!0});m5.CallHierarchyOutgoingCallsRequest=m5.CallHierarchyIncomingCallsRequest=m5.CallHierarchyPrepareRequest=void 0;var FI=Ns(),fye;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=FI.MessageDirection.clientToServer,e.type=new FI.ProtocolRequestType(e.method)})(fye||(m5.CallHierarchyPrepareRequest=fye={}));var dye;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=FI.MessageDirection.clientToServer,e.type=new FI.ProtocolRequestType(e.method)})(dye||(m5.CallHierarchyIncomingCallsRequest=dye={}));var mye;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=FI.MessageDirection.clientToServer,e.type=new FI.ProtocolRequestType(e.method)})(mye||(m5.CallHierarchyOutgoingCallsRequest=mye={}))});var xye=j(X0=>{"use strict";d();Object.defineProperty(X0,"__esModule",{value:!0});X0.SemanticTokensRefreshRequest=X0.SemanticTokensRangeRequest=X0.SemanticTokensDeltaRequest=X0.SemanticTokensRequest=X0.SemanticTokensRegistrationType=X0.TokenFormat=void 0;var oA=Ns(),pye;(function(e){e.Relative="relative"})(pye||(X0.TokenFormat=pye={}));var a_;(function(e){e.method="textDocument/semanticTokens",e.type=new oA.RegistrationType(e.method)})(a_||(X0.SemanticTokensRegistrationType=a_={}));var gye;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=oA.MessageDirection.clientToServer,e.type=new oA.ProtocolRequestType(e.method),e.registrationMethod=a_.method})(gye||(X0.SemanticTokensRequest=gye={}));var Aye;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=oA.MessageDirection.clientToServer,e.type=new oA.ProtocolRequestType(e.method),e.registrationMethod=a_.method})(Aye||(X0.SemanticTokensDeltaRequest=Aye={}));var yye;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=oA.MessageDirection.clientToServer,e.type=new oA.ProtocolRequestType(e.method),e.registrationMethod=a_.method})(yye||(X0.SemanticTokensRangeRequest=yye={}));var Cye;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=oA.MessageDirection.serverToClient,e.type=new oA.ProtocolRequestType0(e.method)})(Cye||(X0.SemanticTokensRefreshRequest=Cye={}))});var Eye=j(PL=>{"use strict";d();Object.defineProperty(PL,"__esModule",{value:!0});PL.ShowDocumentRequest=void 0;var vye=Ns(),bye;(function(e){e.method="window/showDocument",e.messageDirection=vye.MessageDirection.serverToClient,e.type=new vye.ProtocolRequestType(e.method)})(bye||(PL.ShowDocumentRequest=bye={}))});var wye=j(NL=>{"use strict";d();Object.defineProperty(NL,"__esModule",{value:!0});NL.LinkedEditingRangeRequest=void 0;var Iye=Ns(),Tye;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Iye.MessageDirection.clientToServer,e.type=new Iye.ProtocolRequestType(e.method)})(Tye||(NL.LinkedEditingRangeRequest=Tye={}))});var Nye=j(Lc=>{"use strict";d();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.WillDeleteFilesRequest=Lc.DidDeleteFilesNotification=Lc.DidRenameFilesNotification=Lc.WillRenameFilesRequest=Lc.DidCreateFilesNotification=Lc.WillCreateFilesRequest=Lc.FileOperationPatternKind=void 0;var vd=Ns(),_ye;(function(e){e.file="file",e.folder="folder"})(_ye||(Lc.FileOperationPatternKind=_ye={}));var Sye;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=vd.MessageDirection.clientToServer,e.type=new vd.ProtocolRequestType(e.method)})(Sye||(Lc.WillCreateFilesRequest=Sye={}));var Rye;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=vd.MessageDirection.clientToServer,e.type=new vd.ProtocolNotificationType(e.method)})(Rye||(Lc.DidCreateFilesNotification=Rye={}));var kye;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=vd.MessageDirection.clientToServer,e.type=new vd.ProtocolRequestType(e.method)})(kye||(Lc.WillRenameFilesRequest=kye={}));var Bye;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=vd.MessageDirection.clientToServer,e.type=new vd.ProtocolNotificationType(e.method)})(Bye||(Lc.DidRenameFilesNotification=Bye={}));var Dye;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=vd.MessageDirection.clientToServer,e.type=new vd.ProtocolNotificationType(e.method)})(Dye||(Lc.DidDeleteFilesNotification=Dye={}));var Pye;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=vd.MessageDirection.clientToServer,e.type=new vd.ProtocolRequestType(e.method)})(Pye||(Lc.WillDeleteFilesRequest=Pye={}))});var Oye=j(h5=>{"use strict";d();Object.defineProperty(h5,"__esModule",{value:!0});h5.MonikerRequest=h5.MonikerKind=h5.UniquenessLevel=void 0;var Lye=Ns(),Fye;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Fye||(h5.UniquenessLevel=Fye={}));var Mye;(function(e){e.$import="import",e.$export="export",e.local="local"})(Mye||(h5.MonikerKind=Mye={}));var Qye;(function(e){e.method="textDocument/moniker",e.messageDirection=Lye.MessageDirection.clientToServer,e.type=new Lye.ProtocolRequestType(e.method)})(Qye||(h5.MonikerRequest=Qye={}))});var Gye=j(p5=>{"use strict";d();Object.defineProperty(p5,"__esModule",{value:!0});p5.TypeHierarchySubtypesRequest=p5.TypeHierarchySupertypesRequest=p5.TypeHierarchyPrepareRequest=void 0;var MI=Ns(),Uye;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=MI.MessageDirection.clientToServer,e.type=new MI.ProtocolRequestType(e.method)})(Uye||(p5.TypeHierarchyPrepareRequest=Uye={}));var qye;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=MI.MessageDirection.clientToServer,e.type=new MI.ProtocolRequestType(e.method)})(qye||(p5.TypeHierarchySupertypesRequest=qye={}));var Wye;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=MI.MessageDirection.clientToServer,e.type=new MI.ProtocolRequestType(e.method)})(Wye||(p5.TypeHierarchySubtypesRequest=Wye={}))});var Vye=j(QI=>{"use strict";d();Object.defineProperty(QI,"__esModule",{value:!0});QI.InlineValueRefreshRequest=QI.InlineValueRequest=void 0;var LL=Ns(),Hye;(function(e){e.method="textDocument/inlineValue",e.messageDirection=LL.MessageDirection.clientToServer,e.type=new LL.ProtocolRequestType(e.method)})(Hye||(QI.InlineValueRequest=Hye={}));var jye;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=LL.MessageDirection.serverToClient,e.type=new LL.ProtocolRequestType0(e.method)})(jye||(QI.InlineValueRefreshRequest=jye={}))});var Kye=j(g5=>{"use strict";d();Object.defineProperty(g5,"__esModule",{value:!0});g5.InlayHintRefreshRequest=g5.InlayHintResolveRequest=g5.InlayHintRequest=void 0;var OI=Ns(),$ye;(function(e){e.method="textDocument/inlayHint",e.messageDirection=OI.MessageDirection.clientToServer,e.type=new OI.ProtocolRequestType(e.method)})($ye||(g5.InlayHintRequest=$ye={}));var zye;(function(e){e.method="inlayHint/resolve",e.messageDirection=OI.MessageDirection.clientToServer,e.type=new OI.ProtocolRequestType(e.method)})(zye||(g5.InlayHintResolveRequest=zye={}));var Yye;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=OI.MessageDirection.serverToClient,e.type=new OI.ProtocolRequestType0(e.method)})(Yye||(g5.InlayHintRefreshRequest=Yye={}))});var n5e=j(bd=>{"use strict";d();Object.defineProperty(bd,"__esModule",{value:!0});bd.DiagnosticRefreshRequest=bd.WorkspaceDiagnosticRequest=bd.DocumentDiagnosticRequest=bd.DocumentDiagnosticReportKind=bd.DiagnosticServerCancellationData=void 0;var r5e=Gx(),lrt=EL(),UI=Ns(),Jye;(function(e){function t(r){let n=r;return n&&lrt.boolean(n.retriggerRequest)}s(t,"is"),e.is=t})(Jye||(bd.DiagnosticServerCancellationData=Jye={}));var Xye;(function(e){e.Full="full",e.Unchanged="unchanged"})(Xye||(bd.DocumentDiagnosticReportKind=Xye={}));var Zye;(function(e){e.method="textDocument/diagnostic",e.messageDirection=UI.MessageDirection.clientToServer,e.type=new UI.ProtocolRequestType(e.method),e.partialResult=new r5e.ProgressType})(Zye||(bd.DocumentDiagnosticRequest=Zye={}));var e5e;(function(e){e.method="workspace/diagnostic",e.messageDirection=UI.MessageDirection.clientToServer,e.type=new UI.ProtocolRequestType(e.method),e.partialResult=new r5e.ProgressType})(e5e||(bd.WorkspaceDiagnosticRequest=e5e={}));var t5e;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=UI.MessageDirection.serverToClient,e.type=new UI.ProtocolRequestType0(e.method)})(t5e||(bd.DiagnosticRefreshRequest=t5e={}))});var u5e=j(ia=>{"use strict";d();Object.defineProperty(ia,"__esModule",{value:!0});ia.DidCloseNotebookDocumentNotification=ia.DidSaveNotebookDocumentNotification=ia.DidChangeNotebookDocumentNotification=ia.NotebookCellArrayChange=ia.DidOpenNotebookDocumentNotification=ia.NotebookDocumentSyncRegistrationType=ia.NotebookDocument=ia.NotebookCell=ia.ExecutionSummary=ia.NotebookCellKind=void 0;var l_=bL(),rh=EL(),Yp=Ns(),jX;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(jX||(ia.NotebookCellKind=jX={}));var VX;(function(e){function t(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}s(t,"create"),e.create=t;function r(i){let o=i;return rh.objectLiteral(o)&&l_.uinteger.is(o.executionOrder)&&(o.success===void 0||rh.boolean(o.success))}s(r,"is"),e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}s(n,"equals"),e.equals=n})(VX||(ia.ExecutionSummary=VX={}));var FL;(function(e){function t(o,a){return{kind:o,document:a}}s(t,"create"),e.create=t;function r(o){let a=o;return rh.objectLiteral(a)&&jX.is(a.kind)&&l_.DocumentUri.is(a.document)&&(a.metadata===void 0||rh.objectLiteral(a.metadata))}s(r,"is"),e.is=r;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!VX.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),e.diff=n;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],a[u]))return!1}if(rh.objectLiteral(o)&&rh.objectLiteral(a)){let u=Object.keys(o),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(o[h],a[h]))return!1}}return!0}s(i,"equalsMetadata")})(FL||(ia.NotebookCell=FL={}));var i5e;(function(e){function t(n,i,o,a){return{uri:n,notebookType:i,version:o,cells:a}}s(t,"create"),e.create=t;function r(n){let i=n;return rh.objectLiteral(i)&&rh.string(i.uri)&&l_.integer.is(i.version)&&rh.typedArray(i.cells,FL.is)}s(r,"is"),e.is=r})(i5e||(ia.NotebookDocument=i5e={}));var qI;(function(e){e.method="notebookDocument/sync",e.messageDirection=Yp.MessageDirection.clientToServer,e.type=new Yp.RegistrationType(e.method)})(qI||(ia.NotebookDocumentSyncRegistrationType=qI={}));var o5e;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Yp.MessageDirection.clientToServer,e.type=new Yp.ProtocolNotificationType(e.method),e.registrationMethod=qI.method})(o5e||(ia.DidOpenNotebookDocumentNotification=o5e={}));var s5e;(function(e){function t(n){let i=n;return rh.objectLiteral(i)&&l_.uinteger.is(i.start)&&l_.uinteger.is(i.deleteCount)&&(i.cells===void 0||rh.typedArray(i.cells,FL.is))}s(t,"is"),e.is=t;function r(n,i,o){let a={start:n,deleteCount:i};return o!==void 0&&(a.cells=o),a}s(r,"create"),e.create=r})(s5e||(ia.NotebookCellArrayChange=s5e={}));var a5e;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Yp.MessageDirection.clientToServer,e.type=new Yp.ProtocolNotificationType(e.method),e.registrationMethod=qI.method})(a5e||(ia.DidChangeNotebookDocumentNotification=a5e={}));var l5e;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Yp.MessageDirection.clientToServer,e.type=new Yp.ProtocolNotificationType(e.method),e.registrationMethod=qI.method})(l5e||(ia.DidSaveNotebookDocumentNotification=l5e={}));var c5e;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Yp.MessageDirection.clientToServer,e.type=new Yp.ProtocolNotificationType(e.method),e.registrationMethod=qI.method})(c5e||(ia.DidCloseNotebookDocumentNotification=c5e={}))});var m5e=j(ML=>{"use strict";d();Object.defineProperty(ML,"__esModule",{value:!0});ML.InlineCompletionRequest=void 0;var f5e=Ns(),d5e;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=f5e.MessageDirection.clientToServer,e.type=new f5e.ProtocolRequestType(e.method)})(d5e||(ML.InlineCompletionRequest=d5e={}))});var wCe=j(Ee=>{"use strict";d();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.WorkspaceSymbolRequest=Ee.CodeActionResolveRequest=Ee.CodeActionRequest=Ee.DocumentSymbolRequest=Ee.DocumentHighlightRequest=Ee.ReferencesRequest=Ee.DefinitionRequest=Ee.SignatureHelpRequest=Ee.SignatureHelpTriggerKind=Ee.HoverRequest=Ee.CompletionResolveRequest=Ee.CompletionRequest=Ee.CompletionTriggerKind=Ee.PublishDiagnosticsNotification=Ee.WatchKind=Ee.RelativePattern=Ee.FileChangeType=Ee.DidChangeWatchedFilesNotification=Ee.WillSaveTextDocumentWaitUntilRequest=Ee.WillSaveTextDocumentNotification=Ee.TextDocumentSaveReason=Ee.DidSaveTextDocumentNotification=Ee.DidCloseTextDocumentNotification=Ee.DidChangeTextDocumentNotification=Ee.TextDocumentContentChangeEvent=Ee.DidOpenTextDocumentNotification=Ee.TextDocumentSyncKind=Ee.TelemetryEventNotification=Ee.LogMessageNotification=Ee.ShowMessageRequest=Ee.ShowMessageNotification=Ee.MessageType=Ee.DidChangeConfigurationNotification=Ee.ExitNotification=Ee.ShutdownRequest=Ee.InitializedNotification=Ee.InitializeErrorCodes=Ee.InitializeRequest=Ee.WorkDoneProgressOptions=Ee.TextDocumentRegistrationOptions=Ee.StaticRegistrationOptions=Ee.PositionEncodingKind=Ee.FailureHandlingKind=Ee.ResourceOperationKind=Ee.UnregistrationRequest=Ee.RegistrationRequest=Ee.DocumentSelector=Ee.NotebookCellTextDocumentFilter=Ee.NotebookDocumentFilter=Ee.TextDocumentFilter=void 0;Ee.MonikerRequest=Ee.MonikerKind=Ee.UniquenessLevel=Ee.WillDeleteFilesRequest=Ee.DidDeleteFilesNotification=Ee.WillRenameFilesRequest=Ee.DidRenameFilesNotification=Ee.WillCreateFilesRequest=Ee.DidCreateFilesNotification=Ee.FileOperationPatternKind=Ee.LinkedEditingRangeRequest=Ee.ShowDocumentRequest=Ee.SemanticTokensRegistrationType=Ee.SemanticTokensRefreshRequest=Ee.SemanticTokensRangeRequest=Ee.SemanticTokensDeltaRequest=Ee.SemanticTokensRequest=Ee.TokenFormat=Ee.CallHierarchyPrepareRequest=Ee.CallHierarchyOutgoingCallsRequest=Ee.CallHierarchyIncomingCallsRequest=Ee.WorkDoneProgressCancelNotification=Ee.WorkDoneProgressCreateRequest=Ee.WorkDoneProgress=Ee.SelectionRangeRequest=Ee.DeclarationRequest=Ee.FoldingRangeRefreshRequest=Ee.FoldingRangeRequest=Ee.ColorPresentationRequest=Ee.DocumentColorRequest=Ee.ConfigurationRequest=Ee.DidChangeWorkspaceFoldersNotification=Ee.WorkspaceFoldersRequest=Ee.TypeDefinitionRequest=Ee.ImplementationRequest=Ee.ApplyWorkspaceEditRequest=Ee.ExecuteCommandRequest=Ee.PrepareRenameRequest=Ee.RenameRequest=Ee.PrepareSupportDefaultBehavior=Ee.DocumentOnTypeFormattingRequest=Ee.DocumentRangesFormattingRequest=Ee.DocumentRangeFormattingRequest=Ee.DocumentFormattingRequest=Ee.DocumentLinkResolveRequest=Ee.DocumentLinkRequest=Ee.CodeLensRefreshRequest=Ee.CodeLensResolveRequest=Ee.CodeLensRequest=Ee.WorkspaceSymbolResolveRequest=void 0;Ee.InlineCompletionRequest=Ee.DidCloseNotebookDocumentNotification=Ee.DidSaveNotebookDocumentNotification=Ee.DidChangeNotebookDocumentNotification=Ee.NotebookCellArrayChange=Ee.DidOpenNotebookDocumentNotification=Ee.NotebookDocumentSyncRegistrationType=Ee.NotebookDocument=Ee.NotebookCell=Ee.ExecutionSummary=Ee.NotebookCellKind=Ee.DiagnosticRefreshRequest=Ee.WorkspaceDiagnosticRequest=Ee.DocumentDiagnosticRequest=Ee.DocumentDiagnosticReportKind=Ee.DiagnosticServerCancellationData=Ee.InlayHintRefreshRequest=Ee.InlayHintResolveRequest=Ee.InlayHintRequest=Ee.InlineValueRefreshRequest=Ee.InlineValueRequest=Ee.TypeHierarchySupertypesRequest=Ee.TypeHierarchySubtypesRequest=Ee.TypeHierarchyPrepareRequest=void 0;var tr=Ns(),h5e=bL(),wl=EL(),crt=O2e();Object.defineProperty(Ee,"ImplementationRequest",{enumerable:!0,get:s(function(){return crt.ImplementationRequest},"get")});var urt=W2e();Object.defineProperty(Ee,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return urt.TypeDefinitionRequest},"get")});var bCe=j2e();Object.defineProperty(Ee,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return bCe.WorkspaceFoldersRequest},"get")});Object.defineProperty(Ee,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return bCe.DidChangeWorkspaceFoldersNotification},"get")});var frt=z2e();Object.defineProperty(Ee,"ConfigurationRequest",{enumerable:!0,get:s(function(){return frt.ConfigurationRequest},"get")});var ECe=J2e();Object.defineProperty(Ee,"DocumentColorRequest",{enumerable:!0,get:s(function(){return ECe.DocumentColorRequest},"get")});Object.defineProperty(Ee,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return ECe.ColorPresentationRequest},"get")});var ICe=eye();Object.defineProperty(Ee,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return ICe.FoldingRangeRequest},"get")});Object.defineProperty(Ee,"FoldingRangeRefreshRequest",{enumerable:!0,get:s(function(){return ICe.FoldingRangeRefreshRequest},"get")});var drt=nye();Object.defineProperty(Ee,"DeclarationRequest",{enumerable:!0,get:s(function(){return drt.DeclarationRequest},"get")});var mrt=sye();Object.defineProperty(Ee,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return mrt.SelectionRangeRequest},"get")});var JX=uye();Object.defineProperty(Ee,"WorkDoneProgress",{enumerable:!0,get:s(function(){return JX.WorkDoneProgress},"get")});Object.defineProperty(Ee,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return JX.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(Ee,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return JX.WorkDoneProgressCancelNotification},"get")});var XX=hye();Object.defineProperty(Ee,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return XX.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(Ee,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return XX.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(Ee,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return XX.CallHierarchyPrepareRequest},"get")});var WI=xye();Object.defineProperty(Ee,"TokenFormat",{enumerable:!0,get:s(function(){return WI.TokenFormat},"get")});Object.defineProperty(Ee,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return WI.SemanticTokensRequest},"get")});Object.defineProperty(Ee,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return WI.SemanticTokensDeltaRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return WI.SemanticTokensRangeRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return WI.SemanticTokensRefreshRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return WI.SemanticTokensRegistrationType},"get")});var hrt=Eye();Object.defineProperty(Ee,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return hrt.ShowDocumentRequest},"get")});var prt=wye();Object.defineProperty(Ee,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return prt.LinkedEditingRangeRequest},"get")});var Hx=Nye();Object.defineProperty(Ee,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return Hx.FileOperationPatternKind},"get")});Object.defineProperty(Ee,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return Hx.DidCreateFilesNotification},"get")});Object.defineProperty(Ee,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return Hx.WillCreateFilesRequest},"get")});Object.defineProperty(Ee,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return Hx.DidRenameFilesNotification},"get")});Object.defineProperty(Ee,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return Hx.WillRenameFilesRequest},"get")});Object.defineProperty(Ee,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return Hx.DidDeleteFilesNotification},"get")});Object.defineProperty(Ee,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return Hx.WillDeleteFilesRequest},"get")});var ZX=Oye();Object.defineProperty(Ee,"UniquenessLevel",{enumerable:!0,get:s(function(){return ZX.UniquenessLevel},"get")});Object.defineProperty(Ee,"MonikerKind",{enumerable:!0,get:s(function(){return ZX.MonikerKind},"get")});Object.defineProperty(Ee,"MonikerRequest",{enumerable:!0,get:s(function(){return ZX.MonikerRequest},"get")});var eZ=Gye();Object.defineProperty(Ee,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return eZ.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(Ee,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return eZ.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(Ee,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return eZ.TypeHierarchySupertypesRequest},"get")});var TCe=Vye();Object.defineProperty(Ee,"InlineValueRequest",{enumerable:!0,get:s(function(){return TCe.InlineValueRequest},"get")});Object.defineProperty(Ee,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return TCe.InlineValueRefreshRequest},"get")});var tZ=Kye();Object.defineProperty(Ee,"InlayHintRequest",{enumerable:!0,get:s(function(){return tZ.InlayHintRequest},"get")});Object.defineProperty(Ee,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return tZ.InlayHintResolveRequest},"get")});Object.defineProperty(Ee,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return tZ.InlayHintRefreshRequest},"get")});var c_=n5e();Object.defineProperty(Ee,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return c_.DiagnosticServerCancellationData},"get")});Object.defineProperty(Ee,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return c_.DocumentDiagnosticReportKind},"get")});Object.defineProperty(Ee,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return c_.DocumentDiagnosticRequest},"get")});Object.defineProperty(Ee,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return c_.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(Ee,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return c_.DiagnosticRefreshRequest},"get")});var Kp=u5e();Object.defineProperty(Ee,"NotebookCellKind",{enumerable:!0,get:s(function(){return Kp.NotebookCellKind},"get")});Object.defineProperty(Ee,"ExecutionSummary",{enumerable:!0,get:s(function(){return Kp.ExecutionSummary},"get")});Object.defineProperty(Ee,"NotebookCell",{enumerable:!0,get:s(function(){return Kp.NotebookCell},"get")});Object.defineProperty(Ee,"NotebookDocument",{enumerable:!0,get:s(function(){return Kp.NotebookDocument},"get")});Object.defineProperty(Ee,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return Kp.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(Ee,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Kp.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return Kp.NotebookCellArrayChange},"get")});Object.defineProperty(Ee,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Kp.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Kp.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Kp.DidCloseNotebookDocumentNotification},"get")});var grt=m5e();Object.defineProperty(Ee,"InlineCompletionRequest",{enumerable:!0,get:s(function(){return grt.InlineCompletionRequest},"get")});var $X;(function(e){function t(r){let n=r;return wl.string(n)||wl.string(n.language)||wl.string(n.scheme)||wl.string(n.pattern)}s(t,"is"),e.is=t})($X||(Ee.TextDocumentFilter=$X={}));var zX;(function(e){function t(r){let n=r;return wl.objectLiteral(n)&&(wl.string(n.notebookType)||wl.string(n.scheme)||wl.string(n.pattern))}s(t,"is"),e.is=t})(zX||(Ee.NotebookDocumentFilter=zX={}));var YX;(function(e){function t(r){let n=r;return wl.objectLiteral(n)&&(wl.string(n.notebook)||zX.is(n.notebook))&&(n.language===void 0||wl.string(n.language))}s(t,"is"),e.is=t})(YX||(Ee.NotebookCellTextDocumentFilter=YX={}));var KX;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!wl.string(n)&&!$X.is(n)&&!YX.is(n))return!1;return!0}s(t,"is"),e.is=t})(KX||(Ee.DocumentSelector=KX={}));var p5e;(function(e){e.method="client/registerCapability",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType(e.method)})(p5e||(Ee.RegistrationRequest=p5e={}));var g5e;(function(e){e.method="client/unregisterCapability",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType(e.method)})(g5e||(Ee.UnregistrationRequest=g5e={}));var A5e;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(A5e||(Ee.ResourceOperationKind=A5e={}));var y5e;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(y5e||(Ee.FailureHandlingKind=y5e={}));var C5e;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(C5e||(Ee.PositionEncodingKind=C5e={}));var x5e;(function(e){function t(r){let n=r;return n&&wl.string(n.id)&&n.id.length>0}s(t,"hasId"),e.hasId=t})(x5e||(Ee.StaticRegistrationOptions=x5e={}));var v5e;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||KX.is(n.documentSelector))}s(t,"is"),e.is=t})(v5e||(Ee.TextDocumentRegistrationOptions=v5e={}));var b5e;(function(e){function t(n){let i=n;return wl.objectLiteral(i)&&(i.workDoneProgress===void 0||wl.boolean(i.workDoneProgress))}s(t,"is"),e.is=t;function r(n){let i=n;return i&&wl.boolean(i.workDoneProgress)}s(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(b5e||(Ee.WorkDoneProgressOptions=b5e={}));var E5e;(function(e){e.method="initialize",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(E5e||(Ee.InitializeRequest=E5e={}));var I5e;(function(e){e.unknownProtocolVersion=1})(I5e||(Ee.InitializeErrorCodes=I5e={}));var T5e;(function(e){e.method="initialized",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(T5e||(Ee.InitializedNotification=T5e={}));var w5e;(function(e){e.method="shutdown",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType0(e.method)})(w5e||(Ee.ShutdownRequest=w5e={}));var _5e;(function(e){e.method="exit",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType0(e.method)})(_5e||(Ee.ExitNotification=_5e={}));var S5e;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(S5e||(Ee.DidChangeConfigurationNotification=S5e={}));var R5e;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(R5e||(Ee.MessageType=R5e={}));var k5e;(function(e){e.method="window/showMessage",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})(k5e||(Ee.ShowMessageNotification=k5e={}));var B5e;(function(e){e.method="window/showMessageRequest",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType(e.method)})(B5e||(Ee.ShowMessageRequest=B5e={}));var D5e;(function(e){e.method="window/logMessage",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})(D5e||(Ee.LogMessageNotification=D5e={}));var P5e;(function(e){e.method="telemetry/event",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})(P5e||(Ee.TelemetryEventNotification=P5e={}));var N5e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(N5e||(Ee.TextDocumentSyncKind=N5e={}));var L5e;(function(e){e.method="textDocument/didOpen",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(L5e||(Ee.DidOpenTextDocumentNotification=L5e={}));var F5e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(r,"isFull"),e.isFull=r})(F5e||(Ee.TextDocumentContentChangeEvent=F5e={}));var M5e;(function(e){e.method="textDocument/didChange",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(M5e||(Ee.DidChangeTextDocumentNotification=M5e={}));var Q5e;(function(e){e.method="textDocument/didClose",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(Q5e||(Ee.DidCloseTextDocumentNotification=Q5e={}));var O5e;(function(e){e.method="textDocument/didSave",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(O5e||(Ee.DidSaveTextDocumentNotification=O5e={}));var U5e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(U5e||(Ee.TextDocumentSaveReason=U5e={}));var q5e;(function(e){e.method="textDocument/willSave",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(q5e||(Ee.WillSaveTextDocumentNotification=q5e={}));var W5e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(W5e||(Ee.WillSaveTextDocumentWaitUntilRequest=W5e={}));var G5e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(G5e||(Ee.DidChangeWatchedFilesNotification=G5e={}));var H5e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(H5e||(Ee.FileChangeType=H5e={}));var j5e;(function(e){function t(r){let n=r;return wl.objectLiteral(n)&&(h5e.URI.is(n.baseUri)||h5e.WorkspaceFolder.is(n.baseUri))&&wl.string(n.pattern)}s(t,"is"),e.is=t})(j5e||(Ee.RelativePattern=j5e={}));var V5e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(V5e||(Ee.WatchKind=V5e={}));var $5e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})($5e||(Ee.PublishDiagnosticsNotification=$5e={}));var z5e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(z5e||(Ee.CompletionTriggerKind=z5e={}));var Y5e;(function(e){e.method="textDocument/completion",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(Y5e||(Ee.CompletionRequest=Y5e={}));var K5e;(function(e){e.method="completionItem/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(K5e||(Ee.CompletionResolveRequest=K5e={}));var J5e;(function(e){e.method="textDocument/hover",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(J5e||(Ee.HoverRequest=J5e={}));var X5e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(X5e||(Ee.SignatureHelpTriggerKind=X5e={}));var Z5e;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(Z5e||(Ee.SignatureHelpRequest=Z5e={}));var eCe;(function(e){e.method="textDocument/definition",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(eCe||(Ee.DefinitionRequest=eCe={}));var tCe;(function(e){e.method="textDocument/references",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(tCe||(Ee.ReferencesRequest=tCe={}));var rCe;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(rCe||(Ee.DocumentHighlightRequest=rCe={}));var nCe;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(nCe||(Ee.DocumentSymbolRequest=nCe={}));var iCe;(function(e){e.method="textDocument/codeAction",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(iCe||(Ee.CodeActionRequest=iCe={}));var oCe;(function(e){e.method="codeAction/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(oCe||(Ee.CodeActionResolveRequest=oCe={}));var sCe;(function(e){e.method="workspace/symbol",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(sCe||(Ee.WorkspaceSymbolRequest=sCe={}));var aCe;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(aCe||(Ee.WorkspaceSymbolResolveRequest=aCe={}));var lCe;(function(e){e.method="textDocument/codeLens",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(lCe||(Ee.CodeLensRequest=lCe={}));var cCe;(function(e){e.method="codeLens/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(cCe||(Ee.CodeLensResolveRequest=cCe={}));var uCe;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType0(e.method)})(uCe||(Ee.CodeLensRefreshRequest=uCe={}));var fCe;(function(e){e.method="textDocument/documentLink",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(fCe||(Ee.DocumentLinkRequest=fCe={}));var dCe;(function(e){e.method="documentLink/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(dCe||(Ee.DocumentLinkResolveRequest=dCe={}));var mCe;(function(e){e.method="textDocument/formatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(mCe||(Ee.DocumentFormattingRequest=mCe={}));var hCe;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(hCe||(Ee.DocumentRangeFormattingRequest=hCe={}));var pCe;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(pCe||(Ee.DocumentRangesFormattingRequest=pCe={}));var gCe;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(gCe||(Ee.DocumentOnTypeFormattingRequest=gCe={}));var ACe;(function(e){e.Identifier=1})(ACe||(Ee.PrepareSupportDefaultBehavior=ACe={}));var yCe;(function(e){e.method="textDocument/rename",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(yCe||(Ee.RenameRequest=yCe={}));var CCe;(function(e){e.method="textDocument/prepareRename",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(CCe||(Ee.PrepareRenameRequest=CCe={}));var xCe;(function(e){e.method="workspace/executeCommand",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(xCe||(Ee.ExecuteCommandRequest=xCe={}));var vCe;(function(e){e.method="workspace/applyEdit",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType("workspace/applyEdit")})(vCe||(Ee.ApplyWorkspaceEditRequest=vCe={}))});var SCe=j(QL=>{"use strict";d();Object.defineProperty(QL,"__esModule",{value:!0});QL.createProtocolConnection=void 0;var _Ce=Gx();function Art(e,t,r,n){return _Ce.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,_Ce.createMessageConnection)(e,t,r,n)}s(Art,"createProtocolConnection");QL.createProtocolConnection=Art});var kCe=j(Z0=>{"use strict";d();var yrt=Z0&&Z0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OL=Z0&&Z0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yrt(t,e,r)};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.LSPErrorCodes=Z0.createProtocolConnection=void 0;OL(Gx(),Z0);OL(bL(),Z0);OL(Ns(),Z0);OL(wCe(),Z0);var Crt=SCe();Object.defineProperty(Z0,"createProtocolConnection",{enumerable:!0,get:s(function(){return Crt.createProtocolConnection},"get")});var RCe;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(RCe||(Z0.LSPErrorCodes=RCe={}))});var ni=j(Jp=>{"use strict";d();var xrt=Jp&&Jp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BCe=Jp&&Jp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xrt(t,e,r)};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.createProtocolConnection=void 0;var vrt=OX();BCe(OX(),Jp);BCe(kCe(),Jp);function brt(e,t,r,n){return(0,vrt.createMessageConnection)(e,t,r,n)}s(brt,"createProtocolConnection");Jp.createProtocolConnection=brt});var U3e=j((hF,O3e)=>{d();(function(e,t){typeof hF=="object"&&typeof O3e<"u"?t(hF):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(hF,function(e){"use strict";function t(w,R){return w||R}s(t,"_pureAssign");function r(w,R){return w[R]}s(r,"_pureRef");var n=void 0,i=null,o="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",g="length",y="name",v="call",b="toString",E=t(Object),_=r(E,c),k=t(String),B=r(k,c),N=t(Math),M=t(Array),re=r(M,c),pe=r(re,"slice");function Z(w,R){try{return{v:w.apply(this,R)}}catch(D){return{e:D}}}s(Z,"safe");function G(w){return function(R){return typeof R===w}}s(G,"_createIs");function q(w){var R="[object "+w+"]";return function(D){return!!(D&&ie(D)===R)}}s(q,"_createObjIs");function ie(w){return _[b].call(w)}s(ie,"objToString");function z(w){return typeof w===f||w===f}s(z,"isUndefined");function H(w){return!V(w)}s(H,"isStrictUndefined");function U(w){return w===i||z(w)}s(U,"isNullOrUndefined");function V(w){return!!w||w!==n}s(V,"isDefined");var Y=G("string"),ae=G(a);function te(w){return!w&&U(w)?!1:!!w&&typeof w===l}s(te,"isObject");var le=r(M,"isArray"),ce=q("Error"),De=r(E,"getOwnPropertyDescriptor");function be(w,R){return!!w&&_.hasOwnProperty[v](w,R)}s(be,"objHasOwnProperty");var qe=t(r(E,"hasOwn"),Re);function Re(w,R){return be(w,R)||!!De(w,R)}s(Re,"polyObjHasOwn");function Xe(w,R,D){if(w&&te(w)){for(var Q in w)if(qe(w,Q)&&R[v](D||w,Q,w[Q])===-1)break}}s(Xe,"objForEachKey");var ft={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function at(w){var R={};if(R[ft.c]=!0,R[ft.e]=!0,w.l){R.get=function(){return w.l.v};var D=De(w.l,"v");D&&D.set&&(R.set=function(Q){w.l.v=Q})}return Xe(w,function(Q,ue){R[ft[Q]]=H(ue)?R[ft[Q]]:ue}),R}s(at,"_createProp");var lt=r(E,"defineProperty");function oe(w,R,D){return lt(w,R,at(D))}s(oe,"objDefine");function Ne(w,R,D,Q,ue){var we={};return Xe(w,function(Be,je){Ae(we,Be,R?je:Be),Ae(we,je,D?je:Be)}),Q?Q(we):we}s(Ne,"_createKeyValueMap");function Ae(w,R,D,Q){lt(w,R,{value:D,enumerable:!0,writable:!1})}s(Ae,"_assignMapValue");var Ge=t(k),K="[object Error]";function ne(w,R){var D=o,Q=_[b][v](w);Q===K&&(w={stack:Ge(w.stack),message:Ge(w.message),name:Ge(w.name)});try{D=JSON.stringify(w,i,R?typeof R=="number"?R:4:n),D=(D?D.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ge(w)}catch(ue){D=" - "+ne(ue,R)}return Q+": "+D}s(ne,"dumpObj");function Fe(w){throw new Error(w)}s(Fe,"throwError");function Se(w){throw new TypeError(w)}s(Se,"throwTypeError");var Ce=r(E,"freeze");function Ue(w){return w}s(Ue,"_doNothing");function Ve(w){return w[u]||i}s(Ve,"_getProto");var tt=r(E,"assign"),Ct=r(E,"keys"),Pt=t(Ce,Ue),yt=t(r(E,"getPrototypeOf"),Ve);function Kt(w){return Ne(w,1,0,Pt)}s(Kt,"createEnum");function Xt(w){var R={};return Xe(w,function(D,Q){Ae(R,D,Q[1]),Ae(R,Q[0],Q[1])}),Pt(R)}s(Xt,"createSimpleMap");function ar(w){return Xt(w)}s(ar,"createTypeMap");var ge="__tsUtils$gblCfg",Me;function Je(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}s(Je,"_getGlobalValue");function rt(){if(!Me){var w=Z(Je).v||{};Me=w[ge]=w[ge]||{}}return Me}s(rt,"_getGlobalConfig");var Rt=bt;function bt(w,R,D){var Q=R?R[w]:i;return function(ue){var we=(ue?ue[w]:i)||Q;if(we||D){var Be=arguments;return(we||D).apply(ue,we?pe[v](Be,1):Be)}Se('"'+Ge(w)+'" not defined for '+ne(ue))}}s(bt,"_unwrapFunctionWithPoly");var Mt=r(N,"min"),Ot=r(N,"max"),_t=Rt("slice",B),kt=Rt("substring",B),St=bt("substr",B,qt);function qt(w,R,D){return U(w)&&Se("Invalid "+ne(w)),D<0?o:(R=R||0,R<0&&(R=Ot(R+w[g],0)),z(D)?_t(w,R):_t(w,R,R+D))}s(qt,"polyStrSubstr");function $t(w,R){return kt(w,0,R)}s($t,"strLeft");var Zt="_urid",fr;function xr(){if(!fr){var w=rt();fr=w.gblSym=w.gblSym||{k:{},s:{}}}return fr}s(xr,"_globalSymbolRegistry");function cr(w){var R={description:Ge(w),toString:s(function(){return h+"("+w+")"},"toString")};return R[p]=!0,R}s(cr,"polyNewSymbol");function mr(w){var R=xr();if(!qe(R.k,w)){var D=cr(w),Q=Ct(R.s).length;D[Zt]=function(){return Q+"_"+D[b]()},R.k[w]=D,R.s[D[Zt]()]=Ge(w)}return R.k[w]}s(mr,"polySymbolFor");var nr;function hr(){nr=rt()}s(hr,"_initTestHooks");function Ie(w){return lt({toJSON:s(function(){return w},"toJSON")},"v",{value:w})}s(Ie,"createCachedValue");var O="window",de;function ye(w,R){var D;return function(){return!nr&&hr(),(!D||nr.lzy)&&(D=Ie(Z(w,R).v)),D.v}}s(ye,"_getGlobalInstFn");function J(w){return!nr&&hr(),(!de||w===!1||nr.lzy)&&(de=Ie(Z(Je).v||i)),de.v}s(J,"getGlobal");function F(w,R){var D;if(!de||R===!1?D=J(R):D=de.v,D&&D[w])return D[w];if(w===O)try{return window}catch{}return i}s(F,"getInst");var Te=ye(F,["document"]);function Oe(){return!!xt()}s(Oe,"hasWindow");var xt=ye(F,[O]);function Wt(){return!!Lt()}s(Wt,"hasNavigator");var Lt=ye(F,["navigator"]),or,lr;function Ut(){return or=Ie(Z(F,[h]).v),or}s(Ut,"_initSymbol");function It(w){var R=(nr.lzy?0:or)||Ut();return R.v?R.v[w]:n}s(It,"_getSymbolKey");function ur(w,R){!nr&&hr();var D=(nr.lzy?0:or)||Ut();return D.v?D.v(w):R?i:cr(w)}s(ur,"newSymbol");function zo(w){return!nr&&hr(),lr=(nr.lzy?0:lr)||Ie(Z(It,["for"]).v),(lr.v||mr)(w)}s(zo,"symbolFor");function Em(w,R,D){return w.apply(R,D)}s(Em,"fnApply");function Cl(w,R,D){if(w)for(var Q=w[g]>>>0,ue=0;ue<Q&&!(ue in w&&R[v](D||w,w[ue],ue,w)===-1);ue++);}s(Cl,"arrForEach");var Im=Rt("indexOf",re),Kf=Rt("map",re),ra=Rt("reduce",re),up=t(r(E,"create"),D2);function D2(w){if(!w)return{};var R=typeof w;R!==l&&R!==a&&Se("Prototype must be an Object or function: "+ne(w));function D(){}return s(D,"tempFunc"),D[c]=w,new D}s(D2,"polyObjCreate");var sw;function Tm(w,R){var D=E.setPrototypeOf||function(Q,ue){var we;!sw&&(sw=Ie((we={},we[u]=[],we instanceof Array))),sw.v?Q[u]=ue:Xe(ue,function(Be,je){return Q[Be]=je})};return D(w,R)}s(Tm,"objSetPrototypeOf");function Qz(w,R,D){Z(oe,[R,y,{v:w,c:!0,e:!1}]),R=Tm(R,D);function Q(){this[m]=R,Z(oe,[this,y,{v:w,c:!0,e:!1}])}return s(Q,"__"),R[c]=D===i?up(D):(Q[c]=D[c],new Q),R}s(Qz,"_createCustomError");function fp(w,R){R&&(w[y]=R)}s(fp,"_setName");function Oz(w,R,D){var Q=D||Error,ue=Q[c][y],we=Error.captureStackTrace;return Qz(w,function(){var Be=this,je=arguments;try{Z(fp,[Q,w]);var it=Em(Q,Be,pe[v](je))||Be;if(it!==Be){var vt=yt(Be);vt!==yt(it)&&Tm(it,vt)}return we&&we(it,Be[m]),R&&R(it,je),it}finally{Z(fp,[Q,ue])}},Q)}s(Oz,"createCustomError");function A1(){return(Date.now||aw)()}s(A1,"utcNow");function aw(){return new Date().getTime()}s(aw,"polyUtcNow");function NE(w){return s(function(D){return U(D)&&Se("strTrim called ["+ne(D)+"]"),D&&D.replace&&(D=D.replace(w,o)),D},"_doTrim")}s(NE,"_createTrimFn");var Uz=NE(/^\s+|(?=\s)\s+$/g),bc=bt("trim",B,Uz),dp=r(N,"floor"),w3,y1,_3;function mp(w){if(!w||typeof w!==l)return!1;_3||(_3=Oe()?xt():!0);var R=!1;if(w!==_3){y1||(w3=Function[c][b],y1=w3[v](E));try{var D=yt(w);R=!D,R||(be(D,m)&&(D=D[m]),R=!!(D&&typeof D===a&&w3[v](D)===y1))}catch{}}return R}s(mp,"isPlainObject");var LE;function S3(){return!nr&&hr(),(!LE||nr.lzy)&&(LE=Ie(Z(F,["performance"]).v)),LE.v}s(S3,"getPerformance");var lw=r(N,"round"),P2=bt("endsWith",B,N2);function N2(w,R,D){Y(w)||Se("'"+ne(w)+"' is not a string");var Q=Y(R)?R:Ge(R),ue=!z(D)&&D<w[g]?D:w[g];return kt(w,ue-Q[g],ue)===Q}s(N2,"polyStrEndsWith");var Jr=Rt("indexOf",B),t0="ref",C1="unref",L2="hasRef",qz="enabled";function hp(w,R,D){var Q=!0,ue=w?R(i):i,we;function Be(){return Q=!1,ue&&ue[C1]&&ue[C1](),we}s(Be,"_unref");function je(){ue&&D(ue),ue=i}s(je,"_cancel");function it(){return ue=R(ue),Q||Be(),we}s(it,"_refresh");function vt(Tr){!Tr&&ue&&je(),Tr&&!ue&&it()}return s(vt,"_setEnabled"),we={cancel:je,refresh:it},we[L2]=function(){return ue&&ue[L2]?ue[L2]():Q},we[t0]=function(){return Q=!0,ue&&ue[t0]&&ue[t0](),we},we[C1]=Be,we=lt(we,qz,{get:s(function(){return!!ue},"get"),set:vt}),{h:we,dn:s(function(){ue=i},"dn")}}s(hp,"_createTimerHandler");function Wz(w,R,D){var Q=le(R),ue=Q?R.length:0,we=(ue>0?R[0]:Q?n:R)||setTimeout,Be=(ue>1?R[1]:n)||clearTimeout,je=D[0];D[0]=function(){it.dn(),Em(je,n,pe[v](arguments))};var it=hp(w,function(vt){if(vt){if(vt.refresh)return vt.refresh(),vt;Em(Be,n,[vt])}return Em(we,n,D)},function(vt){Em(Be,n,[vt])});return it.h}s(Wz,"_createTimeoutWith");function cw(w,R){return Wz(!0,n,pe[v](arguments))}s(cw,"scheduleTimeout");var R3=Kt,Gz=ar,k3="toLowerCase",Na="length",pp="warnToConsole",B3="throwInternal",rD="watch",Hz="apply",Hi="push",x1="splice",gp="logger",uw="cancel",D3="name",r0="unload",nD="version",iD="loggingLevelConsole",fw="messageId",v1="message",dw="diagLog",oD="userAgent",mw="split",F2="replace",Ap="type",sD="evtName",FE="traceFlags",hw="getAttribute",ME;function jz(w,R){ME||(ME=Oz("AggregationError",function(Q,ue){ue[Na]>1&&(Q.errors=ue[1])}));var D=w||"One or more errors occurred.";throw Cl(R,function(Q,ue){D+=`
`.concat(ue," > ").concat(ne(Q))}),new ME(D,R||[])}s(jz,"throwAggregationError");var Vz="function",aD="object",$z="undefined",wm="prototype",QE=Object,pw=QE[wm];(J()||{}).Symbol,(J()||{}).Reflect;var OE="hasOwnProperty",zz=s(function(w){for(var R,D=1,Q=arguments.length;D<Q;D++){R=arguments[D];for(var ue in R)pw[OE].call(R,ue)&&(w[ue]=R[ue])}return w},"__objAssignFnImpl"),UE=tt||zz,qE=s(function(w,R){return qE=QE.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,Q){D.__proto__=Q}||function(D,Q){for(var ue in Q)Q[OE](ue)&&(D[ue]=Q[ue])},qE(w,R)},"extendStaticsFn");function yp(w,R){typeof R!==Vz&&R!==null&&Se("Class extends value "+String(R)+" is not a constructor or null"),qE(w,R);function D(){this.constructor=w}s(D,"__"),w[wm]=R===null?up(R):(D[wm]=R[wm],new D)}s(yp,"__extendsFn");var WE,b1="constructor",F0="prototype",M0="function",E1="_dynInstFuncs",M2="_isDynProxy",Cp="_dynClass",Q2="_dynCls$",gw="_dynInstChk",I1=gw,O2="_dfOpts",Aw="_unknown_",GE="__proto__",U2="_dyn"+GE,P3="__dynProto$Gbl",HE="_dynInstProto",q2="useBaseInst",W2="setInstFuncs",N3=Object,T1=N3.getPrototypeOf,G2=N3.getOwnPropertyNames,yw=J(),jE=yw[P3]||(yw[P3]={o:(WE={},WE[W2]=!0,WE[q2]=!0,WE),n:1e3});function H2(w){return w&&(w===N3[F0]||w===Array[F0])}s(H2,"_isObjectOrArrayPrototype");function j2(w){return H2(w)||w===Function[F0]}s(j2,"_isObjectArrayOrFunctionPrototype");function _m(w){var R;if(w){if(T1)return T1(w);var D=w[GE]||w[F0]||(w[b1]?w[b1][F0]:null);R=w[U2]||D,be(w,U2)||(delete w[HE],R=w[U2]=w[HE]||w[U2],w[HE]=D)}return R}s(_m,"_getObjProto");function Jf(w,R){var D=[];if(G2)D=G2(w);else for(var Q in w)typeof Q=="string"&&be(w,Q)&&D.push(Q);if(D&&D.length>0)for(var ue=0;ue<D.length;ue++)R(D[ue])}s(Jf,"_forEachProp");function V2(w,R,D){return R!==b1&&typeof w[R]===M0&&(D||be(w,R))&&R!==GE&&R!==F0}s(V2,"_isDynamicCandidate");function $2(w){Se("DynamicProto: "+w)}s($2,"_throwTypeError");function VE(w){var R=up(null);return Jf(w,function(D){!R[D]&&V2(w,D,!1)&&(R[D]=w[D])}),R}s(VE,"_getInstanceFuncs");function Cw(w,R){for(var D=w.length-1;D>=0;D--)if(w[D]===R)return!0;return!1}s(Cw,"_hasVisited");function xw(w,R,D,Q){function ue(it,vt,Tr){var Tn=vt[Tr];if(Tn[M2]&&Q){var Gn=it[E1]||{};Gn[I1]!==!1&&(Tn=(Gn[vt[Cp]]||{})[Tr]||Tn)}return function(){return Tn.apply(it,arguments)}}s(ue,"_instFuncProxy");var we=up(null);Jf(D,function(it){we[it]=ue(R,D,it)});for(var Be=_m(w),je=[];Be&&!j2(Be)&&!Cw(je,Be);)Jf(Be,function(it){!we[it]&&V2(Be,it,!T1)&&(we[it]=ue(R,Be,it))}),je.push(Be),Be=_m(Be);return we}s(xw,"_getBaseFuncs");function Yz(w,R,D,Q){var ue=null;if(w&&be(D,Cp)){var we=w[E1]||up(null);if(ue=(we[D[Cp]]||up(null))[R],ue||$2("Missing ["+R+"] "+M0),!ue[gw]&&we[I1]!==!1){for(var Be=!be(w,R),je=_m(w),it=[];Be&&je&&!j2(je)&&!Cw(it,je);){var vt=je[R];if(vt){Be=vt===Q;break}it.push(je),je=_m(je)}try{Be&&(w[R]=ue),ue[gw]=1}catch{we[I1]=!1}}}return ue}s(Yz,"_getInstFunc");function Kz(w,R,D){var Q=R[w];return Q===D&&(Q=_m(R)[w]),typeof Q!==M0&&$2("["+w+"] is not a "+M0),Q}s(Kz,"_getProtoFunc");function Jz(w,R,D,Q,ue){function we(it,vt){var Tr=s(function(){var Tn=Yz(this,vt,it,Tr)||Kz(vt,it,Tr);return Tn.apply(this,arguments)},"dynProtoProxy");return Tr[M2]=1,Tr}if(s(we,"_createDynamicPrototype"),!H2(w)){var Be=D[E1]=D[E1]||up(null);if(!H2(Be)){var je=Be[R]=Be[R]||up(null);Be[I1]!==!1&&(Be[I1]=!!ue),H2(je)||Jf(D,function(it){V2(D,it,!1)&&D[it]!==Q[it]&&(je[it]=D[it],delete D[it],(!be(w,it)||w[it]&&!w[it][M2])&&(w[it]=we(w,it)))})}}}s(Jz,"_populatePrototype");function Xz(w,R){if(T1){for(var D=[],Q=_m(R);Q&&!j2(Q)&&!Cw(D,Q);){if(Q===w)return!0;D.push(Q),Q=_m(Q)}return!1}return!0}s(Xz,"_checkPrototype");function vw(w,R){return be(w,F0)?w.name||R||Aw:((w||{})[b1]||{}).name||R||Aw}s(vw,"_getObjName");function L3(w,R,D,Q){be(w,F0)||$2("theClass is an invalid class definition.");var ue=w[F0];Xz(ue,R)||$2("["+vw(w)+"] not in hierarchy of ["+vw(R)+"]");var we=null;be(ue,Cp)?we=ue[Cp]:(we=Q2+vw(w,"_")+"$"+jE.n,jE.n++,ue[Cp]=we);var Be=L3[O2],je=!!Be[q2];je&&Q&&Q[q2]!==void 0&&(je=!!Q[q2]);var it=VE(R),vt=xw(ue,R,it,je);D(R,vt);var Tr=!!T1&&!!Be[W2];Tr&&Q&&(Tr=!!Q[W2]),Jz(ue,we,R,it,Tr!==!1)}s(L3,"dynamicProto"),L3[O2]=jE.o;var Yl=void 0,qs="",lD="Not dynamic - ",cD=/-([a-z])/g,F3=/([^\w\d_$])/g,bw=/^(\d+[\w\d_$])/;function Ew(w){return!U(w)}s(Ew,"isNotNullOrUndefined");function $E(w){var R=w;return R&&Y(R)&&(R=R[F2](cD,function(D,Q){return Q.toUpperCase()}),R=R[F2](F3,"_"),R=R[F2](bw,function(D,Q){return"_"+Q})),R}s($E,"normalizeJsName");function uD(w,R){return w&&R?Jr(w,R)!==-1:!1}s(uD,"strContains");function Sm(w){return w&&w.toISOString()||""}s(Sm,"toISOString");function xp(w){return ce(w)?w[D3]:qs}s(xp,"getExceptionName");function M3(w){return function(){function R(){var D=this;w&&Xe(w,function(Q,ue){D[Q]=ue})}return s(R,"class_1"),R}()}s(M3,"createClassFromInterface");var fD="console",zE="JSON",Zz="crypto",vp="msCrypto",z2="msie",zn="trident/",Y2=null,w1=null,Rm=null;function YE(){return typeof console!==$z?console:F(fD)}s(YE,"getConsole");function ji(){return!!(typeof JSON===aD&&JSON||F(zE)!==null)}s(ji,"hasJSON");function K2(){return ji()?JSON||F(zE):null}s(K2,"getJSON");function pa(){return F(Zz)}s(pa,"getCrypto");function J2(){return F(vp)}s(J2,"getMsCrypto");function Q3(){var w=Lt();if(w&&(w[oD]!==w1||Y2===null)){w1=w[oD];var R=(w1||qs)[k3]();Y2=uD(R,z2)||uD(R,zn)}return Y2}s(Q3,"isIE");function bp(w){return(Rm===null||w===!1)&&(Rm=Wt()&&!!Lt().sendBeacon),Rm}s(bp,"isBeaconsSupported");function O3(w,R){if(w)for(var D=0;D<w[Na];D++){var Q=w[D];if(Q[D3]&&Q[D3]===R)return Q}return{}}s(O3,"_getNamedValue");function KE(w){var R=Te();return R&&w?O3(R.querySelectorAll("meta"),w).content:null}s(KE,"findMetaTag");function Xf(w){var R,D=S3();if(D){var Q=D.getEntriesByType("navigation")||[];R=O3((Q[Na]>0?Q[0]:{}).serverTiming,w).description}return R}s(Xf,"findNamedServerTiming");var X2=4294967296,Lu=4294967295,Z2=123456789,Ep=987654321,xl=!1,ey=Z2,Zf=Ep;function dD(w){w<0&&(w>>>=0),ey=Z2+w&Lu,Zf=Ep-w&Lu,xl=!0}s(dD,"_mwcSeed");function _1(){try{var w=A1()&2147483647;dD((Math.random()*X2^w)+w)}catch{}}s(_1,"_autoSeedMwc");function JE(w){return w>0?dp(ty()/Lu*(w+1))>>>0:0}s(JE,"randomValue");function ty(w){var R=0,D=pa()||J2();return D&&D.getRandomValues&&(R=D.getRandomValues(new Uint32Array(1))[0]&Lu),R===0&&Q3()&&(xl||_1(),R=mD()&Lu),R===0&&(R=dp(X2*Math.random()|0)),w||(R>>>=0),R}s(ty,"random32");function mD(w){Zf=36969*(Zf&65535)+(Zf>>16)&Lu,ey=18e3*(ey&65535)+(ey>>16)&Lu;var R=(Zf<<16)+(ey&65535)>>>0&Lu|0;return w||(R>>>=0),R}s(mD,"mwcRandom32");function S1(w){w===void 0&&(w=22);for(var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=ty()>>>0,Q=0,ue=qs;ue[Na]<w;)Q++,ue+=R.charAt(D&63),D>>>=6,Q===5&&(D=(ty()<<2&4294967295|D&3)>>>0,Q=0);return ue}s(S1,"newId");var ed="3.3.6",XE="."+S1(6),R1=0;function td(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}s(td,"_canAcceptData");function ZE(w,R){var D=R[w.id];if(!D){D={};try{td(R)&&oe(R,w.id,{e:!1,v:D})}catch{}}return D}s(ZE,"_getCache");function km(w,R){return R===void 0&&(R=!1),$E(w+R1+++(R?"."+ed:qs)+XE)}s(km,"createUniqueNamespace");function rd(w){var R={id:km("_aiData-"+(w||qs)+"."+ed),accept:s(function(D){return td(D)},"accept"),get:s(function(D,Q,ue,we){var Be=D[R.id];return Be?Be[$E(Q)]:(we&&(Be=ZE(R,D),Be[$E(Q)]=ue),ue)},"get"),kill:s(function(D,Q){if(D&&D[Q])try{delete D[Q]}catch{}},"kill")};return R}s(rd,"createElmNodeData");function Ip(w){return w&&te(w)&&(w.isVal||w.fb||qe(w,"v")||qe(w,"mrg")||qe(w,"ref")||w.set)}s(Ip,"_isConfigDefaults");function e4(w,R,D){var Q,ue=D.dfVal||V;if(R&&D.fb){var we=D.fb;le(we)||(we=[we]);for(var Be=0;Be<we[Na];Be++){var je=we[Be],it=R[je];if(ue(it)?Q=it:w&&(it=w.cfg[je],ue(it)&&(Q=it),w.set(w.cfg,Ge(je),it)),ue(Q))break}}return!ue(Q)&&ue(D.v)&&(Q=D.v),Q}s(e4,"_getDefault");function Tp(w,R,D){var Q=D;if(D&&Ip(D)&&(Q=e4(w,R,D)),Q){Ip(Q)&&(Q=Tp(w,R,Q));var ue;le(Q)?(ue=[],ue[Na]=Q[Na]):mp(Q)&&(ue={}),ue&&(Xe(Q,function(we,Be){Be&&Ip(Be)&&(Be=Tp(w,R,Be)),ue[we]=Be}),Q=ue)}return Q}s(Tp,"_resolveDefaultValue");function wp(w,R,D,Q){var ue,we,Be,je=Q,it,vt,Tr,Tn;Ip(je)?(ue=je.isVal,we=je.set,Tr=je.rdOnly,Tn=je.blkVal,it=je.mrg,vt=je.ref,!vt&&z(vt)&&(vt=!!it),Be=e4(w,R,je)):Be=Q,Tn&&w.blkVal(R,D);var Gn,Rr=!0,Mr=R[D];(Mr||!U(Mr))&&(Gn=Mr,Rr=!1,ue&&Gn!==Be&&!ue(Gn)&&(Gn=Be,Rr=!0),we&&(Gn=we(Gn,Be,R),Rr=Gn===Be)),Rr?Be?Gn=Tp(w,R,Be):Gn=Be:(mp(Gn)||le(Be))&&it&&Be&&(mp(Be)||le(Be))&&Xe(Be,function(Un,wn){wp(w,Gn,Un,wn)}),w.set(R,D,Gn),vt&&w.ref(R,D),Tr&&w.rdOnly(R,D)}s(wp,"_applyDefaultValue");var Kl=zo("[[ai_dynCfg_1]]"),Iw=zo("[[ai_blkDynCfg_1]]"),U3=zo("[[ai_frcDynCfg_1]]");function Tw(w){if(w){var R;if(le(w)?(R=[],R[Na]=w[Na]):mp(w)&&(R={}),R)return Xe(w,function(D,Q){R[D]=Tw(Q)}),R}return w}s(Tw,"_cfgDeepCopy");function ww(w){if(w){var R=w[Kl]||w;if(R.cfg&&(R.cfg===w||R.cfg[Kl]===R))return R}return null}s(ww,"getDynamicConfigHandler");function ry(w){if(w&&(mp(w)||le(w)))try{w[Iw]=!0}catch{}return w}s(ry,"blockDynamicConversion");function _p(w,R,D){var Q=!1;return D&&!w[R.blkVal]&&(Q=D[U3],!Q&&!D[Iw]&&(Q=mp(D)||le(D))),Q}s(_p,"_canMakeDynamic");function Fu(w){Se("InvalidAccess:"+w)}s(Fu,"throwInvalidAccess");var hD=["push","pop","shift","unshift","splice"],Bm=s(function(w,R,D,Q){w&&w[B3](3,108,"".concat(D," [").concat(R,"] failed - ")+ne(Q))},"_throwDynamicError");function _w(w,R,D){le(R)&&Cl(hD,function(Q){var ue=R[Q];R[Q]=function(){for(var we=[],Be=0;Be<arguments.length;Be++)we[Be]=arguments[Be];var je=ue[Hz](this,we);return k1(w,R,D,"Patching"),je}})}s(_w,"_patchArray");function Dm(w,R){var D=De(w,R);return D&&D.get}s(Dm,"_getOwnPropGetter");function pD(w,R,D,Q){var ue={n:D,h:[],trk:s(function(vt){vt&&vt.fn&&(Im(ue.h,vt)===-1&&ue.h[Hi](vt),w.trk(vt,ue))},"trk"),clr:s(function(vt){var Tr=Im(ue.h,vt);Tr!==-1&&ue.h[x1](Tr,1)},"clr")},we=!0,Be=!1;function je(){we&&(Be=Be||_p(je,w,Q),Q&&!Q[Kl]&&Be&&(Q=k1(w,Q,D,"Converting")),we=!1);var vt=w.act;return vt&&ue.trk(vt),Q}s(je,"_getProperty"),je[w.prop]={chng:s(function(){w.add(ue)},"chng")};function it(vt){if(Q!==vt){je[w.ro]&&!w.upd&&Fu("["+D+"] is read-only:"+ne(R)),we&&(Be=Be||_p(je,w,Q),we=!1);var Tr=Be&&je[w.rf];if(Be)if(Tr){Xe(Q,function(Gn){Q[Gn]=vt?vt[Gn]:Yl});try{Xe(vt,function(Gn,Rr){ny(w,Q,Gn,Rr)}),vt=Q}catch(Gn){Bm((w.hdlr||{})[gp],D,"Assigning",Gn),Be=!1}}else Q&&Q[Kl]&&Xe(Q,function(Gn){var Rr=Dm(Q,Gn);if(Rr){var Mr=Rr[w.prop];Mr&&Mr.chng()}});if(vt!==Q){var Tn=vt&&_p(je,w,vt);!Tr&&Tn&&(vt=k1(w,vt,D,"Converting")),Q=vt,Be=Tn}w.add(ue)}}s(it,"_setProperty"),oe(R,ue.n,{g:je,s:it})}s(pD,"_createDynamicProperty");function ny(w,R,D,Q){if(R){var ue=Dm(R,D),we=ue&&!!ue[w.prop];we?R[D]=Q:pD(w,R,D,Q)}return R}s(ny,"_setDynamicProperty");function Sw(w,R,D,Q){if(R){var ue=Dm(R,D),we=ue&&!!ue[w.prop],Be=Q&&Q[0],je=Q&&Q[1],it=Q&&Q[2];if(!we){if(it)try{ry(R)}catch(vt){Bm((w.hdlr||{})[gp],D,"Blocking",vt)}try{ny(w,R,D,R[D]),ue=Dm(R,D)}catch(vt){Bm((w.hdlr||{})[gp],D,"State",vt)}}Be&&(ue[w.rf]=Be),je&&(ue[w.ro]=je),it&&(ue[w.blkVal]=!0)}return R}s(Sw,"_setDynamicPropertyState");function k1(w,R,D,Q){try{Xe(R,function(ue,we){ny(w,R,ue,we)}),R[Kl]||(lt(R,Kl,{get:s(function(){return w.hdlr},"get")}),_w(w,R,D))}catch(ue){Bm((w.hdlr||{})[gp],D,Q,ue)}return R}s(k1,"_makeDynamicObject");var B1="[[ai_",Q0="]]";function gD(w){var R=ur(B1+"get"+w.uid+Q0),D=ur(B1+"ro"+w.uid+Q0),Q=ur(B1+"rf"+w.uid+Q0),ue=ur(B1+"blkVal"+w.uid+Q0),we=ur(B1+"dtl"+w.uid+Q0),Be=null,je=null,it;function vt(Rr,Mr){var Un=it.act;try{it.act=Rr,Rr&&Rr[we]&&(Cl(Rr[we],function(gi){gi.clr(Rr)}),Rr[we]=[]),Mr({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(gi){var wn=w[gp];throw wn&&wn[B3](1,107,ne(gi)),gi}finally{it.act=Un||null}}s(vt,"_useHandler");function Tr(){if(Be){var Rr=Be;Be=null,je&&je[uw](),je=null;var Mr=[];if(Cl(Rr,function(Un){if(Un&&(Un[we]&&(Cl(Un[we],function(wn){wn.clr(Un)}),Un[we]=null),Un.fn))try{vt(Un,Un.fn)}catch(wn){Mr[Hi](wn)}}),Be)try{Tr()}catch(Un){Mr[Hi](Un)}Mr[Na]>0&&jz("Watcher error(s): ",Mr)}}s(Tr,"_notifyWatchers");function Tn(Rr){if(Rr&&Rr.h[Na]>0){Be||(Be=[]),je||(je=cw(function(){je=null,Tr()},0));for(var Mr=0;Mr<Rr.h[Na];Mr++){var Un=Rr.h[Mr];Un&&Im(Be,Un)===-1&&Be[Hi](Un)}}}s(Tn,"_addWatcher");function Gn(Rr,Mr){if(Rr){var Un=Rr[we]=Rr[we]||[];Im(Un,Mr)===-1&&Un[Hi](Mr)}}return s(Gn,"_trackHandler"),it={prop:R,ro:D,rf:Q,blkVal:ue,hdlr:w,add:Tn,notify:Tr,use:vt,trk:Gn},it}s(gD,"_createState");function eY(w,R){var D={fn:R,rm:s(function(){D.fn=null,w=null,R=null},"rm")};return oe(D,"toJSON",{v:s(function(){return"WatcherHandler"+(D.fn?"":"[X]")},"v")}),w.use(D,R),D}s(eY,"_createAndUseHandler");function AD(w,R,D){var Q=ww(R);if(Q)return Q;var ue=km("dyncfg",!0),we=R&&D!==!1?R:Tw(R),Be;function je(){Be.notify()}s(je,"_notifyWatchers");function it(wn,gi,oo){try{wn=ny(Be,wn,gi,oo)}catch(Ri){Bm(w,gi,"Setting value",Ri)}return wn[gi]}s(it,"_setValue");function vt(wn){return eY(Be,wn)}s(vt,"_watch");function Tr(wn,gi){Be.use(null,function(oo){var Ri=Be.upd;try{z(gi)||(Be.upd=gi),wn(oo)}finally{Be.upd=Ri}})}s(Tr,"_block");function Tn(wn,gi){var oo;return Sw(Be,wn,gi,(oo={},oo[0]=!0,oo))[gi]}s(Tn,"_ref");function Gn(wn,gi){var oo;return Sw(Be,wn,gi,(oo={},oo[1]=!0,oo))[gi]}s(Gn,"_rdOnly");function Rr(wn,gi){var oo;return Sw(Be,wn,gi,(oo={},oo[2]=!0,oo))[gi]}s(Rr,"_blkPropValue");function Mr(wn,gi){return gi&&Xe(gi,function(oo,Ri){wp(Un,wn,oo,Ri)}),wn}s(Mr,"_applyDefaults");var Un={uid:null,cfg:we,logger:w,notify:je,set:it,setDf:Mr,watch:vt,ref:Tn,rdOnly:Gn,blkVal:Rr,_block:Tr};return oe(Un,"uid",{c:!1,e:!1,w:!1,v:ue}),Be=gD(Un),k1(Be,we,"config","Creating"),Un}s(AD,"_createDynamicHandler");function yD(w,R){w?(w[pp](R),w[B3](2,108,R)):Fu(R)}s(yD,"_logInvalidAccess");function q3(w,R,D,Q){var ue=AD(D,w||{},Q);return R&&ue.setDf(ue.cfg,R),ue}s(q3,"createDynamicConfig");function CD(w,R,D){var Q=w[Kl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Kl]===Q)?Q[rD](R):(yD(D,lD+ne(w)),q3(w,null,D)[rD](R))}s(CD,"onConfigChange");var t4=null;function xD(){var w=F("Microsoft");return w&&(t4=w.ApplicationInsights),t4}s(xD,"_getExtensionNamespace");function tY(w){var R=t4;return!R&&w.disableDbgExt!==!0&&(R=t4||xD()),R?R.ChromeDbgExt:null}s(tY,"getDebugExt");var iy,r4="warnToConsole",vD="AI (Internal): ",bD="AI: ",rY="AITR_",nY={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ED=(iy={},iy[0]=null,iy[1]="errorToConsole",iy[2]=r4,iy[3]="debugToConsole",iy);function ID(w){return w?'"'+w[F2](/\"/g,qs)+'"':qs}s(ID,"_sanitizeDiagnosticText");function n4(w,R){var D=YE();if(D){var Q="log";D[w]&&(Q=w),ae(D[Q])&&D[Q](R)}}s(n4,"_logToConsole");var i4=function(){function w(R,D,Q,ue){Q===void 0&&(Q=!1);var we=this;we[fw]=R,we[v1]=(Q?bD:vD)+R;var Be=qs;ji()&&(Be=K2().stringify(ue));var je=(D?" message:"+ID(D):qs)+(ue?" props:"+ID(Be):qs);we[v1]+=je}return s(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function iY(w,R){return(w||{})[gp]||new o4(R)}s(iY,"safeGetLogger");var o4=function(){function w(R){this.identifier="DiagnosticLogger",this.queue=[];var D=0,Q={},ue,we,Be,je,it;L3(w,this,function(vt){it=Tn(R||{}),vt.consoleLoggingLevel=function(){return ue},vt[B3]=function(Mr,Un,wn,gi,oo){oo===void 0&&(oo=!1);var Ri=new i4(Un,wn,oo,gi);if(je)throw ne(Ri);var La=ED[Mr]||r4;if(z(Ri[v1]))Rr("throw"+(Mr===1?"Critical":"Warning"),Ri);else{if(oo){var Ly=+Ri[fw];!Q[Ly]&&ue>=Mr&&(vt[La](Ri[v1]),Q[Ly]=!0)}else ue>=Mr&&vt[La](Ri[v1]);Tr(Mr,Ri)}},vt.debugToConsole=function(Mr){n4("debug",Mr),Rr("warning",Mr)},vt[pp]=function(Mr){n4("warn",Mr),Rr("warning",Mr)},vt.errorToConsole=function(Mr){n4("error",Mr),Rr("error",Mr)},vt.resetInternalMessageCount=function(){D=0,Q={}},vt.logInternalMessage=Tr,vt[r0]=function(Mr){it&&it.rm(),it=null};function Tr(Mr,Un){if(!Gn()){var wn=!0,gi=rY+Un[fw];if(Q[gi]?wn=!1:Q[gi]=!0,wn&&(Mr<=we&&(vt.queue[Hi](Un),D++,Rr(Mr===1?"error":"warn",Un)),D===Be)){var oo="Internal events throttle limit per PageView reached for this app.",Ri=new i4(23,oo,!1);vt.queue[Hi](Ri),Mr===1?vt.errorToConsole(oo):vt[pp](oo)}}}s(Tr,"_logInternalMessage");function Tn(Mr){return CD(q3(Mr,nY,vt).cfg,function(Un){var wn=Un.cfg;ue=wn[iD],we=wn.loggingLevelTelemetry,Be=wn.maxMessageLimit,je=wn.enableDebug})}s(Tn,"_setDefaultsFromConfig");function Gn(){return D>=Be}s(Gn,"_areInternalMessagesThrottled");function Rr(Mr,Un){var wn=tY(R||{});wn&&wn[dw]&&wn[dw](Mr,Un)}s(Rr,"_debugExtMsg")})}return s(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function s4(w){return w||new o4}s(s4,"_getLogger");function n0(w,R,D,Q,ue,we){we===void 0&&(we=!1),s4(w)[B3](R,D,Q,ue,we)}s(n0,"_throwInternal");function a4(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],R=qs,D,Q=0;Q<4;Q++)D=ty(),R+=w[D&15]+w[D>>4&15]+w[D>>8&15]+w[D>>12&15]+w[D>>16&15]+w[D>>20&15]+w[D>>24&15]+w[D>>28&15];var ue=w[8+(ty()&3)|0];return St(R,0,8)+St(R,9,4)+"4"+St(R,13,3)+ue+St(R,16,3)+St(R,19,12)}s(a4,"generateW3CId");var oy=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Rw="00",O0="ff",pi="00000000000000000000000000000000",Pm="0000000000000000",ga=1;function Mu(w,R,D){return w&&w[Na]===R&&w!==D?!!w.match(/^[\da-f]*$/i):!1}s(Mu,"_isValid");function l4(w,R,D){return Mu(w,R)?w:D}s(l4,"_formatValue");function D1(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var R=w.toString(16);R[Na]<2;)R="0"+R;return R}s(D1,"_formatFlags");function sy(w,R,D,Q){return{version:Mu(Q,2,O0)?Q:Rw,traceId:ay(w)?w:a4(),spanId:ly(R)?R:$t(a4(),16),traceFlags:D>=0&&D<=255?D:1}}s(sy,"createTraceParent");function U0(w,R){if(!w||(le(w)&&(w=w[0]||""),!w||!Y(w)||w[Na]>8192))return null;if(w.indexOf(",")!==-1){var D=w[mw](",");w=D[R>0&&D[Na]>R?R:0]}var Q=oy.exec(bc(w));return!Q||Q[1]===O0||Q[2]===pi||Q[3]===Pm?null:{version:(Q[1]||qs)[k3](),traceId:(Q[2]||qs)[k3](),spanId:(Q[3]||qs)[k3](),traceFlags:parseInt(Q[4],16)}}s(U0,"parseTraceParent");function ay(w){return Mu(w,32,pi)}s(ay,"isValidTraceId");function ly(w){return Mu(w,16,Pm)}s(ly,"isValidSpanId");function cy(w){return!(!w||!Mu(w[nD],2,O0)||!Mu(w.traceId,32,pi)||!Mu(w.spanId,16,Pm)||!Mu(D1(w[FE]),2))}s(cy,"isValidTraceParent");function c4(w){return cy(w)?(w[FE]&ga)===ga:!1}s(c4,"isSampledFlag");function P1(w){if(w){var R=D1(w[FE]);Mu(R,2)||(R="01");var D=w[nD]||Rw;return D!=="00"&&D!=="ff"&&(D=Rw),"".concat(D.toLowerCase(),"-").concat(l4(w.traceId,32,pi).toLowerCase(),"-").concat(l4(w.spanId,16,Pm).toLowerCase(),"-").concat(R.toLowerCase())}return""}s(P1,"formatTraceParent");function kw(w){var R="traceparent",D=U0(KE(R),w);return D||(D=U0(Xf(R),w)),D}s(kw,"findW3cTraceParent");function Bw(w){var R=w.getElementsByTagName("script"),D=[];return Cl(R,function(Q){var ue=Q[hw]("src");if(ue){var we=Q[hw]("crossorigin"),Be=Q.hasAttribute("async")===!0,je=Q.hasAttribute("defer")===!0,it=Q[hw]("referrerpolicy"),vt={url:ue};we&&(vt.crossOrigin=we),Be&&(vt.async=Be),je&&(vt.defer=je),it&&(vt.referrerPolicy=it),D[Hi](vt)}}),D}s(Bw,"findAllScripts");var u4="on",W3="attachEvent",f4="addEventListener",d4="detachEvent",TD="removeEventListener",Dw="events";km("aiEvtPageHide"),km("aiEvtPageShow");var oY=/\.[\.]+/g,sY=/[\.]+$/,m4=1,uy=rd("events"),vl=/^([^.]*)(?:\.(.+)|)/;function G3(w){return w&&w[F2]?w[F2](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,qs):w}s(G3,"_normalizeNamespace");function ol(w,R){if(R){var D=qs;le(R)?(D=qs,Cl(R,function(ue){ue=G3(ue),ue&&(ue[0]!=="."&&(ue="."+ue),D+=ue)})):D=G3(R),D&&(D[0]!=="."&&(D="."+D),w=(w||qs)+D)}var Q=vl.exec(w||qs)||[];return{type:Q[1],ns:(Q[2]||qs).replace(oY,".").replace(sY,qs)[mw](".").sort().join(".")}}s(ol,"_getEvtNamespace");function Sp(w,R,D){D===void 0&&(D=!0);var Q=uy.get(w,Dw,{},D),ue=Q[R];return ue||(ue=Q[R]=[]),ue}s(Sp,"_getRegisteredEvents");function wD(w,R,D,Q){w&&R&&R[Ap]&&(w[TD]?w[TD](R[Ap],D,Q):w[d4]&&w[d4](u4+R[Ap],D))}s(wD,"_doDetach");function aY(w,R,D,Q){var ue=!1;return w&&R&&R[Ap]&&D&&(w[f4]?(w[f4](R[Ap],D,Q),ue=!0):w[W3]&&(w[W3](u4+R[Ap],D),ue=!0)),ue}s(aY,"_doAttach");function H3(w,R,D,Q){for(var ue=R[Na];ue--;){var we=R[ue];we&&(!D.ns||D.ns===we[sD].ns)&&(!Q||Q(we))&&(wD(w,we[sD],we.handler,we.capture),R[x1](ue,1))}}s(H3,"_doUnregister");function Pw(w,R,D){if(R[Ap])H3(w,Sp(w,R[Ap]),R,D);else{var Q=uy.get(w,Dw,{});Xe(Q,function(ue,we){H3(w,we,R,D)}),Ct(Q)[Na]===0&&uy.kill(w,Dw)}}s(Pw,"_unregisterEvents");function lY(w,R){var D;return R?(le(R)?D=[w].concat(R):D=[w,R],D=ol("xx",D).ns[mw](".")):D=w,D}s(lY,"mergeEvtNamespace");function Nw(w,R,D,Q,ue){ue===void 0&&(ue=!1);var we=!1;if(w)try{var Be=ol(R,Q);if(we=aY(w,Be,D,ue),we&&uy.accept(w)){var je={guid:m4++,evtName:Be,handler:D,capture:ue};Sp(w,Be.type)[Hi](je)}}catch{}return we}s(Nw,"eventOn");function _D(w,R,D,Q,ue){if(ue===void 0&&(ue=!1),w)try{var we=ol(R,Q),Be=!1;Pw(w,we,function(je){return we.ns&&!D||je.handler===D?(Be=!0,!0):!1}),Be||wD(w,we,D,ue)}catch{}}s(_D,"eventOff");var h4="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",SD="sampleRate",p4="ProcessLegacy",RD="http.method",Lw="https://dc.services.visualstudio.com",j3="/v2/track",nd="not_specified",Fw="iKey",kD=Gz({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Rp="split",In="length",fy="toLowerCase",N1="ingestionendpoint",L1="toString",Mw="removeItem",V3="message",dy="count",g4="preTriggerDate",Qw="getUTCDate",A4="stringify",my="pathname",F1="match",Ow="correlationHeaderExcludePatterns",q0="name",hy="extensionConfig",id="properties",Ec="measurements",py="sizeInBytes",$3="typeName",gy="exceptions",z3="severityLevel",Ay="problemGroup",i0="parsedStack",y4="hasFullStack",C4="assembly",Qu="fileName",yy="line",kp="aiDataContract",Y3="duration";function Uw(w,R,D){var Q=R[In],ue=qw(w,R);if(ue[In]!==Q){for(var we=0,Be=ue;D[Be]!==void 0;)we++,Be=kt(ue,0,147)+BD(we);ue=Be}return ue}s(Uw,"dataSanitizeKeyAndAddUniqueness");function qw(w,R){var D;return R&&(R=bc(Ge(R)),R[In]>150&&(D=kt(R,0,150),n0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:R},!0))),D||R}s(qw,"dataSanitizeKey");function sl(w,R,D){D===void 0&&(D=1024);var Q;return R&&(D=D||1024,R=bc(Ge(R)),R[In]>D&&(Q=kt(R,0,D),n0(w,2,61,"string value is too long. It has been truncated to "+D+" characters.",{value:R},!0))),Q||R}s(sl,"dataSanitizeString");function od(w,R){return Gw(w,R,2048,66)}s(od,"dataSanitizeUrl");function x4(w,R){var D;return R&&R[In]>32768&&(D=kt(R,0,32768),n0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:R},!0)),D||R}s(x4,"dataSanitizeMessage");function Ww(w,R){var D;if(R){var Q=""+R;Q[In]>32768&&(D=kt(Q,0,32768),n0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:R},!0))}return D||R}s(Ww,"dataSanitizeException");function Nm(w,R){if(R){var D={};Xe(R,function(Q,ue){if(te(ue)&&ji())try{ue=K2()[A4](ue)}catch(we){n0(w,2,49,"custom property is not valid",{exception:we},!0)}ue=sl(w,ue,8192),Q=Uw(w,Q,D),D[Q]=ue}),R=D}return R}s(Nm,"dataSanitizeProperties");function W0(w,R){if(R){var D={};Xe(R,function(Q,ue){Q=Uw(w,Q,D),D[Q]=ue}),R=D}return R}s(W0,"dataSanitizeMeasurements");function Cy(w,R){return R&&Gw(w,R,128,69)[L1]()}s(Cy,"dataSanitizeId");function Gw(w,R,D,Q){var ue;return R&&(R=bc(Ge(R)),R[In]>D&&(ue=kt(R,0,D),n0(w,2,Q,"input is too long, it has been truncated to "+D+" characters.",{data:R},!0))),ue||R}s(Gw,"dataSanitizeInput");function BD(w){var R="00"+w;return St(R,R[In]-3)}s(BD,"dsPadNumber");var Hw=Te()||{},DD=0,cY=[null,null,null,null,null];function xy(w){var R=DD,D=cY,Q=D[R];return Hw.createElement?D[R]||(Q=D[R]=Hw.createElement("a")):Q={host:ND(w,!0)},Q.href=w,R++,R>=D[In]&&(R=0),DD=R,Q}s(xy,"urlParseUrl");function uY(w){var R,D=xy(w);return D&&(R=D.href),R}s(uY,"urlGetAbsoluteUrl");function fY(w){var R,D=xy(w);return D&&(R=D[my]),R}s(fY,"urlGetPathName");function PD(w,R){return w?w.toUpperCase()+" "+R:R}s(PD,"urlGetCompleteUrl");function ND(w,R){var D=Lm(w,R)||"";if(D){var Q=D[F1](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[In]>3&&Y(Q[2])&&Q[2][In]>0)return Q[2]+(Q[3]||"")}return D}s(ND,"urlParseHost");function Lm(w,R){var D=null;if(w){var Q=w[F1](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[In]>2&&Y(Q[2])&&Q[2][In]>0&&(D=Q[2]||"",R&&Q[In]>2)){var ue=(Q[1]||"")[fy](),we=Q[3]||"";(ue==="http"&&we===":80"||ue==="https"&&we===":443")&&(we=""),D+=we}}return D}s(Lm,"urlParseFullHost");var LD=[Lw+j3,"https://breeze.aimon.applicationinsights.io"+j3,"https://dc-int.services.visualstudio.com"+j3],vy="cid-v1:";function FD(w){return Im(LD,w[fy]())!==-1}s(FD,"isInternalApplicationInsightsEndpoint");function jw(w){vy=w}s(jw,"correlationIdSetPrefix");function Vw(){return vy}s(Vw,"correlationIdGetPrefix");function Bp(w,R,D){if(!R||w&&w.disableCorrelationHeaders)return!1;if(w&&w[Ow]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[In];Q++)if(w[Ow][Q].test(R))return!1}var ue=xy(R).host[fy]();if(ue&&(Jr(ue,":443")!==-1||Jr(ue,":80")!==-1)&&(ue=(Lm(R,!0)||"")[fy]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==D)return!1;var we=w&&w.correlationHeaderDomains;if(we){var Be;if(Cl(we,function(vt){var Tr=new RegExp(vt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Be=Be||Tr.test(ue)}),!Be)return!1}var je=w&&w.correlationHeaderExcludedDomains;if(!je||je[In]===0)return!0;for(var Q=0;Q<je[In];Q++){var it=new RegExp(je[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(it.test(ue))return!1}return ue&&ue[In]>0}s(Bp,"correlationIdCanIncludeCorrelationHeader");function MD(w){if(w){var R=QD(w,kD[1]);if(R&&R!==vy)return R}}s(MD,"correlationIdGetCorrelationContext");function QD(w,R){if(w)for(var D=w[Rp](","),Q=0;Q<D[In];++Q){var ue=D[Q][Rp]("=");if(ue[In]===2&&ue[0]===R)return ue[1]}}s(QD,"correlationIdGetCorrelationContextValue");function OD(w,R,D,Q){var ue,we=Q,Be=Q;if(R&&R[In]>0){var je=xy(R);if(ue=je.host,!we)if(je[my]!=null){var it=je.pathname[In]===0?"/":je[my];it.charAt(0)!=="/"&&(it="/"+it),Be=je[my],we=sl(w,D?D+" "+it:it)}else we=sl(w,R)}else ue=Q,we=Q;return{target:ue,name:we,data:Be}}s(OD,"AjaxHelperParseDependencyPath");function dY(){var w=S3();if(w&&w.now&&w.timing){var R=w.now()+w.timing.navigationStart;if(R>0)return R}return A1()}s(dY,"dateTimeUtilsNow");function mY(w,R){var D=null;return w!==0&&R!==0&&!U(w)&&!U(R)&&(D=R-w),D}s(mY,"dateTimeUtilsDuration");function $w(w,R){var D=w||{};return{getName:s(function(){return D[q0]},"getName"),setName:s(function(Q){R&&R.setName(Q),D[q0]=Q},"setName"),getTraceId:s(function(){return D.traceID},"getTraceId"),setTraceId:s(function(Q){R&&R.setTraceId(Q),ay(Q)&&(D.traceID=Q)},"setTraceId"),getSpanId:s(function(){return D.parentID},"getSpanId"),setSpanId:s(function(Q){R&&R.setSpanId(Q),ly(Q)&&(D.parentID=Q)},"setSpanId"),getTraceFlags:s(function(){return D.traceFlags},"getTraceFlags"),setTraceFlags:s(function(Q){R&&R.setTraceFlags(Q),D.traceFlags=Q},"setTraceFlags")}}s($w,"createDistributedTraceContextFromTrace");var by=R3({LocalStorage:0,SessionStorage:1}),hY=R3({AI:0,AI_AND_W3C:1,W3C:2}),K3=R3({Normal:1,Critical:2}),Dp=void 0,Ou=void 0,UD="";function Ey(){return v4()?Iy(by.LocalStorage):null}s(Ey,"_getLocalStorageObject");function Iy(w){try{if(U(J()))return null;var R=new Date()[L1](),D=F(w===by.LocalStorage?"localStorage":"sessionStorage"),Q=UD+R;D.setItem(Q,R);var ue=D.getItem(Q)!==R;if(D[Mw](Q),!ue)return D}catch{}return null}s(Iy,"_getVerifiedStorageObject");function Ty(){return Fm()?Iy(by.SessionStorage):null}s(Ty,"_getSessionStorageObject");function J3(){Dp=!1,Ou=!1}s(J3,"utlDisableStorage");function X3(w){UD=w||""}s(X3,"utlSetStoragePrefix");function pY(){Dp=v4(!0),Ou=Fm(!0)}s(pY,"utlEnableStorage");function v4(w){return(w||Dp===void 0)&&(Dp=!!Iy(by.LocalStorage)),Dp}s(v4,"utlCanUseLocalStorage");function qD(w,R){var D=Ey();if(D!==null)try{return D.getItem(R)}catch(Q){Dp=!1,n0(w,2,1,"Browser failed read of local storage. "+xp(Q),{exception:ne(Q)})}return null}s(qD,"utlGetLocalStorage");function WD(w,R,D){var Q=Ey();if(Q!==null)try{return Q.setItem(R,D),!0}catch(ue){Dp=!1,n0(w,2,3,"Browser failed write to local storage. "+xp(ue),{exception:ne(ue)})}return!1}s(WD,"utlSetLocalStorage");function G0(w,R){var D=Ey();if(D!==null)try{return D[Mw](R),!0}catch(Q){Dp=!1,n0(w,2,5,"Browser failed removal of local storage item. "+xp(Q),{exception:ne(Q)})}return!1}s(G0,"utlRemoveStorage");function Fm(w){return(w||Ou===void 0)&&(Ou=!!Iy(by.SessionStorage)),Ou}s(Fm,"utlCanUseSessionStorage");function wy(){var w=[];return Fm()&&Xe(F("sessionStorage"),function(R){w.push(R)}),w}s(wy,"utlGetSessionStorageKeys");function GD(w,R){var D=Ty();if(D!==null)try{return D.getItem(R)}catch(Q){Ou=!1,n0(w,2,2,"Browser failed read of session storage. "+xp(Q),{exception:ne(Q)})}return null}s(GD,"utlGetSessionStorage");function gY(w,R,D){var Q=Ty();if(Q!==null)try{return Q.setItem(R,D),!0}catch(ue){Ou=!1,n0(w,2,4,"Browser failed write to session storage. "+xp(ue),{exception:ne(ue)})}return!1}s(gY,"utlSetSessionStorage");function HD(w,R){var D=Ty();if(D!==null)try{return D[Mw](R),!0}catch(Q){Ou=!1,n0(w,2,6,"Browser failed removal of session storage item. "+xp(Q),{exception:ne(Q)})}return!1}s(HD,"utlRemoveSessionStorage");var AY="appInsightsThrottle",yY=function(){function w(R,D){var Q=this,ue,we,Be,je,it,vt,Tr,Tn=!1,Gn=!1;Mr(),Q._getDbgPlgTargets=function(){return[Tr]},Q.getConfig=function(){return Be},Q.canThrottle=function(Ft){var Gr=a7(Ft),un=Un(Ft);return oo(un,ue,Gr)},Q.isTriggered=function(Ft){return aP(Ft)},Q.isReady=function(){return Tn},Q.flush=function(Ft){try{var Gr=lP(Ft);if(Gr&&Gr[In]>0){var un=Gr.slice(0);return Tr[Ft]=[],Cl(un,function(Mo){Rr(Mo.msgID,Mo[V3],Mo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(Tr){var Ft=!0;return Xe(Tr,function(Gr){var un=Q.flush(parseInt(Gr));Ft=Ft&&un}),Ft}}catch{}return!1},Q.onReadyState=function(Ft,Gr){return Gr===void 0&&(Gr=!0),Tn=U(Ft)?!0:Ft,Tn&&Gr?Q.flushAll():null},Q.sendMessage=function(Ft,Gr,un){return Rr(Ft,Gr,un,!0)};function Rr(Ft,Gr,un,Mo){if(Tn){var Fa=FY(Ft);if(!Fa)return;var Ws=Un(Ft),Ma=a7(Ft),Q1=oo(Ws,ue,Ma),Mp=!1,Fy=0,cP=aP(Ft);try{Q1&&!cP?(Fy=Mt(Ws.limit.maxSendNumber,Ma[dy]+1),Ma[dy]=0,Mp=!0,it[Ft]=!0,Ma[g4]=new Date):(it[Ft]=Q1,Ma[dy]+=1);var uP=Ri(Ft);s7(we,uP,Ma);for(var L4=0;L4<Fy;L4++)sP(Ft,we,Gr,un)}catch{}return{isThrottled:Mp,throttleNum:Fy}}else if(Mo){var MY=lP(Ft);MY.push({msgID:Ft,message:Gr,severity:un})}return null}s(Rr,"_flushMessage");function Mr(){we=iY(R),it={},je={},Tr={},Be={},wn(109),vt=Ew(D)?D:"",R.addUnloadHook(CD(R.config,function(Ft){var Gr=Ft.cfg;ue=v4();var un=Gr.throttleMgrCfg||{};Xe(un,function(Mo,Fa){wn(parseInt(Mo),Fa)})}))}s(Mr,"_initConfig");function Un(Ft){return Be[Ft]||Be[109]}s(Un,"_getCfgByKey");function wn(Ft,Gr){var un,Mo;try{var Fa=Gr||{},Ws={};Ws.disabled=!!Fa.disabled;var Ma=Fa.interval||{};Gn=Ma?.daysOfMonth&&Ma?.daysOfMonth[In]>0,Ws.interval=gi(Ma);var Q1={samplingRate:((un=Fa.limit)===null||un===void 0?void 0:un.samplingRate)||100,maxSendNumber:((Mo=Fa.limit)===null||Mo===void 0?void 0:Mo.maxSendNumber)||1};Ws.limit=Q1,Be[Ft]=Ws}catch{}}s(wn,"_setCfgByKey");function gi(Ft){Ft=Ft||{};var Gr=Ft?.monthInterval,un=Ft?.dayInterval;return U(Gr)&&U(un)&&(Ft.monthInterval=3,Gn||(Ft.daysOfMonth=[28],Gn=!0)),Ft={monthInterval:Ft?.monthInterval,dayInterval:Ft?.dayInterval,daysOfMonth:Ft?.daysOfMonth},Ft}s(gi,"_getIntervalConfig");function oo(Ft,Gr,un){if(Ft&&!Ft.disabled&&Gr&&Ew(un)){var Mo=sx(),Fa=un.date,Ws=Ft.interval,Ma=1;if(Ws?.monthInterval){var Q1=(Mo.getUTCFullYear()-Fa.getUTCFullYear())*12+Mo.getUTCMonth()-Fa.getUTCMonth();Ma=N4(Ws.monthInterval,0,Q1)}var Mp=1;if(Gn)Mp=Im(Ws.daysOfMonth,Mo[Qw]());else if(Ws?.dayInterval){var Fy=dp((Mo.getTime()-Fa.getTime())/864e5);Mp=N4(Ws.dayInterval,0,Fy)}return Ma>=0&&Mp>=0}return!1}s(oo,"_canThrottle");function Ri(Ft,Gr){var un=Ew(Gr)?Gr:"";return Ft?AY+un+"-"+Ft:null}s(Ri,"_getLocalStorageName");function La(Ft){try{if(Ft){var Gr=new Date;return Ft.getUTCFullYear()===Gr.getUTCFullYear()&&Ft.getUTCMonth()===Gr.getUTCMonth()&&Ft[Qw]()===Gr[Qw]()}}catch{}return!1}s(La,"_isTriggeredOnCurDate");function Ly(Ft,Gr,un){try{var Mo={date:sx(),count:0};if(Ft){var Fa=JSON.parse(Ft),Ws={date:sx(Fa.date)||Mo.date,count:Fa[dy]||Mo[dy],preTriggerDate:Fa.preTriggerDate?sx(Fa[g4]):void 0};return Ws}else return s7(Gr,un,Mo),Mo}catch{}return null}s(Ly,"_getLocalStorageObj");function sx(Ft){try{if(Ft){var Gr=new Date(Ft);if(!isNaN(Gr.getDate()))return Gr}else return new Date}catch{}return null}s(sx,"_getThrottleDate");function s7(Ft,Gr,un){try{return WD(Ft,Gr,bc(JSON[A4](un)))}catch{}return!1}s(s7,"_resetLocalStorage");function N4(Ft,Gr,un){return Ft<=0?1:un>=Gr&&(un-Gr)%Ft==0?dp((un-Gr)/Ft)+1:-1}s(N4,"_checkInterval");function sP(Ft,Gr,un,Mo){n0(Gr,Mo||1,Ft,un)}s(sP,"_sendMessage");function FY(Ft){try{var Gr=Un(Ft);return JE(1e6)<=Gr.limit.samplingRate}catch{}return!1}s(FY,"_canSampledIn");function a7(Ft){try{var Gr=je[Ft];if(!Gr){var un=Ri(Ft,vt);Gr=Ly(qD(we,un),we,un),je[Ft]=Gr}return je[Ft]}catch{}return null}s(a7,"_getLocalStorageObjByKey");function aP(Ft){var Gr=it[Ft];if(U(Gr)){Gr=!1;var un=a7(Ft);un&&(Gr=La(un[g4])),it[Ft]=Gr}return it[Ft]}s(aP,"_isTrigger");function lP(Ft){return Tr=Tr||{},U(Tr[Ft])&&(Tr[Ft]=[]),Tr[Ft]}s(lP,"_getQueueByKey")}return s(w,"ThrottleMgr"),w}(),zw=";",sd="=";function b4(w){if(!w)return{};var R=w[Rp](zw),D=ra(R,function(ue,we){var Be=we[Rp](sd);if(Be[In]===2){var je=Be[0][fy](),it=Be[1];ue[je]=it}return ue},{});if(Ct(D)[In]>0){if(D.endpointsuffix){var Q=D.location?D.location+".":"";D[N1]=D[N1]||"https://"+Q+"dc."+D.endpointsuffix}D[N1]=D[N1]||Lw,P2(D[N1],"/")&&(D[N1]=D[N1].slice(0,-1))}return D}s(b4,"parseConnectionString");var E4={parse:b4},I4=function(){function w(R,D,Q){var ue=this,we=this;we.ver=1,we.sampleRate=100,we.tags={},we[q0]=sl(R,Q)||nd,we.data=D,we.time=Sm(new Date),we[kp]={time:1,iKey:1,name:1,sampleRate:s(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(w,"Envelope"),w}(),CY=function(){function w(R,D,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var we=this;we.ver=2,we[q0]=sl(R,D)||nd,we[id]=Nm(R,Q),we[Ec]=W0(R,ue)}return s(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),xY=58,jD=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,vY=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,_y=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,VD=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,bY=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,EY=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,IY=/([^\(\s\n]+):([0-9]+)$/,$D="<no_method>",Sy="error",o0="stack",Z3="stackDetails",T4="errorSrc",ex="message",tx="description",Yw=[{re:vY,len:5,m:1,fn:2,ln:3,col:4},{chk:w4,pre:Or,re:_y,len:4,m:1,fn:2,ln:3},{re:VD,len:3,m:1,fn:2,hdl:Jw},{re:bY,len:2,fn:1,hdl:Jw}];function Or(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}s(Or,"_scrubAnonymous");function w4(w){return Jr(w,"[native")<0}s(w4,"_ignoreNative");function rx(w,R){var D=w;return D&&!Y(D)&&(JSON&&JSON[A4]?(D=JSON[A4](w),R&&(!D||D==="{}")&&(ae(w[L1])?D=w[L1]():D=""+w)):D=""+w+" - (Missing JSON.stringify)"),D||""}s(rx,"_stringify");function Pp(w,R){var D=w;return w&&(D&&!Y(D)&&(D=w[ex]||w[tx]||D),D&&!Y(D)&&(D=rx(D,!0)),w.filename&&(D=D+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),R&&R!=="String"&&R!=="Object"&&R!=="Error"&&Jr(D||"",R)===-1&&(D=R+": "+D),D||""}s(Pp,"_formatMessage");function zD(w){try{if(te(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}s(zD,"_isExceptionDetailsInternal");function YD(w){try{if(te(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}s(YD,"_isExceptionInternal");function _4(w){return w&&w.src&&Y(w.src)&&w.obj&&le(w.obj)}s(_4,"_isStackDetails");function Mm(w){var R=w||"";Y(R)||(Y(R[o0])?R=R[o0]:R=""+R);var D=R[Rp](`
`);return{src:R,obj:D}}s(Mm,"_convertStackObj");function KD(w){for(var R=[],D=w[Rp](`
`),Q=0;Q<D[In];Q++){var ue=D[Q];D[Q+1]&&(ue+="@"+D[Q+1],Q++),R.push(ue)}return{src:w,obj:R}}s(KD,"_getOperaStack");function S4(w){var R=null;if(w)try{if(w[o0])R=Mm(w[o0]);else if(w[Sy]&&w[Sy][o0])R=Mm(w[Sy][o0]);else if(w.exception&&w.exception[o0])R=Mm(w.exception[o0]);else if(_4(w))R=w;else if(_4(w[Z3]))R=w[Z3];else if(xt()&&xt().opera&&w[ex])R=KD(w[V3]);else if(w.reason&&w.reason[o0])R=Mm(w.reason[o0]);else if(Y(w))R=Mm(w);else{var D=w[ex]||w[tx]||"";Y(w[T4])&&(D&&(D+=`
`),D+=" from "+w[T4]),D&&(R=Mm(D))}}catch(Q){R=Mm(Q)}return R||{src:"",obj:null}}s(S4,"_getStackFromErrorObj");function JD(w){var R="";return w&&(w.obj?R=w.obj.join(`
`):R=w.src||""),R}s(JD,"_formatStackTrace");function R4(w){var R,D=w.obj;if(D&&D[In]>0){R=[];var Q=0,ue=!1,we=0;Cl(D,function(Un){if(ue||TY(Un)){var wn=Ge(Un);ue=!0;var gi=wY(wn,Q);gi&&(we+=gi[py],R.push(gi),Q++)}});var Be=32*1024;if(we>Be)for(var je=0,it=R[In]-1,vt=0,Tr=je,Tn=it;je<it;){var Gn=R[je][py],Rr=R[it][py];if(vt+=Gn+Rr,vt>Be){var Mr=Tn-Tr+1;R.splice(Tr,Mr);break}Tr=je,Tn=it,je++,it--}}return R}s(R4,"_parseStack");function Ry(w){var R="";if(w&&(R=w.typeName||w[q0]||"",!R))try{var D=/function (.{1,200})\(/,Q=D.exec(w.constructor[L1]());R=Q&&Q[In]>1?Q[1]:""}catch{}return R}s(Ry,"_getErrorType");function k4(w){if(w)try{if(!Y(w)){var R=Ry(w),D=rx(w,!1);return(!D||D==="{}")&&(w[Sy]&&(w=w[Sy],R=Ry(w)),D=rx(w,!0)),Jr(D,R)!==0&&R!=="String"?R+":"+D:D}}catch{}return""+(w||"")}s(k4,"_formatErrorCode");var ad=function(){function w(R,D,Q,ue,we,Be){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var je=this;je.ver=2,YD(D)?(je[gy]=D[gy]||[],je[id]=D[id],je[Ec]=D[Ec],D[z3]&&(je[z3]=D[z3]),D.id&&(je.id=D.id,D[id].id=D.id),D[Ay]&&(je[Ay]=D[Ay]),U(D.isManual)||(je.isManual=D.isManual)):(Q||(Q={}),Be&&(Q.id=Be),je[gy]=[eP(R,D,Q)],je[id]=Nm(R,Q),je[Ec]=W0(R,ue),we&&(je[z3]=we),Be&&(je.id=Be))}return s(w,"Exception"),w.CreateAutoException=function(R,D,Q,ue,we,Be,je,it){var vt=Ry(we||Be||R);return{message:Pp(R,vt),url:D,lineNumber:Q,columnNumber:ue,error:k4(we||Be||R),evt:k4(Be||R),typeName:vt,stackDetails:S4(je||we||Be),errorSrc:it}},w.CreateFromInterface=function(R,D,Q,ue){var we=D[gy]&&Kf(D[gy],function(je){return Kw(R,je)}),Be=new w(R,UE(UE({},D),{exceptions:we}),Q,ue);return Be},w.prototype.toInterface=function(){var R=this,D=R.exceptions,Q=R.properties,ue=R.measurements,we=R.severityLevel,Be=R.problemGroup,je=R.id,it=R.isManual,vt=D instanceof Array&&Kf(D,function(Tr){return Tr.toInterface()})||void 0;return{ver:"4.0",exceptions:vt,severityLevel:we,properties:Q,measurements:ue,problemGroup:Be,id:je,isManual:it}},w.CreateSimpleException=function(R,D,Q,ue,we,Be){var je;return{exceptions:[(je={},je[y4]=!0,je.message=R,je.stack=we,je.typeName=D,je)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=k4,w}(),XD=Pt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function ZD(){var w=this,R=le(w[i0])&&Kf(w[i0],function(Q){return rP(Q)}),D={id:w.id,outerId:w.outerId,typeName:w[$3],message:w[V3],hasFullStack:w[y4],stack:w[o0],parsedStack:R||void 0};return D}s(ZD,"_toInterface");function eP(w,R,D){var Q,ue,we,Be,je,it,vt,Tr;if(zD(R))Be=R[$3],je=R[V3],vt=R[o0],Tr=R[i0]||[],it=R[y4];else{var Tn=R,Gn=Tn&&Tn.evt;ce(Tn)||(Tn=Tn[Sy]||Gn||Tn),Be=sl(w,Ry(Tn))||nd,je=x4(w,Pp(R||Tn,Be))||nd;var Rr=R[Z3]||S4(R);Tr=R4(Rr),le(Tr)&&Kf(Tr,function(Mr){Mr[C4]=sl(w,Mr[C4]),Mr[Qu]=sl(w,Mr[Qu])}),vt=Ww(w,JD(Rr)),it=le(Tr)&&Tr[In]>0,D&&(D[$3]=D[$3]||Be)}return Q={},Q[kp]=XD,Q.id=ue,Q.outerId=we,Q.typeName=Be,Q.message=je,Q[y4]=it,Q.stack=vt,Q.parsedStack=Tr,Q.toInterface=ZD,Q}s(eP,"_createExceptionDetails");function Kw(w,R){var D=le(R[i0])&&Kf(R[i0],function(ue){return tP(ue)})||R[i0],Q=eP(w,UE(UE({},R),{parsedStack:D}));return Q}s(Kw,"_createExDetailsFromInterface");function nx(w,R){var D=R[F1](EY);if(D&&D[In]>=4)w[Qu]=D[1],w[yy]=parseInt(D[2]);else{var Q=R[F1](IY);Q&&Q[In]>=3?(w[Qu]=Q[1],w[yy]=parseInt(Q[2])):w[Qu]=R}}s(nx,"_parseFilename");function Jw(w,R,D){var Q=w[Qu];R.fn&&D&&D[In]>R.fn&&(R.ln&&D[In]>R.ln?(Q=bc(D[R.fn]||""),w[yy]=parseInt(bc(D[R.ln]||""))||0):Q=bc(D[R.fn]||"")),Q&&nx(w,Q)}s(Jw,"_handleFilename");function TY(w){var R=!1;if(w&&Y(w)){var D=bc(w);D&&(R=jD.test(D))}return R}s(TY,"_isStackFrame");var Xw=Pt({level:1,method:1,assembly:0,fileName:0,line:0});function wY(w,R){var D,Q;if(w&&Y(w)&&bc(w)){Q=(D={},D[kp]=Xw,D.level=R,D.assembly=bc(w),D.method=$D,D.fileName="",D.line=0,D.sizeInBytes=0,D);for(var ue=0;ue<Yw[In];){var we=Yw[ue];if(we.chk&&!we.chk(w))break;we.pre&&(w=we.pre(w));var Be=w[F1](we.re);if(Be&&Be[In]>=we.len){we.m&&(Q.method=bc(Be[we.m]||$D)),we.hdl?we.hdl(Q,we,Be):we.fn&&(we.ln?(Q[Qu]=bc(Be[we.fn]||""),Q[yy]=parseInt(bc(Be[we.ln]||""))||0):nx(Q,Be[we.fn]||""));break}ue++}}return Zw(Q)}s(wY,"_extractStackFrame");function tP(w){var R,D=(R={},R[kp]=Xw,R.level=w.level,R.method=w.method,R.assembly=w[C4],R.fileName=w[Qu],R.line=w[yy],R.sizeInBytes=0,R);return Zw(D)}s(tP,"_stackFrameFromInterface");function Zw(w){var R=xY;return w&&(R+=w.method[In],R+=w.assembly[In],R+=w.fileName[In],R+=w.level.toString()[In],R+=w.line.toString()[In],w[py]=R),w}s(Zw,"_populateFrameSizeInBytes");function rP(w){return{level:w.level,method:w.method,assembly:w[C4],fileName:w[Qu],line:w[yy]}}s(rP,"_parsedFrameToInterface");var nP=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(w,"DataPoint"),w}(),_Y=function(){function w(R,D,Q,ue,we,Be,je,it,vt){this.aiDataContract={ver:1,metrics:1,properties:0};var Tr=this;Tr.ver=2;var Tn=new nP;Tn[dy]=ue>0?ue:void 0,Tn.max=isNaN(Be)||Be===null?void 0:Be,Tn.min=isNaN(we)||we===null?void 0:we,Tn[q0]=sl(R,D)||nd,Tn.value=Q,Tn.stdDev=isNaN(je)||je===null?void 0:je,Tr.metrics=[Tn],Tr[id]=Nm(R,it),Tr[Ec]=W0(R,vt)}return s(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),ky="";function SY(w,R){return R===void 0&&(R=!1),w==null?R:w.toString()[fy]()==="true"}s(SY,"stringToBoolOrDefault");function e7(w){(isNaN(w)||w<0)&&(w=0),w=lw(w);var R=ky+w%1e3,D=ky+dp(w/1e3)%60,Q=ky+dp(w/(1e3*60))%60,ue=ky+dp(w/(1e3*60*60))%24,we=dp(w/(1e3*60*60*24));return R=R[In]===1?"00"+R:R[In]===2?"0"+R:R,D=D[In]<2?"0"+D:D,Q=Q[In]<2?"0"+Q:Q,ue=ue[In]<2?"0"+ue:ue,(we>0?we+".":ky)+ue+":"+Q+":"+D+"."+R}s(e7,"msToTimeSpan");function RY(w,R){var D=null;return Cl(w,function(Q){if(Q.identifier===R)return D=Q,-1}),D}s(RY,"getExtensionByName");function Np(w,R,D,Q,ue){return!ue&&Y(w)&&(w==="Script error."||w==="Script error")}s(Np,"isCrossOriginError");var kY=function(){function w(R,D,Q,ue,we,Be,je){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var it=this;it.ver=2,it.id=Cy(R,je),it.url=od(R,Q),it[q0]=sl(R,D)||nd,isNaN(ue)||(it[Y3]=e7(ue)),it[id]=Nm(R,we),it[Ec]=W0(R,Be)}return s(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),By=function(){function w(R,D,Q,ue,we,Be,je,it,vt,Tr,Tn,Gn){vt===void 0&&(vt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Rr=this;Rr.ver=2,Rr.id=D,Rr[Y3]=e7(we),Rr.success=Be,Rr.resultCode=je+"",Rr.type=sl(R,vt);var Mr=OD(R,Q,it,ue);Rr.data=od(R,ue)||Mr.data,Rr.target=sl(R,Mr.target),Tr&&(Rr.target="".concat(Rr.target," | ").concat(Tr)),Rr[q0]=sl(R,Mr[q0]),Rr[id]=Nm(R,Tn),Rr[Ec]=W0(R,Gn)}return s(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),t7=function(){function w(R,D,Q,ue,we){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Be=this;Be.ver=2,D=D||nd,Be[V3]=x4(R,D),Be[id]=Nm(R,ue),Be[Ec]=W0(R,we),Q&&(Be[z3]=Q)}return s(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),ix=function(){function w(R,D,Q,ue,we,Be,je){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var it=this;it.ver=2,it.url=od(R,Q),it[q0]=sl(R,D)||nd,it[id]=Nm(R,we),it[Ec]=W0(R,Be),je&&(it.domProcessing=je.domProcessing,it[Y3]=je[Y3],it.networkConnect=je.networkConnect,it.perfTotal=je.perfTotal,it.receivedResponse=je.receivedResponse,it.sentRequest=je.sentRequest)}return s(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),BY=function(){function w(R,D){this.aiDataContract={baseType:1,baseData:1},this.baseType=R,this.baseData=D}return s(w,"Data"),w}(),B4=R3({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),DY=function(){function w(){}return s(w,"ConfigurationManager"),w.getConfig=function(R,D,Q,ue){ue===void 0&&(ue=!1);var we;return Q&&R[hy]&&R[hy][Q]&&!U(R[hy][Q][D])?we=R[hy][Q][D]:we=R[D],U(we)?ue:we},w}();function ld(w){var R="ai."+w+".";return function(D){return R+D}}s(ld,"_aiNameFunc");var Dy=ld("application"),Aa=ld("device"),D4=ld("location"),Py=ld("operation"),P4=ld("session"),Lp=ld("user"),M1=ld("cloud"),ox=ld("internal"),Fp=function(w){yp(R,w);function R(){return w.call(this)||this}return s(R,"ContextTagKeys"),R}(M3({applicationVersion:Dy("ver"),applicationBuild:Dy("build"),applicationTypeId:Dy("typeId"),applicationId:Dy("applicationId"),applicationLayer:Dy("layer"),deviceId:Aa("id"),deviceIp:Aa("ip"),deviceLanguage:Aa("language"),deviceLocale:Aa("locale"),deviceModel:Aa("model"),deviceFriendlyName:Aa("friendlyName"),deviceNetwork:Aa("network"),deviceNetworkName:Aa("networkName"),deviceOEMName:Aa("oemName"),deviceOS:Aa("os"),deviceOSVersion:Aa("osVersion"),deviceRoleInstance:Aa("roleInstance"),deviceRoleName:Aa("roleName"),deviceScreenResolution:Aa("screenResolution"),deviceType:Aa("type"),deviceMachineName:Aa("machineName"),deviceVMName:Aa("vmName"),deviceBrowser:Aa("browser"),deviceBrowserVersion:Aa("browserVersion"),locationIp:D4("ip"),locationCountry:D4("country"),locationProvince:D4("province"),locationCity:D4("city"),operationId:Py("id"),operationName:Py("name"),operationParentId:Py("parentId"),operationRootId:Py("rootId"),operationSyntheticSource:Py("syntheticSource"),operationCorrelationVector:Py("correlationVector"),sessionId:P4("id"),sessionIsFirst:P4("isFirst"),sessionIsNew:P4("isNew"),userAccountAcquisitionDate:Lp("accountAcquisitionDate"),userAccountId:Lp("accountId"),userAgent:Lp("userAgent"),userId:Lp("id"),userStoreRegion:Lp("storeRegion"),userAuthUserId:Lp("authUserId"),userAnonymousUserAcquisitionDate:Lp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Lp("authUserAcquisitionDate"),cloudName:M1("name"),cloudRole:M1("role"),cloudRoleVer:M1("roleVer"),cloudRoleInstance:M1("roleInstance"),cloudEnvironment:M1("environment"),cloudLocation:M1("location"),cloudDeploymentUnit:M1("deploymentUnit"),internalNodeName:ox("nodeName"),internalSdkVersion:ox("sdkVersion"),internalAgentVersion:ox("agentVersion"),internalSnippet:ox("snippet"),internalSdkSrc:ox("sdkSrc")}));function r7(w,R,D,Q,ue,we){D=sl(Q,D)||nd,(U(w)||U(R)||U(D))&&Fe("Input doesn't contain all required fields");var Be="";w[Fw]&&(Be=w[Fw],delete w[Fw]);var je={name:D,time:Sm(new Date),iKey:Be,ext:we||{},tags:[],data:{},baseType:R,baseData:w};return U(ue)||Xe(ue,function(it,vt){je.data[it]=vt}),je}s(r7,"createTelemetryItem");var n7=function(){function w(){}return s(w,"TelemetryItemCreator"),w.create=r7,w}(),PY={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},NY=new Fp;function iP(w){var R=null;if(ae(Event))R=new Event(w);else{var D=Te();D&&D.createEvent&&(R=D.createEvent("Event"),R.initEvent(w,!0,!0))}return R}s(iP,"createDomEvent");function i7(w,R){_D(w,null,null,R)}s(i7,"_disableEvents");function oP(w){var R=Te(),D=Lt(),Q=!1,ue=[],we=1;D&&!U(D.onLine)&&!D.onLine&&(we=2);var Be=0,je=Gn(),it=lY(km("OfflineListener"),w);try{if(Tr(xt())&&(Q=!0),R){var vt=R.body||R;vt.ononline&&Tr(vt)&&(Q=!0)}}catch{Q=!1}function Tr(Ri){var La=!1;return Ri&&(La=Nw(Ri,"online",Un,it),La&&Nw(Ri,"offline",wn,it)),La}s(Tr,"_enableEvents");function Tn(){return je}s(Tn,"_isOnline");function Gn(){return!(Be===2||we===2)}s(Gn,"calCurrentState");function Rr(){var Ri=Gn();je!==Ri&&(je=Ri,Cl(ue,function(La){var Ly={isOnline:je,rState:we,uState:Be};try{La(Ly)}catch{}}))}s(Rr,"listnerNoticeCheck");function Mr(Ri){Be=Ri,Rr()}s(Mr,"setOnlineState");function Un(){we=1,Rr()}s(Un,"_setOnline");function wn(){we=2,Rr()}s(wn,"_setOffline");function gi(){var Ri=xt();if(Ri&&Q){if(i7(Ri,it),R){var La=R.body||R;z(La.ononline)||i7(La,it)}Q=!1}}s(gi,"_unload");function oo(Ri){return ue.push(Ri),{rm:s(function(){var La=ue.indexOf(Ri);if(La>-1)return ue.splice(La,1)},"rm")}}return s(oo,"addListener"),{isOnline:Tn,isListening:s(function(){return Q},"isListening"),unload:gi,addListener:oo,setOnlineState:Mr}}s(oP,"createOfflineListener");var LY="AppInsightsPropertiesPlugin",o7="AppInsightsChannelPlugin",Ny="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Ny,e.BreezeChannelIdentifier=o7,e.ConfigurationManager=DY,e.ConnectionStringParser=E4,e.ContextTagKeys=Fp,e.CtxTagKeys=NY,e.DEFAULT_BREEZE_ENDPOINT=Lw,e.DEFAULT_BREEZE_PATH=j3,e.Data=BY,e.DisabledPropertyName=h4,e.DistributedTracingModes=hY,e.Envelope=I4,e.Event=CY,e.EventPersistence=K3,e.Exception=ad,e.Extensions=PY,e.HttpMethod=RD,e.Metric=_Y,e.PageView=kY,e.PageViewPerformance=ix,e.ProcessLegacy=p4,e.PropertiesPluginIdentifier=LY,e.RemoteDependencyData=By,e.RequestHeaders=kD,e.SampleRate=SD,e.SeverityLevel=B4,e.TelemetryItemCreator=n7,e.ThrottleMgr=yY,e.Trace=t7,e.correlationIdCanIncludeCorrelationHeader=Bp,e.correlationIdGetCorrelationContext=MD,e.correlationIdGetCorrelationContextValue=QD,e.correlationIdGetPrefix=Vw,e.correlationIdSetPrefix=jw,e.createDistributedTraceContextFromTrace=$w,e.createDomEvent=iP,e.createOfflineListener=oP,e.createTelemetryItem=r7,e.createTraceParent=sy,e.dataSanitizeException=Ww,e.dataSanitizeId=Cy,e.dataSanitizeInput=Gw,e.dataSanitizeKey=qw,e.dataSanitizeKeyAndAddUniqueness=Uw,e.dataSanitizeMeasurements=W0,e.dataSanitizeMessage=x4,e.dataSanitizeProperties=Nm,e.dataSanitizeString=sl,e.dataSanitizeUrl=od,e.dateTimeUtilsDuration=mY,e.dateTimeUtilsNow=dY,e.dsPadNumber=BD,e.findAllScripts=Bw,e.findW3cTraceParent=kw,e.formatTraceParent=P1,e.getExtensionByName=RY,e.isBeaconApiSupported=bp,e.isCrossOriginError=Np,e.isInternalApplicationInsightsEndpoint=FD,e.isSampledFlag=c4,e.isValidSpanId=ly,e.isValidTraceId=ay,e.isValidTraceParent=cy,e.msToTimeSpan=e7,e.parseConnectionString=b4,e.parseTraceParent=U0,e.strNotSpecified=nd,e.stringToBoolOrDefault=SY,e.urlGetAbsoluteUrl=uY,e.urlGetCompleteUrl=PD,e.urlGetPathName=fY,e.urlParseFullHost=Lm,e.urlParseHost=ND,e.urlParseUrl=xy,e.utlCanUseLocalStorage=v4,e.utlCanUseSessionStorage=Fm,e.utlDisableStorage=J3,e.utlEnableStorage=pY,e.utlGetLocalStorage=qD,e.utlGetSessionStorage=GD,e.utlGetSessionStorageKeys=wy,e.utlRemoveSessionStorage=HD,e.utlRemoveStorage=G0,e.utlSetLocalStorage=WD,e.utlSetSessionStorage=gY,e.utlSetStoragePrefix=X3})});var W3e=j((pF,q3e)=>{d();(function(e,t){typeof pF=="object"&&typeof q3e<"u"?t(pF):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(pF,function(e){"use strict";function t(A,x){return A||x}s(t,"_pureAssign");function r(A,x){return A[x]}s(r,"_pureRef");var n=void 0,i=null,o="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",g="length",y="name",v="call",b="toString",E=t(Object),_=r(E,c),k=t(String),B=r(k,c),N=t(Math),M=t(Array),re=r(M,c),pe=r(re,"slice");function Z(A,x){try{return{v:A.apply(this,x)}}catch(T){return{e:T}}}s(Z,"safe");function G(A,x){var T=Z(A);return T.e?x:T.v}s(G,"safeGet");var q;function ie(A){return function(x){return typeof x===A}}s(ie,"_createIs");function z(A){var x="[object "+A+"]";return function(T){return!!(T&&H(T)===x)}}s(z,"_createObjIs");function H(A){return _[b].call(A)}s(H,"objToString");function U(A){return typeof A===f||A===f}s(U,"isUndefined");function V(A){return!te(A)}s(V,"isStrictUndefined");function Y(A){return A===i||U(A)}s(Y,"isNullOrUndefined");function ae(A){return A===i||!te(A)}s(ae,"isStrictNullOrUndefined");function te(A){return!!A||A!==n}s(te,"isDefined");function le(A){return!q&&(q=["string","number","boolean",f,"symbol","bigint"]),A!==l&&q.indexOf(A)!==-1}s(le,"isPrimitiveType");var ce=ie("string"),De=ie(a);function be(A){return!A&&Y(A)?!1:!!A&&typeof A===l}s(be,"isObject");var qe=r(M,"isArray"),Re=z("Date"),Xe=ie("number"),ft=ie("boolean"),at=z("Error");function lt(A){return!!(A&&A.then&&De(A.then))}s(lt,"isPromiseLike");function oe(A){return!(!A||G(function(){return!(A&&0+A)},!A))}s(oe,"isTruthy");var Ne=r(E,"getOwnPropertyDescriptor");function Ae(A,x){return!!A&&_.hasOwnProperty[v](A,x)}s(Ae,"objHasOwnProperty");var Ge=t(r(E,"hasOwn"),K);function K(A,x){return Ae(A,x)||!!Ne(A,x)}s(K,"polyObjHasOwn");function ne(A,x,T){if(A&&be(A)){for(var S in A)if(Ge(A,S)&&x[v](T||A,S,A[S])===-1)break}}s(ne,"objForEachKey");var Fe={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(A){var x={};if(x[Fe.c]=!0,x[Fe.e]=!0,A.l){x.get=function(){return A.l.v};var T=Ne(A.l,"v");T&&T.set&&(x.set=function(S){A.l.v=S})}return ne(A,function(S,P){x[Fe[S]]=V(P)?x[Fe[S]]:P}),x}s(Se,"_createProp");var Ce=r(E,"defineProperty");function Ue(A,x,T){return Ce(A,x,Se(T))}s(Ue,"objDefine");function Ve(A,x,T,S,P){var L={};return ne(A,function(W,se){tt(L,W,x?se:W),tt(L,se,T?se:W)}),S?S(L):L}s(Ve,"_createKeyValueMap");function tt(A,x,T,S){Ce(A,x,{value:T,enumerable:!0,writable:!1})}s(tt,"_assignMapValue");var Ct=t(k),Pt="[object Error]";function yt(A,x){var T=o,S=_[b][v](A);S===Pt&&(A={stack:Ct(A.stack),message:Ct(A.message),name:Ct(A.name)});try{T=JSON.stringify(A,i,x?typeof x=="number"?x:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ct(A)}catch(P){T=" - "+yt(P,x)}return S+": "+T}s(yt,"dumpObj");function Kt(A){throw new Error(A)}s(Kt,"throwError");function Xt(A){throw new TypeError(A)}s(Xt,"throwTypeError");var ar=r(E,"freeze");function ge(A){return A}s(ge,"_doNothing");function Me(A){return A[u]||i}s(Me,"_getProto");var Je=r(E,"assign"),rt=r(E,"keys");function Rt(A){return ar&&ne(A,function(x,T){(qe(T)||be(T))&&Rt(T)}),bt(A)}s(Rt,"objDeepFreeze");var bt=t(ar,ge),Mt=t(r(E,"getPrototypeOf"),Me);function Ot(A){return Ve(A,1,0,bt)}s(Ot,"createEnum");function _t(A){return Ve(A,0,0,bt)}s(_t,"createEnumKeyMap");function kt(A){var x={};return ne(A,function(T,S){tt(x,T,S[1]),tt(x,S[0],S[1])}),bt(x)}s(kt,"createSimpleMap");function St(A){return kt(A)}s(St,"createTypeMap");var qt=_t({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),$t="__tsUtils$gblCfg",Zt;function fr(){var A;return typeof globalThis!==f&&(A=globalThis),!A&&typeof self!==f&&(A=self),!A&&typeof window!==f&&(A=window),!A&&typeof global!==f&&(A=global),A}s(fr,"_getGlobalValue");function xr(){if(!Zt){var A=Z(fr).v||{};Zt=A[$t]=A[$t]||{}}return Zt}s(xr,"_getGlobalConfig");var cr=mr;function mr(A,x,T){var S=x?x[A]:i;return function(P){var L=(P?P[A]:i)||S;if(L||T){var W=arguments;return(L||T).apply(P,L?pe[v](W,1):W)}Xt('"'+Ct(A)+'" not defined for '+yt(P))}}s(mr,"_unwrapFunctionWithPoly");function nr(A){return function(x){return x[A]}}s(nr,"_unwrapProp");var hr=r(N,"min"),Ie=r(N,"max"),O=cr("slice",B),de=cr("substring",B),ye=mr("substr",B,J);function J(A,x,T){return Y(A)&&Xt("Invalid "+yt(A)),T<0?o:(x=x||0,x<0&&(x=Ie(x+A[g],0)),U(T)?O(A,x):O(A,x,x+T))}s(J,"polyStrSubstr");function F(A,x){return de(A,0,x)}s(F,"strLeft");var Te="_urid",Oe;function xt(){if(!Oe){var A=xr();Oe=A.gblSym=A.gblSym||{k:{},s:{}}}return Oe}s(xt,"_globalSymbolRegistry");var Wt;function Lt(A){var x={description:Ct(A),toString:s(function(){return h+"("+A+")"},"toString")};return x[p]=!0,x}s(Lt,"polyNewSymbol");function or(A){var x=xt();if(!Ge(x.k,A)){var T=Lt(A),S=rt(x.s).length;T[Te]=function(){return S+"_"+T[b]()},x.k[A]=T,x.s[T[Te]()]=Ct(A)}return x.k[A]}s(or,"polySymbolFor");function lr(A){!Wt&&(Wt={});var x,T=qt[A];return T&&(x=Wt[T]=Wt[T]||Lt(h+"."+T)),x}s(lr,"polyGetKnownSymbol");var Ut;function It(){Ut=xr()}s(It,"_initTestHooks");function ur(A){var x={};return!Ut&&It(),x.b=Ut.lzy,Ce(x,"v",{configurable:!0,get:s(function(){var T=A();return Ut.lzy||Ce(x,"v",{value:T}),x.b=Ut.lzy,T},"get")}),x}s(ur,"getLazy");function zo(A){return Ce({toJSON:s(function(){return A},"toJSON")},"v",{value:A})}s(zo,"createCachedValue");var Em="window",Cl;function Im(A,x){var T;return function(){return!Ut&&It(),(!T||Ut.lzy)&&(T=zo(Z(A,x).v)),T.v}}s(Im,"_getGlobalInstFn");function Kf(A){return!Ut&&It(),(!Cl||A===!1||Ut.lzy)&&(Cl=zo(Z(fr).v||i)),Cl.v}s(Kf,"getGlobal");function ra(A,x){var T;if(!Cl||x===!1?T=Kf(x):T=Cl.v,T&&T[A])return T[A];if(A===Em)try{return window}catch{}return i}s(ra,"getInst");function up(){return!!D2()}s(up,"hasDocument");var D2=Im(ra,["document"]);function sw(){return!!Tm()}s(sw,"hasWindow");var Tm=Im(ra,[Em]);function Qz(){return!!fp()}s(Qz,"hasNavigator");var fp=Im(ra,["navigator"]),Oz=Im(function(){return!!Z(function(){return process&&(process.versions||{}).node}).v}),A1,aw;function NE(){return A1=zo(Z(ra,[h]).v),A1}s(NE,"_initSymbol");function Uz(A){var x=(Ut.lzy?0:A1)||NE();return x.v?x.v[A]:n}s(Uz,"_getSymbolKey");function bc(){return!!dp()}s(bc,"hasSymbol");function dp(){return!Ut&&It(),((Ut.lzy?0:A1)||NE()).v}s(dp,"getSymbol");function w3(A,x){var T=qt[A];!Ut&&It();var S=(Ut.lzy?0:A1)||NE();return S.v?S.v[T||A]:x?n:lr(A)}s(w3,"getKnownSymbol");function y1(A,x){!Ut&&It();var T=(Ut.lzy?0:A1)||NE();return T.v?T.v(A):x?i:Lt(A)}s(y1,"newSymbol");function _3(A){return!Ut&&It(),aw=(Ut.lzy?0:aw)||zo(Z(Uz,["for"]).v),(aw.v||or)(A)}s(_3,"symbolFor");function mp(A){return!!A&&De(A.next)}s(mp,"isIterator");function LE(A){return!ae(A)&&De(A[w3(3)])}s(LE,"isIterable");var S3;function lw(A,x,T){if(A&&(mp(A)||(!S3&&(S3=zo(w3(3))),A=A[S3.v]?A[S3.v]():i),mp(A))){var S=n,P=n;try{for(var L=0;!(P=A.next()).done&&x[v](T||A,P.value,L,A)!==-1;)L++}catch(W){S={e:W},A.throw&&(P=i,A.throw(S))}finally{try{P&&!P.done&&A.return&&A.return(P)}finally{if(S)throw S.e}}}}s(lw,"iterForOf");function P2(A,x,T){return A.apply(x,T)}s(P2,"fnApply");function N2(A,x){return!U(x)&&A&&(qe(x)?P2(A.push,A,x):mp(x)||LE(x)?lw(x,function(T){A.push(T)}):A.push(x)),A}s(N2,"arrAppend");function Jr(A,x,T){if(A)for(var S=A[g]>>>0,P=0;P<S&&!(P in A&&x[v](T||A,A[P],P,A)===-1);P++);}s(Jr,"arrForEach");var t0=cr("indexOf",re),C1=cr("map",re);function L2(A,x,T){return((A?A.slice:i)||pe).apply(A,pe[v](arguments,1))}s(L2,"arrSlice");var qz=cr("reduce",re),hp=t(r(E,"create"),Wz);function Wz(A){if(!A)return{};var x=typeof A;x!==l&&x!==a&&Xt("Prototype must be an Object or function: "+yt(A));function T(){}return s(T,"tempFunc"),T[c]=A,new T}s(Wz,"polyObjCreate");var cw;function R3(A,x){var T=E.setPrototypeOf||function(S,P){var L;!cw&&(cw=zo((L={},L[u]=[],L instanceof Array))),cw.v?S[u]=P:ne(P,function(W,se){return S[W]=se})};return T(A,x)}s(R3,"objSetPrototypeOf");function Gz(A,x,T){Z(Ue,[x,y,{v:A,c:!0,e:!1}]),x=R3(x,T);function S(){this[m]=x,Z(Ue,[this,y,{v:A,c:!0,e:!1}])}return s(S,"__"),x[c]=T===i?hp(T):(S[c]=T[c],new S),x}s(Gz,"_createCustomError");function k3(A,x){x&&(A[y]=x)}s(k3,"_setName");function Na(A,x,T){var S=T||Error,P=S[c][y],L=Error.captureStackTrace;return Gz(A,function(){var W=this,se=arguments;try{Z(k3,[S,A]);var fe=P2(S,W,pe[v](se))||W;if(fe!==W){var ve=Mt(W);ve!==Mt(fe)&&R3(fe,ve)}return L&&L(fe,W[m]),x&&x(fe,se),fe}finally{Z(k3,[S,P])}},S)}s(Na,"createCustomError");function pp(){return(Date.now||B3)()}s(pp,"utcNow");function B3(){return new Date().getTime()}s(B3,"polyUtcNow");function rD(A){return s(function(T){return Y(T)&&Xt("strTrim called ["+yt(T)+"]"),T&&T.replace&&(T=T.replace(A,o)),T},"_doTrim")}s(rD,"_createTrimFn");var Hz=rD(/^\s+|(?=\s)\s+$/g),Hi=mr("trim",B,Hz),x1=r(N,"floor"),gp,uw,D3;function r0(A){if(!A||typeof A!==l)return!1;D3||(D3=sw()?Tm():!0);var x=!1;if(A!==D3){uw||(gp=Function[c][b],uw=gp[v](E));try{var T=Mt(A);x=!T,x||(Ae(T,m)&&(T=T[m]),x=!!(T&&typeof T===a&&gp[v](T)===uw))}catch{}}return x}s(r0,"isPlainObject");function nD(A){return A.value&&FE(A),!0}s(nD,"_defaultDeepCopyHandler");var iD=[F2,FE,sD,Ap];function fw(A,x,T,S){var P;return Jr(A,function(L){if(L.k===x)return P=L,-1}),P||(P={k:x,v:x},A.push(P),S(P)),P.v}s(fw,"_getSetVisited");function v1(A,x,T,S){var P=T.handler,L=T.path?S?T.path.concat(S):T.path:[],W={handler:T.handler,src:T.src,path:L},se=typeof x,fe=!1,ve=x===i;ve||(x&&se===l?fe=r0(x):ve=le(se));var ke={type:se,isPrim:ve,isPlain:fe,value:x,result:x,path:L,origin:T.src,copy:s(function(We,et){return v1(A,We,et?W:T,et)},"copy"),copyTo:s(function(We,et){return dw(A,We,et,W)},"copyTo")};return ke.isPrim?P&&P[v](T,ke)?ke.result:x:fw(A,x,L,function(We){Ue(ke,"result",{g:s(function(){return We.v},"g"),s:s(function(Ye){We.v=Ye},"s")});for(var et=0,He=P;!(He||(et<iD.length?iD[et++]:nD))[v](T,ke);)He=i})}s(v1,"_deepCopy");function dw(A,x,T,S){if(!Y(T))for(var P in T)x[P]=v1(A,T[P],S,P);return x}s(dw,"_copyProps");function oD(A,x,T){var S={handler:T,src:x,path:[]};return dw([],A,x,S)}s(oD,"objCopyProps");function mw(A,x){var T={handler:x,src:A};return v1([],A,T)}s(mw,"objDeepCopy");function F2(A){var x=A.value;if(qe(x)){var T=A.result=[];return T.length=x.length,A.copyTo(T,x),!0}return!1}s(F2,"arrayDeepCopyHandler");function Ap(A){var x=A.value;return Re(x)?(A.result=new Date(x.getTime()),!0):!1}s(Ap,"dateDeepCopyHandler");function sD(A){return A.type===a}s(sD,"functionDeepCopyHandler");function FE(A){var x=A.value;if(x&&A.isPlain){var T=A.result={};return A.copyTo(T,x),!0}return!1}s(FE,"plainObjDeepCopyHandler");function hw(A,x){return Jr(x,function(T){oD(A,T)}),A}s(hw,"_doExtend");function ME(A,x,T,S,P,L,W){return hw(mw(A)||{},pe[v](arguments))}s(ME,"deepExtend");var jz=nr(g),Vz=r(N,"round"),aD=mr("endsWith",B,$z);function $z(A,x,T){ce(A)||Xt("'"+yt(A)+"' is not a string");var S=ce(x)?x:Ct(x),P=!U(T)&&T<A[g]?T:A[g];return de(A,P-S[g],P)===S}s($z,"polyStrEndsWith");var wm=cr("indexOf",B),QE="ref",pw="unref",OE="hasRef",zz="enabled";function UE(A,x,T){var S=!0,P=A?x(i):i,L;function W(){return S=!1,P&&P[pw]&&P[pw](),L}s(W,"_unref");function se(){P&&T(P),P=i}s(se,"_cancel");function fe(){return P=x(P),S||W(),L}s(fe,"_refresh");function ve(ke){!ke&&P&&se(),ke&&!P&&fe()}return s(ve,"_setEnabled"),L={cancel:se,refresh:fe},L[OE]=function(){return P&&P[OE]?P[OE]():S},L[QE]=function(){return S=!0,P&&P[QE]&&P[QE](),L},L[pw]=W,L=Ce(L,zz,{get:s(function(){return!!P},"get"),set:ve}),{h:L,dn:s(function(){P=i},"dn")}}s(UE,"_createTimerHandler");function qE(A,x,T){var S=qe(x),P=S?x.length:0,L=(P>0?x[0]:S?n:x)||setTimeout,W=(P>1?x[1]:n)||clearTimeout,se=T[0];T[0]=function(){fe.dn(),P2(se,n,pe[v](arguments))};var fe=UE(A,function(ve){if(ve){if(ve.refresh)return ve.refresh(),ve;P2(W,n,[ve])}return P2(L,n,T)},function(ve){P2(W,n,[ve])});return fe.h}s(qE,"_createTimeoutWith");function yp(A,x){return qE(!0,n,pe[v](arguments))}s(yp,"scheduleTimeout");function WE(A,x){return qE(!1,n,pe[v](arguments))}s(WE,"createTimeout");var b1,F0="constructor",M0="prototype",E1="function",M2="_dynInstFuncs",Cp="_isDynProxy",Q2="_dynClass",gw="_dynCls$",I1="_dynInstChk",O2=I1,Aw="_dfOpts",GE="_unknown_",U2="__proto__",P3="_dyn"+U2,HE="__dynProto$Gbl",q2="_dynInstProto",W2="useBaseInst",N3="setInstFuncs",T1=Object,G2=T1.getPrototypeOf,yw=T1.getOwnPropertyNames,jE=Kf(),H2=jE[HE]||(jE[HE]={o:(b1={},b1[N3]=!0,b1[W2]=!0,b1),n:1e3});function j2(A){return A&&(A===T1[M0]||A===Array[M0])}s(j2,"_isObjectOrArrayPrototype");function _m(A){return j2(A)||A===Function[M0]}s(_m,"_isObjectArrayOrFunctionPrototype");function Jf(A){var x;if(A){if(G2)return G2(A);var T=A[U2]||A[M0]||(A[F0]?A[F0][M0]:null);x=A[P3]||T,Ae(A,P3)||(delete A[q2],x=A[P3]=A[q2]||A[P3],A[q2]=T)}return x}s(Jf,"_getObjProto");function V2(A,x){var T=[];if(yw)T=yw(A);else for(var S in A)typeof S=="string"&&Ae(A,S)&&T.push(S);if(T&&T.length>0)for(var P=0;P<T.length;P++)x(T[P])}s(V2,"_forEachProp");function $2(A,x,T){return x!==F0&&typeof A[x]===E1&&(T||Ae(A,x))&&x!==U2&&x!==M0}s($2,"_isDynamicCandidate");function VE(A){Xt("DynamicProto: "+A)}s(VE,"_throwTypeError");function Cw(A){var x=hp(null);return V2(A,function(T){!x[T]&&$2(A,T,!1)&&(x[T]=A[T])}),x}s(Cw,"_getInstanceFuncs");function xw(A,x){for(var T=A.length-1;T>=0;T--)if(A[T]===x)return!0;return!1}s(xw,"_hasVisited");function Yz(A,x,T,S){function P(fe,ve,ke){var We=ve[ke];if(We[Cp]&&S){var et=fe[M2]||{};et[O2]!==!1&&(We=(et[ve[Q2]]||{})[ke]||We)}return function(){return We.apply(fe,arguments)}}s(P,"_instFuncProxy");var L=hp(null);V2(T,function(fe){L[fe]=P(x,T,fe)});for(var W=Jf(A),se=[];W&&!_m(W)&&!xw(se,W);)V2(W,function(fe){!L[fe]&&$2(W,fe,!G2)&&(L[fe]=P(x,W,fe))}),se.push(W),W=Jf(W);return L}s(Yz,"_getBaseFuncs");function Kz(A,x,T,S){var P=null;if(A&&Ae(T,Q2)){var L=A[M2]||hp(null);if(P=(L[T[Q2]]||hp(null))[x],P||VE("Missing ["+x+"] "+E1),!P[I1]&&L[O2]!==!1){for(var W=!Ae(A,x),se=Jf(A),fe=[];W&&se&&!_m(se)&&!xw(fe,se);){var ve=se[x];if(ve){W=ve===S;break}fe.push(se),se=Jf(se)}try{W&&(A[x]=P),P[I1]=1}catch{L[O2]=!1}}}return P}s(Kz,"_getInstFunc");function Jz(A,x,T){var S=x[A];return S===T&&(S=Jf(x)[A]),typeof S!==E1&&VE("["+A+"] is not a "+E1),S}s(Jz,"_getProtoFunc");function Xz(A,x,T,S,P){function L(fe,ve){var ke=s(function(){var We=Kz(this,ve,fe,ke)||Jz(ve,fe,ke);return We.apply(this,arguments)},"dynProtoProxy");return ke[Cp]=1,ke}if(s(L,"_createDynamicPrototype"),!j2(A)){var W=T[M2]=T[M2]||hp(null);if(!j2(W)){var se=W[x]=W[x]||hp(null);W[O2]!==!1&&(W[O2]=!!P),j2(se)||V2(T,function(fe){$2(T,fe,!1)&&T[fe]!==S[fe]&&(se[fe]=T[fe],delete T[fe],(!Ae(A,fe)||A[fe]&&!A[fe][Cp])&&(A[fe]=L(A,fe)))})}}}s(Xz,"_populatePrototype");function vw(A,x){if(G2){for(var T=[],S=Jf(x);S&&!_m(S)&&!xw(T,S);){if(S===A)return!0;T.push(S),S=Jf(S)}return!1}return!0}s(vw,"_checkPrototype");function L3(A,x){return Ae(A,M0)?A.name||x||GE:((A||{})[F0]||{}).name||x||GE}s(L3,"_getObjName");function Yl(A,x,T,S){Ae(A,M0)||VE("theClass is an invalid class definition.");var P=A[M0];vw(P,x)||VE("["+L3(A)+"] not in hierarchy of ["+L3(x)+"]");var L=null;Ae(P,Q2)?L=P[Q2]:(L=gw+L3(A,"_")+"$"+H2.n,H2.n++,P[Q2]=L);var W=Yl[Aw],se=!!W[W2];se&&S&&S[W2]!==void 0&&(se=!!S[W2]);var fe=Cw(x),ve=Yz(P,x,fe,se);T(x,ve);var ke=!!G2&&!!W[N3];ke&&S&&(ke=!!S[N3]),Xz(P,L,x,fe,ke!==!1)}s(Yl,"dynamicProto"),Yl[Aw]=H2.o;var qs="function",lD="object",cD="undefined",F3="prototype",bw=Object,Ew=bw[F3];(Kf()||{}).Symbol,(Kf()||{}).Reflect;var $E="hasOwnProperty",uD=s(function(A){for(var x,T=1,S=arguments.length;T<S;T++){x=arguments[T];for(var P in x)Ew[$E].call(x,P)&&(A[P]=x[P])}return A},"__objAssignFnImpl"),Sm=Je||uD,xp=s(function(A,x){return xp=bw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)S[$E](P)&&(T[P]=S[P])},xp(A,x)},"extendStaticsFn");function M3(A,x){typeof x!==qs&&x!==null&&Xt("Class extends value "+String(x)+" is not a constructor or null"),xp(A,x);function T(){this.constructor=A}s(T,"__"),A[F3]=x===null?hp(x):(T[F3]=x[F3],new T)}s(M3,"__extendsFn");function fD(A,x){for(var T=0,S=x.length,P=A.length;T<S;T++,P++)A[P]=x[T];return A}s(fD,"__spreadArrayFn");var zE=Ot,Zz=St,vp=zE({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),z2="toLowerCase",zn="length",Y2="warnToConsole",w1="throwInternal",Rm="watch",YE="apply",ji="push",K2="splice",pa="logger",J2="cancel",Q3="initialize",bp="identifier",O3="removeNotificationListener",KE="addNotificationListener",Xf="isInitialized",X2="value",Lu="getNotifyMgr",Z2="getPlugin",Ep="name",xl="processNext",ey="getProcessTelContext",Zf="enabled",dD="stopPollingInternalLogs",_1="unload",JE="onComplete",ty="version",mD="loggingLevelConsole",S1="createNew",ed="teardown",XE="messageId",R1="message",td="diagLog",ZE="_doTeardown",km="update",rd="getNext",Ip="setNextPlugin",e4="userAgent",Tp="split",wp="replace",Kl="type",Iw="evtName",U3="status",Tw="getAllResponseHeaders",ww="isChildEvt",ry="data",_p="getCtx",Fu="setCtx",hD="itemsReceived",Bm="urlString",_w="headers",Dm="timeout",pD="traceFlags",ny;function Sw(A,x){ny||(ny=Na("AggregationError",function(S,P){P[zn]>1&&(S.errors=P[1])}));var T=A||"One or more errors occurred.";throw Jr(x,function(S,P){T+=`
`.concat(P," > ").concat(yt(S))}),new ny(T,x||[])}s(Sw,"throwAggregationError");var k1="Promise",B1="rejected";function Q0(A,x){return gD(A,function(T){return x?x({status:"fulfilled",rejected:!1,value:T}):T},function(T){return x?x({status:B1,rejected:!0,reason:T}):T})}s(Q0,"doAwaitResponse");function gD(A,x,T,S){var P=A;try{if(lt(A))(x||T)&&(P=A.then(x,T));else try{x&&(P=x(A))}catch(L){if(T)P=T(L);else throw L}}finally{S&&eY(P,S)}return P}s(gD,"doAwait");function eY(A,x){var T=A;return x&&(lt(A)?A.finally?T=A.finally(x):T=A.then(function(S){return x(),S},function(S){throw x(),S}):x()),T}s(eY,"doFinally");var AD=["pending","resolving","resolved",B1],yD="dispatchEvent",q3;function CD(A){var x;return A&&A.createEvent&&(x=A.createEvent("Event")),!!x&&x.initEvent}s(CD,"_hasInitEventFn");function t4(A,x,T,S){var P=D2();!q3&&(q3=zo(!!Z(CD,[P]).v));var L=q3.v?P.createEvent("Event"):S?new Event(x):{};if(T&&T(L),q3.v&&L.initEvent(x,!1,!0),L&&A[yD])A[yD](L);else{var W=A["on"+x];if(W)W(L);else{var se=ra("console");se&&(se.error||se.log)(x,yt(L))}}}s(t4,"emitEvent");var xD="unhandledRejection",tY=xD.toLowerCase(),iy=10,r4;function vD(A){return De(A)?A.toString():yt(A)}s(vD,"dumpFnObj");function bD(A,x,T){var S=L2(arguments,3),P=0,L=!1,W,se=[],fe=!1,ve=null,ke;function We(pr,Pr){try{fe=!0,ve&&ve.cancel(),ve=null;var Hn=A(function(xi,vi){se.push(function(){try{var ho=P===2?pr:Pr,hn=U(ho)?W:De(ho)?ho(W):ho;lt(hn)?hn.then(xi,vi):ho?xi(hn):P===3?vi(hn):xi(hn)}catch($r){vi($r)}}),L&&pt()},S);return Hn}finally{}}s(We,"_then");function et(pr){return We(void 0,pr)}s(et,"_catch");function He(pr){var Pr=pr,Hn=pr;return De(pr)&&(Pr=s(function(xi){return pr&&pr(),xi},"thenFinally"),Hn=s(function(xi){throw pr&&pr(),xi},"catchFinally")),We(Pr,Hn)}s(He,"_finally");function Ye(){return AD[P]}s(Ye,"_strState");function pt(){if(se.length>0){var pr=se.slice();se=[],fe=!0,ve&&ve.cancel(),ve=null,x(pr)}}s(pt,"_processQueue");function ct(pr,Pr){return function(Hn){if(P===Pr){if(pr===2&&lt(Hn)){P=1,Hn.then(ct(2,1),ct(3,1));return}P=pr,L=!0,W=Hn,pt(),!fe&&pr===3&&!ve&&(ve=yp(Tt,iy))}}}s(ct,"_createSettleIfFn");function Tt(){if(!fe)if(fe=!0,Oz())process.emit(xD,W,ke);else{var pr=Tm()||Kf();!r4&&(r4=zo(Z(ra,[k1+"RejectionEvent"]).v)),t4(pr,tY,function(Pr){return Ue(Pr,"promise",{g:s(function(){return ke},"g")}),Pr.reason=W,Pr},!!r4.v)}}s(Tt,"_notifyUnhandledRejection"),ke={then:We,catch:et,finally:He},Ce(ke,"state",{get:Ye}),bc()&&(ke[w3(11)]="IPromise");function Jt(){return"IPromise "+Ye()+(L?" - "+vD(W):"")}return s(Jt,"_toString"),ke.toString=Jt,s(function(){De(T)||Xt(k1+": executor is not a function - "+vD(T));var Pr=ct(3,0);try{T.call(ke,ct(2,0),Pr)}catch(Hn){Pr(Hn)}},"_initialize")(),ke}s(bD,"_createPromise");function rY(A){return function(x){var T=L2(arguments,1);return A(function(S,P){try{var L=[],W=1;lw(x,function(se,fe){se&&(W++,gD(se,function(ve){L[fe]=ve,--W===0&&S(L)},P))}),W--,W===0&&S(L)}catch(se){P(se)}},T)}}s(rY,"_createAllPromise");function nY(A){return zo(function(x){var T=L2(arguments,1);return A(function(S,P){var L=[],W=1;function se(fe,ve){W++,Q0(fe,function(ke){ke.rejected?L[ve]={status:B1,reason:ke.reason}:L[ve]={status:"fulfilled",value:ke.value},--W===0&&S(L)})}s(se,"processItem");try{qe(x)?Jr(x,se):LE(x)?lw(x,se):Xt("Input is not an iterable"),W--,W===0&&S(L)}catch(fe){P(fe)}},T)})}s(nY,"_createAllSettledPromise");function ED(A){Jr(A,function(x){try{x()}catch{}})}s(ED,"syncItemProcessor");function ID(A){var x=Xe(A)?A:0;return function(T){yp(function(){ED(T)},x)}}s(ID,"timeoutItemProcessor");function n4(A,x){return bD(n4,ID(x),A,x)}s(n4,"createAsyncPromise");var i4;function iY(A,x){!i4&&(i4=zo(Z(ra,[k1]).v||null));var T=i4.v;if(!T)return n4(A);De(A)||Xt(k1+": executor is not a function - "+yt(A));var S=0;function P(){return AD[S]}s(P,"_strState");var L=new T(function(W,se){function fe(ke){S=2,W(ke)}s(fe,"_resolve");function ve(ke){S=3,se(ke)}s(ve,"_reject"),A(fe,ve)});return Ce(L,"state",{get:P}),L}s(iY,"createNativePromise");var o4;function s4(A){return bD(s4,ED,A)}s(s4,"createSyncPromise");function n0(A,x){return!o4&&(o4=nY(s4)),o4.v(A,x)}s(n0,"createSyncAllSettledPromise");var a4;function oy(A,x){return!a4&&(a4=zo(iY)),a4.v.call(this,A,x)}s(oy,"createPromise");var Rw=rY(oy),O0=void 0,pi="",Pm="channels",ga="core",Mu="createPerfMgr",l4="disabled",D1="extensionConfig",sy="extensions",U0="processTelemetry",ay="priority",ly="eventsSent",cy="eventsDiscarded",c4="eventsSendRequest",P1="perfEvent",kw="offlineEventsStored",Bw="offlineBatchSent",u4="offlineBatchDrop",W3="getPerfMgr",f4="domain",d4="path",TD="Not dynamic - ",Dw=/-([a-z])/g,oY=/([^\w\d_$])/g,sY=/^(\d+[\w\d_$])/;function m4(A){return!Y(A)}s(m4,"isNotNullOrUndefined");function uy(A){var x=A;return x&&ce(x)&&(x=x[wp](Dw,function(T,S){return S.toUpperCase()}),x=x[wp](oY,"_"),x=x[wp](sY,function(T,S){return"_"+S})),x}s(uy,"normalizeJsName");function vl(A,x){return A&&x?wm(A,x)!==-1:!1}s(vl,"strContains");function G3(A){return A&&A.toISOString()||""}s(G3,"toISOString");function ol(A){return at(A)?A[Ep]:pi}s(ol,"getExceptionName");function Sp(A,x,T,S,P){var L=T;return A&&(L=A[x],L!==T&&(!P||P(L))&&(!S||S(T))&&(L=T,A[x]=L)),L}s(Sp,"setValue");function wD(A,x,T){var S;return A?(S=A[x],!S&&Y(S)&&(S=U(T)?{}:T,A[x]=S)):S=U(T)?{}:T,S}s(wD,"getSetValue");function aY(A,x){var T=null,S=null;return De(A)?T=A:S=A,function(){var P=arguments;if(T&&(S=T()),S)return S[x][YE](S,P)}}s(aY,"_createProxyFunction");function H3(A,x,T,S,P){A&&x&&T&&(P!==!1||U(A[x]))&&(A[x]=aY(T,S))}s(H3,"proxyFunctionAs");function Pw(A,x,T,S){return A&&x&&be(A)&&qe(T)&&Jr(T,function(P){ce(P)&&H3(A,P,x,P,S)}),A}s(Pw,"proxyFunctions");function lY(A){return function(){function x(){var T=this;A&&ne(A,function(S,P){T[S]=P})}return s(x,"class_1"),x}()}s(lY,"createClassFromInterface");function Nw(A){return A&&Je&&(A=bw(Je({},A))),A}s(Nw,"optimizeObject");function _D(A,x,T,S,P,L){var W=arguments,se=W[0]||{},fe=W[zn],ve=!1,ke=1;for(fe>0&&ft(se)&&(ve=se,se=W[ke]||{},ke++),be(se)||(se={});ke<fe;ke++){var We=W[ke],et=qe(We),He=be(We);for(var Ye in We){var pt=et&&Ye in We||He&&Ge(We,Ye);if(pt){var ct=We[Ye],Tt=void 0;if(ve&&ct&&((Tt=qe(ct))||r0(ct))){var Jt=se[Ye];Tt?qe(Jt)||(Jt=[]):r0(Jt)||(Jt={}),ct=_D(ve,Jt,ct)}ct!==void 0&&(se[Ye]=ct)}}}return se}s(_D,"objExtend");function h4(A){try{return A.responseText}catch{}return null}s(h4,"getResponseText");function SD(A,x){return A?"XDomainRequest,Response:"+h4(A)||"":x}s(SD,"formatErrorMessageXdr");function p4(A,x){return A?"XMLHttpRequest,Status:"+A[U3]+",Response:"+h4(A)||A.response||"":x}s(p4,"formatErrorMessageXhr");function RD(A,x){return x&&(Xe(x)?A=[x].concat(A):qe(x)&&(A=x.concat(A))),A}s(RD,"prependTransports");var Lw="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",j3="withCredentials",nd="timeout";function Fw(A,x,T,S,P,L){S===void 0&&(S=!1),P===void 0&&(P=!1);function W(fe,ve,ke){try{fe[ve]=ke}catch{}}s(W,"_wrapSetXhrProp");var se=new XMLHttpRequest;return S&&W(se,Lw,S),T&&W(se,j3,T),se.open(A,x,!P),T&&W(se,j3,T),!P&&L&&W(se,nd,L),se}s(Fw,"openXhr");function kD(A){var x={};if(ce(A)){var T=Hi(A)[Tp](/[\r\n]+/);Jr(T,function(S){if(S){var P=S.indexOf(": ");if(P!==-1){var L=Hi(S.substring(0,P))[z2](),W=Hi(S.substring(P+1));x[L]=W}else x[Hi(S)]=1}})}return x}s(kD,"convertAllHeadersToMap");function Rp(A,x,T){if(!A[T]&&x&&x.getResponseHeader){var S=x.getResponseHeader(T);S&&(A[T]=Hi(S))}return A}s(Rp,"_appendHeader");var In="kill-duration",fy="kill-duration-seconds",N1="time-delta-millis";function L1(A,x){var T={};return A[Tw]?T=kD(A[Tw]()):x&&(T=Rp(T,A,N1),T=Rp(T,A,In),T=Rp(T,A,fy)),T}s(L1,"_getAllResponseHeaders");var Mw="documentMode",V3="location",dy="console",g4="JSON",Qw="crypto",A4="msCrypto",my="msie",F1="trident/",Ow="XMLHttpRequest",q0=null,hy=null,id=!1,Ec=null,py=null;function $3(A,x){var T=!1;if(A){try{if(T=x in A,!T){var S=A[F3];S&&(T=x in S)}}catch{}if(!T)try{var P=new A;T=!U(P[x])}catch{}}return T}s($3,"_hasProperty");function gy(A){if(A&&id){var x=ra("__mockLocation");if(x)return x}return typeof location===lD&&location?location:ra(V3)}s(gy,"getLocation");function z3(){return typeof console!==cD?console:ra(dy)}s(z3,"getConsole");function Ay(){return!!(typeof JSON===lD&&JSON||ra(g4)!==null)}s(Ay,"hasJSON");function i0(){return Ay()?JSON||ra(g4):null}s(i0,"getJSON");function y4(){return ra(Qw)}s(y4,"getCrypto");function C4(){return ra(A4)}s(C4,"getMsCrypto");function Qu(){var A=fp();if(A&&(A[e4]!==hy||q0===null)){hy=A[e4];var x=(hy||pi)[z2]();q0=vl(x,my)||vl(x,F1)}return q0}s(Qu,"isIE");function yy(A){if(A===void 0&&(A=null),!A){var x=fp()||{};A=x?(x.userAgent||pi)[z2]():pi}var T=(A||pi)[z2]();if(vl(T,my)){var S=D2()||{};return Ie(parseInt(T[Tp](my)[1]),S[Mw]||0)}else if(vl(T,F1)){var P=parseInt(T[Tp](F1)[1]);if(P)return P+4}return null}s(yy,"getIEVersion");function kp(A){return(py===null||A===!1)&&(py=Qz()&&!!fp().sendBeacon),py}s(kp,"isBeaconsSupported");function Y3(A){var x=!1;try{x=!!ra("fetch");var T=ra("Request");x&&A&&T&&(x=$3(T,"keepalive"))}catch{}return x}s(Y3,"isFetchSupported");function Uw(){return Ec===null&&(Ec=typeof XDomainRequest!==cD,Ec&&qw()&&(Ec=Ec&&!$3(ra(Ow),"withCredentials"))),Ec}s(Uw,"useXDomainRequest");function qw(){var A=!1;try{var x=ra(Ow);A=!!x}catch{}return A}s(qw,"isXhrSupported");var sl=4294967296,od=4294967295,x4=123456789,Ww=987654321,Nm=!1,W0=x4,Cy=Ww;function Gw(A){A<0&&(A>>>=0),W0=x4+A&od,Cy=Ww-A&od,Nm=!0}s(Gw,"_mwcSeed");function BD(){try{var A=pp()&2147483647;Gw((Math.random()*sl^A)+A)}catch{}}s(BD,"_autoSeedMwc");function Hw(A){var x=0,T=y4()||C4();return T&&T.getRandomValues&&(x=T.getRandomValues(new Uint32Array(1))[0]&od),x===0&&Qu()&&(Nm||BD(),x=DD()&od),x===0&&(x=x1(sl*Math.random()|0)),A||(x>>>=0),x}s(Hw,"random32");function DD(A){Cy=36969*(Cy&65535)+(Cy>>16)&od,W0=18e3*(W0&65535)+(W0>>16)&od;var x=(Cy<<16)+(W0&65535)>>>0&od|0;return A||(x>>>=0),x}s(DD,"mwcRandom32");function cY(A){A===void 0&&(A=22);for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Hw()>>>0,S=0,P=pi;P[zn]<A;)S++,P+=x.charAt(T&63),T>>>=6,S===5&&(T=(Hw()<<2&4294967295|T&3)>>>0,S=0);return P}s(cY,"newId");var xy="3.3.6",uY="."+cY(6),fY=0;function PD(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType}s(PD,"_canAcceptData");function ND(A,x){var T=x[A.id];if(!T){T={};try{PD(x)&&Ue(x,A.id,{e:!1,v:T})}catch{}}return T}s(ND,"_getCache");function Lm(A,x){return x===void 0&&(x=!1),uy(A+fY+++(x?"."+xy:pi)+uY)}s(Lm,"createUniqueNamespace");function LD(A){var x={id:Lm("_aiData-"+(A||pi)+"."+xy),accept:s(function(T){return PD(T)},"accept"),get:s(function(T,S,P,L){var W=T[x.id];return W?W[uy(S)]:(L&&(W=ND(x,T),W[uy(S)]=P),P)},"get"),kill:s(function(T,S){if(T&&T[S])try{delete T[S]}catch{}},"kill")};return x}s(LD,"createElmNodeData");function vy(A){return A&&be(A)&&(A.isVal||A.fb||Ge(A,"v")||Ge(A,"mrg")||Ge(A,"ref")||A.set)}s(vy,"_isConfigDefaults");function FD(A,x,T){var S,P=T.dfVal||te;if(x&&T.fb){var L=T.fb;qe(L)||(L=[L]);for(var W=0;W<L[zn];W++){var se=L[W],fe=x[se];if(P(fe)?S=fe:A&&(fe=A.cfg[se],P(fe)&&(S=fe),A.set(A.cfg,Ct(se),fe)),P(S))break}}return!P(S)&&P(T.v)&&(S=T.v),S}s(FD,"_getDefault");function jw(A,x,T){var S=T;if(T&&vy(T)&&(S=FD(A,x,T)),S){vy(S)&&(S=jw(A,x,S));var P;qe(S)?(P=[],P[zn]=S[zn]):r0(S)&&(P={}),P&&(ne(S,function(L,W){W&&vy(W)&&(W=jw(A,x,W)),P[L]=W}),S=P)}return S}s(jw,"_resolveDefaultValue");function Vw(A,x,T,S){var P,L,W,se=S,fe,ve,ke,We;vy(se)?(P=se.isVal,L=se.set,ke=se.rdOnly,We=se.blkVal,fe=se.mrg,ve=se.ref,!ve&&U(ve)&&(ve=!!fe),W=FD(A,x,se)):W=S,We&&A.blkVal(x,T);var et,He=!0,Ye=x[T];(Ye||!Y(Ye))&&(et=Ye,He=!1,P&&et!==W&&!P(et)&&(et=W,He=!0),L&&(et=L(et,W,x),He=et===W)),He?W?et=jw(A,x,W):et=W:(r0(et)||qe(W))&&fe&&W&&(r0(W)||qe(W))&&ne(W,function(pt,ct){Vw(A,et,pt,ct)}),A.set(x,T,et),ve&&A.ref(x,T),ke&&A.rdOnly(x,T)}s(Vw,"_applyDefaultValue");var Bp=_3("[[ai_dynCfg_1]]"),MD=_3("[[ai_blkDynCfg_1]]"),QD=_3("[[ai_frcDynCfg_1]]");function OD(A){if(A){var x;if(qe(A)?(x=[],x[zn]=A[zn]):r0(A)&&(x={}),x)return ne(A,function(T,S){x[T]=OD(S)}),x}return A}s(OD,"_cfgDeepCopy");function dY(A){if(A){var x=A[Bp]||A;if(x.cfg&&(x.cfg===A||x.cfg[Bp]===x))return x}return null}s(dY,"getDynamicConfigHandler");function mY(A){if(A&&(r0(A)||qe(A)))try{A[MD]=!0}catch{}return A}s(mY,"blockDynamicConversion");function $w(A,x,T){var S=!1;return T&&!A[x.blkVal]&&(S=T[QD],!S&&!T[MD]&&(S=r0(T)||qe(T))),S}s($w,"_canMakeDynamic");function by(A){Xt("InvalidAccess:"+A)}s(by,"throwInvalidAccess");var hY=["push","pop","shift","unshift","splice"],K3=s(function(A,x,T,S){A&&A[w1](3,108,"".concat(T," [").concat(x,"] failed - ")+yt(S))},"_throwDynamicError");function Dp(A,x,T){qe(x)&&Jr(hY,function(S){var P=x[S];x[S]=function(){for(var L=[],W=0;W<arguments.length;W++)L[W]=arguments[W];var se=P[YE](this,L);return Ty(A,x,T,"Patching"),se}})}s(Dp,"_patchArray");function Ou(A,x){var T=Ne(A,x);return T&&T.get}s(Ou,"_getOwnPropGetter");function UD(A,x,T,S){var P={n:T,h:[],trk:s(function(ve){ve&&ve.fn&&(t0(P.h,ve)===-1&&P.h[ji](ve),A.trk(ve,P))},"trk"),clr:s(function(ve){var ke=t0(P.h,ve);ke!==-1&&P.h[K2](ke,1)},"clr")},L=!0,W=!1;function se(){L&&(W=W||$w(se,A,S),S&&!S[Bp]&&W&&(S=Ty(A,S,T,"Converting")),L=!1);var ve=A.act;return ve&&P.trk(ve),S}s(se,"_getProperty"),se[A.prop]={chng:s(function(){A.add(P)},"chng")};function fe(ve){if(S!==ve){se[A.ro]&&!A.upd&&by("["+T+"] is read-only:"+yt(x)),L&&(W=W||$w(se,A,S),L=!1);var ke=W&&se[A.rf];if(W)if(ke){ne(S,function(et){S[et]=ve?ve[et]:O0});try{ne(ve,function(et,He){Ey(A,S,et,He)}),ve=S}catch(et){K3((A.hdlr||{})[pa],T,"Assigning",et),W=!1}}else S&&S[Bp]&&ne(S,function(et){var He=Ou(S,et);if(He){var Ye=He[A.prop];Ye&&Ye.chng()}});if(ve!==S){var We=ve&&$w(se,A,ve);!ke&&We&&(ve=Ty(A,ve,T,"Converting")),S=ve,W=We}A.add(P)}}s(fe,"_setProperty"),Ue(x,P.n,{g:se,s:fe})}s(UD,"_createDynamicProperty");function Ey(A,x,T,S){if(x){var P=Ou(x,T),L=P&&!!P[A.prop];L?x[T]=S:UD(A,x,T,S)}return x}s(Ey,"_setDynamicProperty");function Iy(A,x,T,S){if(x){var P=Ou(x,T),L=P&&!!P[A.prop],W=S&&S[0],se=S&&S[1],fe=S&&S[2];if(!L){if(fe)try{mY(x)}catch(ve){K3((A.hdlr||{})[pa],T,"Blocking",ve)}try{Ey(A,x,T,x[T]),P=Ou(x,T)}catch(ve){K3((A.hdlr||{})[pa],T,"State",ve)}}W&&(P[A.rf]=W),se&&(P[A.ro]=se),fe&&(P[A.blkVal]=!0)}return x}s(Iy,"_setDynamicPropertyState");function Ty(A,x,T,S){try{ne(x,function(P,L){Ey(A,x,P,L)}),x[Bp]||(Ce(x,Bp,{get:s(function(){return A.hdlr},"get")}),Dp(A,x,T))}catch(P){K3((A.hdlr||{})[pa],T,S,P)}return x}s(Ty,"_makeDynamicObject");var J3="[[ai_",X3="]]";function pY(A){var x=y1(J3+"get"+A.uid+X3),T=y1(J3+"ro"+A.uid+X3),S=y1(J3+"rf"+A.uid+X3),P=y1(J3+"blkVal"+A.uid+X3),L=y1(J3+"dtl"+A.uid+X3),W=null,se=null,fe;function ve(He,Ye){var pt=fe.act;try{fe.act=He,He&&He[L]&&(Jr(He[L],function(Tt){Tt.clr(He)}),He[L]=[]),Ye({cfg:A.cfg,set:A.set.bind(A),setDf:A.setDf.bind(A),ref:A.ref.bind(A),rdOnly:A.rdOnly.bind(A)})}catch(Tt){var ct=A[pa];throw ct&&ct[w1](1,107,yt(Tt)),Tt}finally{fe.act=pt||null}}s(ve,"_useHandler");function ke(){if(W){var He=W;W=null,se&&se[J2](),se=null;var Ye=[];if(Jr(He,function(pt){if(pt&&(pt[L]&&(Jr(pt[L],function(ct){ct.clr(pt)}),pt[L]=null),pt.fn))try{ve(pt,pt.fn)}catch(ct){Ye[ji](ct)}}),W)try{ke()}catch(pt){Ye[ji](pt)}Ye[zn]>0&&Sw("Watcher error(s): ",Ye)}}s(ke,"_notifyWatchers");function We(He){if(He&&He.h[zn]>0){W||(W=[]),se||(se=yp(function(){se=null,ke()},0));for(var Ye=0;Ye<He.h[zn];Ye++){var pt=He.h[Ye];pt&&t0(W,pt)===-1&&W[ji](pt)}}}s(We,"_addWatcher");function et(He,Ye){if(He){var pt=He[L]=He[L]||[];t0(pt,Ye)===-1&&pt[ji](Ye)}}return s(et,"_trackHandler"),fe={prop:x,ro:T,rf:S,blkVal:P,hdlr:A,add:We,notify:ke,use:ve,trk:et},fe}s(pY,"_createState");function v4(A,x){var T={fn:x,rm:s(function(){T.fn=null,A=null,x=null},"rm")};return Ue(T,"toJSON",{v:s(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),A.use(T,x),T}s(v4,"_createAndUseHandler");function qD(A,x,T){var S=dY(x);if(S)return S;var P=Lm("dyncfg",!0),L=x&&T!==!1?x:OD(x),W;function se(){W.notify()}s(se,"_notifyWatchers");function fe(ct,Tt,Jt){try{ct=Ey(W,ct,Tt,Jt)}catch(pr){K3(A,Tt,"Setting value",pr)}return ct[Tt]}s(fe,"_setValue");function ve(ct){return v4(W,ct)}s(ve,"_watch");function ke(ct,Tt){W.use(null,function(Jt){var pr=W.upd;try{U(Tt)||(W.upd=Tt),ct(Jt)}finally{W.upd=pr}})}s(ke,"_block");function We(ct,Tt){var Jt;return Iy(W,ct,Tt,(Jt={},Jt[0]=!0,Jt))[Tt]}s(We,"_ref");function et(ct,Tt){var Jt;return Iy(W,ct,Tt,(Jt={},Jt[1]=!0,Jt))[Tt]}s(et,"_rdOnly");function He(ct,Tt){var Jt;return Iy(W,ct,Tt,(Jt={},Jt[2]=!0,Jt))[Tt]}s(He,"_blkPropValue");function Ye(ct,Tt){return Tt&&ne(Tt,function(Jt,pr){Vw(pt,ct,Jt,pr)}),ct}s(Ye,"_applyDefaults");var pt={uid:null,cfg:L,logger:A,notify:se,set:fe,setDf:Ye,watch:ve,ref:We,rdOnly:et,blkVal:He,_block:ke};return Ue(pt,"uid",{c:!1,e:!1,w:!1,v:P}),W=pY(pt),Ty(W,L,"config","Creating"),pt}s(qD,"_createDynamicHandler");function WD(A,x){A?(A[Y2](x),A[w1](2,108,x)):by(x)}s(WD,"_logInvalidAccess");function G0(A,x,T,S){var P=qD(T,A||{},S);return x&&P.setDf(P.cfg,x),P}s(G0,"createDynamicConfig");function Fm(A,x,T){var S=A[Bp]||A;return S.cfg&&(S.cfg===A||S.cfg[Bp]===S)?S[Rm](x):(WD(T,TD+yt(A)),G0(A,null,T)[Rm](x))}s(Fm,"onConfigChange");function wy(A,x){if(A&&A[_1])return A[_1](x)}s(wy,"runTargetUnload");function GD(A,x,T){var S;return T||(S=oy(function(P){T=P})),A&&jz(A)>0?Q0(wy(A[0],x),function(){GD(L2(A,1),x,T)}):T(),S}s(GD,"doUnloadAll");var gY=500,HD="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function AY(A,x,T){return!A&&Y(A)?x:ft(A)?A:Ct(A)[z2]()==="true"}s(AY,"_stringToBoolOrDefault");function yY(A){return{mrg:!0,v:A}}s(yY,"cfgDfMerge");function zw(A,x,T){return{fb:T,isVal:A,v:x}}s(zw,"cfgDfValidate");function sd(A,x){return{fb:x,set:AY,v:!!A}}s(sd,"cfgDfBoolean");var b4=[ly,cy,c4,P1],E4=null,I4;function CY(A,x){return function(){var T=arguments,S=jD(x);if(S){var P=S.listener;P&&P[A]&&P[A][YE](P,T)}}}s(CY,"_listenerProxyFunc");function xY(){var A=ra("Microsoft");return A&&(E4=A.ApplicationInsights),E4}s(xY,"_getExtensionNamespace");function jD(A){var x=E4;return!x&&A.disableDbgExt!==!0&&(x=E4||xY()),x?x.ChromeDbgExt:null}s(jD,"getDebugExt");function vY(A){if(!I4){I4={};for(var x=0;x<b4[zn];x++)I4[b4[x]]=CY(b4[x],A)}return I4}s(vY,"getDebugListener");var _y,VD="warnToConsole",bY="AI (Internal): ",EY="AI: ",IY="AITR_",$D={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Sy=(_y={},_y[0]=null,_y[1]="errorToConsole",_y[2]=VD,_y[3]="debugToConsole",_y);function o0(A){return A?'"'+A[wp](/\"/g,pi)+'"':pi}s(o0,"_sanitizeDiagnosticText");function Z3(A,x){var T=z3();if(T){var S="log";T[A]&&(S=A),De(T[S])&&T[S](x)}}s(Z3,"_logToConsole");var T4=function(){function A(x,T,S,P){S===void 0&&(S=!1);var L=this;L[XE]=x,L[R1]=(S?EY:bY)+x;var W=pi;Ay()&&(W=i0().stringify(P));var se=(T?" message:"+o0(T):pi)+(P?" props:"+o0(W):pi);L[R1]+=se}return s(A,"_InternalLogMessage"),A.dataType="MessageData",A}();function ex(A,x){return(A||{})[pa]||new tx(x)}s(ex,"safeGetLogger");var tx=function(){function A(x){this.identifier="DiagnosticLogger",this.queue=[];var T=0,S={},P,L,W,se,fe;Yl(A,this,function(ve){fe=We(x||{}),ve.consoleLoggingLevel=function(){return P},ve[w1]=function(Ye,pt,ct,Tt,Jt){Jt===void 0&&(Jt=!1);var pr=new T4(pt,ct,Jt,Tt);if(se)throw yt(pr);var Pr=Sy[Ye]||VD;if(U(pr[R1]))He("throw"+(Ye===1?"Critical":"Warning"),pr);else{if(Jt){var Hn=+pr[XE];!S[Hn]&&P>=Ye&&(ve[Pr](pr[R1]),S[Hn]=!0)}else P>=Ye&&ve[Pr](pr[R1]);ke(Ye,pr)}},ve.debugToConsole=function(Ye){Z3("debug",Ye),He("warning",Ye)},ve[Y2]=function(Ye){Z3("warn",Ye),He("warning",Ye)},ve.errorToConsole=function(Ye){Z3("error",Ye),He("error",Ye)},ve.resetInternalMessageCount=function(){T=0,S={}},ve.logInternalMessage=ke,ve[_1]=function(Ye){fe&&fe.rm(),fe=null};function ke(Ye,pt){if(!et()){var ct=!0,Tt=IY+pt[XE];if(S[Tt]?ct=!1:S[Tt]=!0,ct&&(Ye<=L&&(ve.queue[ji](pt),T++,He(Ye===1?"error":"warn",pt)),T===W)){var Jt="Internal events throttle limit per PageView reached for this app.",pr=new T4(23,Jt,!1);ve.queue[ji](pr),Ye===1?ve.errorToConsole(Jt):ve[Y2](Jt)}}}s(ke,"_logInternalMessage");function We(Ye){return Fm(G0(Ye,$D,ve).cfg,function(pt){var ct=pt.cfg;P=ct[mD],L=ct.loggingLevelTelemetry,W=ct.maxMessageLimit,se=ct.enableDebug})}s(We,"_setDefaultsFromConfig");function et(){return T>=W}s(et,"_areInternalMessagesThrottled");function He(Ye,pt){var ct=jD(x||{});ct&&ct[td]&&ct[td](Ye,pt)}s(He,"_debugExtMsg")})}return s(A,"DiagnosticLogger"),A.__ieDyn=1,A}();function Yw(A){return A||new tx}s(Yw,"_getLogger");function Or(A,x,T,S,P,L){L===void 0&&(L=!1),Yw(A)[w1](x,T,S,P,L)}s(Or,"_throwInternal");function w4(A,x){Yw(A)[Y2](x)}s(w4,"_warnToConsole");var rx,Pp,zD="toGMTString",YD="toUTCString",_4="cookie",Mm="expires",KD="isCookieUseDisabled",S4="disableCookiesUsage",JD="_ckMgr",R4=null,Ry=null,k4=null,ad,XD={},ZD={},eP=(rx={cookieCfg:yY((Pp={},Pp[f4]={fb:"cookieDomain",dfVal:m4},Pp.path={fb:"cookiePath",dfVal:m4},Pp.enabled=O0,Pp.ignoreCookies=O0,Pp.blockedCookies=O0,Pp)),cookieDomain:O0,cookiePath:O0},rx[S4]=O0,rx);function Kw(){!ad&&(ad=ur(function(){return D2()}))}s(Kw,"_getDoc");function nx(A){return A?A.isEnabled():!0}s(nx,"_isMgrEnabled");function Jw(A,x){return x&&A&&qe(A.ignoreCookies)?t0(A.ignoreCookies,x)!==-1:!1}s(Jw,"_isIgnoredCookie");function TY(A,x){return x&&A&&qe(A.blockedCookies)&&t0(A.blockedCookies,x)!==-1?!0:Jw(A,x)}s(TY,"_isBlockedCookie");function Xw(A,x){var T=x[Zf];if(Y(T)){var S=void 0;U(A[KD])||(S=!A[KD]),U(A[S4])||(S=!A[S4]),T=S}return T}s(Xw,"_isCfgEnabled");function wY(A,x){var T,S,P,L,W,se,fe,ve;A=G0(A||ZD,null,x).cfg,L=Fm(A,function(We){We.setDf(We.cfg,eP),T=We.ref(We.cfg,"cookieCfg"),S=T[d4]||"/",P=T[f4],W=Xw(A,T)!==!1,se=T.getCookie||_Y,fe=T.setCookie||ky,ve=T.delCookie||ky},x);var ke={isEnabled:s(function(){var We=Xw(A,T)!==!1&&W&&tP(x),et=ZD[JD];return We&&et&&ke!==et&&(We=nx(et)),We},"isEnabled"),setEnabled:s(function(We){W=We!==!1,T[Zf]=We},"setEnabled"),set:s(function(We,et,He,Ye,pt){var ct=!1;if(nx(ke)&&!TY(T,We)){var Tt={},Jt=Hi(et||pi),pr=wm(Jt,";");if(pr!==-1&&(Jt=Hi(F(et,pr)),Tt=Zw(de(et,pr+1))),Sp(Tt,f4,Ye||P,oe,U),!Y(He)){var Pr=Qu();if(U(Tt[Mm])){var Hn=pp(),xi=Hn+He*1e3;if(xi>0){var vi=new Date;vi.setTime(xi),Sp(Tt,Mm,rP(vi,Pr?zD:YD)||rP(vi,Pr?zD:YD)||pi,oe)}}Pr||Sp(Tt,"max-age",pi+He,null,U)}var ho=gy();ho&&ho.protocol==="https:"&&(Sp(Tt,"secure",null,null,U),Ry===null&&(Ry=!SY((fp()||{})[e4])),Ry&&Sp(Tt,"SameSite","None",null,U)),Sp(Tt,d4,pt||S,null,U),fe(We,nP(Jt,Tt)),ct=!0}return ct},"set"),get:s(function(We){var et=pi;return nx(ke)&&!Jw(T,We)&&(et=se(We)),et},"get"),del:s(function(We,et){var He=!1;return nx(ke)&&(He=ke.purge(We,et)),He},"del"),purge:s(function(We,et){var He,Ye=!1;if(tP(x)){var pt=(He={},He[d4]=et||"/",He[Mm]="Thu, 01 Jan 1970 00:00:01 GMT",He);Qu()||(pt["max-age"]="0"),ve(We,nP(pi,pt)),Ye=!0}return Ye},"purge"),unload:s(function(We){L&&L.rm(),L=null},"unload")};return ke[JD]=ke,ke}s(wY,"createCookieMgr");function tP(A){if(R4===null){R4=!1,!ad&&Kw();try{var x=ad.v||{};R4=x[_4]!==void 0}catch(T){Or(A,2,68,"Cannot access document.cookie - "+ol(T),{exception:yt(T)})}}return R4}s(tP,"areCookiesSupported");function Zw(A){var x={};if(A&&A[zn]){var T=Hi(A)[Tp](";");Jr(T,function(S){if(S=Hi(S||pi),S){var P=wm(S,"=");P===-1?x[S]=null:x[Hi(F(S,P))]=Hi(de(S,P+1))}})}return x}s(Zw,"_extractParts");function rP(A,x){return De(A[x])?A[x]():null}s(rP,"_formatDate");function nP(A,x){var T=A||pi;return ne(x,function(S,P){T+="; "+S+(Y(P)?pi:"="+P)}),T}s(nP,"_formatCookieValue");function _Y(A){var x=pi;if(!ad&&Kw(),ad.v){var T=ad.v[_4]||pi;k4!==T&&(XD=Zw(T),k4=T),x=Hi(XD[A]||pi)}return x}s(_Y,"_getCookieValue");function ky(A,x){!ad&&Kw(),ad.v&&(ad.v[_4]=A+"="+x)}s(ky,"_setCookieValue");function SY(A){return ce(A)?!!(vl(A,"CPU iPhone OS 12")||vl(A,"iPad; CPU OS 12")||vl(A,"Macintosh; Intel Mac OS X 10_14")&&vl(A,"Version/")&&vl(A,"Safari")||vl(A,"Macintosh; Intel Mac OS X 10_14")&&aD(A,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||vl(A,"Chrome/5")||vl(A,"Chrome/6")||vl(A,"UnrealEngine")&&!vl(A,"Chrome")||vl(A,"UCBrowser/12")||vl(A,"UCBrowser/11")):!1}s(SY,"uaDisallowsSameSiteNone");var e7={perfEvtsSendAll:!1};function RY(A){A.h=null;var x=A.cb;A.cb=[],Jr(x,function(T){Z(T.fn,[T.arg])})}s(RY,"_runScheduledListeners");function Np(A,x,T,S){Jr(A,function(P){P&&P[x]&&(T?(T.cb[ji]({fn:S,arg:P}),T.h=T.h||yp(RY,0,T)):Z(S,[P]))})}s(Np,"_runListeners");var kY=function(){function A(x){this.listeners=[];var T,S,P=[],L={h:null,cb:[]},W=G0(x,e7);S=W[Rm](function(se){T=!!se.cfg.perfEvtsSendAll}),Yl(A,this,function(se){Ue(se,"listeners",{g:s(function(){return P},"g")}),se[KE]=function(fe){P[ji](fe)},se[O3]=function(fe){for(var ve=t0(P,fe);ve>-1;)P[K2](ve,1),ve=t0(P,fe)},se[ly]=function(fe){Np(P,ly,L,function(ve){ve[ly](fe)})},se[cy]=function(fe,ve){Np(P,cy,L,function(ke){ke[cy](fe,ve)})},se[c4]=function(fe,ve){Np(P,c4,ve?L:null,function(ke){ke[c4](fe,ve)})},se[P1]=function(fe){fe&&(T||!fe[ww]())&&Np(P,P1,null,function(ve){fe.isAsync?yp(function(){return ve[P1](fe)},0):ve[P1](fe)})},se[kw]=function(fe){fe&&fe[zn]&&Np(P,kw,L,function(ve){ve[kw](fe)})},se[Bw]=function(fe){fe&&fe[ry]&&Np(P,Bw,L,function(ve){ve[Bw](fe)})},se[u4]=function(fe,ve){if(fe>0){var ke=ve||0;Np(P,u4,L,function(We){We[u4](fe,ke)})}},se[_1]=function(fe){var ve=s(function(){S&&S.rm(),S=null,P=[],L.h&&L.h[J2](),L.h=null,L.cb=[]},"_finishUnload"),ke;if(Np(P,"unload",null,function(We){var et=We[_1](fe);et&&(ke||(ke=[]),ke[ji](et))}),ke)return oy(function(We){return Q0(Rw(ke),function(){ve(),We()})});ve()}})}return s(A,"NotificationManager"),A.__ieDyn=1,A}(),By="ctx",t7="ParentContextKey",ix="ChildrenContextKey",BY=null,B4=function(){function A(x,T,S){var P=this;if(P.start=pp(),P[Ep]=x,P.isAsync=S,P[ww]=function(){return!1},De(T)){var L;Ue(P,"payload",{g:s(function(){return!L&&De(T)&&(L=T(),T=null),L},"g")})}P[_p]=function(W){return W?W===A[t7]||W===A[ix]?P[W]:(P[By]||{})[W]:null},P[Fu]=function(W,se){if(W)if(W===A[t7])P[W]||(P[ww]=function(){return!0}),P[W]=se;else if(W===A[ix])P[W]=se;else{var fe=P[By]=P[By]||{};fe[W]=se}},P.complete=function(){var W=0,se=P[_p](A[ix]);if(qe(se))for(var fe=0;fe<se[zn];fe++){var ve=se[fe];ve&&(W+=ve.time)}P.time=pp()-P.start,P.exTime=P.time-W,P.complete=function(){}}}return s(A,"PerfEvent"),A.ParentContextKey="parent",A.ChildrenContextKey="childEvts",A}(),DY=function(){function A(x){this.ctx={},Yl(A,this,function(T){T.create=function(S,P,L){return new B4(S,P,L)},T.fire=function(S){S&&(S.complete(),x&&De(x[P1])&&x[P1](S))},T[Fu]=function(S,P){if(S){var L=T[By]=T[By]||{};L[S]=P}},T[_p]=function(S){return(T[By]||{})[S]}})}return s(A,"PerfManager"),A.__ieDyn=1,A}(),ld="CoreUtils.doPerf";function Dy(A,x,T,S,P){if(A){var L=A;if(L[W3]&&(L=L[W3]()),L){var W=void 0,se=L[_p](ld);try{if(W=L.create(x(),S,P),W){if(se&&W[Fu]&&(W[Fu](B4[t7],se),se[_p]&&se[Fu])){var fe=se[_p](B4[ix]);fe||(fe=[],se[Fu](B4[ix],fe)),fe[ji](W)}return L[Fu](ld,W),T(W)}}catch(ve){W&&W[Fu]&&W[Fu]("exception",ve)}finally{W&&L.fire(W),L[Fu](ld,se)}}}return T()}s(Dy,"doPerf");function Aa(){return BY}s(Aa,"getGblPerfMgr");var D4="00000000000000000000000000000000",Py="0000000000000000";function P4(A,x,T){return A&&A[zn]===x&&A!==T?!!A.match(/^[\da-f]*$/i):!1}s(P4,"_isValid");function Lp(A){return P4(A,32,D4)}s(Lp,"isValidTraceId");function M1(A){return P4(A,16,Py)}s(M1,"isValidSpanId");var ox=LD("plugin");function Fp(A){return ox.get(A,"state",{},!0)}s(Fp,"_getPluginState");function r7(A,x){for(var T=[],S=null,P=A[rd](),L;P;){var W=P[Z2]();if(W){S&&S[Ip]&&W[U0]&&S[Ip](W),L=Fp(W);var se=!!L[Xf];W[Xf]&&(se=W[Xf]()),se||T[ji](W),S=W,P=P[rd]()}}Jr(T,function(fe){var ve=A[ga]();fe[Q3](A.getCfg(),ve,x,A[rd]()),L=Fp(fe),!fe[ga]&&!L[ga]&&(L[ga]=ve),L[Xf]=!0,delete L[ed]})}s(r7,"initializePlugins");function n7(A){return A.sort(function(x,T){var S=0;if(T){var P=T[U0];x[U0]?S=P?x[ay]-T[ay]:1:P&&(S=-1)}else S=x?1:-1;return S})}s(n7,"sortPlugins");function PY(A){var x={};return{getName:s(function(){return x[Ep]},"getName"),setName:s(function(T){A&&A.setName(T),x[Ep]=T},"setName"),getTraceId:s(function(){return x.traceId},"getTraceId"),setTraceId:s(function(T){A&&A.setTraceId(T),Lp(T)&&(x.traceId=T)},"setTraceId"),getSpanId:s(function(){return x.spanId},"getSpanId"),setSpanId:s(function(T){A&&A.setSpanId(T),M1(T)&&(x.spanId=T)},"setSpanId"),getTraceFlags:s(function(){return x[pD]},"getTraceFlags"),setTraceFlags:s(function(T){A&&A.setTraceFlags(T),x[pD]=T},"setTraceFlags")}}s(PY,"createDistributedTraceContext");var NY="TelemetryPluginChain",iP="_hasRun",i7="_getTelCtx",oP=0;function LY(A,x,T){for(;A;){if(A[Z2]()===T)return A;A=A[rd]()}return D([T],x.config||{},x)}s(LY,"_getNextProxyStart");function o7(A,x,T,S){var P=null,L=[];x||(x=G0({},null,T[pa])),S!==null&&(P=S?LY(A,T,S):A);var W={_next:fe,ctx:{core:s(function(){return T},"core"),diagLog:s(function(){return ex(T,x.cfg)},"diagLog"),getCfg:s(function(){return x.cfg},"getCfg"),getExtCfg:ke,getConfig:We,hasNext:s(function(){return!!P},"hasNext"),getNext:s(function(){return P},"getNext"),setNext:s(function(He){P=He},"setNext"),iterate:et,onComplete:se}};function se(He,Ye){for(var pt=[],ct=2;ct<arguments.length;ct++)pt[ct-2]=arguments[ct];He&&L[ji]({func:He,self:U(Ye)?W.ctx:Ye,args:pt})}s(se,"_addOnComplete");function fe(){var He=P;if(P=He?He[rd]():null,!He){var Ye=L;Ye&&Ye[zn]>0&&(Jr(Ye,function(pt){try{pt.func.call(pt.self,pt.args)}catch(ct){Or(T[pa],2,73,"Unexpected Exception during onComplete - "+yt(ct))}}),L=[])}return He}s(fe,"_moveNext");function ve(He,Ye){var pt=null,ct=x.cfg;if(ct&&He){var Tt=ct[D1];!Tt&&Ye&&(Tt={}),ct[D1]=Tt,Tt=x.ref(ct,D1),Tt&&(pt=Tt[He],!pt&&Ye&&(pt={}),Tt[He]=pt,pt=x.ref(Tt,He))}return pt}s(ve,"_getExtCfg");function ke(He,Ye){var pt=ve(He,!0);return Ye&&ne(Ye,function(ct,Tt){if(Y(pt[ct])){var Jt=x.cfg[ct];(Jt||!Y(Jt))&&(pt[ct]=Jt)}Vw(x,pt,ct,Tt)}),x.setDf(pt,Ye)}s(ke,"_resolveExtCfg");function We(He,Ye,pt){pt===void 0&&(pt=!1);var ct,Tt=ve(He,!1),Jt=x.cfg;return Tt&&(Tt[Ye]||!Y(Tt[Ye]))?ct=Tt[Ye]:(Jt[Ye]||!Y(Jt[Ye]))&&(ct=Jt[Ye]),ct||!Y(ct)?ct:pt}s(We,"_getConfig");function et(He){for(var Ye;Ye=W._next();){var pt=Ye[Z2]();pt&&He(pt)}}return s(et,"_iterateChain"),W}s(o7,"_createInternalContext");function Ny(A,x,T,S){var P=G0(x),L=o7(A,P,T,S),W=L.ctx;function se(ve){var ke=L._next();return ke&&ke[U0](ve,W),!ke}s(se,"_processNext");function fe(ve,ke){return ve===void 0&&(ve=null),qe(ve)&&(ve=D(ve,P.cfg,T,ke)),Ny(ve||W[rd](),P.cfg,T,ke)}return s(fe,"_createNew"),W[xl]=se,W[S1]=fe,W}s(Ny,"createProcessTelemetryContext");function w(A,x,T){var S=G0(x.config),P=o7(A,S,x,T),L=P.ctx;function W(fe){var ve=P._next();return ve&&ve[_1](L,fe),!ve}s(W,"_processNext");function se(fe,ve){return fe===void 0&&(fe=null),qe(fe)&&(fe=D(fe,S.cfg,x,ve)),w(fe||L[rd](),x,ve)}return s(se,"_createNew"),L[xl]=W,L[S1]=se,L}s(w,"createProcessTelemetryUnloadContext");function R(A,x,T){var S=G0(x.config),P=o7(A,S,x,T),L=P.ctx;function W(fe){return L.iterate(function(ve){De(ve[km])&&ve[km](L,fe)})}s(W,"_processNext");function se(fe,ve){return fe===void 0&&(fe=null),qe(fe)&&(fe=D(fe,S.cfg,x,ve)),R(fe||L[rd](),x,ve)}return s(se,"_createNew"),L[xl]=W,L[S1]=se,L}s(R,"createProcessTelemetryUpdateContext");function D(A,x,T,S){var P=null,L=!S;if(qe(A)&&A[zn]>0){var W=null;Jr(A,function(se){if(!L&&S===se&&(L=!0),L&&se&&De(se[U0])){var fe=Q(se,x,T);P||(P=fe),W&&W._setNext(fe),W=fe}})}return S&&!P?D([S],x,T):P}s(D,"createTelemetryProxyChain");function Q(A,x,T){var S=null,P=De(A[U0]),L=De(A[Ip]),W;A?W=A[bp]+"-"+A[ay]+"-"+oP++:W="Unknown-0-"+oP++;var se={getPlugin:s(function(){return A},"getPlugin"),getNext:s(function(){return S},"getNext"),processTelemetry:ke,unload:We,update:et,_id:W,_setNext:s(function(He){S=He},"_setNext")};function fe(){var He;return A&&De(A[i7])&&(He=A[i7]()),He||(He=Ny(se,x,T)),He}s(fe,"_getTelCtx");function ve(He,Ye,pt,ct,Tt){var Jt=!1,pr=A?A[bp]:NY,Pr=He[iP];return Pr||(Pr=He[iP]={}),He.setNext(S),A&&Dy(He[ga](),function(){return pr+":"+pt},function(){Pr[W]=!0;try{var Hn=S?S._id:pi;Hn&&(Pr[Hn]=!1),Jt=Ye(He)}catch(vi){var xi=S?Pr[S._id]:!0;xi&&(Jt=!0),(!S||!xi)&&Or(He[td](),1,73,"Plugin ["+pr+"] failed during "+pt+" - "+yt(vi)+", run flags: "+yt(Pr))}},ct,Tt),Jt}s(ve,"_processChain");function ke(He,Ye){Ye=Ye||fe();function pt(ct){if(!A||!P)return!1;var Tt=Fp(A);return Tt[ed]||Tt[l4]?!1:(L&&A[Ip](S),A[U0](He,ct),!0)}s(pt,"_callProcessTelemetry"),ve(Ye,pt,"processTelemetry",function(){return{item:He}},!He.sync)||Ye[xl](He)}s(ke,"_processTelemetry");function We(He,Ye){function pt(){var ct=!1;if(A){var Tt=Fp(A),Jt=A[ga]||Tt[ga];A&&(!Jt||Jt===He.core())&&!Tt[ed]&&(Tt[ga]=null,Tt[ed]=!0,Tt[Xf]=!1,A[ed]&&A[ed](He,Ye)===!0&&(ct=!0))}return ct}s(pt,"_callTeardown"),ve(He,pt,"unload",function(){},Ye.isAsync)||He[xl](Ye)}s(We,"_unloadPlugin");function et(He,Ye){function pt(){var ct=!1;if(A){var Tt=Fp(A),Jt=A[ga]||Tt[ga];A&&(!Jt||Jt===He.core())&&!Tt[ed]&&A[km]&&A[km](He,Ye)===!0&&(ct=!0)}return ct}s(pt,"_callUpdate"),ve(He,pt,"update",function(){},!1)||He[xl](Ye)}return s(et,"_updatePlugin"),bt(se)}s(Q,"createTelemetryPluginProxy");function ue(){var A=[];function x(S){S&&A[ji](S)}s(x,"_addHandler");function T(S,P){Jr(A,function(L){try{L(S,P)}catch(W){Or(S[td](),2,73,"Unexpected error calling unload handler - "+yt(W))}}),A=[]}return s(T,"_runHandlers"),{add:x,run:T}}s(ue,"createUnloadHandlerContainer");function we(){var A=[];function x(S){var P=A;A=[],Jr(P,function(L){try{(L.rm||L.remove).call(L)}catch(W){Or(S,2,73,"Unloading:"+yt(W))}})}s(x,"_doUnload");function T(S){S&&N2(A,S)}return s(T,"_addHook"),{run:x,add:T}}s(we,"createUnloadHookContainer");var Be,je="getPlugin",it=(Be={},Be[D1]={isVal:m4,v:{}},Be),vt=function(){function A(){var x=this,T,S,P,L,W;ve(),Yl(A,x,function(ke){ke[Q3]=function(We,et,He,Ye){fe(We,et,Ye),T=!0},ke[ed]=function(We,et){var He=ke[ga];if(!He||We&&He!==We[ga]())return;var Ye,pt=!1,ct=We||w(null,He,P&&P[je]?P[je]():P),Tt=et||{reason:0,isAsync:!1};function Jt(){pt||(pt=!0,L.run(ct,et),W.run(ct[td]()),Ye===!0&&ct[xl](Tt),ve())}return s(Jt,"_unloadCallback"),!ke[ZE]||ke[ZE](ct,Tt,Jt)!==!0?Jt():Ye=!0,Ye},ke[km]=function(We,et){var He=ke[ga];if(!He||We&&He!==We[ga]())return;var Ye,pt=!1,ct=We||R(null,He,P&&P[je]?P[je]():P),Tt=et||{reason:0};function Jt(){pt||(pt=!0,fe(ct.getCfg(),ct.core(),ct[rd]()))}return s(Jt,"_updateCallback"),!ke._doUpdate||ke._doUpdate(ct,Tt,Jt)!==!0?Jt():Ye=!0,Ye},H3(ke,"_addUnloadCb",function(){return L},"add"),H3(ke,"_addHook",function(){return W},"add"),Ue(ke,"_unloadHooks",{g:s(function(){return W},"g")})}),x[td]=function(ke){return se(ke)[td]()},x[Xf]=function(){return T},x.setInitialized=function(ke){T=ke},x[Ip]=function(ke){P=ke},x[xl]=function(ke,We){We?We[xl](ke):P&&De(P[U0])&&P[U0](ke,null)},x._getTelCtx=se;function se(ke){ke===void 0&&(ke=null);var We=ke;if(!We){var et=S||Ny(null,{},x[ga]);P&&P[je]?We=et[S1](null,P[je]):We=et[S1](null,P)}return We}s(se,"_getTelCtx");function fe(ke,We,et){G0(ke,it,ex(We)),!et&&We&&(et=We[ey]()[rd]());var He=P;P&&P[je]&&(He=P[je]()),x[ga]=We,S=Ny(et,ke,We,He)}s(fe,"_setDefaults");function ve(){T=!1,x[ga]=null,S=null,P=null,W=we(),L=ue()}s(ve,"_initDefaults")}return s(A,"BaseTelemetryPlugin"),A.__ieDyn=1,A}();function Tr(A,x,T){var S={id:x,fn:T};N2(A,S);var P={remove:s(function(){Jr(A,function(L,W){if(L.id===S.id)return A[K2](W,1),-1})},"remove")};return P}s(Tr,"_addInitializer");function Tn(A,x,T){for(var S=!1,P=A[zn],L=0;L<P;++L){var W=A[L];if(W)try{if(W.fn[YE](null,[x])===!1){S=!0;break}}catch(se){Or(T,2,64,"Telemetry initializer failed: "+ol(se),{exception:yt(se)},!0)}}return!S}s(Tn,"_runInitializers");var Gn=function(A){M3(x,A);function x(){var T=A.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var S,P;L(),Yl(x,T,function(W,se){W.addTelemetryInitializer=function(fe){return Tr(P,S++,fe)},W[U0]=function(fe,ve){Tn(P,fe,ve?ve[td]():W[td]())&&W[xl](fe,ve)},W[ZE]=function(){L()}});function L(){S=0,P=[]}return s(L,"_initDefaults"),T}return s(x,"TelemetryInitializerPlugin"),x.__ieDyn=1,x}(vt),Rr,Mr="Plugins must provide initialize method",Un="_notificationManager",wn="SDK is still unloading...",gi="SDK is not initialized",oo=100,Ri=5e4,La=Rt((Rr={cookieCfg:{}},Rr[sy]={rdOnly:!0,ref:!0,v:[]},Rr[Pm]={rdOnly:!0,ref:!0,v:[]},Rr[D1]={ref:!0,v:{}},Rr[Mu]=O0,Rr.loggingLevelConsole=0,Rr.diagnosticLogInterval=O0,Rr));function Ly(A,x){return new DY(x)}s(Ly,"_createPerfManager");function sx(A,x,T){var S=[],P=[],L={};return Jr(T,function(W){(Y(W)||Y(W[Q3]))&&Kt(Mr);var se=W[ay],fe=W[bp];W&&se&&(Y(L[se])?L[se]=fe:w4(A,"Two extensions have same priority #"+se+" - "+L[se]+", "+fe)),!se||se<x?S[ji](W):P[ji](W)}),{core:S,channels:P}}s(sx,"_validateExtensions");function s7(A,x){var T=!1;return Jr(x,function(S){if(S===A)return T=!0,-1}),T}s(s7,"_isPluginPresent");function N4(A,x,T,S){T&&ne(T,function(P,L){S&&r0(L)&&r0(x[P])&&N4(A,x[P],L,S),S&&r0(L)&&r0(x[P])?N4(A,x[P],L,S):A.set(x,P,L)})}s(N4,"_deepMergeConfig");function sP(A,x){var T=null,S=-1;return Jr(A,function(P,L){if(P.w===x)return T=P,S=L,-1}),{i:S,l:T}}s(sP,"_findWatcher");function FY(A,x){var T=sP(A,x).l;return T||(T={w:x,rm:s(function(){var S=sP(A,x);S.i!==-1&&A[K2](S.i,1)},"rm")},A[ji](T)),T}s(FY,"_addDelayedCfgListener");function a7(A,x,T){Jr(x,function(S){var P=Fm(A,S.w,T);delete S.w,S.rm=function(){P.rm()}})}s(a7,"_registerDelayedCfgListener");function aP(A,x,T,S){return x.add(A[Rm](function(P){var L=P.cfg.disableDbgExt;L===!0&&S&&(T[O3](S),S=null),T&&!S&&L!==!0&&(S=vY(P.cfg),T[KE](S))})),S}s(aP,"_initDebugListener");function lP(A){return Ue({rm:s(function(){A.rm()},"rm")},"toJSON",{v:s(function(){return"aicore::onCfgChange<"+JSON.stringify(A)+">"},"v")})}s(lP,"_createUnloadHook");var Ft=function(){function A(){var x,T,S,P,L,W,se,fe,ve,ke,We,et,He,Ye,pt,ct,Tt,Jt,pr,Pr,Hn,xi,vi,ho,hn,$r,bi,Rs,Uo,er,zr,so;Yl(A,this,function(Nt){mt(),Nt._getDbgPlgTargets=function(){return[vi,P]},Nt[Xf]=function(){return T},Nt.activeStatus=function(){return $r},Nt._setPendingStatus=function(){$r=3},Nt[Q3]=function(At,Br,Pn,Hr){He&&Kt(wn),Nt[Xf]()&&Kt("Core cannot be initialized more than once"),x=G0(At,La,Pn||Nt[pa],!1),At=x.cfg,Xl(x[Rm](function(_o){var os=_o.cfg,wc=$r===3;if(!wc){Rs=os.initInMemoMaxSize||oo;var H0=os.instrumentationKey,Um=os.endpointUrl;if(Y(H0)){Hn=null,$r=vp.INACTIVE;var qm="Please provide instrumentation key";T?(Or(S,1,100,qm),Gs()):Kt(qm);return}var $4=[];if(lt(H0)?($4[ji](H0),Hn=null):Hn=H0,lt(Um)?($4[ji](Um),bi=null):bi=Um,$4[zn]){Uo=!1,$r=3;var _7=m4(os.initTimeOut)?os.initTimeOut:Ri,hK=n0($4);yp(function(){Uo||_n()},_7),Q0(hK,function(Vy){try{if(Uo)return;if(!Vy.rejected){var $y=Vy[X2];if($y&&$y[zn]){var DP=$y[0];if(Hn=DP&&DP[X2],$y[zn]>1){var PP=$y[1];bi=PP&&PP[X2]}}Hn&&(At.instrumentationKey=Hn,At.endpointUrl=bi)}_n()}catch{Uo||_n()}})}else _n();var z4=_o.ref(_o.cfg,D1);ne(z4,function(Vy){_o.ref(z4,Vy)})}})),L=Hr,pr=aP(x,Jt,L&&Nt[Lu](),pr),Hy(),Nt[pa]=Pn;var Nn=At[sy];if(ke=[],ke[ji].apply(ke,fD(fD([],Br,!1),Nn)),We=At[Pm],Hs(null),(!et||et[zn]===0)&&Kt("No "+Pm+" available"),We&&We[zn]>1){var vo=Nt[Z2]("TeeChannelController");(!vo||!vo.plugin)&&Or(S,1,28,"TeeChannel required")}a7(At,xi,S),xi=null,T=!0,$r===vp.ACTIVE&&Gs()},Nt.getChannels=function(){var At=[];return et&&Jr(et,function(Br){At[ji](Br)}),bt(At)},Nt.track=function(At){Dy(Nt[W3](),function(){return"AppInsightsCore:track"},function(){At===null&&(ks(At),Kt("Invalid telemetry item")),!At[Ep]&&Y(At[Ep])&&(ks(At),Kt("telemetry name required")),At.iKey=At.iKey||Hn,At.time=At.time||G3(new Date),At.ver=At.ver||"4.0",!He&&Nt[Xf]()&&$r===vp.ACTIVE?Qa()[xl](At):$r!==vp.INACTIVE&&P[zn]<=Rs&&P[ji](At)},function(){return{item:At}},!At.sync)},Nt[ey]=Qa,Nt[Lu]=function(){return L||(L=new kY(x.cfg),Nt[Un]=L),L},Nt[KE]=function(At){Nt.getNotifyMgr()[KE](At)},Nt[O3]=function(At){L&&L[O3](At)},Nt.getCookieMgr=function(){return fe||(fe=wY(x.cfg,Nt[pa])),fe},Nt.setCookieMgr=function(At){fe!==At&&(wy(fe,!1),fe=At)},Nt[W3]=function(){return W||se||Aa()},Nt.setPerfMgr=function(At){W=At},Nt.eventCnt=function(){return P[zn]},Nt.releaseQueue=function(){if(T&&P[zn]>0){var At=P;P=[],$r===2?Jr(At,function(Br){Br.iKey=Br.iKey||Hn,Qa()[xl](Br)}):Or(S,2,20,"core init status is not active")}},Nt.pollInternalLogs=function(At){return pt=At||null,so=!1,er&&er[J2](),po(!0)};function _n(){Uo=!0,Y(Hn)?($r=vp.INACTIVE,Or(S,1,112,"ikey can't be resolved from promises")):$r=vp.ACTIVE,Gs()}s(_n,"_setStatus");function Gs(){T&&(Nt.releaseQueue(),Nt.pollInternalLogs())}s(Gs,"_releaseQueues");function po(At){if((!er||!er[Zf])&&!so){var Br=At||S&&S.queue[zn]>0;Br&&(zr||(zr=!0,Xl(x[Rm](function(Pn){var Hr=Pn.cfg.diagnosticLogInterval;(!Hr||!(Hr>0))&&(Hr=1e4);var Nn=!1;er&&(Nn=er[Zf],er[J2]()),er=WE(Gy,Hr),er.unref(),er[Zf]=Nn}))),er[Zf]=!0)}return er}s(po,"_startLogPoller"),Nt[dD]=function(){so=!0,er&&er[J2](),Gy()},Pw(Nt,function(){return Ye},["addTelemetryInitializer"]),Nt[_1]=function(At,Br,Pn){At===void 0&&(At=!0),T||Kt(gi),He&&Kt(wn);var Hr={reason:50,isAsync:At,flushComplete:!1},Nn;At&&!Br&&(Nn=oy(function(os){Br=os}));var vo=w(ud(),Nt);vo[JE](function(){Jt.run(Nt[pa]),GD([fe,L,S],At,function(){mt(),Br&&Br(Hr)})},Nt);function _o(os){Hr.flushComplete=os,He=!0,Tt.run(vo,Hr),Nt[dD](),vo[xl](Hr)}return s(_o,"_doUnload"),Gy(),Qm(At,_o,6,Pn),Nn},Nt[Z2]=Tl,Nt.addPlugin=function(At,Br,Pn,Hr){if(!At){Hr&&Hr(!1),jy(Mr);return}var Nn=Tl(At[bp]);if(Nn&&!Br){Hr&&Hr(!1),jy("Plugin ["+At[bp]+"] is already loaded!");return}var vo={reason:16};function _o(H0){ke[ji](At),vo.added=[At],Hs(vo),Hr&&Hr(!0)}if(s(_o,"_addPlugin"),Nn){var os=[Nn.plugin],wc={reason:2,isAsync:!!Pn};s0(os,wc,function(H0){H0?(vo.removed=os,vo.reason|=32,_o()):Hr&&Hr(!1)})}else _o()},Nt.updateCfg=function(At,Br){Br===void 0&&(Br=!0);var Pn;if(Nt[Xf]()){Pn={reason:1,cfg:x.cfg,oldCfg:ME({},x.cfg),newConfig:ME({},At),merge:Br},At=Pn.newConfig;var Hr=x.cfg;At[sy]=Hr[sy],At[Pm]=Hr[Pm]}x._block(function(Nn){var vo=Nn.cfg;N4(Nn,vo,At,Br),Br||ne(vo,function(_o){Ge(At,_o)||Nn.set(vo,_o,O0)}),Nn.setDf(vo,La)},!0),x.notify(),Pn&&Om(Pn)},Nt.evtNamespace=function(){return ct},Nt.flush=Qm,Nt.getTraceCtx=function(At){return Pr||(Pr=PY()),Pr},Nt.setTraceCtx=function(At){Pr=At||null},Nt.addUnloadHook=Xl,H3(Nt,"addUnloadCb",function(){return Tt},"add"),Nt.onCfgChange=function(At){var Br;return T?Br=Fm(x.cfg,At,Nt[pa]):Br=FY(xi,At),lP(Br)},Nt.getWParam=function(){return up()||x.cfg.enableWParam?0:-1};function Il(){var At={};ho=[];var Br=s(function(Pn){Pn&&Jr(Pn,function(Hr){if(Hr[bp]&&Hr[ty]&&!At[Hr.identifier]){var Nn=Hr[bp]+"="+Hr[ty];ho[ji](Nn),At[Hr.identifier]=Hr}})},"_addPluginVersions");Br(et),We&&Jr(We,function(Pn){Br(Pn)}),Br(ke)}s(Il,"_setPluginVersions");function mt(){T=!1,x=G0({},La,Nt[pa]),x.cfg[mD]=1,Ue(Nt,"config",{g:s(function(){return x.cfg},"g"),s:s(function(Br){Nt.updateCfg(Br,!1)},"s")}),Ue(Nt,"pluginVersionStringArr",{g:s(function(){return ho||Il(),ho},"g")}),Ue(Nt,"pluginVersionString",{g:s(function(){return hn||(ho||Il(),hn=ho.join(";")),hn||pi},"g")}),Ue(Nt,"logger",{g:s(function(){return S||(S=new tx(x.cfg),x[pa]=S),S},"g"),s:s(function(Br){x[pa]=Br,S!==Br&&(wy(S,!1),S=Br)},"s")}),Nt[pa]=new tx(x.cfg),vi=[];var At=Nt.config[sy]||[];At.splice(0,At[zn]),N2(At,vi),Ye=new Gn,P=[],wy(L,!1),L=null,W=null,se=null,wy(fe,!1),fe=null,ve=null,ke=[],We=null,et=null,He=!1,pt=null,ct=Lm("AIBaseCore",!0),Tt=ue(),Pr=null,Hn=null,Jt=we(),xi=[],hn=null,ho=null,so=!1,er=null,zr=!1,$r=0,bi=null,Rs=null,Uo=!1}s(mt,"_initDefaults");function Qa(){var At=Ny(ud(),x.cfg,Nt);return At[JE](po),At}s(Qa,"_createTelCtx");function Hs(At){var Br=sx(Nt[pa],gY,ke);ve=null,hn=null,ho=null,et=(We||[])[0]||[],et=n7(N2(et,Br[Pm]));var Pn=N2(n7(Br[ga]),et);vi=bt(Pn);var Hr=Nt.config[sy]||[];Hr.splice(0,Hr[zn]),N2(Hr,vi);var Nn=Qa();et&&et[zn]>0&&r7(Nn[S1](et),Pn),r7(Nn,Pn),At&&Om(At)}s(Hs,"_initPluginChain");function Tl(At){var Br=null,Pn=null,Hr=[];return Jr(vi,function(Nn){if(Nn[bp]===At&&Nn!==Ye)return Pn=Nn,-1;Nn.getChannel&&Hr[ji](Nn)}),!Pn&&Hr[zn]>0&&Jr(Hr,function(Nn){if(Pn=Nn.getChannel(At),!Pn)return-1}),Pn&&(Br={plugin:Pn,setEnabled:s(function(Nn){Fp(Pn)[l4]=!Nn},"setEnabled"),isEnabled:s(function(){var Nn=Fp(Pn);return!Nn[ed]&&!Nn[l4]},"isEnabled"),remove:s(function(Nn,vo){Nn===void 0&&(Nn=!0);var _o=[Pn],os={reason:1,isAsync:Nn};s0(_o,os,function(wc){wc&&Hs({reason:32,removed:_o}),vo&&vo(wc)})},"remove")}),Br}s(Tl,"_getPlugin");function ud(){if(!ve){var At=(vi||[]).slice();t0(At,Ye)===-1&&At[ji](Ye),ve=D(n7(At),x.cfg,Nt)}return ve}s(ud,"_getPluginChain");function s0(At,Br,Pn){if(At&&At[zn]>0){var Hr=D(At,x.cfg,Nt),Nn=w(Hr,Nt);Nn[JE](function(){var vo=!1,_o=[];Jr(ke,function(wc,H0){s7(wc,At)?vo=!0:_o[ji](wc)}),ke=_o,hn=null,ho=null;var os=[];We&&(Jr(We,function(wc,H0){var Um=[];Jr(wc,function(qm){s7(qm,At)?vo=!0:Um[ji](qm)}),os[ji](Um)}),We=os),Pn&&Pn(vo),po()}),Nn[xl](Br)}else Pn(!1)}s(s0,"_removePlugins");function Gy(){if(S&&S.queue){var At=S.queue.slice(0);S.queue[zn]=0,Jr(At,function(Br){var Pn={name:pt||"InternalMessageId: "+Br[XE],iKey:Hn,time:G3(new Date),baseType:T4.dataType,baseData:{message:Br[R1]}};Nt.track(Pn)})}}s(Gy,"_flushInternalLogs");function Qm(At,Br,Pn,Hr){var Nn=1,vo=!1,_o=null;Hr=Hr||5e3;function os(){Nn--,vo&&Nn===0&&(_o&&_o[J2](),_o=null,Br&&Br(vo),Br=null)}if(s(os,"doCallback"),et&&et[zn]>0){var wc=Qa()[S1](et);wc.iterate(function(H0){if(H0.flush){Nn++;var Um=!1;H0.flush(At,function(){Um=!0,os()},Pn)||Um||(At&&_o==null?_o=yp(function(){_o=null,os()},Hr):os())}})}return vo=!0,os(),!0}s(Qm,"_flushChannels");function Hy(){var At;Xl(x[Rm](function(Br){var Pn=Br.cfg.enablePerfMgr;if(Pn){var Hr=Br.cfg[Mu];(At!==Hr||!At)&&(Hr||(Hr=Ly),wD(Br.cfg,Mu,Hr),At=Hr,se=null),!W&&!se&&De(Hr)&&(se=Hr(Nt,Nt[Lu]()))}else se=null,At=null}))}s(Hy,"_initPerfManager");function Om(At){var Br=R(ud(),Nt);Br[JE](po),(!Nt._updateHook||Nt._updateHook(Br,At)!==!0)&&Br[xl](At)}s(Om,"_doUpdate");function jy(At){var Br=Nt[pa];Br?(Or(Br,2,73,At),po()):Kt(At)}s(jy,"_logOrThrowError");function ks(At){var Br=Nt[Lu]();Br&&Br[cy]([At],2)}s(ks,"_notifyInvalidEvent");function Xl(At){Jt.add(At)}s(Xl,"_addUnloadHook")})}return s(A,"AppInsightsCore"),A.__ieDyn=1,A}();function Gr(A,x){try{if(A&&A!==""){var T=i0().parse(A);if(T&&T[hD]&&T[hD]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[zn])return T}}catch(S){Or(x,1,43,"Cannot parse the response. "+(S[Ep]||yt(S)),{response:A})}return null}s(Gr,"parseResponse");var un="",Mo="NoResponseBody",Fa="&"+Mo+"=true",Ws="POST",Ma=function(){function A(){var x=0,T,S,P,L,W,se,fe,ve,ke,We,et,He,Ye,pt;Yl(A,this,function(ct,Tt){var Jt=!0;Uo(),ct[Q3]=function(er,zr){P=zr,S&&Or(P,1,28,"Sender is already initialized"),ct.SetConfig(er),S=!0},ct._getDbgPlgTargets=function(){return[S,L,se,T]},ct.SetConfig=function(er){try{if(W=er.senderOnCompleteCallBack||{},se=!!er.disableCredentials,fe=er.fetchCredentials,L=!!er.isOneDs,T=!!er.enableSendPromise,ke=!!er.disableXhr,We=!!er.disableBeacon,et=!!er.disableBeaconSync,pt=er.timeWrapper,Ye=!!er.addNoResponse,He=!!er.disableFetchKeepAlive,ve={sendPOST:$r},L||(Jt=!1),se){var zr=gy();zr&&zr.protocol&&zr.protocol[z2]()==="file:"&&(Jt=!1)}return!0}catch{}return!1},ct.getSyncFetchPayload=function(){return x},ct.getSenderInst=function(er,zr){return er&&er[zn]?xi(er,zr):null},ct.getFallbackInst=function(){return ve},ct[ZE]=function(er,zr){Uo()};function pr(er,zr){vi(zr,200,{},er)}s(pr,"_onSuccess");function Pr(er,zr){Or(P,2,26,"Failed to send telemetry.",{message:er}),vi(zr,400,{})}s(Pr,"_onError");function Hn(er){Pr("No endpoint url is provided for the batch",er)}s(Hn,"_onNoPayloadUrl");function xi(er,zr){for(var so=0,Nt=null,_n=0;Nt==null&&_n<er[zn];)so=er[_n],!ke&&so===1?Uw()?Nt=Rs:qw()&&(Nt=$r):so===2&&Y3(zr)&&(!zr||!He)?Nt=bi:so===3&&kp()&&(zr?!et:!We)&&(Nt=hn),_n++;return Nt?{_transport:so,_isSync:zr,sendPOST:Nt}:null}s(xi,"_getSenderInterface");function vi(er,zr,so,Nt){try{er&&er(zr,so,Nt)}catch{}}s(vi,"_doOnComplete");function ho(er,zr){var so=fp(),Nt=er[Bm];if(!Nt)return Hn(zr),!0;Nt=er[Bm]+(Ye?Fa:un);var _n=er[ry],Gs=L?_n:new Blob([_n],{type:"text/plain;charset=UTF-8"}),po=so.sendBeacon(Nt,Gs);return po}s(ho,"_doBeaconSend");function hn(er,zr,so){var Nt=er[ry];try{if(Nt)if(ho(er,zr))pr(un,zr);else{var _n=W&&W.beaconOnRetry;_n&&De(_n)?_n(er,zr,ho):(ve&&ve.sendPOST(er,zr,!0),Or(P,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Gs){L&&w4(P,"Failed to send telemetry using sendBeacon API. Ex:"+yt(Gs)),vi(zr,L?0:400,{},un)}}s(hn,"_beaconSender");function $r(er,zr,so){var Nt,_n,Gs,po=er[_w]||{};!so&&T&&(Nt=oy(function(Hs,Tl){_n=Hs,Gs=Tl})),L&&so&&er.disableXhrSync&&(so=!1);var Il=er[Bm];if(!Il){Hn(zr),_n&&_n(!1);return}var mt=Fw(Ws,Il,Jt,!0,so,er[Dm]);L||mt.setRequestHeader("Content-type","application/json"),Jr(rt(po),function(Hs){mt.setRequestHeader(Hs,po[Hs])}),mt.onreadystatechange=function(){L||(Qa(mt),mt.readyState===4&&_n&&_n(!0))},mt.onload=function(){L&&Qa(mt)};function Qa(Hs){var Tl=W&&W.xhrOnComplete,ud=Tl&&De(Tl);if(ud)Tl(Hs,zr,er);else{var s0=h4(Hs);vi(zr,Hs[U3],L1(Hs,L),s0)}}return s(Qa,"_doOnReadyFunc"),mt.onerror=function(Hs){vi(zr,L?mt[U3]:400,L1(mt,L),L?un:p4(mt)),Gs&&Gs(Hs)},mt.ontimeout=function(){vi(zr,L?mt[U3]:500,L1(mt,L),L?un:p4(mt)),_n&&_n(!1)},mt.send(er[ry]),Nt}s($r,"_xhrSender");function bi(er,zr,so){var Nt,_n=er[Bm],Gs=er[ry],po=L?Gs:new Blob([Gs],{type:"application/json"}),Il,mt,Qa,Hs=new Headers,Tl=Gs[zn],ud=!1,s0=!1,Gy=er[_w]||{},Qm=(Nt={method:Ws,body:po},Nt[HD]=!0,Nt);er.headers&&rt(er.headers)[zn]>0&&(Jr(rt(Gy),function(ks){Hs.append(ks,Gy[ks])}),Qm[_w]=Hs),fe?Qm.credentials=fe:Jt&&L&&(Qm.credentials="include"),so&&(Qm.keepalive=!0,x+=Tl,L?er._sendReason===2&&(ud=!0,Ye&&(_n+=Fa)):ud=!0);var Hy=new Request(_n,Qm);try{Hy[HD]=!0}catch{}if(!so&&T&&(Il=oy(function(ks,Xl){mt=ks,Qa=Xl})),!_n){Hn(zr),mt&&mt(!1);return}function Om(ks){vi(zr,L?0:400,{},L?un:ks)}s(Om,"_handleError");function jy(ks,Xl,At){var Br=ks[U3],Pn=W.fetchOnComplete;Pn&&De(Pn)?Pn(ks,zr,At||un,Xl):vi(zr,Br,{},At||un)}s(jy,"_onFetchComplete");try{Q0(fetch(L?_n:Hy,L?Qm:null),function(ks){if(so&&(x-=Tl,Tl=0),!s0)if(s0=!0,ks.rejected)Om(ks.reason&&ks.reason[R1]),Qa&&Qa(ks.reason);else{var Xl=ks[X2];try{!L&&!Xl.ok?(Om(Xl.statusText),mt&&mt(!1)):L&&!Xl.body?(jy(Xl,null,un),mt&&mt(!0)):Q0(Xl.text(),function(At){jy(Xl,er,At[X2]),mt&&mt(!0)})}catch(At){Om(yt(At)),Qa&&Qa(At)}}})}catch(ks){s0||(Om(yt(ks)),Qa&&Qa(ks))}return ud&&!s0&&(s0=!0,vi(zr,200,{}),mt&&mt(!0)),L&&!s0&&er[Dm]>0&&pt&&pt.set(function(){s0||(s0=!0,vi(zr,500,{}),mt&&mt(!0))},er[Dm]),Il}s(bi,"_doFetchSender");function Rs(er,zr,so){var Nt=Tm(),_n=new XDomainRequest,Gs=er[ry];_n.onload=function(){var Hs=h4(_n),Tl=W&&W.xdrOnComplete;Tl&&De(Tl)?Tl(_n,zr,er):vi(zr,200,{},Hs)},_n.onerror=function(){vi(zr,400,{},L?un:SD(_n))},_n.ontimeout=function(){vi(zr,500,{})},_n.onprogress=function(){};var po=Nt&&Nt.location&&Nt.location.protocol||"",Il=er[Bm];if(!Il){Hn(zr);return}if(!L&&Il.lastIndexOf(po,0)!==0){var mt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Or(P,2,40,". "+mt),Pr(mt,zr);return}var Qa=L?Il:Il[wp](/^(https?:)/,"");_n.open(Ws,Qa),er[Dm]&&(_n[Dm]=er[Dm]),_n.send(Gs),L&&so?pt&&pt.set(function(){_n.send(Gs)},0):_n.send(Gs)}s(Rs,"_xdrSender");function Uo(){x=0,S=!1,T=!1,P=null,L=null,W=null,se=null,fe=null,ve=null,ke=!1,We=!1,et=!1,He=!1,Ye=!1,pt=null}s(Uo,"_initDefaults")})}return s(A,"SenderPostManager"),A.__ieDyn=1,A}(),Q1="on",Mp="attachEvent",Fy="addEventListener",cP="detachEvent",uP="removeEventListener",L4="events";Lm("aiEvtPageHide"),Lm("aiEvtPageShow");var MY=/\.[\.]+/g,ehe=/[\.]+$/,Aze=1,fP=LD("events"),yze=/^([^.]*)(?:\.(.+)|)/;function the(A){return A&&A[wp]?A[wp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,pi):A}s(the,"_normalizeNamespace");function QY(A,x){if(x){var T=pi;qe(x)?(T=pi,Jr(x,function(P){P=the(P),P&&(P[0]!=="."&&(P="."+P),T+=P)})):T=the(x),T&&(T[0]!=="."&&(T="."+T),A=(A||pi)+T)}var S=yze.exec(A||pi)||[];return{type:S[1],ns:(S[2]||pi).replace(MY,".").replace(ehe,pi)[Tp](".").sort().join(".")}}s(QY,"_getEvtNamespace");function rhe(A,x,T){T===void 0&&(T=!0);var S=fP.get(A,L4,{},T),P=S[x];return P||(P=S[x]=[]),P}s(rhe,"_getRegisteredEvents");function nhe(A,x,T,S){A&&x&&x[Kl]&&(A[uP]?A[uP](x[Kl],T,S):A[cP]&&A[cP](Q1+x[Kl],T))}s(nhe,"_doDetach");function Cze(A,x,T,S){var P=!1;return A&&x&&x[Kl]&&T&&(A[Fy]?(A[Fy](x[Kl],T,S),P=!0):A[Mp]&&(A[Mp](Q1+x[Kl],T),P=!0)),P}s(Cze,"_doAttach");function ihe(A,x,T,S){for(var P=x[zn];P--;){var L=x[P];L&&(!T.ns||T.ns===L[Iw].ns)&&(!S||S(L))&&(nhe(A,L[Iw],L.handler,L.capture),x[K2](P,1))}}s(ihe,"_doUnregister");function xze(A,x,T){if(x[Kl])ihe(A,rhe(A,x[Kl]),x,T);else{var S=fP.get(A,L4,{});ne(S,function(P,L){ihe(A,L,x,T)}),rt(S)[zn]===0&&fP.kill(A,L4)}}s(xze,"_unregisterEvents");function ohe(A,x){var T;return x?(qe(x)?T=[A].concat(x):T=[A,x],T=QY("xx",T).ns[Tp](".")):T=A,T}s(ohe,"mergeEvtNamespace");function she(A,x,T,S,P){P===void 0&&(P=!1);var L=!1;if(A)try{var W=QY(x,S);if(L=Cze(A,W,T,P),L&&fP.accept(A)){var se={guid:Aze++,evtName:W,handler:T,capture:P};rhe(A,W.type)[ji](se)}}catch{}return L}s(she,"eventOn");function vze(A,x,T,S,P){if(P===void 0&&(P=!1),A)try{var L=QY(x,S),W=!1;xze(A,L,function(se){return L.ns&&!T||se.handler===T?(W=!0,!0):!1}),W||nhe(A,L,T,P)}catch{}}s(vze,"eventOff");var ahe="sampleRate",OY="ProcessLegacy",lhe="http.method",UY="https://dc.services.visualstudio.com",F4="/v2/track",My="not_specified",che=Zz({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),dP="split",mi="length",qY="toLowerCase",ax="ingestionendpoint",l7="toString",uhe="removeItem",mP="message",bze="count",WY="stringify",GY="pathname",c7="match",Qy="name",Qp="properties",O1="measurements",hP="sizeInBytes",pP="typeName",u7="exceptions",f7="severityLevel",HY="problemGroup",M4="parsedStack",gP="hasFullStack",AP="assembly",U1="fileName",Q4="line",yP="aiDataContract",CP="duration";function fhe(A,x,T){var S=x[mi],P=Eze(A,x);if(P[mi]!==S){for(var L=0,W=P;T[W]!==void 0;)L++,W=de(P,0,147)+wze(L);P=W}return P}s(fhe,"dataSanitizeKeyAndAddUniqueness");function Eze(A,x){var T;return x&&(x=Hi(Ct(x)),x[mi]>150&&(T=de(x,0,150),Or(A,2,57,"name is too long.  It has been truncated to 150 characters.",{name:x},!0))),T||x}s(Eze,"dataSanitizeKey");function Ic(A,x,T){T===void 0&&(T=1024);var S;return x&&(T=T||1024,x=Hi(Ct(x)),x[mi]>T&&(S=de(x,0,T),Or(A,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:x},!0))),S||x}s(Ic,"dataSanitizeString");function jY(A,x){return mhe(A,x,2048,66)}s(jY,"dataSanitizeUrl");function dhe(A,x){var T;return x&&x[mi]>32768&&(T=de(x,0,32768),Or(A,2,56,"message is too long, it has been truncated to 32768 characters.",{message:x},!0)),T||x}s(dhe,"dataSanitizeMessage");function Ize(A,x){var T;if(x){var S=""+x;S[mi]>32768&&(T=de(S,0,32768),Or(A,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:x},!0))}return T||x}s(Ize,"dataSanitizeException");function lx(A,x){if(x){var T={};ne(x,function(S,P){if(be(P)&&Ay())try{P=i0()[WY](P)}catch(L){Or(A,2,49,"custom property is not valid",{exception:L},!0)}P=Ic(A,P,8192),S=fhe(A,S,T),T[S]=P}),x=T}return x}s(lx,"dataSanitizeProperties");function cx(A,x){if(x){var T={};ne(x,function(S,P){S=fhe(A,S,T),T[S]=P}),x=T}return x}s(cx,"dataSanitizeMeasurements");function Tze(A,x){return x&&mhe(A,x,128,69)[l7]()}s(Tze,"dataSanitizeId");function mhe(A,x,T,S){var P;return x&&(x=Hi(Ct(x)),x[mi]>T&&(P=de(x,0,T),Or(A,2,S,"input is too long, it has been truncated to "+T+" characters.",{data:x},!0))),P||x}s(mhe,"dataSanitizeInput");function wze(A){var x="00"+A;return ye(x,x[mi]-3)}s(wze,"dsPadNumber");var hhe=D2()||{},phe=0,_ze=[null,null,null,null,null];function Sze(A){var x=phe,T=_ze,S=T[x];return hhe.createElement?T[x]||(S=T[x]=hhe.createElement("a")):S={host:Rze(A,!0)},S.href=A,x++,x>=T[mi]&&(x=0),phe=x,S}s(Sze,"urlParseUrl");function Rze(A,x){var T=kze(A,x)||"";if(T){var S=T[c7](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[mi]>3&&ce(S[2])&&S[2][mi]>0)return S[2]+(S[3]||"")}return T}s(Rze,"urlParseHost");function kze(A,x){var T=null;if(A){var S=A[c7](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[mi]>2&&ce(S[2])&&S[2][mi]>0&&(T=S[2]||"",x&&S[mi]>2)){var P=(S[1]||"")[qY](),L=S[3]||"";(P==="http"&&L===":80"||P==="https"&&L===":443")&&(L=""),T+=L}}return T}s(kze,"urlParseFullHost");var Bze=[UY+F4,"https://breeze.aimon.applicationinsights.io"+F4,"https://dc-int.services.visualstudio.com"+F4];function ghe(A){return t0(Bze,A[qY]())!==-1}s(ghe,"isInternalApplicationInsightsEndpoint");function Dze(A,x,T,S){var P,L=S,W=S;if(x&&x[mi]>0){var se=Sze(x);if(P=se.host,!L)if(se[GY]!=null){var fe=se.pathname[mi]===0?"/":se[GY];fe.charAt(0)!=="/"&&(fe="/"+fe),W=se[GY],L=Ic(A,T?T+" "+fe:fe)}else L=Ic(A,x)}else P=S,L=S;return{target:P,name:L,data:W}}s(Dze,"AjaxHelperParseDependencyPath");var VY=zE({LocalStorage:0,SessionStorage:1}),O4=void 0,Ahe="";function yhe(A){try{if(Y(Kf()))return null;var x=new Date()[l7](),T=ra(A===VY.LocalStorage?"localStorage":"sessionStorage"),S=Ahe+x;T.setItem(S,x);var P=T.getItem(S)!==x;if(T[uhe](S),!P)return T}catch{}return null}s(yhe,"_getVerifiedStorageObject");function $Y(){return Che()?yhe(VY.SessionStorage):null}s($Y,"_getSessionStorageObject");function Pze(A){Ahe=A||""}s(Pze,"utlSetStoragePrefix");function Che(A){return(A||O4===void 0)&&(O4=!!yhe(VY.SessionStorage)),O4}s(Che,"utlCanUseSessionStorage");function Nze(A,x){var T=$Y();if(T!==null)try{return T.getItem(x)}catch(S){O4=!1,Or(A,2,2,"Browser failed read of session storage. "+ol(S),{exception:yt(S)})}return null}s(Nze,"utlGetSessionStorage");function Lze(A,x,T){var S=$Y();if(S!==null)try{return S.setItem(x,T),!0}catch(P){O4=!1,Or(A,2,4,"Browser failed write to session storage. "+ol(P),{exception:yt(P)})}return!1}s(Lze,"utlSetSessionStorage");function Fze(A,x){var T=$Y();if(T!==null)try{return T[uhe](x),!0}catch(S){O4=!1,Or(A,2,6,"Browser failed removal of session storage item. "+ol(S),{exception:yt(S)})}return!1}s(Fze,"utlRemoveSessionStorage");var Mze=";",Qze="=";function zY(A){if(!A)return{};var x=A[dP](Mze),T=qz(x,function(P,L){var W=L[dP](Qze);if(W[mi]===2){var se=W[0][qY](),fe=W[1];P[se]=fe}return P},{});if(rt(T)[mi]>0){if(T.endpointsuffix){var S=T.location?T.location+".":"";T[ax]=T[ax]||"https://"+S+"dc."+T.endpointsuffix}T[ax]=T[ax]||UY,aD(T[ax],"/")&&(T[ax]=T[ax].slice(0,-1))}return T}s(zY,"parseConnectionString");var Oze=function(){function A(x,T,S){var P=this,L=this;L.ver=1,L.sampleRate=100,L.tags={},L[Qy]=Ic(x,S)||My,L.data=T,L.time=G3(new Date),L[yP]={time:1,iKey:1,name:1,sampleRate:s(function(){return P.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(A,"Envelope"),A}(),U4=function(){function A(x,T,S,P){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var L=this;L.ver=2,L[Qy]=Ic(x,T)||My,L[Qp]=lx(x,S),L[O1]=cx(x,P)}return s(A,"Event"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Event",A.dataType="EventData",A}(),Uze=58,qze=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Wze=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Gze=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Hze=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,jze=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,Vze=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,$ze=/([^\(\s\n]+):([0-9]+)$/,xhe="<no_method>",q4="error",cd="stack",YY="stackDetails",vhe="errorSrc",KY="message",bhe="description",Ehe=[{re:Wze,len:5,m:1,fn:2,ln:3,col:4},{chk:Yze,pre:zze,re:Gze,len:4,m:1,fn:2,ln:3},{re:Hze,len:3,m:1,fn:2,hdl:Rhe},{re:jze,len:2,fn:1,hdl:Rhe}];function zze(A){return A.replace(/(\(anonymous\))/,"<anonymous>")}s(zze,"_scrubAnonymous");function Yze(A){return wm(A,"[native")<0}s(Yze,"_ignoreNative");function JY(A,x){var T=A;return T&&!ce(T)&&(JSON&&JSON[WY]?(T=JSON[WY](A),x&&(!T||T==="{}")&&(De(A[l7])?T=A[l7]():T=""+A)):T=""+A+" - (Missing JSON.stringify)"),T||""}s(JY,"_stringify");function Ihe(A,x){var T=A;return A&&(T&&!ce(T)&&(T=A[KY]||A[bhe]||T),T&&!ce(T)&&(T=JY(T,!0)),A.filename&&(T=T+" @"+(A.filename||"")+":"+(A.lineno||"?")+":"+(A.colno||"?"))),x&&x!=="String"&&x!=="Object"&&x!=="Error"&&wm(T||"",x)===-1&&(T=x+": "+T),T||""}s(Ihe,"_formatMessage");function Kze(A){try{if(be(A))return"hasFullStack"in A&&"typeName"in A}catch{}return!1}s(Kze,"_isExceptionDetailsInternal");function Jze(A){try{if(be(A))return"ver"in A&&"exceptions"in A&&"properties"in A}catch{}return!1}s(Jze,"_isExceptionInternal");function The(A){return A&&A.src&&ce(A.src)&&A.obj&&qe(A.obj)}s(The,"_isStackDetails");function ux(A){var x=A||"";ce(x)||(ce(x[cd])?x=x[cd]:x=""+x);var T=x[dP](`
`);return{src:x,obj:T}}s(ux,"_convertStackObj");function Xze(A){for(var x=[],T=A[dP](`
`),S=0;S<T[mi];S++){var P=T[S];T[S+1]&&(P+="@"+T[S+1],S++),x.push(P)}return{src:A,obj:x}}s(Xze,"_getOperaStack");function whe(A){var x=null;if(A)try{if(A[cd])x=ux(A[cd]);else if(A[q4]&&A[q4][cd])x=ux(A[q4][cd]);else if(A.exception&&A.exception[cd])x=ux(A.exception[cd]);else if(The(A))x=A;else if(The(A[YY]))x=A[YY];else if(Tm()&&Tm().opera&&A[KY])x=Xze(A[mP]);else if(A.reason&&A.reason[cd])x=ux(A.reason[cd]);else if(ce(A))x=ux(A);else{var T=A[KY]||A[bhe]||"";ce(A[vhe])&&(T&&(T+=`
`),T+=" from "+A[vhe]),T&&(x=ux(T))}}catch(S){x=ux(S)}return x||{src:"",obj:null}}s(whe,"_getStackFromErrorObj");function Zze(A){var x="";return A&&(A.obj?x=A.obj.join(`
`):x=A.src||""),x}s(Zze,"_formatStackTrace");function eYe(A){var x,T=A.obj;if(T&&T[mi]>0){x=[];var S=0,P=!1,L=0;Jr(T,function(pt){if(P||iYe(pt)){var ct=Ct(pt);P=!0;var Tt=oYe(ct,S);Tt&&(L+=Tt[hP],x.push(Tt),S++)}});var W=32*1024;if(L>W)for(var se=0,fe=x[mi]-1,ve=0,ke=se,We=fe;se<fe;){var et=x[se][hP],He=x[fe][hP];if(ve+=et+He,ve>W){var Ye=We-ke+1;x.splice(ke,Ye);break}ke=se,We=fe,se++,fe--}}return x}s(eYe,"_parseStack");function xP(A){var x="";if(A&&(x=A.typeName||A[Qy]||"",!x))try{var T=/function (.{1,200})\(/,S=T.exec(A.constructor[l7]());x=S&&S[mi]>1?S[1]:""}catch{}return x}s(xP,"_getErrorType");function XY(A){if(A)try{if(!ce(A)){var x=xP(A),T=JY(A,!1);return(!T||T==="{}")&&(A[q4]&&(A=A[q4],x=xP(A)),T=JY(A,!0)),wm(T,x)!==0&&x!=="String"?x+":"+T:T}}catch{}return""+(A||"")}s(XY,"_formatErrorCode");var vP=function(){function A(x,T,S,P,L,W){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var se=this;se.ver=2,Jze(T)?(se[u7]=T[u7]||[],se[Qp]=T[Qp],se[O1]=T[O1],T[f7]&&(se[f7]=T[f7]),T.id&&(se.id=T.id,T[Qp].id=T.id),T[HY]&&(se[HY]=T[HY]),Y(T.isManual)||(se.isManual=T.isManual)):(S||(S={}),W&&(S.id=W),se[u7]=[_he(x,T,S)],se[Qp]=lx(x,S),se[O1]=cx(x,P),L&&(se[f7]=L),W&&(se.id=W))}return s(A,"Exception"),A.CreateAutoException=function(x,T,S,P,L,W,se,fe){var ve=xP(L||W||x);return{message:Ihe(x,ve),url:T,lineNumber:S,columnNumber:P,error:XY(L||W||x),evt:XY(W||x),typeName:ve,stackDetails:whe(se||L||W),errorSrc:fe}},A.CreateFromInterface=function(x,T,S,P){var L=T[u7]&&C1(T[u7],function(se){return nYe(x,se)}),W=new A(x,Sm(Sm({},T),{exceptions:L}),S,P);return W},A.prototype.toInterface=function(){var x=this,T=x.exceptions,S=x.properties,P=x.measurements,L=x.severityLevel,W=x.problemGroup,se=x.id,fe=x.isManual,ve=T instanceof Array&&C1(T,function(ke){return ke.toInterface()})||void 0;return{ver:"4.0",exceptions:ve,severityLevel:L,properties:S,measurements:P,problemGroup:W,id:se,isManual:fe}},A.CreateSimpleException=function(x,T,S,P,L,W){var se;return{exceptions:[(se={},se[gP]=!0,se.message=x,se.stack=L,se.typeName=T,se)]}},A.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",A.dataType="ExceptionData",A.formatError=XY,A}(),tYe=bt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function rYe(){var A=this,x=qe(A[M4])&&C1(A[M4],function(S){return aYe(S)}),T={id:A.id,outerId:A.outerId,typeName:A[pP],message:A[mP],hasFullStack:A[gP],stack:A[cd],parsedStack:x||void 0};return T}s(rYe,"_toInterface");function _he(A,x,T){var S,P,L,W,se,fe,ve,ke;if(Kze(x))W=x[pP],se=x[mP],ve=x[cd],ke=x[M4]||[],fe=x[gP];else{var We=x,et=We&&We.evt;at(We)||(We=We[q4]||et||We),W=Ic(A,xP(We))||My,se=dhe(A,Ihe(x||We,W))||My;var He=x[YY]||whe(x);ke=eYe(He),qe(ke)&&C1(ke,function(Ye){Ye[AP]=Ic(A,Ye[AP]),Ye[U1]=Ic(A,Ye[U1])}),ve=Ize(A,Zze(He)),fe=qe(ke)&&ke[mi]>0,T&&(T[pP]=T[pP]||W)}return S={},S[yP]=tYe,S.id=P,S.outerId=L,S.typeName=W,S.message=se,S[gP]=fe,S.stack=ve,S.parsedStack=ke,S.toInterface=rYe,S}s(_he,"_createExceptionDetails");function nYe(A,x){var T=qe(x[M4])&&C1(x[M4],function(P){return sYe(P)})||x[M4],S=_he(A,Sm(Sm({},x),{parsedStack:T}));return S}s(nYe,"_createExDetailsFromInterface");function She(A,x){var T=x[c7](Vze);if(T&&T[mi]>=4)A[U1]=T[1],A[Q4]=parseInt(T[2]);else{var S=x[c7]($ze);S&&S[mi]>=3?(A[U1]=S[1],A[Q4]=parseInt(S[2])):A[U1]=x}}s(She,"_parseFilename");function Rhe(A,x,T){var S=A[U1];x.fn&&T&&T[mi]>x.fn&&(x.ln&&T[mi]>x.ln?(S=Hi(T[x.fn]||""),A[Q4]=parseInt(Hi(T[x.ln]||""))||0):S=Hi(T[x.fn]||"")),S&&She(A,S)}s(Rhe,"_handleFilename");function iYe(A){var x=!1;if(A&&ce(A)){var T=Hi(A);T&&(x=qze.test(T))}return x}s(iYe,"_isStackFrame");var khe=bt({level:1,method:1,assembly:0,fileName:0,line:0});function oYe(A,x){var T,S;if(A&&ce(A)&&Hi(A)){S=(T={},T[yP]=khe,T.level=x,T.assembly=Hi(A),T.method=xhe,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var P=0;P<Ehe[mi];){var L=Ehe[P];if(L.chk&&!L.chk(A))break;L.pre&&(A=L.pre(A));var W=A[c7](L.re);if(W&&W[mi]>=L.len){L.m&&(S.method=Hi(W[L.m]||xhe)),L.hdl?L.hdl(S,L,W):L.fn&&(L.ln?(S[U1]=Hi(W[L.fn]||""),S[Q4]=parseInt(Hi(W[L.ln]||""))||0):She(S,W[L.fn]||""));break}P++}}return Bhe(S)}s(oYe,"_extractStackFrame");function sYe(A){var x,T=(x={},x[yP]=khe,x.level=A.level,x.method=A.method,x.assembly=A[AP],x.fileName=A[U1],x.line=A[Q4],x.sizeInBytes=0,x);return Bhe(T)}s(sYe,"_stackFrameFromInterface");function Bhe(A){var x=Uze;return A&&(x+=A.method[mi],x+=A.assembly[mi],x+=A.fileName[mi],x+=A.level.toString()[mi],x+=A.line.toString()[mi],A[hP]=x),A}s(Bhe,"_populateFrameSizeInBytes");function aYe(A){return{level:A.level,method:A.method,assembly:A[AP],fileName:A[U1],line:A[Q4]}}s(aYe,"_parsedFrameToInterface");var lYe=function(){function A(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(A,"DataPoint"),A}(),d7=function(){function A(x,T,S,P,L,W,se,fe,ve){this.aiDataContract={ver:1,metrics:1,properties:0};var ke=this;ke.ver=2;var We=new lYe;We[bze]=P>0?P:void 0,We.max=isNaN(W)||W===null?void 0:W,We.min=isNaN(L)||L===null?void 0:L,We[Qy]=Ic(x,T)||My,We.value=S,We.stdDev=isNaN(se)||se===null?void 0:se,ke.metrics=[We],ke[Qp]=lx(x,fe),ke[O1]=cx(x,ve)}return s(A,"Metric"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",A.dataType="MetricData",A}(),m7="";function Dhe(A){(isNaN(A)||A<0)&&(A=0),A=Vz(A);var x=m7+A%1e3,T=m7+x1(A/1e3)%60,S=m7+x1(A/(1e3*60))%60,P=m7+x1(A/(1e3*60*60))%24,L=x1(A/(1e3*60*60*24));return x=x[mi]===1?"00"+x:x[mi]===2?"0"+x:x,T=T[mi]<2?"0"+T:T,S=S[mi]<2?"0"+S:S,P=P[mi]<2?"0"+P:P,(L>0?L+".":m7)+P+":"+S+":"+T+"."+x}s(Dhe,"msToTimeSpan");var bP=function(){function A(x,T,S,P,L,W,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=Tze(x,se),fe.url=jY(x,S),fe[Qy]=Ic(x,T)||My,isNaN(P)||(fe[CP]=Dhe(P)),fe[Qp]=lx(x,L),fe[O1]=cx(x,W)}return s(A,"PageView"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",A.dataType="PageviewData",A}(),EP=function(){function A(x,T,S,P,L,W,se,fe,ve,ke,We,et){ve===void 0&&(ve="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var He=this;He.ver=2,He.id=T,He[CP]=Dhe(L),He.success=W,He.resultCode=se+"",He.type=Ic(x,ve);var Ye=Dze(x,S,fe,P);He.data=jY(x,P)||Ye.data,He.target=Ic(x,Ye.target),ke&&(He.target="".concat(He.target," | ").concat(ke)),He[Qy]=Ic(x,Ye[Qy]),He[Qp]=lx(x,We),He[O1]=cx(x,et)}return s(A,"RemoteDependencyData"),A.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",A.dataType="RemoteDependencyData",A}(),IP=function(){function A(x,T,S,P,L){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var W=this;W.ver=2,T=T||My,W[mP]=dhe(x,T),W[Qp]=lx(x,P),W[O1]=cx(x,L),S&&(W[f7]=S)}return s(A,"Trace"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Message",A.dataType="MessageData",A}(),TP=function(){function A(x,T,S,P,L,W,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=jY(x,S),fe[Qy]=Ic(x,T)||My,fe[Qp]=lx(x,L),fe[O1]=cx(x,W),se&&(fe.domProcessing=se.domProcessing,fe[CP]=se[CP],fe.networkConnect=se.networkConnect,fe.perfTotal=se.perfTotal,fe.receivedResponse=se.receivedResponse,fe.sentRequest=se.sentRequest)}return s(A,"PageViewPerformance"),A.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",A.dataType="PageviewPerformanceData",A}(),fx=function(){function A(x,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=x,this.baseData=T}return s(A,"Data"),A}(),cYe=zE({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Oy(A){var x="ai."+A+".";return function(T){return x+T}}s(Oy,"_aiNameFunc");var h7=Oy("application"),al=Oy("device"),wP=Oy("location"),W4=Oy("operation"),ZY=Oy("session"),Uy=Oy("user"),dx=Oy("cloud"),p7=Oy("internal"),Phe=function(A){M3(x,A);function x(){return A.call(this)||this}return s(x,"ContextTagKeys"),x}(lY({applicationVersion:h7("ver"),applicationBuild:h7("build"),applicationTypeId:h7("typeId"),applicationId:h7("applicationId"),applicationLayer:h7("layer"),deviceId:al("id"),deviceIp:al("ip"),deviceLanguage:al("language"),deviceLocale:al("locale"),deviceModel:al("model"),deviceFriendlyName:al("friendlyName"),deviceNetwork:al("network"),deviceNetworkName:al("networkName"),deviceOEMName:al("oemName"),deviceOS:al("os"),deviceOSVersion:al("osVersion"),deviceRoleInstance:al("roleInstance"),deviceRoleName:al("roleName"),deviceScreenResolution:al("screenResolution"),deviceType:al("type"),deviceMachineName:al("machineName"),deviceVMName:al("vmName"),deviceBrowser:al("browser"),deviceBrowserVersion:al("browserVersion"),locationIp:wP("ip"),locationCountry:wP("country"),locationProvince:wP("province"),locationCity:wP("city"),operationId:W4("id"),operationName:W4("name"),operationParentId:W4("parentId"),operationRootId:W4("rootId"),operationSyntheticSource:W4("syntheticSource"),operationCorrelationVector:W4("correlationVector"),sessionId:ZY("id"),sessionIsFirst:ZY("isFirst"),sessionIsNew:ZY("isNew"),userAccountAcquisitionDate:Uy("accountAcquisitionDate"),userAccountId:Uy("accountId"),userAgent:Uy("userAgent"),userId:Uy("id"),userStoreRegion:Uy("storeRegion"),userAuthUserId:Uy("authUserId"),userAnonymousUserAcquisitionDate:Uy("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Uy("authUserAcquisitionDate"),cloudName:dx("name"),cloudRole:dx("role"),cloudRoleVer:dx("roleVer"),cloudRoleInstance:dx("roleInstance"),cloudEnvironment:dx("environment"),cloudLocation:dx("location"),cloudDeploymentUnit:dx("deploymentUnit"),internalNodeName:p7("nodeName"),internalSdkVersion:p7("sdkVersion"),internalAgentVersion:p7("agentVersion"),internalSnippet:p7("snippet"),internalSdkSrc:p7("sdkSrc")})),bl=new Phe;function Nhe(A,x){vze(A,null,null,x)}s(Nhe,"_disableEvents");function uYe(A){var x=D2(),T=fp(),S=!1,P=[],L=1;T&&!Y(T.onLine)&&!T.onLine&&(L=2);var W=0,se=et(),fe=ohe(Lm("OfflineListener"),A);try{if(ke(Tm())&&(S=!0),x){var ve=x.body||x;ve.ononline&&ke(ve)&&(S=!0)}}catch{S=!1}function ke(pr){var Pr=!1;return pr&&(Pr=she(pr,"online",pt,fe),Pr&&she(pr,"offline",ct,fe)),Pr}s(ke,"_enableEvents");function We(){return se}s(We,"_isOnline");function et(){return!(W===2||L===2)}s(et,"calCurrentState");function He(){var pr=et();se!==pr&&(se=pr,Jr(P,function(Pr){var Hn={isOnline:se,rState:L,uState:W};try{Pr(Hn)}catch{}}))}s(He,"listnerNoticeCheck");function Ye(pr){W=pr,He()}s(Ye,"setOnlineState");function pt(){L=1,He()}s(pt,"_setOnline");function ct(){L=2,He()}s(ct,"_setOffline");function Tt(){var pr=Tm();if(pr&&S){if(Nhe(pr,fe),x){var Pr=x.body||x;U(Pr.ononline)||Nhe(Pr,fe)}S=!1}}s(Tt,"_unload");function Jt(pr){return P.push(pr),{rm:s(function(){var Pr=P.indexOf(pr);if(Pr>-1)return P.splice(Pr,1)},"rm")}}return s(Jt,"addListener"),{isOnline:We,isListening:s(function(){return S},"isListening"),unload:Tt,addListener:Jt,setOnlineState:Ye}}s(uYe,"createOfflineListener");var fYe="AppInsightsChannelPlugin",mx="duration",Jl="tags",eK="deviceType",Uu="data",q1="name",g7="traceID",Ai="length",A7="stringify",hx="measurements",Op="dataType",px="envelopeType",gx="toString",Ax="enqueue",yx="count",W1="push",tK="emitLineDelimitedJson",G4="clear",_P="markAsSent",y7="clearSent",rK="bufferOverride",C7="BUFFER_KEY",qy="SENT_BUFFER_KEY",H4="concat",x7="MAX_BUFFER_SIZE",v7="triggerSend",Tc="diagLog",nK="initialize",b7="_sender",E7="endpointUrl",I7="instrumentationKey",iK="customHeaders",Lhe="maxBatchSizeInBytes",oK="onunloadDisableBeacon",sK="isBeaconApiDisabled",Fhe="alwaysUseXhrOverride",Mhe="enableSessionStorageBuffer",Up="_buffer",Qhe="onunloadDisableFetch",Ohe="disableSendBeaconSplit",SP="getSenderInst",Cx="_onError",aK="_onPartialSuccess",RP="_onSuccess",lK="itemsReceived",cK="itemsAccepted",uK="baseType",kP="sampleRate",dYe="getHashCodeScore",fK="baseType",Ss="baseData",El="properties",Uhe="true";function ya(A,x,T){return Sp(A,x,T,oe)}s(ya,"_setValueIf");function mYe(A,x,T){var S=T[Jl]=T[Jl]||{},P=x.ext=x.ext||{},L=x[Jl]=x[Jl]||[],W=P.user;W&&(ya(S,bl.userAuthUserId,W.authId),ya(S,bl.userId,W.id||W.localId));var se=P.app;se&&ya(S,bl.sessionId,se.sesId);var fe=P.device;fe&&(ya(S,bl.deviceId,fe.id||fe.localId),ya(S,bl[eK],fe.deviceClass),ya(S,bl.deviceIp,fe.ip),ya(S,bl.deviceModel,fe.model),ya(S,bl[eK],fe[eK]));var ve=x.ext.web;if(ve){ya(S,bl.deviceLanguage,ve.browserLang),ya(S,bl.deviceBrowserVersion,ve.browserVer),ya(S,bl.deviceBrowser,ve.browser);var ke=T[Uu]=T[Uu]||{},We=ke[Ss]=ke[Ss]||{},et=We[El]=We[El]||{};ya(et,"domain",ve.domain),ya(et,"isManual",ve.isManual?Uhe:null),ya(et,"screenRes",ve.screenRes),ya(et,"userConsent",ve.userConsent?Uhe:null)}var He=P.os;He&&(ya(S,bl.deviceOS,He[q1]),ya(S,bl.deviceOSVersion,He.osVer));var Ye=P.trace;Ye&&(ya(S,bl.operationParentId,Ye.parentID),ya(S,bl.operationName,Ic(A,Ye[q1])),ya(S,bl.operationId,Ye[g7]));for(var pt={},ct=L[Ai]-1;ct>=0;ct--){var Tt=L[ct];ne(Tt,function(pr,Pr){pt[pr]=Pr}),L.splice(ct,1)}ne(L,function(pr,Pr){pt[pr]=Pr});var Jt=Sm(Sm({},S),pt);Jt[bl.internalSdkVersion]||(Jt[bl.internalSdkVersion]=Ic(A,"javascript:".concat(hYe.Version),64)),T[Jl]=Nw(Jt)}s(mYe,"_extractPartAExtensions");function Wy(A,x,T){Y(A)||ne(A,function(S,P){Xe(P)?T[S]=P:ce(P)?x[S]=P:Ay()&&(x[S]=i0()[A7](P))})}s(Wy,"_extractPropsAndMeasurements");function xx(A,x){Y(A)||ne(A,function(T,S){A[T]=S||x})}s(xx,"_convertPropsUndefinedToCustomDefinedValue");function vx(A,x,T,S){var P=new Oze(A,S,x);ya(P,"sampleRate",T[ahe]),(T[Ss]||{}).startTime&&(P.time=G3(T[Ss].startTime)),P.iKey=T.iKey;var L=T.iKey.replace(/-/g,"");return P[q1]=P[q1].replace("{0}",L),mYe(A,T,P),T[Jl]=T[Jl]||[],Nw(P)}s(vx,"_createEnvelope");function bx(A,x){Y(x[Ss])&&Or(A,1,46,"telemetryItem.baseData cannot be null.")}s(bx,"EnvelopeCreatorInit");var hYe={Version:"3.3.6"};function pYe(A,x,T){bx(A,x);var S=x[Ss][hx]||{},P=x[Ss][El]||{};Wy(x[Uu],P,S),Y(T)||xx(P,T);var L=x[Ss];if(Y(L))return w4(A,"Invalid input for dependency data"),null;var W=L[El]&&L[El][lhe]?L[El][lhe]:"GET",se=new EP(A,L.id,L.target,L[q1],L[mx],L.success,L.responseCode,W,L.type,L.correlationContext,P,S),fe=new fx(EP[Op],se);return vx(A,EP[px],x,fe)}s(pYe,"DependencyEnvelopeCreator");function qhe(A,x,T){bx(A,x);var S={},P={};x[fK]!==U4[Op]&&(S.baseTypeSource=x[fK]),x[fK]===U4[Op]?(S=x[Ss][El]||{},P=x[Ss][hx]||{}):x[Ss]&&Wy(x[Ss],S,P),Wy(x[Uu],S,P),Y(T)||xx(S,T);var L=x[Ss][q1],W=new U4(A,L,S,P),se=new fx(U4[Op],W);return vx(A,U4[px],x,se)}s(qhe,"EventEnvelopeCreator");function gYe(A,x,T){bx(A,x);var S=x[Ss][hx]||{},P=x[Ss][El]||{};Wy(x[Uu],P,S),Y(T)||xx(P,T);var L=x[Ss],W=vP.CreateFromInterface(A,L,P,S),se=new fx(vP[Op],W);return vx(A,vP[px],x,se)}s(gYe,"ExceptionEnvelopeCreator");function AYe(A,x,T){bx(A,x);var S=x[Ss],P=S[El]||{},L=S[hx]||{};Wy(x[Uu],P,L),Y(T)||xx(P,T);var W=new d7(A,S[q1],S.average,S.sampleCount,S.min,S.max,S.stdDev,P,L),se=new fx(d7[Op],W);return vx(A,d7[px],x,se)}s(AYe,"MetricEnvelopeCreator");function yYe(A,x,T){bx(A,x);var S,P=x[Ss];!Y(P)&&!Y(P[El])&&!Y(P[El][mx])?(S=P[El][mx],delete P[El][mx]):!Y(x[Uu])&&!Y(x[Uu][mx])&&(S=x[Uu][mx],delete x[Uu][mx]);var L=x[Ss],W;((x.ext||{}).trace||{})[g7]&&(W=x.ext.trace[g7]);var se=L.id||W,fe=L[q1],ve=L.uri,ke=L[El]||{},We=L[hx]||{};if(Y(L.refUri)||(ke.refUri=L.refUri),Y(L.pageType)||(ke.pageType=L.pageType),Y(L.isLoggedIn)||(ke.isLoggedIn=L.isLoggedIn[gx]()),!Y(L[El])){var et=L[El];ne(et,function(pt,ct){ke[pt]=ct})}Wy(x[Uu],ke,We),Y(T)||xx(ke,T);var He=new bP(A,fe,ve,S,ke,We,se),Ye=new fx(bP[Op],He);return vx(A,bP[px],x,Ye)}s(yYe,"PageViewEnvelopeCreator");function CYe(A,x,T){bx(A,x);var S=x[Ss],P=S[q1],L=S.uri||S.url,W=S[El]||{},se=S[hx]||{};Wy(x[Uu],W,se),Y(T)||xx(W,T);var fe=new TP(A,P,L,void 0,W,se,S),ve=new fx(TP[Op],fe);return vx(A,TP[px],x,ve)}s(CYe,"PageViewPerformanceEnvelopeCreator");function xYe(A,x,T){bx(A,x);var S=x[Ss].message,P=x[Ss].severityLevel,L=x[Ss][El]||{},W=x[Ss][hx]||{};Wy(x[Uu],L,W),Y(T)||xx(L,T);var se=new IP(A,S,P,L,W),fe=new fx(IP[Op],se);return vx(A,IP[px],x,fe)}s(xYe,"TraceEnvelopeCreator");var Whe=function(){function A(x,T){var S=[],P=!1,L=T.maxRetryCnt;this._get=function(){return S},this._set=function(W){return S=W,S},Yl(A,this,function(W){W[Ax]=function(se){if(W[yx]()>=T.eventsLimitInMem){P||(Or(x,2,105,"Maximum in-memory buffer size reached: "+W[yx](),!0),P=!0);return}se.cnt=se.cnt||0,!(!Y(L)&&se.cnt>L)&&S[W1](se)},W[yx]=function(){return S[Ai]},W.size=function(){for(var se=S[Ai],fe=0;fe<S[Ai];fe++)se+=S[fe].item[Ai];return T[tK]||(se+=2),se},W[G4]=function(){S=[],P=!1},W.getItems=function(){return S.slice(0)},W.batchPayloads=function(se){if(se&&se[Ai]>0){var fe=[];Jr(se,function(ke){fe[W1](ke.item)});var ve=T[tK]?fe.join(`
`):"["+fe.join(",")+"]";return ve}return null},W.createNew=function(se,fe,ve){var ke=S.slice(0);se=se||x,fe=fe||{};var We=ve?new Ghe(se,fe):new dK(se,fe);return Jr(ke,function(et){We[Ax](et)}),We}})}return s(A,"BaseSendBuffer"),A.__ieDyn=1,A}(),dK=function(A){M3(x,A);function x(T,S){var P=A.call(this,T,S)||this;return Yl(x,P,function(L,W){L[_P]=function(se){W[G4]()},L[y7]=function(se){}}),P}return s(x,"ArraySendBuffer"),x.__ieDyn=1,x}(Whe),vYe=["AI_buffer","AI_sentBuffer"],Ghe=function(A){M3(x,A);function x(S,P){var L=A.call(this,S,P)||this,W=!1,se=P?.namePrefix,fe=P[rK]||{getItem:Nze,setItem:Lze},ve=fe.getItem,ke=fe.setItem,We=P.maxRetryCnt;return Yl(x,L,function(et,He){var Ye=Pr(x[C7]),pt=Pr(x[qy]),ct=vi(),Tt=pt[H4](ct),Jt=et._set(Ye[H4](Tt));Jt[Ai]>x[x7]&&(Jt[Ai]=x[x7]),xi(x[qy],[]),xi(x[C7],Jt),et[Ax]=function(hn){if(et[yx]()>=x[x7]){W||(Or(S,2,67,"Maximum buffer size reached: "+et[yx](),!0),W=!0);return}hn.cnt=hn.cnt||0,!(!Y(We)&&hn.cnt>We)&&(He[Ax](hn),xi(x[C7],et._get()))},et[G4]=function(){He[G4](),xi(x[C7],et._get()),xi(x[qy],[]),W=!1},et[_P]=function(hn){xi(x[C7],et._set(pr(hn,et._get())));var $r=Pr(x[qy]);$r instanceof Array&&hn instanceof Array&&($r=$r[H4](hn),$r[Ai]>x[x7]&&(Or(S,1,67,"Sent buffer reached its maximum size: "+$r[Ai],!0),$r[Ai]=x[x7]),xi(x[qy],$r))},et[y7]=function(hn){var $r=Pr(x[qy]);$r=pr(hn,$r),xi(x[qy],$r)},et.createNew=function(hn,$r,bi){bi=!!bi;var Rs=et._get().slice(0),Uo=Pr(x[qy]).slice(0);hn=hn||S,$r=$r||{},et[G4]();var er=bi?new x(hn,$r):new dK(hn,$r);return Jr(Rs,function(zr){er[Ax](zr)}),bi&&er[_P](Uo),er};function pr(hn,$r){var bi=[],Rs=[];return Jr(hn,function(Uo){Rs[W1](Uo.item)}),Jr($r,function(Uo){!De(Uo)&&t0(Rs,Uo.item)===-1&&bi[W1](Uo)}),bi}s(pr,"_removePayloadsFromBuffer");function Pr(hn){var $r=hn;return $r=se?se+"_"+$r:$r,Hn($r)}s(Pr,"_getBuffer");function Hn(hn){try{var $r=ve(S,hn);if($r){var bi=i0().parse($r);if(ce(bi)&&(bi=i0().parse(bi)),bi&&qe(bi))return bi}}catch(Rs){Or(S,1,42," storage key: "+hn+", "+ol(Rs),{exception:yt(Rs)})}return[]}s(Hn,"_getBufferBase");function xi(hn,$r){var bi=hn;try{bi=se?se+"_"+bi:bi;var Rs=JSON[A7]($r);ke(S,bi,Rs)}catch(Uo){ke(S,bi,JSON[A7]([])),Or(S,2,41," storage key: "+bi+", "+ol(Uo)+". Buffer cleared",{exception:yt(Uo)})}}s(xi,"_setBuffer");function vi(){var hn=[];try{return Jr(vYe,function($r){var bi=ho($r);if(hn=hn[H4](bi),se){var Rs=se+"_"+$r,Uo=ho(Rs);hn=hn[H4](Uo)}}),hn}catch($r){Or(S,2,41,"Transfer events from previous buffers: "+ol($r)+". previous Buffer items can not be removed",{exception:yt($r)})}return[]}s(vi,"_getPreviousEvents");function ho(hn){try{var $r=Hn(hn),bi=[];return Jr($r,function(Rs){var Uo={item:Rs,cnt:0};bi[W1](Uo)}),Fze(S,hn),bi}catch{}return[]}s(ho,"_getItemsFromPreviousKey")}),L}s(x,"SessionStorageSendBuffer");var T;return T=x,x.VERSION="_1",x.BUFFER_KEY="AI_buffer"+T.VERSION,x.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,x.MAX_BUFFER_SIZE=2e3,x}(Whe),bYe=function(){function A(x){Yl(A,this,function(T){T.serialize=function(W){var se=S(W,"root");try{return i0()[A7](se)}catch(fe){Or(x,1,48,fe&&De(fe[gx])?fe[gx]():"Error serializing object",null,!0)}};function S(W,se){var fe="__aiCircularRefCheck",ve={};if(!W)return Or(x,1,48,"cannot serialize object because it is null or undefined",{name:se},!0),ve;if(W[fe])return Or(x,2,50,"Circular reference detected while serializing object",{name:se},!0),ve;if(!W.aiDataContract){if(se==="measurements")ve=L(W,"number",se);else if(se==="properties")ve=L(W,"string",se);else if(se==="tags")ve=L(W,"string",se);else if(qe(W))ve=P(W,se);else{Or(x,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:se},!0);try{i0()[A7](W),ve=W}catch(ke){Or(x,1,48,ke&&De(ke[gx])?ke[gx]():"Error serializing object",null,!0)}}return ve}return W[fe]=!0,ne(W.aiDataContract,function(ke,We){var et=De(We)?We()&1:We&1,He=De(We)?We()&4:We&4,Ye=We&2,pt=W[ke]!==void 0,ct=be(W[ke])&&W[ke]!==null;if(et&&!pt&&!Ye)Or(x,1,24,"Missing required field specification. The field is required but not present on source",{field:ke,name:se});else if(!He){var Tt=void 0;ct?Ye?Tt=P(W[ke],ke):Tt=S(W[ke],ke):Tt=W[ke],Tt!==void 0&&(ve[ke]=Tt)}}),delete W[fe],ve}s(S,"_serializeObject");function P(W,se){var fe;if(W)if(!qe(W))Or(x,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:se},!0);else{fe=[];for(var ve=0;ve<W[Ai];ve++){var ke=W[ve],We=S(ke,se+"["+ve+"]");fe[W1](We)}}return fe}s(P,"_serializeArray");function L(W,se,fe){var ve;return W&&(ve={},ne(W,function(ke,We){if(se==="string")We===void 0?ve[ke]="undefined":We===null?ve[ke]="null":We[gx]?ve[ke]=We[gx]():ve[ke]="invalid field: toString() is not defined.";else if(se==="number")if(We===void 0)ve[ke]="undefined";else if(We===null)ve[ke]="null";else{var et=parseFloat(We);ve[ke]=et}else ve[ke]="invalid field: "+fe+" is of unknown type.",Or(x,1,ve[ke],null,!0)})),ve}s(L,"_serializeStringMap")})}return s(A,"Serializer"),A.__ieDyn=1,A}(),EYe=8,IYe=function(){function A(){}return s(A,"HashCodeScoreGenerator"),A.prototype.getHashCodeScore=function(x){var T=this.getHashCode(x)/A.INT_MAX_VALUE;return T*100},A.prototype.getHashCode=function(x){if(x==="")return 0;for(;x[Ai]<EYe;)x=x[H4](x);for(var T=5381,S=0;S<x[Ai];++S)T=(T<<5)+T+x.charCodeAt(S),T=T&T;return Math.abs(T)},A.INT_MAX_VALUE=2147483647,A}(),TYe=function(){function A(){var x=this,T=new IYe,S=new Phe;x.getSamplingScore=function(P){var L=0;return P[Jl]&&P[Jl][S.userId]?L=T.getHashCodeScore(P[Jl][S.userId]):P.ext&&P.ext.user&&P.ext.user.id?L=T[dYe](P.ext.user.id):P[Jl]&&P[Jl][S.operationId]?L=T.getHashCodeScore(P[Jl][S.operationId]):P.ext&&P.ext.telemetryTrace&&P.ext.telemetryTrace[g7]?L=T.getHashCodeScore(P.ext.telemetryTrace[g7]):L=Math.random()*100,L}}return s(A,"SamplingScoreGenerator"),A}(),wYe=function(){function A(x,T){this.INT_MAX_VALUE=2147483647;var S=T||ex(null);(x>100||x<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:x},!0),x=100),this[kP]=x,this.samplingScoreGenerator=new TYe}return s(A,"Sample"),A.prototype.isSampledIn=function(x){var T=this[kP],S=!1;return T==null||T>=100||x.baseType===d7[Op]?!0:(S=this.samplingScoreGenerator.getSamplingScore(x)<T,S)},A}(),is,G1,qp=void 0,Hhe="",_Ye=65e3;function jhe(A){try{return A.responseText}catch{}return null}s(jhe,"_getResponseText");function SYe(A){return A&&A.sendPOST}s(SYe,"isOverrideFn");var Vhe=Rt((is={endpointUrl:zw(oe,UY+F4)},is[tK]=sd(),is.maxBatchInterval=15e3,is[Lhe]=102400,is.disableTelemetry=sd(),is[Mhe]=sd(!0),is.isRetryDisabled=sd(),is[sK]=sd(!0),is[Ohe]=sd(!0),is.disableXhr=sd(),is[Qhe]=sd(),is[oK]=sd(),is[I7]=qp,is.namePrefix=qp,is.samplingPercentage=zw(RYe,100),is[iK]=qp,is.convertUndefined=qp,is.eventsLimitInMem=1e4,is[rK]=!1,is.httpXHROverride={isVal:SYe,v:qp},is[Fhe]=sd(),is.transports=qp,is.retryCodes=qp,is.maxRetryCnt={isVal:Xe,v:10},is));function RYe(A){return!isNaN(A)&&A>0&&A<=100}s(RYe,"_chkSampling");var kYe=(G1={},G1[U4.dataType]=qhe,G1[IP.dataType]=xYe,G1[bP.dataType]=yYe,G1[TP.dataType]=CYe,G1[vP.dataType]=gYe,G1[d7.dataType]=AYe,G1[EP.dataType]=pYe,G1),$he=function(A){M3(x,A);function x(){var T=A.call(this)||this;T.priority=1001,T.identifier=fYe;var S,P,L,W,se,fe,ve,ke=0,We,et,He,Ye,pt,ct,Tt,Jt,pr,Pr,Hn,xi,vi,ho,hn,$r,bi,Rs,Uo,er,zr,so,Nt,_n,Gs,po,Il;return Yl(x,T,function(mt,Qa){Yhe(),mt.pause=function(){Vy(),L=!0},mt.resume=function(){L&&(L=!1,P=null,_o(),z4())},mt.flush=function($e,Et,vr){if($e===void 0&&($e=!0),!L){Vy();try{return mt[v7]($e,null,vr||1)}catch(qr){Or(mt[Tc](),1,22,"flush failed, telemetry will not be collected: "+ol(qr),{exception:yt(qr)})}}},mt.onunloadFlush=function(){if(!L)if(Tt||er)try{return mt[v7](!0,H0,2)}catch($e){Or(mt[Tc](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+ol($e),{exception:yt($e)})}else mt.flush(!1)},mt.addHeader=function($e,Et){ve[$e]=Et},mt[nK]=function($e,Et,vr,qr){mt.isInitialized()&&Or(mt[Tc](),1,28,"Sender is already initialized"),Qa[nK]($e,Et,vr,qr);var Ln=mt.identifier;se=new bYe(Et.logger),S=0,P=null,mt[b7]=null,fe=0;var gn=mt[Tc]();He=ohe(Lm("Sender"),Et.evtNamespace&&Et.evtNamespace()),et=uYe(He),mt._addHook(Fm($e,function(Vi){var Ca=Vi.cfg;Ca.storagePrefix&&Pze(Ca.storagePrefix);var qu=Ny(null,Ca,Et),li=qu.getExtCfg(Ln,Vhe),Khe=li[E7];if(Ye&&Khe===Ye){var pK=Ca[E7];pK&&pK!==Khe&&(li[E7]=pK)}lt(li[I7])&&(li[I7]=Ca[I7]),Ue(mt,"_senderConfig",{g:s(function(){return li},"g")}),pt!==li[E7]&&(Ye=pt=li[E7]),Et.activeStatus()===vp.PENDING?mt.pause():Et.activeStatus()===vp.ACTIVE&&mt.resume(),Pr&&Pr!==li[iK]&&Jr(Pr,function(Zl){delete ve[Zl.header]}),ct=li[Lhe],Tt=(li[oK]===!1||li[sK]===!1)&&kp(),Jt=li[oK]===!1&&kp(),pr=li[sK]===!1&&kp(),er=li[Fhe],zr=!!li.disableXhr,Il=li.retryCodes;var gK=li[rK],Y4=!!li[Mhe]&&(!!gK||Che()),Jhe=li.namePrefix,NYe=Y4!==$r||Y4&&Rs!==Jhe||Y4&&bi!==gK;if(mt[Up]){if(NYe)try{mt[Up]=mt[Up].createNew(gn,li,Y4)}catch(Zl){Or(mt[Tc](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+ol(Zl),{exception:yt(Zl)})}_o()}else mt[Up]=Y4?new Ghe(gn,li):new dK(gn,li);Rs=Jhe,$r=Y4,bi=gK,so=!li[Qhe]&&Y3(!0),Gs=!!li[Ohe],mt._sample=new wYe(li.samplingPercentage,gn),xi=li[I7],!lt(xi)&&!zhe(xi,Ca)&&Or(gn,1,100,"Invalid Instrumentation key "+xi),Pr=li[iK],ce(Ye)&&!ghe(Ye)&&Pr&&Pr[Ai]>0?Jr(Pr,function(Zl){T.addHeader(Zl.header,Zl.value)}):Pr=null,Uo=li.enableSendPromise;var Xhe=Tl();po?po.SetConfig(Xhe):(po=new Ma,po[nK](Xhe,gn));var NP=li.httpXHROverride,LP=null,S7=null,LYe=RD([3,1,2],li.transports);LP=po&&po[SP](LYe,!1);var AK=po&&po.getFallbackInst();Nt=s(function(Zl,Ex){return Hr(AK,Zl,Ex)},"_xhrSend"),_n=s(function(Zl,Ex){return Hr(AK,Zl,Ex,!1)},"_fallbackSend"),LP=er?NP:LP||NP||AK,mt[b7]=function(Zl,Ex){return Hr(LP,Zl,Ex)},so&&(We=$4);var yK=RD([3,1],li.unloadTransports);so||(yK=yK.filter(function(Zl){return Zl!==2})),S7=po&&po[SP](yK,!0),S7=er?NP:S7||NP,(er||li.unloadTransports||!We)&&S7&&(We=s(function(Zl,Ex){return Hr(S7,Zl,Ex)},"_syncUnloadSender")),We||(We=Nt),Hn=li.disableTelemetry,vi=li.convertUndefined||qp,ho=li.isRetryDisabled,hn=li.maxBatchInterval}))},mt.processTelemetry=function($e,Et){Et=mt._getTelCtx(Et);var vr=Et[Tc]();try{var qr=Om($e,vr);if(!qr)return;var Ln=jy($e,vr);if(!Ln)return;var gn=se.serialize(Ln),Vi=mt[Up];_o(gn);var Ca={item:gn,cnt:0};Vi[Ax](Ca),z4()}catch(qu){Or(vr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+ol(qu),{exception:yt(qu)})}mt.processNext($e,Et)},mt.isCompletelyIdle=function(){return!L&&ke===0&&mt._buffer[yx]()===0},mt.getOfflineListener=function(){return et},mt._xhrReadyStateChange=function($e,Et,vr){if(!qm(Et))return ud($e,Et,vr)},mt[v7]=function($e,Et,vr){$e===void 0&&($e=!0);var qr;if(!L)try{var Ln=mt[Up];if(Hn)Ln[G4]();else if(Ln[yx]()>0){var gn=Ln.getItems();PP(vr||0,$e),Et?qr=Et.call(mt,gn,$e):qr=mt[b7](gn,$e)}Vy()}catch(Ca){var Vi=yy();(!Vi||Vi>9)&&Or(mt[Tc](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+ol(Ca),{exception:yt(Ca)})}return qr},mt.getOfflineSupport=function(){return{getUrl:s(function(){return Ye},"getUrl"),createPayload:At,serialize:ks,batch:Xl,shouldProcess:s(function($e){return!!Om($e)},"shouldProcess")}},mt._doTeardown=function($e,Et){mt.onunloadFlush(),wy(et,!1),Yhe()},mt[Cx]=function($e,Et,vr){if(!qm($e))return s0($e,Et)},mt[aK]=function($e,Et){if(!qm($e))return Gy($e,Et)},mt[RP]=function($e,Et){if(!qm($e))return Qm($e)},mt._xdrOnLoad=function($e,Et){if(!qm(Et))return Hs($e,Et)};function Hs($e,Et){var vr=jhe($e);if($e&&(vr+""=="200"||vr===""))S=0,mt[RP](Et,0);else{var qr=Gr(vr);qr&&qr[lK]&&qr[lK]>qr[cK]&&!ho?mt[aK](Et,qr):mt[Cx](Et,SD($e))}}s(Hs,"_xdrOnLoad");function Tl(){try{var $e={xdrOnComplete:s(function(vr,qr,Ln){var gn=Hy(Ln);if(gn)return Hs(vr,gn)},"xdrOnComplete"),fetchOnComplete:s(function(vr,qr,Ln,gn){var Vi=Hy(gn);if(Vi)return os(vr.status,Vi,vr.url,Vi[Ai],vr.statusText,Ln||"")},"fetchOnComplete"),xhrOnComplete:s(function(vr,qr,Ln){var gn=Hy(Ln);if(gn)return ud(vr,gn,gn[Ai])},"xhrOnComplete"),beaconOnRetry:s(function(vr,qr,Ln){return Um(vr,qr,Ln)},"beaconOnRetry")},Et={enableSendPromise:Uo,isOneDs:!1,disableCredentials:!1,disableXhr:zr,disableBeacon:!pr,disableBeaconSync:!Jt,senderOnCompleteCallBack:$e};return Et}catch{}return null}s(Tl,"_getSendPostMgrConfig");function ud($e,Et,vr){$e.readyState===4&&os($e.status,Et,$e.responseURL,vr,p4($e),jhe($e)||$e.response)}s(ud,"_xhrReadyStateChange");function s0($e,Et,vr){Or(mt[Tc](),2,26,"Failed to send telemetry.",{message:Et}),mt._buffer&&mt._buffer[y7]($e)}s(s0,"_onError");function Gy($e,Et){for(var vr=[],qr=[],Ln=Et.errors.reverse(),gn=0,Vi=Ln;gn<Vi.length;gn++){var Ca=Vi[gn],qu=$e.splice(Ca.index,1)[0];$y(Ca.statusCode)?qr[W1](qu):vr[W1](qu)}$e[Ai]>0&&mt[RP]($e,Et[cK]),vr[Ai]>0&&mt[Cx](vr,p4(null,["partial success",Et[cK],"of",Et.itemsReceived].join(" "))),qr[Ai]>0&&(_7(qr),Or(mt[Tc](),2,40,"Partial success. Delivered: "+$e[Ai]+", Failed: "+vr[Ai]+". Will retry to send "+qr[Ai]+" our of "+Et[lK]+" items"))}s(Gy,"_onPartialSuccess");function Qm($e,Et){mt._buffer&&mt._buffer[y7]($e)}s(Qm,"_onSuccess");function Hy($e){try{if($e){var Et=$e,vr=Et.oriPayload;return vr&&vr[Ai]?vr:null}}catch{}return null}s(Hy,"_getPayloadArr");function Om($e,Et){if(Hn)return!1;if(!$e)return Et&&Or(Et,1,7,"Cannot send empty telemetry"),!1;if($e.baseData&&!$e[uK])return Et&&Or(Et,1,70,"Cannot send telemetry without baseData and baseType"),!1;if($e[uK]||($e[uK]="EventData"),!mt[b7])return Et&&Or(Et,1,28,"Sender was not initialized"),!1;if(Br($e))$e[ahe]=mt._sample[kP];else return Et&&Or(Et,2,33,"Telemetry item was sampled out and not sent",{SampleRate:mt._sample[kP]}),!1;return!0}s(Om,"_validate");function jy($e,Et){var vr=$e.iKey||xi,qr=x.constructEnvelope($e,vr,Et,vi);if(!qr){Or(Et,1,47,"Unable to create an AppInsights envelope");return}var Ln=!1;if($e[Jl]&&$e[Jl][OY]&&(Jr($e[Jl][OY],function(gn){try{gn&&gn(qr)===!1&&(Ln=!0,w4(Et,"Telemetry processor check returns false"))}catch(Vi){Or(Et,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ol(Vi),{exception:yt(Vi)},!0)}}),delete $e[Jl][OY]),!Ln)return qr}s(jy,"_getEnvelope");function ks($e){var Et=Hhe,vr=mt[Tc]();try{var qr=Om($e,vr),Ln=null;qr&&(Ln=jy($e,vr)),Ln&&(Et=se.serialize(Ln))}catch{}return Et}s(ks,"_serialize");function Xl($e){var Et=Hhe;return $e&&$e[Ai]&&(Et="["+$e.join(",")+"]"),Et}s(Xl,"_batch");function At($e){var Et=vo();return{urlString:Ye,data:$e,headers:Et}}s(At,"_createPayload");function Br($e){return mt._sample.isSampledIn($e)}s(Br,"_isSampledIn");function Pn($e,Et,vr,qr){Et===200&&$e?mt._onSuccess($e,$e[Ai]):qr&&mt[Cx]($e,qr)}s(Pn,"_getOnComplete");function Hr($e,Et,vr,qr){qr===void 0&&(qr=!0);var Ln=s(function(Ca,qu,li){return Pn(Et,Ca,qu,li)},"onComplete"),gn=Nn(Et),Vi=$e&&$e.sendPOST;return Vi&&gn?(qr&&mt._buffer[_P](Et),Vi(gn,Ln,!vr)):null}s(Hr,"_doSend");function Nn($e){if(qe($e)&&$e[Ai]>0){var Et=mt[Up].batchPayloads($e),vr=vo(),qr={data:Et,urlString:Ye,headers:vr,disableXhrSync:zr,disableFetchKeepAlive:!so,oriPayload:$e};return qr}return null}s(Nn,"_getPayload");function vo(){try{var $e=ve||{};return ghe(Ye)&&($e[che[6]]=che[7]),$e}catch{}return null}s(vo,"_getHeaders");function _o($e){var Et=$e?$e[Ai]:0;return mt[Up].size()+Et>ct?((!et||et.isOnline())&&mt[v7](!0,null,10),!0):!1}s(_o,"_checkMaxSize");function os($e,Et,vr,qr,Ln,gn){var Vi=null;if(mt._appId||(Vi=Gr(gn),Vi&&Vi.appId&&(mt._appId=Vi.appId)),($e<200||$e>=300)&&$e!==0){if(($e===301||$e===307||$e===308)&&!wc(vr)){mt[Cx](Et,Ln);return}if(et&&!et.isOnline()){if(!ho){var Ca=10;_7(Et,Ca),Or(mt[Tc](),2,40,". Offline - Response Code: ".concat($e,". Offline status: ").concat(!et.isOnline(),". Will retry to send ").concat(Et.length," items."))}return}!ho&&$y($e)?(_7(Et),Or(mt[Tc](),2,40,". Response code "+$e+". Will retry to send "+Et[Ai]+" items.")):mt[Cx](Et,Ln)}else wc(vr),$e===206?(Vi||(Vi=Gr(gn)),Vi&&!ho?mt[aK](Et,Vi):mt[Cx](Et,Ln)):(S=0,mt[RP](Et,qr))}s(os,"_checkResponsStatus");function wc($e){return fe>=10?!1:!Y($e)&&$e!==""&&$e!==Ye?(Ye=$e,++fe,!0):!1}s(wc,"_checkAndUpdateEndPointUrl");function H0($e,Et){if(We)We($e,!1);else{var vr=po&&po[SP]([3],!0);return Hr(vr,$e,Et)}}s(H0,"_doUnloadSend");function Um($e,Et,vr){var qr=$e,Ln=qr&&qr.oriPayload;if(Gs)_n&&_n(Ln,!0),Or(mt[Tc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var gn=[],Vi=0;Vi<Ln[Ai];Vi++){var Ca=Ln[Vi],qu=[Ca],li=Nn(qu);vr(li,Et)?mt._onSuccess(qu,qu[Ai]):gn[W1](Ca)}gn[Ai]>0&&(_n&&_n(gn,!0),Or(mt[Tc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Um,"_onBeaconRetry");function qm($e){try{if($e&&$e[Ai])return ce($e[0])}catch{}return null}s(qm,"_isStringArr");function $4($e,Et){var vr=null;if(qe($e)){for(var qr=$e[Ai],Ln=0;Ln<$e[Ai];Ln++)qr+=$e[Ln].item[Ai];var gn=po.getSyncFetchPayload();gn+qr<=_Ye?vr=2:kp()?vr=3:(vr=1,Or(mt[Tc](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Vi=po&&po[SP]([vr],!0);return Hr(Vi,$e,Et)}return null}s($4,"_fetchKeepAliveSender");function _7($e,Et){if(Et===void 0&&(Et=1),!(!$e||$e[Ai]===0)){var vr=mt[Up];vr[y7]($e),S++;for(var qr=0,Ln=$e;qr<Ln.length;qr++){var gn=Ln[qr];gn.cnt=gn.cnt||0,gn.cnt++,vr[Ax](gn)}hK(Et),z4()}}s(_7,"_resendPayload");function hK($e){var Et=10,vr;if(S<=1)vr=Et;else{var qr=(Math.pow(2,S)-1)/2,Ln=x1(Math.random()*qr*Et)+1;Ln=$e*Ln,vr=Ie(hr(Ln,3600),Et)}var gn=pp()+vr*1e3;P=gn}s(hK,"_setRetryTime");function z4(){if(!W&&!L){var $e=P?Ie(0,P-pp()):0,Et=Ie(hn,$e);W=yp(function(){W=null,mt[v7](!0,null,1)},Et)}}s(z4,"_setupTimer");function Vy(){W&&W.cancel(),W=null,P=null}s(Vy,"_clearScheduledTimer");function $y($e){return Y(Il)?$e===401||$e===408||$e===429||$e===500||$e===502||$e===503||$e===504:Il[Ai]&&Il.indexOf($e)>-1}s($y,"_isRetriable");function DP(){var $e="getNotifyMgr";return mt.core[$e]?mt.core[$e]():mt.core._notificationManager}s(DP,"_getNotifyMgr");function PP($e,Et){var vr=DP();if(vr&&vr.eventsSendRequest)try{vr.eventsSendRequest($e,Et)}catch(qr){Or(mt[Tc](),1,74,"send request notification failed: "+ol(qr),{exception:yt(qr)})}}s(PP,"_notifySendRequest");function zhe($e,Et){var vr=Et.disableInstrumentationKeyValidation,qr=Y(vr)?!1:vr;if(qr)return!0;var Ln="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",gn=new RegExp(Ln);return gn.test($e)}s(zhe,"_validateInstrumentationKey");function Yhe(){mt[b7]=null,mt[Up]=null,mt._appId=null,mt._sample=null,ve={},et=null,S=0,P=null,L=!1,W=null,se=null,fe=0,ke=0,We=null,He=null,Ye=null,pt=null,ct=0,Tt=!1,Pr=null,Hn=!1,xi=null,vi=qp,ho=!1,$r=null,Rs=qp,zr=!1,so=!1,Gs=!1,Nt=null,_n=null,po=null,Ue(mt,"_senderConfig",{g:s(function(){return _D({},Vhe)},"g")})}s(Yhe,"_initDefaults")}),T}return s(x,"Sender"),x.constructEnvelope=function(T,S,P,L){var W;S!==T.iKey&&!Y(S)?W=Sm(Sm({},T),{iKey:S}):W=T;var se=kYe[W.baseType]||qhe;return se(P,W,L)},x}(vt),j4="instrumentationKey",BP="connectionString",T7="endpointUrl",w7="userOverrideEndpointUrl",V4,mK=void 0,BYe=(V4={diagnosticLogInterval:zw(DYe,1e4)},V4[BP]=mK,V4.endpointUrl=mK,V4[j4]=mK,V4.extensionConfig={},V4);function DYe(A){return A&&A>0}s(DYe,"_chkDiagLevel");var PYe=function(){function A(x){var T=new Ft,S;(Y(x)||Y(x[j4])&&Y(x[BP]))&&Kt("Invalid input configuration"),Yl(A,this,function(L){Ue(L,"config",{g:s(function(){return S},"g")}),W(),L.initialize=W,L.track=P,Pw(L,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function W(){var se=G0(x||{},BYe);S=se.cfg,T.addUnloadHook(Fm(se,function(){var fe=S[BP];if(lt(fe)){var ve=s4(function(He,Ye){Q0(fe,function(pt){var ct=pt.value,Tt=S[j4];if(!pt.rejected&&ct){S[BP]=ct;var Jt=zY(ct);Tt=Jt.instrumentationkey||Tt}He(Tt)})}),ke=s4(function(He,Ye){Q0(fe,function(pt){var ct=pt.value,Tt=S[T7];if(!pt.rejected&&ct){var Jt=zY(ct),pr=Jt.ingestionendpoint;Tt=pr?pr+F4:Tt}He(Tt)})});S[j4]=ve,S[T7]=S[w7]||ke}if(ce(fe)){var We=zY(fe),et=We.ingestionendpoint;S[T7]=S[w7]?S[w7]:et+F4,S[j4]=We.instrumentationkey||S[j4]}S[T7]=S[w7]?S[w7]:S[T7]})),T.initialize(S,[new $he])}s(W,"_initialize")});function P(L){L&&(L.baseData=L.baseData||{},L.baseType=L.baseType||"EventData"),T.track(L)}s(P,"_track")}return s(A,"ApplicationInsights"),A.__ieDyn=1,A}();e.AppInsightsCore=Ft,e.ApplicationInsights=PYe,e.Sender=$he,e.SeverityLevel=cYe,e.arrForEach=Jr,e.isNullOrUndefined=Y,e.proxyFunctions=Pw,e.throwError=Kt})});var WZ=j((NAr,Cxe)=>{"use strict";d();Cxe.exports=s(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var vxe=j((MAr,xxe)=>{"use strict";d();var Xat=WZ();function Zat(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Xat(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}s(Zat,"parsePath");xxe.exports=Zat});var _xe=j((UAr,wxe)=>{"use strict";d();var elt=vxe();function tlt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}s(tlt,"_interopDefaultLegacy");var rlt=tlt(elt);function nlt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=s(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:s(function(){return e[n]},"get")})}),r}s(nlt,"getAugmentedNamespace");var Exe={},ilt="text/plain",olt="us-ascii",bxe=s((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),slt=s((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,a=n.split(";");o=t?"":o;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(g=>g.trim());return h==="charset"&&(p=p.toLowerCase(),p===olt)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==ilt)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${o?`#${o}`:""}`},"normalizeDataURL");function alt(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return slt(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];bxe(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])bxe(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}s(alt,"normalizeUrl");var llt=Object.freeze({__proto__:null,default:alt}),clt=nlt(llt);Object.defineProperty(Exe,"__esModule",{value:!0});var ult=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},flt=clt,dlt=Ixe(flt),mlt=rlt.default,hlt=Ixe(mlt);function Ixe(e){return e&&e.__esModule?e:{default:e}}s(Ixe,"_interopRequireDefault");var Txe=s(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=s(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":ult(r))!=="object"&&(r={stripHash:!1}),t=(0,dlt.default)(t,r));var o=(0,hlt.default)(t);if(o.parse_failed){var a=o.href.match(n);a?(o.protocols=["ssh"],o.protocol="ssh",o.resource=a[2],o.host=a[2],o.user=a[1],o.pathname="/"+a[3],o.parse_failed=!1):i("URL parsing failed.")}return o},"parseUrl");Txe.MAX_INPUT_LENGTH=2048;var plt=Exe.default=Txe;wxe.exports=plt});var kxe=j((GAr,Rxe)=>{"use strict";d();var glt=WZ();function Sxe(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=glt(e);if(e=e.substring(e.indexOf("://")+3),Sxe(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}s(Sxe,"isSsh");Rxe.exports=Sxe});var Pxe=j((VAr,Dxe)=>{"use strict";d();var Alt=_xe(),Bxe=kxe();function ylt(e){let t=Alt(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),Bxe(t.protocols)||t.protocols.length===0&&Bxe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}s(ylt,"gitUp");Dxe.exports=ylt});var Lxe=j((YAr,Nxe)=>{"use strict";d();var Clt=Pxe();function GZ(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(E){return typeof E=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=Clt(e),i=n.resource.split("."),o=null;switch(n.toString=function(E){return GZ.stringify(this,E)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){o=n.name.split("/"),o.length===4&&(n.organization=o[1],n.owner=o[2],n.name=o[3],n.full_name=o[2]+"/"+o[3]);break}else{o=n.name.split("/"),o.length===2?(n.owner=o[1],n.name=o[1],n.full_name="_git/"+n.name):o.length===3?(n.name=o[2],o[0]==="DefaultCollection"?(n.owner=o[2],n.organization=o[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=o[0],n.full_name=n.owner+"/_git/"+n.name)):o.length===4&&(n.organization=o[0],n.owner=o[1],n.name=o[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){o=n.name.split("/"),o.length===4&&(n.organization=o[1],n.owner=o[2],n.name=o[3]);break}else{o=n.name.split("/"),o.length===5?(n.organization=o[0],n.owner=o[1],n.name=o[4],n.full_name="_git/"+n.name):o.length===3?(n.name=o[2],o[0]==="DefaultCollection"?(n.owner=o[2],n.organization=o[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=o[0],n.full_name=n.owner+"/_git/"+n.name)):o.length===4&&(n.organization=o[0],n.owner=o[1],n.name=o[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:o=n.name.split("/");var a=o.length-1;if(o.length>=2){var l=o.indexOf("-",2),c=o.indexOf("blob",2),u=o.indexOf("tree",2),f=o.indexOf("commit",2),m=o.indexOf("issues",2),h=o.indexOf("src",2),p=o.indexOf("raw",2),g=o.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:g>0?g-1:a,n.owner=o.slice(0,a).join("/"),n.name=o[a],f&&m<0&&(n.commit=o[a+2])}n.ref="",n.filepathtype="",n.filepath="";var y=o.length>a&&o[a+1]==="-"?a+1:a;o.length>y+2&&["raw","src","blob","tree","edit"].indexOf(o[y+1])>=0&&(n.filepathtype=o[y+1],n.ref=o[y+2],o.length>y+3&&(n.filepath=o.slice(y+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,b=v.exec(n.pathname);return b!=null&&(n.source="bitbucket-server",b[1]==="users"?n.owner="~"+b[2]:n.owner=b[2],n.organization=n.owner,n.name=b[3],o=b[4].split("/"),o.length>1&&(["raw","browse"].indexOf(o[1])>=0?(n.filepathtype=o[1],o.length>2&&(n.filepath=o.slice(2).join("/"))):o[1]==="commits"&&o.length>2&&(n.commit=o[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=blt(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}s(GZ,"gitUrlParse");GZ.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var o=e.token?xlt(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+o+e.resource+r+"/"+vlt(e)+i;default:return e.href}};function xlt(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}s(xlt,"buildToken");function vlt(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}s(vlt,"buildPath");function blt(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}s(blt,"findLongestMatchingSubstring");Nxe.exports=GZ});var qxe=j(og=>{"use strict";d();Object.defineProperty(og,"__esModule",{value:!0});og.bytePairEncode=og.BinaryMap=og.binaryMapKey=void 0;var Rlt=s((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),o=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return o+16777216*l},"binaryMapKey");og.binaryMapKey=Rlt;var $Z=class e{static{s(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,o=(0,og.binaryMapKey)(t,r,n);return i?this.final.get(o):this.nested.get(o)?.get(t,6+r,n)}set(t,r){let n=(0,og.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let o=this.nested.get(n);if(o instanceof e)o.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};og.BinaryMap=$Z;var ig=new Int32Array(128),m0=new Int32Array(128);function klt(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;ig.length<r*2;)m0=new Int32Array(m0.length*2),ig=new Int32Array(ig.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),m0[c]=c,ig[c]=u}m0[r-1]=r-1,ig[r-1]=2147483647,m0[r]=r,ig[r]=2147483647;let o=r+1;function a(c,u=0){if(c+u+2<o){let f=t.get(e,m0[c],m0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(s(a,"getRank");n!==2147483647;){ig[m0[i]]=a(i,1),i>0&&(ig[m0[i-1]]=a(i-1,1));for(let c=i+1;c<o-1;c++)m0[c]=m0[c+1];o--,i=-1,n=2147483647;for(let c=0;c<o-1;c++){let u=ig[m0[c]];ig[m0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<o-1;c++)l.push(t.get(e,m0[c],m0[c+1]));return l}s(klt,"bytePairEncode");og.bytePairEncode=klt});var Wxe=j(QF=>{"use strict";d();Object.defineProperty(QF,"__esModule",{value:!0});QF.makeTextEncoder=void 0;var zZ=class{static{s(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},YZ=class{static{s(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},Blt=s(()=>typeof Buffer<"u"?new YZ:new zZ,"makeTextEncoder");QF.makeTextEncoder=Blt});var Gxe=j(OF=>{"use strict";d();Object.defineProperty(OF,"__esModule",{value:!0});OF.LRUCache=void 0;var KZ=class{static{s(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new JZ(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};OF.LRUCache=KZ;var JZ=class{static{s(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var ZZ=j(qF=>{"use strict";d();Object.defineProperty(qF,"__esModule",{value:!0});qF.TikTokenizer=void 0;var UF=qxe(),Dlt=Wxe(),Plt=Gxe();function Nlt(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let o=i.split(" ");if(o.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(o[0],"base64")),l=parseInt(o[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${o[1]} to integer`)}}s(r,"processBpeRanks")}s(Nlt,"loadTikTokenBpe");function Llt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Llt,"escapeRegExp");var XZ=class{static{s(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Dlt.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new Plt.LRUCache(i);let o=typeof t=="string"?Nlt(t):t;this.init(o,r,n)}init(t,r,n){this.encoder=new UF.BinaryMap;for(let[i,o]of t)this.encoder.set(i,o);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>Llt(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,o]of t)this.decoder.set(o,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,o]of r)this.specialTokensDecoder.set(o,i)}findNextSpecialToken(t,r,n){let i=r,o=null;if(n&&this.specialTokensRegex)for(;o=t.slice(i).match(this.specialTokensRegex),!(!o||n&&n.includes(o[0]));)i+=o.index+1;let a=o?i+o.index:t.length;return[o,a]}encode(t,r){let n=[],i=0;for(;;){let o,a;if([o,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),o){if(i=i+this.encodeSpecialToken(n,o),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let o,a=t.substring(n,i);for(this.regex.lastIndex=0;o=this.regex.exec(a);){let l=this.cache.get(o[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(o[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(o[0],[u]);else{let f=(0,UF.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(o[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,o,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=o)a+=m.length,l+=f.length,r.push(...m);else{let h=o-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=o)a++,l+=f.length,r.push(p);else break;else{let g=(0,UF.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,g),a+g.length<=o){a+=g.length,l+=f.length;for(let y of g)r.push(y)}else{let y=o-a;a+=y,l+=f.length;for(let v=0;v<y;v++)r.push(g[v]);break}}}if(a>=o)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],o=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,o,n),f>o){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,o,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(o=o+this.encodeSpecialToken(i,u),l+=u[0].length,o>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],o=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,o,n),p>o){let g,y=t.substring(o,p);for(this.regex.lastIndex=0;g=this.regex.exec(y);){let v=g[0],b=this.cache.get(v);if(b)a+=b.length,l+=v.length,i.push(...b),c.set(a,l);else{let E=this.textEncoder.encode(v),_=this.encoder.get(E);if(_!==void 0)this.cache.set(v,[_]),a++,l+=v.length,i.push(_),c.set(a,l);else{let k=(0,UF.bytePairEncode)(E,this.encoder,this.textEncoder.length);this.cache.set(v,k),a+=k.length,l+=v.length;for(let B of k)i.push(B);c.set(a,l)}}}}if(h!==null){if(o=o+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),o>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],o=this.decoder?.get(n);if(o!==void 0)i=Array.from(o);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};qF.TikTokenizer=XZ});var Zxe=j(Va=>{"use strict";d();Object.defineProperty(Va,"__esModule",{value:!0});Va.createTokenizer=Va.createByEncoderName=Va.createByModelName=Va.getRegexByModel=Va.getRegexByEncoder=Va.getSpecialTokensByModel=Va.getSpecialTokensByEncoder=Va.MODEL_TO_ENCODING=void 0;var Flt=ZZ(),Mlt=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Va.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var WF="<|endoftext|>",Hxe="<|fim_prefix|>",jxe="<|fim_middle|>",Vxe="<|fim_suffix|>",$xe="<|endofprompt|>",I_="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",zxe="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Qlt=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Yxe=Qlt.join("|");function eee(e){let t="";if(Va.MODEL_TO_ENCODING.has(e))t=Va.MODEL_TO_ENCODING.get(e);else for(let[r,n]of Mlt)if(e.startsWith(r)){t=n;break}return t}s(eee,"getEncoderFromModelName");async function Olt(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}s(Olt,"fetchAndSaveFile");function tee(e){let t=new Map([[WF,50256]]);switch(e){case"o200k_base":t=new Map([[WF,199999],[$xe,200018]]);break;case"cl100k_base":t=new Map([[WF,100257],[Hxe,100258],[jxe,100259],[Vxe,100260],[$xe,100276]]);break;case"p50k_edit":t=new Map([[WF,50256],[Hxe,50281],[jxe,50282],[Vxe,50283]]);break;default:break}return t}s(tee,"getSpecialTokensByEncoder");Va.getSpecialTokensByEncoder=tee;function Ult(e){let t=eee(e);return tee(t)}s(Ult,"getSpecialTokensByModel");Va.getSpecialTokensByModel=Ult;function Kxe(e){switch(e){case"o200k_base":return Yxe;case"cl100k_base":return zxe;default:break}return I_}s(Kxe,"getRegexByEncoder");Va.getRegexByEncoder=Kxe;function qlt(e){let t=eee(e);return Kxe(t)}s(qlt,"getRegexByModel");Va.getRegexByModel=qlt;async function Wlt(e,t=null){return Jxe(eee(e),t)}s(Wlt,"createByModelName");Va.createByModelName=Wlt;async function Jxe(e,t=null){let r,n,i=tee(e);switch(e){case"o200k_base":r=Yxe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=zxe,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=I_,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=I_,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=I_,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=I_,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let o=require("fs"),a=require("path"),l=a.basename(n),c=a.resolve(__dirname,"..","model");o.existsSync(c)||o.mkdirSync(c,{recursive:!0});let u=a.resolve(c,l);return o.existsSync(u)||(console.log(`Downloading file from ${n}`),await Olt(n,u),console.log(`Saved file to ${u}`)),Xxe(u,i,r)}s(Jxe,"createByEncoderName");Va.createByEncoderName=Jxe;function Xxe(e,t,r,n=8192){return new Flt.TikTokenizer(e,t,r,n)}s(Xxe,"createTokenizer");Va.createTokenizer=Xxe});var eve=j($a=>{"use strict";d();Object.defineProperty($a,"__esModule",{value:!0});$a.createTokenizer=$a.createByEncoderName=$a.createByModelName=$a.getSpecialTokensByModel=$a.getSpecialTokensByEncoder=$a.getRegexByModel=$a.getRegexByEncoder=$a.MODEL_TO_ENCODING=$a.TikTokenizer=void 0;var Glt=ZZ();Object.defineProperty($a,"TikTokenizer",{enumerable:!0,get:s(function(){return Glt.TikTokenizer},"get")});var _5=Zxe();Object.defineProperty($a,"MODEL_TO_ENCODING",{enumerable:!0,get:s(function(){return _5.MODEL_TO_ENCODING},"get")});Object.defineProperty($a,"getRegexByEncoder",{enumerable:!0,get:s(function(){return _5.getRegexByEncoder},"get")});Object.defineProperty($a,"getRegexByModel",{enumerable:!0,get:s(function(){return _5.getRegexByModel},"get")});Object.defineProperty($a,"getSpecialTokensByEncoder",{enumerable:!0,get:s(function(){return _5.getSpecialTokensByEncoder},"get")});Object.defineProperty($a,"getSpecialTokensByModel",{enumerable:!0,get:s(function(){return _5.getSpecialTokensByModel},"get")});Object.defineProperty($a,"createByModelName",{enumerable:!0,get:s(function(){return _5.createByModelName},"get")});Object.defineProperty($a,"createByEncoderName",{enumerable:!0,get:s(function(){return _5.createByEncoderName},"get")});Object.defineProperty($a,"createTokenizer",{enumerable:!0,get:s(function(){return _5.createTokenizer},"get")})});var lve=j((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{s(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}s(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(s(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=s((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=s(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=s((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=s(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=s(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=s((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=s(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|l)}else o+=String.fromCharCode(a)}return o}s(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}s(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=o)break;t[r++]=l}else if(l<=2047){if(r+1>=o)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=o)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=o)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}s(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}s(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}s(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}s(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}s(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}s(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}s(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}s(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}s(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}s(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}s(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}s(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,o){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(o);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}s(t,"t");function r(i){t(i.instance,i.module)}s(r,"r");function n(i){return getBinaryPromise().then(function(o){return WebAssembly.instantiate(o,e)}).then(function(o){return o}).then(i,function(o){err("failed to asynchronously prepare wasm: "+o),abort(o)})}if(s(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(o){return err("wasm streaming compile failed: "+o),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}s(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}s(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:s(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}s(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var b=0,E=1;;){var _=e[t++];if(b+=(127&_)*E,E*=128,!(128&_))break}return b}s(n,"_");function i(){var b=n();return UTF8ArrayToString(e,(t+=b)-b,b)}s(i,"n");function o(b,E){if(b)throw new Error(E)}s(o,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),o(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{o(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),o(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(o(a!=="dylink.0");t<r;){var p=e[t++],g=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var y=n();y--;){var v=i();256&n()&&u.tlsExports.add(v)}else if(p===4)for(y=n();y--;)i(),v=i(),(3&n())==1&&u.weakImports.add(v);else t+=g}return u}s(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}s(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}s(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}s(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}s(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}s(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}s(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}s(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}s(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}s(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}s(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}s(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}s(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var o=0;o<n.length;++o)t.push(i[n[o]]);r=="v"?t.push(0):t.push(1,i[r])}s(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}s(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}s(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}s(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}s(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}s(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}s(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var o=e[i];typeof o=="object"&&(o=o.value),typeof o=="number"&&(o+=t),n[i]=o}return updateGOT(n,r),n}s(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}s(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}s(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}s(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:s(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return s(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}s(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}s(i,"n");function o(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}s(o,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return s(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?o().then(function(l){return a(l),!0}):(a(o()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}s(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}s(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}s(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}s(_abort,"_abort");function _emscripten_date_now(){return Date.now()}s(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}s(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}s(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}s(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(o=Math.max(e,i))+((a=65536)-o%a)%a)))return!0}var o,a;return!1}s(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:s(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:s(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),o=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=o%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:s(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var o=HEAPU8.slice(e,e+r);FS.msync(t,o,i,r,n)},"doMsync"),varargs:void 0,get:s(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:s(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:s(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}s(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}s(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}s(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}s(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var o=convertI32PairToI53Checked(t,r);if(isNaN(o))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,o,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&o===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}s(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}s(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(o){if(typeof FS>"u"||!(o instanceof FS.ErrnoError))throw o;return o.errno}}s(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var o=currentParseCallback(t,{row:r,column:n});typeof o=="string"?(setValue(i,o.length,"i32"),stringToUTF16(o,e,10240)):setValue(i,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}s(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}s(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}s(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}s(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var o=t(r,n);return exitJS(o,!0),o}catch(a){return handleException(a)}}}s(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=s(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}s(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{s(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=s((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,o=0;if(n&&n.includedRanges){i=n.includedRanges.length,o=C._calloc(i,SIZE_OF_RANGE);let c=o;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,o,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{s(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let o=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{s(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],o=this.tree.language.types;for(let f=0,m=o.length;f<m;f++)t.includes(o[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{s(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{s(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let o=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=o!==0?UTF8ToString(o):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let o=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,b=t.substr(v,100).split(`
`)[0],E,_=b.match(QUERY_WORD_REGEX)[0];switch(y){case 2:E=new RangeError(`Bad node name '${_}'`);break;case 3:E=new RangeError(`Bad field name '${_}'`);break;case 4:E=new RangeError(`Bad capture name @${_}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${v}: '${b}'...`),_="";break;default:E=new SyntaxError(`Bad syntax at offset ${v}: '${b}'...`),_=""}throw E.index=v,E.length=_.length,C._free(n),E}let o=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(o);for(let y=0;y<a;y++){let v=C._ts_query_capture_name_for_id(i,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");c[y]=UTF8ToString(v,b)}for(let y=0;y<o;y++){let v=C._ts_query_string_value_for_id(i,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");u[y]=UTF8ToString(v,b)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),g=new Array(l);for(let y=0;y<l;y++){let v=C._ts_query_predicates_for_pattern(i,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");p[y]=[],g[y]=[];let E=[],_=v;for(let k=0;k<b;k++){let B=getValue(_,"i32");_+=SIZE_OF_INT;let N=getValue(_,"i32");if(_+=SIZE_OF_INT,B===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:c[N]});else if(B===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:u[N]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let M=E[0].value,re=!0;switch(M){case"not-eq?":re=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let q=E[1].name,ie=E[2].name;g[y].push(function(z){let H,U;for(let V of z)V.name===q&&(H=V.node),V.name===ie&&(U=V.node);return H===void 0||U===void 0||H.text===U.text===re})}else{let q=E[1].name,ie=E[2].value;g[y].push(function(z){for(let H of z)if(H.name===q)return H.node.text===ie===re;return!0})}break;case"not-match?":re=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let pe=E[1].name,Z=new RegExp(E[2].value);g[y].push(function(q){for(let ie of q)if(ie.name===pe)return Z.test(ie.node.text)===re;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(q=>q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[y]||(f[y]={}),f[y][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${M}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(q=>q.type!=="string"))throw new Error(`Arguments to \`#${M}\` predicate must be a strings.".`);let G=M==="is?"?m:h;G[y]||(G[y]={}),G[y][E[1].value]=E[2]?E[2].value:null;break;default:p[y].push({operator:M,operands:E.slice(1)})}E.length=0}}Object.freeze(f[y]),Object.freeze(m[y]),Object.freeze(h[y])}return C._free(n),new Query(INTERNAL,i,c,g,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let o=require("fs");r=Promise.resolve(o.readFileSync(i))}else r=fetch(i).then(o=>o.arrayBuffer().then(a=>{if(o.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${o.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let o=Object.keys(i),a=o.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{s(this,"Query")}constructor(t,r,n,i,o,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=o,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let o=i.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,o);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let g=getValue(m,"i32");m+=SIZE_OF_INT;let y=new Array(g);if(m=unmarshalCaptures(this,t.tree,m,y),this.textPredicates[p].every(v=>v(y))){u[f++]={pattern:p,captures:y};let v=this.setProperties[p];v&&(u[h].setProperties=v);let b=this.assertedProperties[p];b&&(u[h].assertedProperties=b);let E=this.refutedProperties[p];E&&(u[h].refutedProperties=E)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let o=i.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,o);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let g=getValue(m,"i32");m+=SIZE_OF_INT;let y=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=g,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(v=>v(f))){let v=f[y],b=this.setProperties[p];b&&(v.setProperties=b);let E=this.assertedProperties[p];E&&(v.assertedProperties=E);let _=this.refutedProperties[p];_&&(v.refutedProperties=_),u.push(v)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let o=e.textCallback(t,null,r);if(!(o&&o.length>0))break;t+=o.length,i+=o}return t>r&&(i=i.slice(0,n)),i}s(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,o=n.length;i<o;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}s(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),o=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:o},l[0]=a,l}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}s(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var Gee=j((Wxr,Mve)=>{d();var Wee=require("fs"),vM=require("path"),$_=vM.join,_0t=vM.dirname,Lve=Wee.accessSync&&function(e){try{Wee.accessSync(e)}catch{return!1}return!0}||Wee.existsSync||vM.existsSync,Fve={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function S0t(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(Fve).map(function(c){c in e||(e[c]=Fve[c])}),e.module_root||(e.module_root=R0t(__filename)),vM.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,o,a,l;n<i;n++){o=$_.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(o);try{return a=e.path?t.resolve(o):t(o),e.path||(a.path=o),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}s(S0t,"bindings");Mve.exports=S0t;function R0t(e){for(var t=_0t(e),r;;){if(t==="."&&(t=process.cwd()),Lve($_(t,"dist")))return $_(t,"dist");if(Lve($_(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=$_(t,"..")}}s(R0t,"getRoot")});var Ove=j((jxr,Qve)=>{d();Qve.exports=Gee()("node_sqlite3.node")});var Wve=j(qve=>{d();var k0t=require("util");function B0t(e,t,r){let n=e[t];e[t]=function(){let i=new Error,o=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return k0t.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=s(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=Uve(c).join(`
`),c.stack+=`
--> in `+o,c.stack+=`
`+Uve(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}s(B0t,"extendTrace");qve.extendTrace=B0t;function Uve(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}s(Uve,"filter")});var Vve=j((Hve,jve)=>{d();var D0t=require("path"),Bd=Ove(),p8=require("events").EventEmitter;jve.exports=Hve=Bd;function g8(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let o=n[n.length-1];r=s(function(a){a&&o(a)},"errBack")}let i=new bM(this,t,r);return e.call(this,i,n)}}s(g8,"normalizeMethod");function jee(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}s(jee,"inherits");Bd.cached={Database:s(function(e,t,r){if(e===""||e===":memory:")return new h0(e,t,r);let n;if(e=D0t.resolve(e),!Bd.cached.objects[e])n=Bd.cached.objects[e]=new h0(e,t,r);else{n=Bd.cached.objects[e];let o=typeof t=="number"?r:t;if(typeof o=="function"){let a=function(){o.call(n,null)};var i=a;s(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var h0=Bd.Database,bM=Bd.Statement,Hee=Bd.Backup;jee(h0,p8);jee(bM,p8);jee(Hee,p8);h0.prototype.prepare=g8(function(e,t){return t.length?e.bind.apply(e,t):e});h0.prototype.run=g8(function(e,t){return e.run.apply(e,t).finalize(),this});h0.prototype.get=g8(function(e,t){return e.get.apply(e,t).finalize(),this});h0.prototype.all=g8(function(e,t){return e.all.apply(e,t).finalize(),this});h0.prototype.each=g8(function(e,t){return e.each.apply(e,t).finalize(),this});h0.prototype.map=g8(function(e,t){return e.map.apply(e,t).finalize(),this});h0.prototype.backup=function(){let e;return arguments.length<=2?e=new Hee(this,arguments[0],"main","main",!0,arguments[1]):e=new Hee(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[Bd.BUSY,Bd.LOCKED],e};bM.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let o=Object.keys(n[0]),a=o[0];if(o.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=o[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var Gve=!1,Vee=["trace","profile","change"];h0.prototype.addListener=h0.prototype.on=function(e){let t=p8.prototype.addListener.apply(this,arguments);return Vee.indexOf(e)>=0&&this.configure(e,!0),t};h0.prototype.removeListener=function(e){let t=p8.prototype.removeListener.apply(this,arguments);return Vee.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};h0.prototype.removeAllListeners=function(e){let t=p8.prototype.removeAllListeners.apply(this,arguments);return Vee.indexOf(e)>=0&&this.configure(e,!1),t};Bd.verbose=function(){if(!Gve){let e=Wve();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(h0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(bM.prototype,t)}),Gve=!0}return Bd}});var LM=j(Ya=>{"use strict";d();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.thenable=Ya.typedArray=Ya.stringArray=Ya.array=Ya.func=Ya.error=Ya.number=Ya.string=Ya.boolean=void 0;function N0t(e){return e===!0||e===!1}s(N0t,"boolean");Ya.boolean=N0t;function Jve(e){return typeof e=="string"||e instanceof String}s(Jve,"string");Ya.string=Jve;function L0t(e){return typeof e=="number"||e instanceof Number}s(L0t,"number");Ya.number=L0t;function F0t(e){return e instanceof Error}s(F0t,"error");Ya.error=F0t;function Xve(e){return typeof e=="function"}s(Xve,"func");Ya.func=Xve;function Zve(e){return Array.isArray(e)}s(Zve,"array");Ya.array=Zve;function M0t(e){return Zve(e)&&e.every(t=>Jve(t))}s(M0t,"stringArray");Ya.stringArray=M0t;function Q0t(e,t){return Array.isArray(e)&&e.every(t)}s(Q0t,"typedArray");Ya.typedArray=Q0t;function O0t(e){return e&&Xve(e.then)}s(O0t,"thenable");Ya.thenable=O0t});var Yee=j(Dd=>{"use strict";d();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.generateUuid=Dd.parse=Dd.isUUID=Dd.v4=Dd.empty=void 0;var K_=class{static{s(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},J_=class e extends K_{static{s(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};J_._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];J_._timeHighBits=["8","9","a","b"];Dd.empty=new K_("00000000-0000-0000-0000-000000000000");function ebe(){return new J_}s(ebe,"v4");Dd.v4=ebe;var U0t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function tbe(e){return U0t.test(e)}s(tbe,"isUUID");Dd.isUUID=tbe;function q0t(e){if(!tbe(e))throw new Error("invalid uuid");return new K_(e)}s(q0t,"parse");Dd.parse=q0t;function W0t(){return ebe().asHex()}s(W0t,"generateUuid");Dd.generateUuid=W0t});var rbe=j(B5=>{"use strict";d();Object.defineProperty(B5,"__esModule",{value:!0});B5.attachPartialResult=B5.ProgressFeature=B5.attachWorkDone=void 0;var k5=ni(),G0t=Yee(),cv=class e{static{s(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let o={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,o)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,{kind:"end"})}};cv.Instances=new Map;var FM=class extends cv{static{s(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new k5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},X_=class{static{s(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},MM=class extends X_{static{s(this,"NullProgressServerReporter")}constructor(){super(),this._source=new k5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function H0t(e,t){if(t===void 0||t.workDoneToken===void 0)return new X_;let r=t.workDoneToken;return delete t.workDoneToken,new cv(e,r)}s(H0t,"attachWorkDone");B5.attachWorkDone=H0t;var j0t=s(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(k5.WorkDoneProgressCancelNotification.type,r=>{let n=cv.Instances.get(r.token);(n instanceof FM||n instanceof MM)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new X_:new cv(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,G0t.generateUuid)();return this.connection.sendRequest(k5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new FM(this.connection,t))}else return Promise.resolve(new MM)}},"ProgressFeature");B5.ProgressFeature=j0t;var Kee;(function(e){e.type=new k5.ProgressType})(Kee||(Kee={}));var Jee=class{static{s(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(Kee.type,this._token,t)}};function V0t(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new Jee(e,r)}s(V0t,"attachPartialResult");B5.attachPartialResult=V0t});var nbe=j(QM=>{"use strict";d();Object.defineProperty(QM,"__esModule",{value:!0});QM.ConfigurationFeature=void 0;var $0t=ni(),z0t=LM(),Y0t=s(e=>class extends e{getConfiguration(t){return t?z0t.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest($0t.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");QM.ConfigurationFeature=Y0t});var ibe=j(UM=>{"use strict";d();Object.defineProperty(UM,"__esModule",{value:!0});UM.WorkspaceFoldersFeature=void 0;var OM=ni(),K0t=s(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new OM.Emitter,this.connection.onNotification(OM.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(OM.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(OM.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");UM.WorkspaceFoldersFeature=K0t});var obe=j(qM=>{"use strict";d();Object.defineProperty(qM,"__esModule",{value:!0});qM.CallHierarchyFeature=void 0;var Xee=ni(),J0t=s(e=>class extends e{get callHierarchy(){return{onPrepare:s(t=>this.connection.onRequest(Xee.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:s(t=>{let r=Xee.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:s(t=>{let r=Xee.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");qM.CallHierarchyFeature=J0t});var ete=j(D5=>{"use strict";d();Object.defineProperty(D5,"__esModule",{value:!0});D5.SemanticTokensBuilder=D5.SemanticTokensDiff=D5.SemanticTokensFeature=void 0;var WM=ni(),X0t=s(e=>class extends e{get semanticTokens(){return{refresh:s(()=>this.connection.sendRequest(WM.SemanticTokensRefreshRequest.type),"refresh"),on:s(t=>{let r=WM.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:s(t=>{let r=WM.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:s(t=>{let r=WM.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");D5.SemanticTokensFeature=X0t;var GM=class{static{s(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let a=i-n+1,l=this.modifiedSequence.slice(n,o+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};D5.SemanticTokensDiff=GM;var Zee=class{static{s(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,o){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new GM(this._prevData,this._data).computeDiff()}:this.build()}};D5.SemanticTokensBuilder=Zee});var sbe=j(HM=>{"use strict";d();Object.defineProperty(HM,"__esModule",{value:!0});HM.ShowDocumentFeature=void 0;var Z0t=ni(),eut=s(e=>class extends e{showDocument(t){return this.connection.sendRequest(Z0t.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");HM.ShowDocumentFeature=eut});var abe=j(jM=>{"use strict";d();Object.defineProperty(jM,"__esModule",{value:!0});jM.FileOperationsFeature=void 0;var y8=ni(),tut=s(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(y8.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(y8.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(y8.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(y8.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(y8.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(y8.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");jM.FileOperationsFeature=tut});var lbe=j(VM=>{"use strict";d();Object.defineProperty(VM,"__esModule",{value:!0});VM.LinkedEditingRangeFeature=void 0;var rut=ni(),nut=s(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(rut.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");VM.LinkedEditingRangeFeature=nut});var cbe=j($M=>{"use strict";d();Object.defineProperty($M,"__esModule",{value:!0});$M.TypeHierarchyFeature=void 0;var tte=ni(),iut=s(e=>class extends e{get typeHierarchy(){return{onPrepare:s(t=>this.connection.onRequest(tte.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:s(t=>{let r=tte.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:s(t=>{let r=tte.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");$M.TypeHierarchyFeature=iut});var fbe=j(zM=>{"use strict";d();Object.defineProperty(zM,"__esModule",{value:!0});zM.InlineValueFeature=void 0;var ube=ni(),sut=s(e=>class extends e{get inlineValue(){return{refresh:s(()=>this.connection.sendRequest(ube.InlineValueRefreshRequest.type),"refresh"),on:s(t=>this.connection.onRequest(ube.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");zM.InlineValueFeature=sut});var mbe=j(YM=>{"use strict";d();Object.defineProperty(YM,"__esModule",{value:!0});YM.FoldingRangeFeature=void 0;var dbe=ni(),aut=s(e=>class extends e{get foldingRange(){return{refresh:s(()=>this.connection.sendRequest(dbe.FoldingRangeRefreshRequest.type),"refresh"),on:s(t=>{let r=dbe.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");YM.FoldingRangeFeature=aut});var hbe=j(KM=>{"use strict";d();Object.defineProperty(KM,"__esModule",{value:!0});KM.InlayHintFeature=void 0;var rte=ni(),lut=s(e=>class extends e{get inlayHint(){return{refresh:s(()=>this.connection.sendRequest(rte.InlayHintRefreshRequest.type),"refresh"),on:s(t=>this.connection.onRequest(rte.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:s(t=>this.connection.onRequest(rte.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");KM.InlayHintFeature=lut});var pbe=j(JM=>{"use strict";d();Object.defineProperty(JM,"__esModule",{value:!0});JM.DiagnosticFeature=void 0;var Z_=ni(),cut=s(e=>class extends e{get diagnostics(){return{refresh:s(()=>this.connection.sendRequest(Z_.DiagnosticRefreshRequest.type),"refresh"),on:s(t=>this.connection.onRequest(Z_.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Z_.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:s(t=>this.connection.onRequest(Z_.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Z_.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");JM.DiagnosticFeature=cut});var ite=j(XM=>{"use strict";d();Object.defineProperty(XM,"__esModule",{value:!0});XM.TextDocuments=void 0;var uv=ni(),nte=class{static{s(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new uv.Emitter,this._onDidOpen=new uv.Emitter,this._onDidClose=new uv.Emitter,this._onDidSave=new uv.Emitter,this._onWillSave=new uv.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=uv.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let a=Object.freeze({document:o});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,o,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),uv.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};XM.TextDocuments=nte});var ste=j(C8=>{"use strict";d();Object.defineProperty(C8,"__esModule",{value:!0});C8.NotebookDocuments=C8.NotebookSyncFeature=void 0;var Pd=ni(),gbe=ite(),uut=s(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:s(t=>this.connection.onNotification(Pd.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:s(t=>this.connection.onNotification(Pd.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:s(t=>this.connection.onNotification(Pd.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:s(t=>this.connection.onNotification(Pd.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");C8.NotebookSyncFeature=uut;var ZM=class e{static{s(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,Pd.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Pd.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Pd.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};ZM.NULL_DISPOSE=Object.freeze({dispose:s(()=>{},"dispose")});var ote=class{static{s(this,"NotebookDocuments")}constructor(t){t instanceof gbe.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new gbe.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Pd.Emitter,this._onDidChange=new Pd.Emitter,this._onDidSave=new Pd.Emitter,this._onDidClose=new Pd.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new ZM,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let a=o.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,o.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let b=c.cells;if(b.structure!==void 0){let E=b.structure.array;if(o.cells.splice(E.start,E.deleteCount,...E.cells!==void 0?E.cells:[]),b.structure.didOpen!==void 0)for(let _ of b.structure.didOpen)r.openTextDocument({textDocument:_}),u.push(_.uri);if(b.structure.didClose)for(let _ of b.structure.didClose)r.closeTextDocument({textDocument:_}),f.push(_.uri)}if(b.data!==void 0){let E=new Map(b.data.map(_=>[_.document,_]));for(let _=0;_<=o.cells.length;_++){let k=E.get(o.cells[_].document);if(k!==void 0){let B=o.cells.splice(_,1,k);if(m.push({old:B[0],new:k}),E.delete(k.document),E.size===0)break}}}if(b.textContent!==void 0)for(let E of b.textContent)r.changeTextDocument({textDocument:E.document,contentChanges:E.changes}),h.push(E.document.uri)}this.updateCellMap(o);let p={notebookDocument:o};l&&(p.metadata={old:a,new:o.metadata});let g=[];for(let b of u)g.push(this.getNotebookCell(b));let y=[];for(let b of f)y.push(this.getNotebookCell(b));let v=[];for(let b of h)v.push(this.getNotebookCell(b));(g.length>0||y.length>0||m.length>0||v.length>0)&&(p.cells={added:g,removed:y,changed:{data:m,textContent:v}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of o.cells)this.notebookCellMap.delete(a.document)}})),Pd.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};C8.NotebookDocuments=ote});var Abe=j(eQ=>{"use strict";d();Object.defineProperty(eQ,"__esModule",{value:!0});eQ.MonikerFeature=void 0;var fut=ni(),dut=s(e=>class extends e{get moniker(){return{on:s(t=>{let r=fut.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");eQ.MonikerFeature=dut});var dte=j(mo=>{"use strict";d();Object.defineProperty(mo,"__esModule",{value:!0});mo.createConnection=mo.combineFeatures=mo.combineNotebooksFeatures=mo.combineLanguagesFeatures=mo.combineWorkspaceFeatures=mo.combineWindowFeatures=mo.combineClientFeatures=mo.combineTracerFeatures=mo.combineTelemetryFeatures=mo.combineConsoleFeatures=mo._NotebooksImpl=mo._LanguagesImpl=mo.BulkUnregistration=mo.BulkRegistration=mo.ErrorMessageTracker=void 0;var gr=ni(),Nd=LM(),lte=Yee(),Yn=rbe(),mut=nbe(),hut=ibe(),put=obe(),gut=ete(),Aut=sbe(),yut=abe(),Cut=lbe(),xut=cbe(),vut=fbe(),but=mbe(),Eut=hbe(),Iut=pbe(),Tut=ste(),wut=Abe();function ate(e){if(e!==null)return e}s(ate,"null2Undefined");var cte=class{static{s(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};mo.ErrorMessageTracker=cte;var tQ=class{static{s(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(gr.MessageType.Error,t)}warn(t){this.send(gr.MessageType.Warning,t)}info(t){this.send(gr.MessageType.Info,t)}log(t){this.send(gr.MessageType.Log,t)}debug(t){this.send(gr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(gr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,gr.RAL)().console.error("Sending log message failed")})}},ute=class{static{s(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:gr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(gr.ShowMessageRequest.type,n).then(ate)}showWarningMessage(t,...r){let n={type:gr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(gr.ShowMessageRequest.type,n).then(ate)}showInformationMessage(t,...r){let n={type:gr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(gr.ShowMessageRequest.type,n).then(ate)}},ybe=(0,Aut.ShowDocumentFeature)((0,Yn.ProgressFeature)(ute)),Cbe;(function(e){function t(){return new rQ}s(t,"create"),e.create=t})(Cbe||(mo.BulkRegistration=Cbe={}));var rQ=class{static{s(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Nd.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=lte.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},xbe;(function(e){function t(){return new eS(void 0,[])}s(t,"create"),e.create=t})(xbe||(mo.BulkUnregistration=xbe={}));var eS=class{static{s(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(gr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Nd.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(gr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},nQ=class{static{s(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof rQ?this.registerMany(t):t instanceof eS?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Nd.string(r)?r:r.method,o=lte.generateUuid(),a={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(gr.RegistrationRequest.type,a).then(l=>(t.add({id:o,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=Nd.string(t)?t:t.method,i=lte.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(gr.RegistrationRequest.type,o).then(a=>gr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(gr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(gr.RegistrationRequest.type,r).then(()=>new eS(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},fte=class{static{s(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}s(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(gr.ApplyWorkspaceEditRequest.type,n)}},vbe=(0,yut.FileOperationsFeature)((0,hut.WorkspaceFoldersFeature)((0,mut.ConfigurationFeature)(fte))),iQ=class{static{s(this,"TracerImpl")}constructor(){this._trace=gr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==gr.Trace.Off&&this.connection.sendNotification(gr.LogTraceNotification.type,{message:t,verbose:this._trace===gr.Trace.Verbose?r:void 0}).catch(()=>{})}},oQ=class{static{s(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(gr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},sQ=class{static{s(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Yn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Yn.attachPartialResult)(this.connection,r)}};mo._LanguagesImpl=sQ;var bbe=(0,but.FoldingRangeFeature)((0,wut.MonikerFeature)((0,Iut.DiagnosticFeature)((0,Eut.InlayHintFeature)((0,vut.InlineValueFeature)((0,xut.TypeHierarchyFeature)((0,Cut.LinkedEditingRangeFeature)((0,gut.SemanticTokensFeature)((0,put.CallHierarchyFeature)(sQ))))))))),aQ=class{static{s(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Yn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Yn.attachPartialResult)(this.connection,r)}};mo._NotebooksImpl=aQ;var Ebe=(0,Tut.NotebookSyncFeature)(aQ);function Ibe(e,t){return function(r){return t(e(r))}}s(Ibe,"combineConsoleFeatures");mo.combineConsoleFeatures=Ibe;function Tbe(e,t){return function(r){return t(e(r))}}s(Tbe,"combineTelemetryFeatures");mo.combineTelemetryFeatures=Tbe;function wbe(e,t){return function(r){return t(e(r))}}s(wbe,"combineTracerFeatures");mo.combineTracerFeatures=wbe;function _be(e,t){return function(r){return t(e(r))}}s(_be,"combineClientFeatures");mo.combineClientFeatures=_be;function Sbe(e,t){return function(r){return t(e(r))}}s(Sbe,"combineWindowFeatures");mo.combineWindowFeatures=Sbe;function Rbe(e,t){return function(r){return t(e(r))}}s(Rbe,"combineWorkspaceFeatures");mo.combineWorkspaceFeatures=Rbe;function kbe(e,t){return function(r){return t(e(r))}}s(kbe,"combineLanguagesFeatures");mo.combineLanguagesFeatures=kbe;function Bbe(e,t){return function(r){return t(e(r))}}s(Bbe,"combineNotebooksFeatures");mo.combineNotebooksFeatures=Bbe;function _ut(e,t){function r(i,o,a){return i&&o?a(i,o):i||o}return s(r,"combine"),{__brand:"features",console:r(e.console,t.console,Ibe),tracer:r(e.tracer,t.tracer,wbe),telemetry:r(e.telemetry,t.telemetry,Tbe),client:r(e.client,t.client,_be),window:r(e.window,t.window,Sbe),workspace:r(e.workspace,t.workspace,Rbe),languages:r(e.languages,t.languages,kbe),notebooks:r(e.notebooks,t.notebooks,Bbe)}}s(_ut,"combineFeatures");mo.combineFeatures=_ut;function Sut(e,t,r){let n=r&&r.console?new(r.console(tQ)):new tQ,i=e(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(iQ)):new iQ,a=r&&r.telemetry?new(r.telemetry(oQ)):new oQ,l=r&&r.client?new(r.client(nQ)):new nQ,c=r&&r.window?new(r.window(ybe)):new ybe,u=r&&r.workspace?new(r.workspace(vbe)):new vbe,f=r&&r.languages?new(r.languages(bbe)):new bbe,m=r&&r.notebooks?new(r.notebooks(Ebe)):new Ebe,h=[n,o,a,l,c,u,f,m];function p(E){return E instanceof Promise?E:Nd.thenable(E)?new Promise((_,k)=>{E.then(B=>_(B),B=>k(B))}):Promise.resolve(E)}s(p,"asPromise");let g,y,v,b={listen:s(()=>i.listen(),"listen"),sendRequest:s((E,..._)=>i.sendRequest(Nd.string(E)?E:E.method,..._),"sendRequest"),onRequest:s((E,_)=>i.onRequest(E,_),"onRequest"),sendNotification:s((E,_)=>{let k=Nd.string(E)?E:E.method;return i.sendNotification(k,_)},"sendNotification"),onNotification:s((E,_)=>i.onNotification(E,_),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:s(E=>(y=E,{dispose:s(()=>{y=void 0},"dispose")}),"onInitialize"),onInitialized:s(E=>i.onNotification(gr.InitializedNotification.type,E),"onInitialized"),onShutdown:s(E=>(g=E,{dispose:s(()=>{g=void 0},"dispose")}),"onShutdown"),onExit:s(E=>(v=E,{dispose:s(()=>{v=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return o},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:s(E=>i.onNotification(gr.DidChangeConfigurationNotification.type,E),"onDidChangeConfiguration"),onDidChangeWatchedFiles:s(E=>i.onNotification(gr.DidChangeWatchedFilesNotification.type,E),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:s(E=>i.onNotification(gr.DidOpenTextDocumentNotification.type,E),"onDidOpenTextDocument"),onDidChangeTextDocument:s(E=>i.onNotification(gr.DidChangeTextDocumentNotification.type,E),"onDidChangeTextDocument"),onDidCloseTextDocument:s(E=>i.onNotification(gr.DidCloseTextDocumentNotification.type,E),"onDidCloseTextDocument"),onWillSaveTextDocument:s(E=>i.onNotification(gr.WillSaveTextDocumentNotification.type,E),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:s(E=>i.onRequest(gr.WillSaveTextDocumentWaitUntilRequest.type,E),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:s(E=>i.onNotification(gr.DidSaveTextDocumentNotification.type,E),"onDidSaveTextDocument"),sendDiagnostics:s(E=>i.sendNotification(gr.PublishDiagnosticsNotification.type,E),"sendDiagnostics"),onHover:s(E=>i.onRequest(gr.HoverRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),void 0)),"onHover"),onCompletion:s(E=>i.onRequest(gr.CompletionRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onCompletion"),onCompletionResolve:s(E=>i.onRequest(gr.CompletionResolveRequest.type,E),"onCompletionResolve"),onSignatureHelp:s(E=>i.onRequest(gr.SignatureHelpRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),void 0)),"onSignatureHelp"),onDeclaration:s(E=>i.onRequest(gr.DeclarationRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onDeclaration"),onDefinition:s(E=>i.onRequest(gr.DefinitionRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onDefinition"),onTypeDefinition:s(E=>i.onRequest(gr.TypeDefinitionRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onTypeDefinition"),onImplementation:s(E=>i.onRequest(gr.ImplementationRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onImplementation"),onReferences:s(E=>i.onRequest(gr.ReferencesRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onReferences"),onDocumentHighlight:s(E=>i.onRequest(gr.DocumentHighlightRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onDocumentHighlight"),onDocumentSymbol:s(E=>i.onRequest(gr.DocumentSymbolRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onDocumentSymbol"),onWorkspaceSymbol:s(E=>i.onRequest(gr.WorkspaceSymbolRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:s(E=>i.onRequest(gr.WorkspaceSymbolResolveRequest.type,E),"onWorkspaceSymbolResolve"),onCodeAction:s(E=>i.onRequest(gr.CodeActionRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onCodeAction"),onCodeActionResolve:s(E=>i.onRequest(gr.CodeActionResolveRequest.type,(_,k)=>E(_,k)),"onCodeActionResolve"),onCodeLens:s(E=>i.onRequest(gr.CodeLensRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onCodeLens"),onCodeLensResolve:s(E=>i.onRequest(gr.CodeLensResolveRequest.type,(_,k)=>E(_,k)),"onCodeLensResolve"),onDocumentFormatting:s(E=>i.onRequest(gr.DocumentFormattingRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:s(E=>i.onRequest(gr.DocumentRangeFormattingRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:s(E=>i.onRequest(gr.DocumentOnTypeFormattingRequest.type,(_,k)=>E(_,k)),"onDocumentOnTypeFormatting"),onRenameRequest:s(E=>i.onRequest(gr.RenameRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),void 0)),"onRenameRequest"),onPrepareRename:s(E=>i.onRequest(gr.PrepareRenameRequest.type,(_,k)=>E(_,k)),"onPrepareRename"),onDocumentLinks:s(E=>i.onRequest(gr.DocumentLinkRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onDocumentLinks"),onDocumentLinkResolve:s(E=>i.onRequest(gr.DocumentLinkResolveRequest.type,(_,k)=>E(_,k)),"onDocumentLinkResolve"),onDocumentColor:s(E=>i.onRequest(gr.DocumentColorRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onDocumentColor"),onColorPresentation:s(E=>i.onRequest(gr.ColorPresentationRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onColorPresentation"),onFoldingRanges:s(E=>i.onRequest(gr.FoldingRangeRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onFoldingRanges"),onSelectionRanges:s(E=>i.onRequest(gr.SelectionRangeRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),(0,Yn.attachPartialResult)(i,_))),"onSelectionRanges"),onExecuteCommand:s(E=>i.onRequest(gr.ExecuteCommandRequest.type,(_,k)=>E(_,k,(0,Yn.attachWorkDone)(i,_),void 0)),"onExecuteCommand"),dispose:s(()=>i.dispose(),"dispose")};for(let E of h)E.attach(b);return i.onRequest(gr.InitializeRequest.type,E=>{t.initialize(E),Nd.string(E.trace)&&(o.trace=gr.Trace.fromString(E.trace));for(let _ of h)_.initialize(E.capabilities);if(y){let _=y(E,new gr.CancellationTokenSource().token,(0,Yn.attachWorkDone)(i,E),void 0);return p(_).then(k=>{if(k instanceof gr.ResponseError)return k;let B=k;B||(B={capabilities:{}});let N=B.capabilities;N||(N={},B.capabilities=N),N.textDocumentSync===void 0||N.textDocumentSync===null?N.textDocumentSync=Nd.number(b.__textDocumentSync)?b.__textDocumentSync:gr.TextDocumentSyncKind.None:!Nd.number(N.textDocumentSync)&&!Nd.number(N.textDocumentSync.change)&&(N.textDocumentSync.change=Nd.number(b.__textDocumentSync)?b.__textDocumentSync:gr.TextDocumentSyncKind.None);for(let M of h)M.fillServerCapabilities(N);return B})}else{let _={capabilities:{textDocumentSync:gr.TextDocumentSyncKind.None}};for(let k of h)k.fillServerCapabilities(_.capabilities);return _}}),i.onRequest(gr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,g)return g(new gr.CancellationTokenSource().token)}),i.onNotification(gr.ExitNotification.type,()=>{try{v&&v()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(gr.SetTraceNotification.type,E=>{o.trace=gr.Trace.fromString(E.value)}),b}s(Sut,"createConnection");mo.createConnection=Sut});var Dbe=j(su=>{"use strict";d();Object.defineProperty(su,"__esModule",{value:!0});su.resolveModulePath=su.FileSystem=su.resolveGlobalYarnPath=su.resolveGlobalNodePath=su.resolve=su.uriToFilePath=void 0;var Rut=require("url"),hh=require("path"),mte=require("fs"),Ate=require("child_process");function kut(e){let t=Rut.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let o=r[0],a=r[1];o.length===0&&a.length>1&&a[1]===":"&&r.shift()}return hh.normalize(r.join("/"))}s(kut,"uriToFilePath");su.uriToFilePath=kut;function hte(){return process.platform==="win32"}s(hte,"isWindows");function lQ(e,t,r,n){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&mte.existsSync(t)&&(u[i]?u[i]=t+hh.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,Ate.fork)("",[],{cwd:r,env:u,execArgv:["-e",o]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}s(lQ,"resolve");su.resolve=lQ;function pte(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(o=>r[o]=process.env[o]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};hte()&&(t="npm.cmd",n.shell=!0);let i=s(()=>{},"handler");try{process.on("SIGPIPE",i);let o=(0,Ate.spawnSync)(t,["config","get","prefix"],n).stdout;if(!o){e&&e("'npm config get prefix' didn't return a value.");return}let a=o.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?hte()?hh.join(a,"node_modules"):hh.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}s(pte,"resolveGlobalNodePath");su.resolveGlobalNodePath=pte;function But(e){let t="yarn",r={encoding:"utf8"};hte()&&(t="yarn.cmd",r.shell=!0);let n=s(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,Ate.spawnSync)(t,["global","dir","--json"],r),o=i.stdout;if(!o){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=o.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return hh.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}s(But,"resolveGlobalYarnPath");su.resolveGlobalYarnPath=But;var gte;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!mte.existsSync(__filename.toUpperCase())||!mte.existsSync(__filename.toLowerCase())),t}s(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,o){return r()?hh.normalize(o).indexOf(hh.normalize(i))===0:hh.normalize(o).toLowerCase().indexOf(hh.normalize(i).toLowerCase())===0}s(n,"isParent"),e.isParent=n})(gte||(su.FileSystem=gte={}));function Dut(e,t,r,n){return r?(hh.isAbsolute(r)||(r=hh.join(e,r)),lQ(t,r,r,n).then(i=>gte.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>lQ(t,pte(n),e,n))):lQ(t,pte(n),e,n)}s(Dut,"resolveModulePath");su.resolveModulePath=Dut});var yte=j((aEr,Pbe)=>{"use strict";d();Pbe.exports=ni()});var Nbe=j(cQ=>{"use strict";d();Object.defineProperty(cQ,"__esModule",{value:!0});cQ.InlineCompletionFeature=void 0;var Put=ni(),Nut=s(e=>class extends e{get inlineCompletion(){return{on:s(t=>this.connection.onRequest(Put.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");cQ.InlineCompletionFeature=Nut});var Mbe=j(Oc=>{"use strict";d();var Lut=Oc&&Oc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fbe=Oc&&Oc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Lut(t,e,r)};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.ProposedFeatures=Oc.NotebookDocuments=Oc.TextDocuments=Oc.SemanticTokensBuilder=void 0;var Fut=ete();Object.defineProperty(Oc,"SemanticTokensBuilder",{enumerable:!0,get:s(function(){return Fut.SemanticTokensBuilder},"get")});var Mut=Nbe();Fbe(ni(),Oc);var Qut=ite();Object.defineProperty(Oc,"TextDocuments",{enumerable:!0,get:s(function(){return Qut.TextDocuments},"get")});var Out=ste();Object.defineProperty(Oc,"NotebookDocuments",{enumerable:!0,get:s(function(){return Out.NotebookDocuments},"get")});Fbe(dte(),Oc);var Lbe;(function(e){e.all={__brand:"features",languages:Mut.InlineCompletionFeature}})(Lbe||(Oc.ProposedFeatures=Lbe={}))});var fl=j(Ld=>{"use strict";d();var Uut=Ld&&Ld.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qbe=Ld&&Ld.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uut(t,e,r)};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.createConnection=Ld.Files=void 0;var Qbe=require("node:util"),Cte=LM(),qut=dte(),tS=Dbe(),fv=yte();qbe(yte(),Ld);qbe(Mbe(),Ld);var Obe;(function(e){e.uriToFilePath=tS.uriToFilePath,e.resolveGlobalNodePath=tS.resolveGlobalNodePath,e.resolveGlobalYarnPath=tS.resolveGlobalYarnPath,e.resolve=tS.resolve,e.resolveModulePath=tS.resolveModulePath})(Obe||(Ld.Files=Obe={}));var Ube;function uQ(){if(Ube!==void 0)try{Ube.end()}catch{}}s(uQ,"endProtocolConnection");var x8=!1,Wbe;function Wut(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(Wbe=setInterval(()=>{try{process.kill(n,0)}catch{uQ(),process.exit(x8?0:1)}},3e3))}catch{}}s(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}s(Wut,"setupExitTimer");Wut();var Gut={initialize:s(e=>{let t=e.processId;Cte.number(t)&&Wbe===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(x8?0:1)}},3e3)},"initialize"),get shutdownReceived(){return x8},set shutdownReceived(e){x8=e},exit:s(e=>{uQ(),process.exit(e)},"exit")};function Hut(e,t,r,n){let i,o,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),fv.ConnectionStrategy.is(e)||fv.ConnectionOptions.is(e)?l=e:(o=e,a=t,l=r),jut(o,a,l,i)}s(Hut,"createConnection");Ld.createConnection=Hut;function jut(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new fv.IPCMessageReader(process),t=new fv.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var o=h.split("=");if(o[0]==="--socket"){c=parseInt(o[1]);break}else if(o[0]==="--pipe"){u=o[1];break}}}if(c){let m=(0,fv.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,fv.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(Cte.func(e.read)&&Cte.func(e.on)){let c=e;c.on("end",()=>{uQ(),process.exit(x8?0:1)}),c.on("close",()=>{uQ(),process.exit(x8?0:1)})}let l=s(c=>{let u=(0,fv.createProtocolConnection)(e,t,c,r);return i&&Vut(c),u},"connectionFactory");return(0,qut.createConnection)(l,Gut,n)}s(jut,"_createConnection");function Vut(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,Qbe.inspect)(i)).join(" ")}s(t,"serialize");let r=new Map;console.assert=s(function(i,...o){if(!i)if(o.length===0)e.error("Assertion failed");else{let[a,...l]=o;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=s(function(i="default"){let o=String(i),a=r.get(o)??0;a+=1,r.set(o,a),e.log(`${o}: ${o}`)},"count"),console.countReset=s(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=s(function(...i){e.log(t(i))},"debug"),console.dir=s(function(i,o){e.log((0,Qbe.inspect)(i,o))},"dir"),console.log=s(function(...i){e.log(t(i))},"log"),console.error=s(function(...i){e.error(t(i))},"error"),console.trace=s(function(...i){let o=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${o}`)},"trace"),console.warn=s(function(...i){e.warn(t(i))},"warn")}s(Vut,"patchConsole")});var ph=j((CEr,Gbe)=>{"use strict";d();Gbe.exports=fl()});var dIe=j((q6r,fIe)=>{"use strict";d();fIe.exports=cIe;function cIe(e,t,r){e instanceof RegExp&&(e=lIe(e,r)),t instanceof RegExp&&(t=lIe(t,r));var n=uIe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}s(cIe,"balanced");function lIe(e,t){var r=t.match(e);return r?r[0]:null}s(lIe,"maybeMatch");cIe.range=uIe;function uIe(e,t,r){var n,i,o,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],o=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[o,a])}return l}s(uIe,"range")});var xIe=j((H6r,CIe)=>{d();var mIe=dIe();CIe.exports=Bft;var hIe="\0SLASH"+Math.random()+"\0",pIe="\0OPEN"+Math.random()+"\0",dre="\0CLOSE"+Math.random()+"\0",gIe="\0COMMA"+Math.random()+"\0",AIe="\0PERIOD"+Math.random()+"\0";function fre(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}s(fre,"numeric");function Rft(e){return e.split("\\\\").join(hIe).split("\\{").join(pIe).split("\\}").join(dre).split("\\,").join(gIe).split("\\.").join(AIe)}s(Rft,"escapeBraces");function kft(e){return e.split(hIe).join("\\").split(pIe).join("{").split(dre).join("}").split(gIe).join(",").split(AIe).join(".")}s(kft,"unescapeBraces");function yIe(e){if(!e)return[""];var t=[],r=mIe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=yIe(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}s(yIe,"parseCommaParts");function Bft(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),fS(Rft(e),!0).map(kft)):[]}s(Bft,"expandTop");function Dft(e){return"{"+e+"}"}s(Dft,"embrace");function Pft(e){return/^-?0\d/.test(e)}s(Pft,"isPadded");function Nft(e,t){return e<=t}s(Nft,"lte");function Lft(e,t){return e>=t}s(Lft,"gte");function fS(e,t){var r=[],n=mIe("{","}",e);if(!n)return[e];var i=n.pre,o=n.post.length?fS(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<o.length;a++){var l=i+"{"+n.body+"}"+o[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+dre+n.post,fS(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=yIe(n.body),h.length===1&&(h=fS(h[0],!1).map(Dft),h.length===1))return o.map(function(Z){return n.pre+h[0]+Z});var p;if(f){var g=fre(h[0]),y=fre(h[1]),v=Math.max(h[0].length,h[1].length),b=h.length==3?Math.abs(fre(h[2])):1,E=Nft,_=y<g;_&&(b*=-1,E=Lft);var k=h.some(Pft);p=[];for(var B=g;E(B,y);B+=b){var N;if(u)N=String.fromCharCode(B),N==="\\"&&(N="");else if(N=String(B),k){var M=v-N.length;if(M>0){var re=new Array(M+1).join("0");B<0?N="-"+re+N.slice(1):N=re+N}}p.push(N)}}else{p=[];for(var pe=0;pe<h.length;pe++)p.push.apply(p,fS(h[pe],!1))}for(var pe=0;pe<p.length;pe++)for(var a=0;a<o.length;a++){var l=i+p[pe]+o[a];(!t||f||l)&&r.push(l)}}return r}s(fS,"expand")});var Os=j((gHr,rTe)=>{d();rTe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var Co=j((yHr,nTe)=>{"use strict";d();var ea=class extends Error{static{s(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},Vne=class extends ea{static{s(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},$ne=class extends ea{static{s(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},zne=class extends ea{static{s(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Yne=class extends ea{static{s(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Kne=class extends ea{static{s(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},Jne=class extends ea{static{s(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Xne=class extends ea{static{s(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},wU=class extends ea{static{s(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},Zne=class extends wU{static{s(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},eie=class extends ea{static{s(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},tie=class extends ea{static{s(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},rie=class extends ea{static{s(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},nie=class extends ea{static{s(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},iie=class extends ea{static{s(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},oie=class extends ea{static{s(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},sie=class extends ea{static{s(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},aie=class extends ea{static{s(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},lie=class extends Error{static{s(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},cie=class extends ea{static{s(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},uie=class extends ea{static{s(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},fie=class extends ea{static{s(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},die=class extends ea{static{s(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};nTe.exports={AbortError:wU,HTTPParserError:lie,UndiciError:ea,HeadersTimeoutError:$ne,HeadersOverflowError:zne,BodyTimeoutError:Yne,RequestContentLengthMismatchError:tie,ConnectTimeoutError:Vne,ResponseStatusCodeError:Kne,InvalidArgumentError:Jne,InvalidReturnValueError:Xne,RequestAbortedError:Zne,ClientDestroyedError:nie,ClientClosedError:iie,InformationalError:eie,SocketError:oie,NotSupportedError:sie,ResponseContentLengthMismatchError:rie,BalancedPoolMissingUpstreamError:aie,ResponseExceededMaxSizeError:cie,RequestRetryError:uie,ResponseError:fie,SecureProxyConnectionError:die}});var SU=j((vHr,iTe)=>{"use strict";d();var _U={},mie=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<mie.length;++e){let t=mie[e],r=t.toLowerCase();_U[t]=_U[r]=r}Object.setPrototypeOf(_U,null);iTe.exports={wellknownHeaderNames:mie,headerNameLowerCasedRecord:_U}});var lTe=j((EHr,aTe)=>{"use strict";d();var{wellknownHeaderNames:oTe,headerNameLowerCasedRecord:Opt}=SU(),hie=class e{static{s(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,o=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(o.code===a)if(n===++i){o.value=r;break}else if(o.middle!==null)o=o.middle;else{o.middle=new e(t,r,i);break}else if(o.code<a)if(o.left!==null)o=o.left;else{o.left=new e(t,r,i);break}else if(o.right!==null)o=o.right;else{o.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let o=t[n];for(o<=90&&o>=65&&(o|=32);i!==null;){if(o===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<o?i.left:i.right}}return null}},RU=class{static{s(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new hie(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},sTe=new RU;for(let e=0;e<oTe.length;++e){let t=Opt[oTe[e]];sTe.insert(t,t)}aTe.exports={TernarySearchTree:RU,tree:sTe}});var Ci=j((wHr,ITe)=>{"use strict";d();var GS=require("node:assert"),{kDestroyed:uTe,kBodyUsed:m6,kListeners:pie,kBody:cTe}=Os(),{IncomingMessage:Upt}=require("node:http"),DU=require("node:stream"),qpt=require("node:net"),{Blob:Wpt}=require("node:buffer"),Gpt=require("node:util"),{stringify:Hpt}=require("node:querystring"),{EventEmitter:jpt}=require("node:events"),{InvalidArgumentError:Ml}=Co(),{headerNameLowerCasedRecord:Vpt}=SU(),{tree:fTe}=lTe(),[$pt,zpt]=process.versions.node.split(".").map(e=>Number(e)),BU=class{static{s(this,"BodyAsyncIterable")}constructor(t){this[cTe]=t,this[m6]=!1}async*[Symbol.asyncIterator](){GS(!this[m6],"disturbed"),this[m6]=!0,yield*this[cTe]}};function Ypt(e){return PU(e)?(gTe(e)===0&&e.on("data",function(){GS(!1)}),typeof e.readableDidRead!="boolean"&&(e[m6]=!1,jpt.prototype.on.call(e,"data",function(){this[m6]=!0})),e):e&&typeof e.pipeTo=="function"?new BU(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&pTe(e)?new BU(e):e}s(Ypt,"wrapRequestBody");function Kpt(){}s(Kpt,"nop");function PU(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}s(PU,"isStream");function dTe(e){if(e===null)return!1;if(e instanceof Wpt)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}s(dTe,"isBlobLike");function Jpt(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Hpt(t);return r&&(e+="?"+r),e}s(Jpt,"buildURL");function mTe(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}s(mTe,"isValidPort");function kU(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}s(kU,"isHttpOrHttpsPrefixed");function hTe(e){if(typeof e=="string"){if(e=new URL(e),!kU(e.origin||e.protocol))throw new Ml("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new Ml("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&mTe(e.port)===!1)throw new Ml("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new Ml("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new Ml("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new Ml("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new Ml("Invalid URL origin: the origin must be a string or null/undefined.");if(!kU(e.origin||e.protocol))throw new Ml("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!kU(e.origin||e.protocol))throw new Ml("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}s(hTe,"parseURL");function Xpt(e){if(e=hTe(e),e.pathname!=="/"||e.search||e.hash)throw new Ml("invalid url");return e}s(Xpt,"parseOrigin");function Zpt(e){if(e[0]==="["){let r=e.indexOf("]");return GS(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}s(Zpt,"getHostname");function egt(e){if(!e)return null;GS(typeof e=="string");let t=Zpt(e);return qpt.isIP(t)?"":t}s(egt,"getServerName");function tgt(e){return JSON.parse(JSON.stringify(e))}s(tgt,"deepClone");function rgt(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}s(rgt,"isAsyncIterable");function pTe(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}s(pTe,"isIterable");function gTe(e){if(e==null)return 0;if(PU(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(dTe(e))return e.size!=null?e.size:null;if(CTe(e))return e.byteLength}return null}s(gTe,"bodyLength");function ATe(e){return e&&!!(e.destroyed||e[uTe]||DU.isDestroyed?.(e))}s(ATe,"isDestroyed");function ngt(e,t){e==null||!PU(e)||ATe(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===Upt&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[uTe]=!0))}s(ngt,"destroy");var igt=/timeout=(\d+)/;function ogt(e){let t=e.toString().match(igt);return t?parseInt(t[1],10)*1e3:null}s(ogt,"parseKeepAliveTimeout");function yTe(e){return typeof e=="string"?Vpt[e]??e.toLowerCase():fTe.lookup(e)??e.toString("latin1").toLowerCase()}s(yTe,"headerNameToString");function sgt(e){return fTe.lookup(e)??e.toString("latin1").toLowerCase()}s(sgt,"bufferToLowerCasedHeaderName");function agt(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=yTe(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let o=e[r+1];typeof o=="string"?t[n]=o:t[n]=Array.isArray(o)?o.map(a=>a.toString("utf8")):o.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}s(agt,"parseHeaders");function lgt(e){let t=e.length,r=new Array(t),n=!1,i=-1,o,a,l=0;for(let c=0;c<e.length;c+=2)o=e[c],a=e[c+1],typeof o!="string"&&(o=o.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=o.length,l===14&&o[7]==="-"&&(o==="content-length"||o.toLowerCase()==="content-length")?n=!0:l===19&&o[7]==="-"&&(o==="content-disposition"||o.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=o,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}s(lgt,"parseRawHeaders");function CTe(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}s(CTe,"isBuffer");function cgt(e,t,r){if(!e||typeof e!="object")throw new Ml("handler must be an object");if(typeof e.onConnect!="function")throw new Ml("invalid onConnect method");if(typeof e.onError!="function")throw new Ml("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new Ml("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new Ml("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new Ml("invalid onHeaders method");if(typeof e.onData!="function")throw new Ml("invalid onData method");if(typeof e.onComplete!="function")throw new Ml("invalid onComplete method")}}s(cgt,"validateHandler");function ugt(e){return!!(e&&(DU.isDisturbed(e)||e[m6]))}s(ugt,"isDisturbed");function fgt(e){return!!(e&&DU.isErrored(e))}s(fgt,"isErrored");function dgt(e){return!!(e&&DU.isReadable(e))}s(dgt,"isReadable");function mgt(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}s(mgt,"getSocketInfo");function hgt(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let o=Buffer.isBuffer(i)?i:Buffer.from(i);o.byteLength&&r.enqueue(new Uint8Array(o))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}s(hgt,"ReadableStreamFrom");function pgt(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}s(pgt,"isFormDataLike");function ggt(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}s(ggt,"addAbortListener");var Agt=typeof String.prototype.toWellFormed=="function",ygt=typeof String.prototype.isWellFormed=="function";function xTe(e){return Agt?`${e}`.toWellFormed():Gpt.toUSVString(e)}s(xTe,"toUSVString");function Cgt(e){return ygt?`${e}`.isWellFormed():xTe(e)===`${e}`}s(Cgt,"isUSVString");function vTe(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}s(vTe,"isTokenCharCode");function xgt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!vTe(e.charCodeAt(t)))return!1;return!0}s(xgt,"isValidHTTPToken");var vgt=/[^\t\x20-\x7e\x80-\xff]/;function bgt(e){return!vgt.test(e)}s(bgt,"isValidHeaderValue");function Egt(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}s(Egt,"parseRangeHeader");function Igt(e,t,r){return(e[pie]??=[]).push([t,r]),e.on(t,r),e}s(Igt,"addListener");function Tgt(e){for(let[t,r]of e[pie]??[])e.removeListener(t,r);e[pie]=null}s(Tgt,"removeAllListeners");function wgt(e,t,r){try{t.onError(r),GS(t.aborted)}catch(n){e.emit("error",n)}}s(wgt,"errorRequest");var bTe=Object.create(null);bTe.enumerable=!0;var gie={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},ETe={...gie,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(gie,null);Object.setPrototypeOf(ETe,null);ITe.exports={kEnumerableProperty:bTe,nop:Kpt,isDisturbed:ugt,isErrored:fgt,isReadable:dgt,toUSVString:xTe,isUSVString:Cgt,isBlobLike:dTe,parseOrigin:Xpt,parseURL:hTe,getServerName:egt,isStream:PU,isIterable:pTe,isAsyncIterable:rgt,isDestroyed:ATe,headerNameToString:yTe,bufferToLowerCasedHeaderName:sgt,addListener:Igt,removeAllListeners:Tgt,errorRequest:wgt,parseRawHeaders:lgt,parseHeaders:agt,parseKeepAliveTimeout:ogt,destroy:ngt,bodyLength:gTe,deepClone:tgt,ReadableStreamFrom:hgt,isBuffer:CTe,validateHandler:cgt,getSocketInfo:mgt,isFormDataLike:pgt,buildURL:Jpt,addAbortListener:ggt,isValidHTTPToken:xgt,isValidHeaderValue:bgt,isTokenCharCode:vTe,parseRangeHeader:Egt,normalizedMethodRecordsBase:gie,normalizedMethodRecords:ETe,isValidPort:mTe,isHttpOrHttpsPrefixed:kU,nodeMajor:$pt,nodeMinor:zpt,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Ypt}});var h6=j((RHr,wTe)=>{"use strict";d();var Eo=require("node:diagnostics_channel"),yie=require("node:util"),NU=yie.debuglog("undici"),Aie=yie.debuglog("fetch"),zv=yie.debuglog("websocket"),TTe=!1,_gt={beforeConnect:Eo.channel("undici:client:beforeConnect"),connected:Eo.channel("undici:client:connected"),connectError:Eo.channel("undici:client:connectError"),sendHeaders:Eo.channel("undici:client:sendHeaders"),create:Eo.channel("undici:request:create"),bodySent:Eo.channel("undici:request:bodySent"),headers:Eo.channel("undici:request:headers"),trailers:Eo.channel("undici:request:trailers"),error:Eo.channel("undici:request:error"),open:Eo.channel("undici:websocket:open"),close:Eo.channel("undici:websocket:close"),socketError:Eo.channel("undici:websocket:socket_error"),ping:Eo.channel("undici:websocket:ping"),pong:Eo.channel("undici:websocket:pong")};if(NU.enabled||Aie.enabled){let e=Aie.enabled?Aie:NU;Eo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connecting to %s using %s%s",`${o}${i?`:${i}`:""}`,n,r)}),Eo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connected to %s using %s%s",`${o}${i?`:${i}`:""}`,n,r)}),Eo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o},error:a}=t;e("connection to %s using %s%s errored - %s",`${o}${i?`:${i}`:""}`,n,r,a.message)}),Eo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),Eo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:o}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,o)}),Eo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),Eo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:o}=t;e("request to %s %s/%s errored - %s",r,i,n,o.message)}),TTe=!0}if(zv.enabled){if(!TTe){let e=NU.enabled?NU:zv;Eo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connecting to %s%s using %s%s",o,i?`:${i}`:"",n,r)}),Eo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connected to %s%s using %s%s",o,i?`:${i}`:"",n,r)}),Eo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o},error:a}=t;e("connection to %s%s using %s%s errored - %s",o,i?`:${i}`:"",n,r,a.message)}),Eo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}Eo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;zv("connection opened %s%s",t,r?`:${r}`:"")}),Eo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;zv("closed connection to %s - %s %s",t.url,r,n)}),Eo.channel("undici:websocket:socket_error").subscribe(e=>{zv("connection errored - %s",e.message)}),Eo.channel("undici:websocket:ping").subscribe(e=>{zv("ping received")}),Eo.channel("undici:websocket:pong").subscribe(e=>{zv("pong received")})}wTe.exports={channels:_gt}});var BTe=j((BHr,kTe)=>{"use strict";d();var{InvalidArgumentError:ta,NotSupportedError:Sgt}=Co(),BA=require("node:assert"),{isValidHTTPToken:RTe,isValidHeaderValue:_Te,isStream:Rgt,destroy:kgt,isBuffer:Bgt,isFormDataLike:Dgt,isIterable:Pgt,isBlobLike:Ngt,buildURL:Lgt,validateHandler:Fgt,getServerName:Mgt,normalizedMethodRecords:Qgt}=Ci(),{channels:yg}=h6(),{headerNameLowerCasedRecord:STe}=SU(),Ogt=/[^\u0021-\u00ff]/,zd=Symbol("handler"),Cie=class{static{s(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:o,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:g,servername:y},v){if(typeof r!="string")throw new ta("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new ta("path must be an absolute URL or start with a slash");if(Ogt.test(r))throw new ta("invalid request path");if(typeof n!="string")throw new ta("method must be a string");if(Qgt[n]===void 0&&!RTe(n))throw new ta("invalid request method");if(u&&typeof u!="string")throw new ta("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new ta("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new ta("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new ta("invalid reset");if(g!=null&&typeof g!="boolean")throw new ta("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(Rgt(i)){this.body=i;let b=this.body._readableState;(!b||!b.autoDestroy)&&(this.endHandler=s(function(){kgt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=E=>{this.abort?this.abort(E):this.error=E},this.body.on("error",this.errorHandler)}else if(Bgt(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(Dgt(i)||Pgt(i)||Ngt(i))this.body=i;else throw new ta("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?Lgt(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=g??!1,Array.isArray(o)){if(o.length%2!==0)throw new ta("headers array must be even");for(let b=0;b<o.length;b+=2)LU(this,o[b],o[b+1])}else if(o&&typeof o=="object")if(o[Symbol.iterator])for(let b of o){if(!Array.isArray(b)||b.length!==2)throw new ta("headers must be in key-value pair format");LU(this,b[0],b[1])}else{let b=Object.keys(o);for(let E=0;E<b.length;++E)LU(this,b[E],o[b[E]])}else if(o!=null)throw new ta("headers must be an object or an array");Fgt(v,n,u),this.servername=y||Mgt(this.host),this[zd]=v,yg.create.hasSubscribers&&yg.create.publish({request:this})}onBodySent(t){if(this[zd].onBodySent)try{return this[zd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(yg.bodySent.hasSubscribers&&yg.bodySent.publish({request:this}),this[zd].onRequestSent)try{return this[zd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(BA(!this.aborted),BA(!this.completed),this.error)t(this.error);else return this.abort=t,this[zd].onConnect(t)}onResponseStarted(){return this[zd].onResponseStarted?.()}onHeaders(t,r,n,i){BA(!this.aborted),BA(!this.completed),yg.headers.hasSubscribers&&yg.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[zd].onHeaders(t,r,n,i)}catch(o){this.abort(o)}}onData(t){BA(!this.aborted),BA(!this.completed);try{return this[zd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return BA(!this.aborted),BA(!this.completed),this[zd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),BA(!this.aborted),this.completed=!0,yg.trailers.hasSubscribers&&yg.trailers.publish({request:this,trailers:t});try{return this[zd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),yg.error.hasSubscribers&&yg.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[zd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return LU(this,t,r),this}};function LU(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new ta(`invalid ${t} header`);if(r===void 0)return;let n=STe[t];if(n===void 0&&(n=t.toLowerCase(),STe[n]===void 0&&!RTe(n)))throw new ta("invalid header key");if(Array.isArray(r)){let i=[];for(let o=0;o<r.length;o++)if(typeof r[o]=="string"){if(!_Te(r[o]))throw new ta(`invalid ${t} header`);i.push(r[o])}else if(r[o]===null)i.push("");else{if(typeof r[o]=="object")throw new ta(`invalid ${t} header`);i.push(`${r[o]}`)}r=i}else if(typeof r=="string"){if(!_Te(r))throw new ta(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new ta("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new ta("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new ta(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new ta("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new Sgt("expect header not supported");e.headers.push(t,r)}}}s(LU,"processHeader");kTe.exports=Cie});var HS=j((NHr,DTe)=>{"use strict";d();var Ugt=require("node:events"),FU=class extends Ugt{static{s(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new xie(this,n)}},xie=class extends FU{static{s(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};DTe.exports=FU});var y6=j((MHr,PTe)=>{"use strict";d();var qgt=HS(),{ClientDestroyedError:vie,ClientClosedError:Wgt,InvalidArgumentError:p6}=Co(),{kDestroy:Ggt,kClose:Hgt,kClosed:jS,kDestroyed:g6,kDispatch:bie,kInterceptors:Yv}=Os(),DA=Symbol("onDestroyed"),A6=Symbol("onClosed"),MU=Symbol("Intercepted Dispatch"),Eie=class extends qgt{static{s(this,"DispatcherBase")}constructor(){super(),this[g6]=!1,this[DA]=null,this[jS]=!1,this[A6]=[]}get destroyed(){return this[g6]}get closed(){return this[jS]}get interceptors(){return this[Yv]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[Yv][r]!="function")throw new p6("interceptor must be an function")}this[Yv]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((o,a)=>o?i(o):n(a))});if(typeof t!="function")throw new p6("invalid callback");if(this[g6]){queueMicrotask(()=>t(new vie,null));return}if(this[jS]){this[A6]?this[A6].push(t):queueMicrotask(()=>t(null,null));return}this[jS]=!0,this[A6].push(t);let r=s(()=>{let n=this[A6];this[A6]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[Hgt]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,o)=>{this.destroy(t,(a,l)=>a?o(a):i(l))});if(typeof r!="function")throw new p6("invalid callback");if(this[g6]){this[DA]?this[DA].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new vie),this[g6]=!0,this[DA]=this[DA]||[],this[DA].push(r);let n=s(()=>{let i=this[DA];this[DA]=null;for(let o=0;o<i.length;o++)i[o](null,null)},"onDestroyed");this[Ggt](t).then(()=>{queueMicrotask(n)})}[MU](t,r){if(!this[Yv]||this[Yv].length===0)return this[MU]=this[bie],this[bie](t,r);let n=this[bie].bind(this);for(let i=this[Yv].length-1;i>=0;i--)n=this[Yv][i](n);return this[MU]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new p6("handler must be an object");try{if(!t||typeof t!="object")throw new p6("opts must be an object.");if(this[g6]||this[DA])throw new vie;if(this[jS])throw new Wgt;return this[MU](t,r)}catch(n){if(typeof r.onError!="function")throw new p6("invalid onError method");return r.onError(n),!1}}};PTe.exports=Eie});var kie=j((UHr,MTe)=>{"use strict";d();var C6=0,Iie=1e3,Tie=(Iie>>1)-1,PA,wie=Symbol("kFastTimer"),NA=[],_ie=-2,Sie=-1,LTe=0,NTe=1;function Rie(){C6+=Tie;let e=0,t=NA.length;for(;e<t;){let r=NA[e];r._state===LTe?(r._idleStart=C6-Tie,r._state=NTe):r._state===NTe&&C6>=r._idleStart+r._idleTimeout&&(r._state=Sie,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Sie?(r._state=_ie,--t!==0&&(NA[e]=NA[t])):++e}NA.length=t,NA.length!==0&&FTe()}s(Rie,"onTick");function FTe(){PA?PA.refresh():(clearTimeout(PA),PA=setTimeout(Rie,Tie),PA.unref&&PA.unref())}s(FTe,"refreshTimeout");var QU=class{static{s(this,"FastTimer")}[wie]=!0;_state=_ie;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===_ie&&NA.push(this),(!PA||NA.length===1)&&FTe(),this._state=LTe}clear(){this._state=Sie,this._idleStart=-1}};MTe.exports={setTimeout(e,t,r){return t<=Iie?setTimeout(e,t,r):new QU(e,t,r)},clearTimeout(e){e[wie]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new QU(e,t,r)},clearFastTimeout(e){e.clear()},now(){return C6},tick(e=0){C6+=e-Iie+1,Rie(),Rie()},reset(){C6=0,NA.length=0,clearTimeout(PA),PA=null},kFastTimer:wie}});var VS=j((jHr,WTe)=>{"use strict";d();var jgt=require("node:net"),QTe=require("node:assert"),qTe=Ci(),{InvalidArgumentError:Vgt,ConnectTimeoutError:$gt}=Co(),OU=kie();function OTe(){}s(OTe,"noop");var Bie,Die;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?Die=class{static{s(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:Die=class{static{s(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function zgt({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...o}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new Vgt("maxCachedSessions must be a positive integer or zero");let a={path:r,...o},l=new Die(t??100);return n=n??1e4,e=e??!1,s(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:g,httpSocket:y},v){let b;if(m==="https:"){Bie||(Bie=require("node:tls")),p=p||a.servername||qTe.getServerName(f)||null;let _=p||u;QTe(_);let k=i||l.get(_)||null;h=h||443,b=Bie.connect({highWaterMark:16384,...a,servername:p,session:k,localAddress:g,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:y,port:h,host:u}),b.on("session",function(B){l.set(_,B)})}else QTe(!y,"httpSocket can only be sent on TLS update"),h=h||80,b=jgt.connect({highWaterMark:64*1024,...a,localAddress:g,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let _=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;b.setKeepAlive(!0,_)}let E=Ygt(new WeakRef(b),{timeout:n,hostname:u,port:h});return b.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(E),v){let _=v;v=null,_(null,this)}}).on("error",function(_){if(queueMicrotask(E),v){let k=v;v=null,k(_)}}),b},"connect")}s(zgt,"buildConnector");var Ygt=process.platform==="win32"?(e,t)=>{if(!t.timeout)return OTe;let r=null,n=null,i=OU.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>UTe(e.deref(),t))})},t.timeout);return()=>{OU.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return OTe;let r=null,n=OU.setFastTimeout(()=>{r=setImmediate(()=>{UTe(e.deref(),t)})},t.timeout);return()=>{OU.clearFastTimeout(n),clearImmediate(r)}};function UTe(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,qTe.destroy(e,new $gt(r))}s(UTe,"onConnectTimeout");WTe.exports=zgt});var GTe=j(UU=>{"use strict";d();Object.defineProperty(UU,"__esModule",{value:!0});UU.enumToMap=void 0;function Kgt(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}s(Kgt,"enumToMap");UU.enumToMap=Kgt});var HTe=j(ir=>{"use strict";d();Object.defineProperty(ir,"__esModule",{value:!0});ir.SPECIAL_HEADERS=ir.HEADER_STATE=ir.MINOR=ir.MAJOR=ir.CONNECTION_TOKEN_CHARS=ir.HEADER_CHARS=ir.TOKEN=ir.STRICT_TOKEN=ir.HEX=ir.URL_CHAR=ir.STRICT_URL_CHAR=ir.USERINFO_CHARS=ir.MARK=ir.ALPHANUM=ir.NUM=ir.HEX_MAP=ir.NUM_MAP=ir.ALPHA=ir.FINISH=ir.H_METHOD_MAP=ir.METHOD_MAP=ir.METHODS_RTSP=ir.METHODS_ICE=ir.METHODS_HTTP=ir.METHODS=ir.LENIENT_FLAGS=ir.FLAGS=ir.TYPE=ir.ERROR=void 0;var Jgt=GTe(),Xgt;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(Xgt=ir.ERROR||(ir.ERROR={}));var Zgt;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(Zgt=ir.TYPE||(ir.TYPE={}));var e1t;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(e1t=ir.FLAGS||(ir.FLAGS={}));var t1t;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(t1t=ir.LENIENT_FLAGS||(ir.LENIENT_FLAGS={}));var mn;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(mn=ir.METHODS||(ir.METHODS={}));ir.METHODS_HTTP=[mn.DELETE,mn.GET,mn.HEAD,mn.POST,mn.PUT,mn.CONNECT,mn.OPTIONS,mn.TRACE,mn.COPY,mn.LOCK,mn.MKCOL,mn.MOVE,mn.PROPFIND,mn.PROPPATCH,mn.SEARCH,mn.UNLOCK,mn.BIND,mn.REBIND,mn.UNBIND,mn.ACL,mn.REPORT,mn.MKACTIVITY,mn.CHECKOUT,mn.MERGE,mn["M-SEARCH"],mn.NOTIFY,mn.SUBSCRIBE,mn.UNSUBSCRIBE,mn.PATCH,mn.PURGE,mn.MKCALENDAR,mn.LINK,mn.UNLINK,mn.PRI,mn.SOURCE];ir.METHODS_ICE=[mn.SOURCE];ir.METHODS_RTSP=[mn.OPTIONS,mn.DESCRIBE,mn.ANNOUNCE,mn.SETUP,mn.PLAY,mn.PAUSE,mn.TEARDOWN,mn.GET_PARAMETER,mn.SET_PARAMETER,mn.REDIRECT,mn.RECORD,mn.FLUSH,mn.GET,mn.POST];ir.METHOD_MAP=Jgt.enumToMap(mn);ir.H_METHOD_MAP={};Object.keys(ir.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(ir.H_METHOD_MAP[e]=ir.METHOD_MAP[e])});var r1t;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(r1t=ir.FINISH||(ir.FINISH={}));ir.ALPHA=[];for(let e=65;e<=90;e++)ir.ALPHA.push(String.fromCharCode(e)),ir.ALPHA.push(String.fromCharCode(e+32));ir.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};ir.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};ir.NUM=["0","1","2","3","4","5","6","7","8","9"];ir.ALPHANUM=ir.ALPHA.concat(ir.NUM);ir.MARK=["-","_",".","!","~","*","'","(",")"];ir.USERINFO_CHARS=ir.ALPHANUM.concat(ir.MARK).concat(["%",";",":","&","=","+","$",","]);ir.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(ir.ALPHANUM);ir.URL_CHAR=ir.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)ir.URL_CHAR.push(e);ir.HEX=ir.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);ir.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(ir.ALPHANUM);ir.TOKEN=ir.STRICT_TOKEN.concat([" "]);ir.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&ir.HEADER_CHARS.push(e);ir.CONNECTION_TOKEN_CHARS=ir.HEADER_CHARS.filter(e=>e!==44);ir.MAJOR=ir.NUM_MAP;ir.MINOR=ir.MAJOR;var x6;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(x6=ir.HEADER_STATE||(ir.HEADER_STATE={}));ir.SPECIAL_HEADERS={connection:x6.CONNECTION,"content-length":x6.CONTENT_LENGTH,"proxy-connection":x6.CONNECTION,"transfer-encoding":x6.TRANSFER_ENCODING,upgrade:x6.UPGRADE}});var Pie=j((ZHr,jTe)=>{"use strict";d();var{Buffer:n1t}=require("node:buffer");jTe.exports=n1t.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var $Te=j((tjr,VTe)=>{"use strict";d();var{Buffer:i1t}=require("node:buffer");VTe.exports=i1t.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var $S=j((njr,twe)=>{"use strict";d();var zTe=["GET","HEAD","POST"],o1t=new Set(zTe),s1t=[101,204,205,304],YTe=[301,302,303,307,308],a1t=new Set(YTe),KTe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],l1t=new Set(KTe),JTe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],c1t=new Set(JTe),u1t=["follow","manual","error"],XTe=["GET","HEAD","OPTIONS","TRACE"],f1t=new Set(XTe),d1t=["navigate","same-origin","no-cors","cors"],m1t=["omit","same-origin","include"],h1t=["default","no-store","reload","no-cache","force-cache","only-if-cached"],p1t=["content-encoding","content-language","content-location","content-type","content-length"],g1t=["half"],ZTe=["CONNECT","TRACE","TRACK"],A1t=new Set(ZTe),ewe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],y1t=new Set(ewe);twe.exports={subresource:ewe,forbiddenMethods:ZTe,requestBodyHeader:p1t,referrerPolicy:JTe,requestRedirect:u1t,requestMode:d1t,requestCredentials:m1t,requestCache:h1t,redirectStatus:YTe,corsSafeListedMethods:zTe,nullBodyStatus:s1t,safeMethods:XTe,badPorts:KTe,requestDuplex:g1t,subresourceSet:y1t,badPortsSet:l1t,redirectStatusSet:a1t,corsSafeListedMethodsSet:o1t,safeMethodsSet:f1t,forbiddenMethodsSet:A1t,referrerPolicySet:c1t}});var Lie=j((ojr,rwe)=>{"use strict";d();var Nie=Symbol.for("undici.globalOrigin.1");function C1t(){return globalThis[Nie]}s(C1t,"getGlobalOrigin");function x1t(e){if(e===void 0){Object.defineProperty(globalThis,Nie,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,Nie,{value:t,writable:!0,enumerable:!1,configurable:!1})}s(x1t,"setGlobalOrigin");rwe.exports={getGlobalOrigin:C1t,setGlobalOrigin:x1t}});var pu=j((ljr,cwe)=>{"use strict";d();var WU=require("node:assert"),v1t=new TextEncoder,zS=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,b1t=/[\u000A\u000D\u0009\u0020]/,E1t=/[\u0009\u000A\u000C\u000D\u0020]/g,I1t=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function T1t(e){WU(e.protocol==="data:");let t=owe(e,!0);t=t.slice(5);let r={position:0},n=v6(",",t,r),i=n.length;if(n=B1t(n,!0,!0),r.position>=t.length)return"failure";r.position++;let o=t.slice(i+1),a=swe(o);if(/;(\u0020){0,}base64$/i.test(n)){let c=lwe(a);if(a=_1t(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=Fie(n);return l==="failure"&&(l=Fie("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}s(T1t,"dataURLProcessor");function owe(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}s(owe,"URLSerializer");function GU(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}s(GU,"collectASequenceOfCodePoints");function v6(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}s(v6,"collectASequenceOfCodePointsFast");function swe(e){let t=v1t.encode(e);return w1t(t)}s(swe,"stringPercentDecode");function nwe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}s(nwe,"isHexCharByte");function iwe(e){return e>=48&&e<=57?e-48:(e&223)-55}s(iwe,"hexByteToNumber");function w1t(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let o=e[i];o!==37?r[n++]=o:o===37&&!(nwe(e[i+1])&&nwe(e[i+2]))?r[n++]=37:(r[n++]=iwe(e[i+1])<<4|iwe(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}s(w1t,"percentDecode");function Fie(e){e=qU(e,!0,!0);let t={position:0},r=v6("/",e,t);if(r.length===0||!zS.test(r)||t.position>e.length)return"failure";t.position++;let n=v6(";",e,t);if(n=qU(n,!1,!0),n.length===0||!zS.test(n))return"failure";let i=r.toLowerCase(),o=n.toLowerCase(),a={type:i,subtype:o,parameters:new Map,essence:`${i}/${o}`};for(;t.position<e.length;){t.position++,GU(u=>b1t.test(u),e,t);let l=GU(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=awe(e,t,!0),v6(";",e,t);else if(c=v6(";",e,t),c=qU(c,!1,!0),c.length===0)continue;l.length!==0&&zS.test(l)&&(c.length===0||I1t.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}s(Fie,"parseMIMEType");function _1t(e){e=e.replace(E1t,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}s(_1t,"forgivingBase64");function awe(e,t,r){let n=t.position,i="";for(WU(e[t.position]==='"'),t.position++;i+=GU(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let o=e[t.position];if(t.position++,o==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{WU(o==='"');break}}return r?i:e.slice(n,t.position)}s(awe,"collectAnHTTPQuotedString");function S1t(e){WU(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,o]of t.entries())n+=";",n+=i,n+="=",zS.test(o)||(o=o.replace(/(\\|")/g,"\\$1"),o='"'+o,o+='"'),n+=o;return n}s(S1t,"serializeAMimeType");function R1t(e){return e===13||e===10||e===9||e===32}s(R1t,"isHTTPWhiteSpace");function qU(e,t=!0,r=!0){return Mie(e,t,r,R1t)}s(qU,"removeHTTPWhitespace");function k1t(e){return e===13||e===10||e===9||e===12||e===32}s(k1t,"isASCIIWhitespace");function B1t(e,t=!0,r=!0){return Mie(e,t,r,k1t)}s(B1t,"removeASCIIWhitespace");function Mie(e,t,r,n){let i=0,o=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;o>0&&n(e.charCodeAt(o));)o--;return i===0&&o===e.length-1?e:e.slice(i,o+1)}s(Mie,"removeChars");function lwe(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}s(lwe,"isomorphicDecode");function D1t(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}s(D1t,"minimizeSupportedMimeType");cwe.exports={dataURLProcessor:T1t,URLSerializer:owe,collectASequenceOfCodePoints:GU,collectASequenceOfCodePointsFast:v6,stringPercentDecode:swe,parseMIMEType:Fie,collectAnHTTPQuotedString:awe,serializeAMimeType:S1t,removeChars:Mie,removeHTTPWhitespace:qU,minimizeSupportedMimeType:D1t,HTTP_TOKEN_CODEPOINTS:zS,isomorphicDecode:lwe}});var fc=j((fjr,uwe)=>{"use strict";d();var{types:Cg,inspect:P1t}=require("node:util"),{markAsUncloneable:N1t}=require("node:worker_threads"),{toUSVString:L1t}=Ci(),zt={};zt.converters={};zt.util={};zt.errors={};zt.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};zt.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return zt.errors.exception({header:e.prefix,message:r})};zt.errors.invalidArgument=function(e){return zt.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};zt.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};zt.argumentLengthCheck=function({length:e},t,r){if(e<t)throw zt.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};zt.illegalConstructor=function(){throw zt.errors.exception({header:"TypeError",message:"Illegal constructor"})};zt.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};zt.util.markAsUncloneable=N1t||(()=>{});zt.util.ConvertToInt=function(e,t,r,n){let i,o;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?o=0:o=Math.pow(-2,53)+1):r==="unsigned"?(o=0,i=Math.pow(2,t)-1):(o=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw zt.errors.exception({header:"Integer conversion",message:`Could not convert ${zt.util.Stringify(e)} to an integer.`});if(a=zt.util.IntegerPart(a),a<o||a>i)throw zt.errors.exception({header:"Integer conversion",message:`Value must be between ${o}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,o),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=zt.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};zt.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};zt.util.Stringify=function(e){switch(zt.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return P1t(e);case"String":return`"${e}"`;default:return`${e}`}};zt.sequenceConverter=function(e){return(t,r,n,i)=>{if(zt.util.Type(t)!=="Object")throw zt.errors.exception({header:r,message:`${n} (${zt.util.Stringify(t)}) is not iterable.`});let o=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(o===void 0||typeof o.next!="function")throw zt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=o.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};zt.recordConverter=function(e,t){return(r,n,i)=>{if(zt.util.Type(r)!=="Object")throw zt.errors.exception({header:n,message:`${i} ("${zt.util.Type(r)}") is not an Object.`});let o={};if(!Cg.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);o[u]=f}return o}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);o[u]=f}return o}};zt.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw zt.errors.exception({header:r,message:`Expected ${n} ("${zt.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};zt.dictionaryConverter=function(e){return(t,r,n)=>{let i=zt.util.Type(t),o={};if(i==="Null"||i==="Undefined")return o;if(i!=="Object")throw zt.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw zt.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw zt.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});o[l]=m}}return o}};zt.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};zt.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw zt.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};zt.converters.ByteString=function(e,t,r){let n=zt.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};zt.converters.USVString=L1t;zt.converters.boolean=function(e){return!!e};zt.converters.any=function(e){return e};zt.converters["long long"]=function(e,t,r){return zt.util.ConvertToInt(e,64,"signed",void 0,t,r)};zt.converters["unsigned long long"]=function(e,t,r){return zt.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};zt.converters["unsigned long"]=function(e,t,r){return zt.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};zt.converters["unsigned short"]=function(e,t,r,n){return zt.util.ConvertToInt(e,16,"unsigned",n,t,r)};zt.converters.ArrayBuffer=function(e,t,r,n){if(zt.util.Type(e)!=="Object"||!Cg.isAnyArrayBuffer(e))throw zt.errors.conversionFailed({prefix:t,argument:`${r} ("${zt.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Cg.isSharedArrayBuffer(e))throw zt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw zt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};zt.converters.TypedArray=function(e,t,r,n,i){if(zt.util.Type(e)!=="Object"||!Cg.isTypedArray(e)||e.constructor.name!==t.name)throw zt.errors.conversionFailed({prefix:r,argument:`${n} ("${zt.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Cg.isSharedArrayBuffer(e.buffer))throw zt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw zt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};zt.converters.DataView=function(e,t,r,n){if(zt.util.Type(e)!=="Object"||!Cg.isDataView(e))throw zt.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Cg.isSharedArrayBuffer(e.buffer))throw zt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw zt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};zt.converters.BufferSource=function(e,t,r,n){if(Cg.isAnyArrayBuffer(e))return zt.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Cg.isTypedArray(e))return zt.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Cg.isDataView(e))return zt.converters.DataView(e,t,r,{...n,allowShared:!1});throw zt.errors.conversionFailed({prefix:t,argument:`${r} ("${zt.util.Stringify(e)}")`,types:["BufferSource"]})};zt.converters["sequence<ByteString>"]=zt.sequenceConverter(zt.converters.ByteString);zt.converters["sequence<sequence<ByteString>>"]=zt.sequenceConverter(zt.converters["sequence<ByteString>"]);zt.converters["record<ByteString, ByteString>"]=zt.recordConverter(zt.converters.ByteString,zt.converters.ByteString);uwe.exports={webidl:zt}});var Ef=j((mjr,Iwe)=>{"use strict";d();var{Transform:F1t}=require("node:stream"),fwe=require("node:zlib"),{redirectStatusSet:M1t,referrerPolicySet:Q1t,badPortsSet:O1t}=$S(),{getGlobalOrigin:dwe}=Lie(),{collectASequenceOfCodePoints:Kv,collectAnHTTPQuotedString:U1t,removeChars:q1t,parseMIMEType:W1t}=pu(),{performance:G1t}=require("node:perf_hooks"),{isBlobLike:H1t,ReadableStreamFrom:j1t,isValidHTTPToken:mwe,normalizedMethodRecordsBase:V1t}=Ci(),Jv=require("node:assert"),{isUint8Array:$1t}=require("node:util/types"),{webidl:YS}=fc(),hwe=[],jU;try{jU=require("node:crypto");let e=["sha256","sha384","sha512"];hwe=jU.getHashes().filter(t=>e.includes(t))}catch{}function pwe(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}s(pwe,"responseURL");function z1t(e,t){if(!M1t.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&Awe(r)&&(gwe(r)||(r=Y1t(r)),r=new URL(r,pwe(e))),r&&!r.hash&&(r.hash=t),r}s(z1t,"responseLocationURL");function gwe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}s(gwe,"isValidEncodedURL");function Y1t(e){return Buffer.from(e,"binary").toString("utf8")}s(Y1t,"normalizeBinaryStringToUtf8");function JS(e){return e.urlList[e.urlList.length-1]}s(JS,"requestCurrentURL");function K1t(e){let t=JS(e);return bwe(t)&&O1t.has(t.port)?"blocked":"allowed"}s(K1t,"requestBadPort");function J1t(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}s(J1t,"isErrorLike");function X1t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}s(X1t,"isValidReasonPhrase");var Z1t=mwe;function Awe(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}s(Awe,"isValidHeaderValue");function eAt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let o=n.length;o!==0;o--){let a=n[o-1].trim();if(Q1t.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}s(eAt,"setRequestReferrerPolicyOnRedirect");function tAt(){return"allowed"}s(tAt,"crossOriginResourcePolicyCheck");function rAt(){return"success"}s(rAt,"corsCheck");function nAt(){return"success"}s(nAt,"TAOCheck");function iAt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}s(iAt,"appendFetchMetadata");function oAt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&Oie(e.origin)&&!Oie(JS(e))&&(t=null);break;case"same-origin":VU(e,JS(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}s(oAt,"appendRequestOriginHeader");function b6(e,t){return e}s(b6,"coarsenTime");function sAt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:b6(e.domainLookupStartTime,r),domainLookupEndTime:b6(e.domainLookupEndTime,r),connectionStartTime:b6(e.connectionStartTime,r),connectionEndTime:b6(e.connectionEndTime,r),secureConnectionStartTime:b6(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}s(sAt,"clampAndCoarsenConnectionTimingInfo");function aAt(e){return b6(G1t.now(),e)}s(aAt,"coarsenedSharedCurrentTime");function lAt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}s(lAt,"createOpaqueTimingInfo");function ywe(){return{referrerPolicy:"strict-origin-when-cross-origin"}}s(ywe,"makePolicyContainer");function cAt(e){return{referrerPolicy:e.referrerPolicy}}s(cAt,"clonePolicyContainer");function uAt(e){let t=e.referrerPolicy;Jv(t);let r=null;if(e.referrer==="client"){let l=dwe();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=Qie(r),i=Qie(r,!0);n.toString().length>4096&&(n=i);let o=VU(e,n),a=KS(n)&&!KS(e.url);switch(t){case"origin":return i??Qie(r,!0);case"unsafe-url":return n;case"same-origin":return o?i:"no-referrer";case"origin-when-cross-origin":return o?n:i;case"strict-origin-when-cross-origin":{let l=JS(e);return VU(n,l)?n:KS(n)&&!KS(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}s(uAt,"determineRequestsReferrer");function Qie(e,t){return Jv(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}s(Qie,"stripURLForReferrer");function KS(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}s(KS,"isURLPotentiallyTrustworthy");function fAt(e,t){if(jU===void 0)return!0;let r=Cwe(t);if(r==="no metadata"||r.length===0)return!0;let n=mAt(r),i=hAt(r,n);for(let o of i){let a=o.algo,l=o.hash,c=jU.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),pAt(c,l))return!0}return!1}s(fAt,"bytesMatch");var dAt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function Cwe(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=dAt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let o=i.groups.algo.toLowerCase();hwe.includes(o)&&t.push(i.groups)}return r===!0?"no metadata":t}s(Cwe,"parseMetadata");function mAt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}s(mAt,"getStrongestMetadata");function hAt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}s(hAt,"filterMetadataListByAlgorithm");function pAt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}s(pAt,"compareBase64Mixed");function gAt(e){}s(gAt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function VU(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}s(VU,"sameOrigin");function AAt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}s(AAt,"createDeferredPromise");function yAt(e){return e.controller.state==="aborted"}s(yAt,"isAborted");function CAt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}s(CAt,"isCancelled");function xAt(e){return V1t[e.toLowerCase()]??e}s(xAt,"normalizeMethod");function vAt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return Jv(typeof t=="string"),t}s(vAt,"serializeJavascriptValueToJSONString");var bAt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function xwe(e,t,r=0,n=1){class i{static{s(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,bAt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(o,a){return new i(o,a)}}s(xwe,"createIterator");function EAt(e,t,r,n=0,i=1){let o=xwe(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return YS.brandCheck(this,t),o(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return YS.brandCheck(this,t),o(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return YS.brandCheck(this,t),o(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:s(function(c,u=globalThis){if(YS.brandCheck(this,t),YS.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of o(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}s(EAt,"iteratorMixin");async function IAt(e,t,r){let n=t,i=r,o;try{o=e.stream.getReader()}catch(a){i(a);return}try{n(await vwe(o))}catch(a){i(a)}}s(IAt,"fullyReadBody");function TAt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}s(TAt,"isReadableStreamLike");function wAt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}s(wAt,"readableStreamClose");var _At=/[^\x00-\xFF]/;function HU(e){return Jv(!_At.test(e)),e}s(HU,"isomorphicEncode");async function vwe(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!$1t(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}s(vwe,"readAllBytes");function SAt(e){Jv("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}s(SAt,"urlIsLocal");function Oie(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}s(Oie,"urlHasHttpsScheme");function bwe(e){Jv("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}s(bwe,"urlIsHttpHttpsScheme");function RAt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&Kv(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&Kv(c=>c==="	"||c===" ",r,n);let i=Kv(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),o=i.length?Number(i):null;if(t&&Kv(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&Kv(c=>c==="	"||c===" ",r,n);let a=Kv(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&o===null||o>l?"failure":{rangeStartValue:o,rangeEndValue:l}}s(RAt,"simpleRangeHeaderValue");function kAt(e,t,r){let n="bytes ";return n+=HU(`${e}`),n+="-",n+=HU(`${t}`),n+="/",n+=HU(`${r}`),n}s(kAt,"buildContentRange");var Uie=class extends F1t{static{s(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?fwe.createInflate(this.#e):fwe.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function BAt(e){return new Uie(e)}s(BAt,"createInflate");function DAt(e){let t=null,r=null,n=null,i=Ewe("content-type",e);if(i===null)return"failure";for(let o of i){let a=W1t(o);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}s(DAt,"extractMimeType");function PAt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=Kv(o=>o!=='"'&&o!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=U1t(t,r),r.position<t.length)continue}else Jv(t.charCodeAt(r.position)===44),r.position++;i=q1t(i,!0,!0,o=>o===9||o===32),n.push(i),i=""}return n}s(PAt,"gettingDecodingSplitting");function Ewe(e,t){let r=t.get(e,!0);return r===null?null:PAt(r)}s(Ewe,"getDecodeSplit");var NAt=new TextDecoder;function LAt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),NAt.decode(e))}s(LAt,"utf8DecodeBytes");var qie=class{static{s(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return dwe()}get origin(){return this.baseUrl?.origin}policyContainer=ywe()},Wie=class{static{s(this,"EnvironmentSettingsObject")}settingsObject=new qie},FAt=new Wie;Iwe.exports={isAborted:yAt,isCancelled:CAt,isValidEncodedURL:gwe,createDeferredPromise:AAt,ReadableStreamFrom:j1t,tryUpgradeRequestToAPotentiallyTrustworthyURL:gAt,clampAndCoarsenConnectionTimingInfo:sAt,coarsenedSharedCurrentTime:aAt,determineRequestsReferrer:uAt,makePolicyContainer:ywe,clonePolicyContainer:cAt,appendFetchMetadata:iAt,appendRequestOriginHeader:oAt,TAOCheck:nAt,corsCheck:rAt,crossOriginResourcePolicyCheck:tAt,createOpaqueTimingInfo:lAt,setRequestReferrerPolicyOnRedirect:eAt,isValidHTTPToken:mwe,requestBadPort:K1t,requestCurrentURL:JS,responseURL:pwe,responseLocationURL:z1t,isBlobLike:H1t,isURLPotentiallyTrustworthy:KS,isValidReasonPhrase:X1t,sameOrigin:VU,normalizeMethod:xAt,serializeJavascriptValueToJSONString:vAt,iteratorMixin:EAt,createIterator:xwe,isValidHeaderName:Z1t,isValidHeaderValue:Awe,isErrorLike:J1t,fullyReadBody:IAt,bytesMatch:fAt,isReadableStreamLike:TAt,readableStreamClose:wAt,isomorphicEncode:HU,urlIsLocal:SAt,urlHasHttpsScheme:Oie,urlIsHttpHttpsScheme:bwe,readAllBytes:vwe,simpleRangeHeaderValue:RAt,buildContentRange:kAt,parseMetadata:Cwe,createInflate:BAt,extractMimeType:DAt,getDecodeSplit:Ewe,utf8DecodeBytes:LAt,environmentSettingsObject:FAt}});var tC=j((gjr,Twe)=>{"use strict";d();Twe.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var Hie=j((yjr,wwe)=>{"use strict";d();var{Blob:MAt,File:QAt}=require("node:buffer"),{kState:LA}=tC(),{webidl:xg}=fc(),Gie=class e{static{s(this,"FileLike")}constructor(t,r,n={}){let i=r,o=n.type,a=n.lastModified??Date.now();this[LA]={blobLike:t,name:i,type:o,lastModified:a}}stream(...t){return xg.brandCheck(this,e),this[LA].blobLike.stream(...t)}arrayBuffer(...t){return xg.brandCheck(this,e),this[LA].blobLike.arrayBuffer(...t)}slice(...t){return xg.brandCheck(this,e),this[LA].blobLike.slice(...t)}text(...t){return xg.brandCheck(this,e),this[LA].blobLike.text(...t)}get size(){return xg.brandCheck(this,e),this[LA].blobLike.size}get type(){return xg.brandCheck(this,e),this[LA].blobLike.type}get name(){return xg.brandCheck(this,e),this[LA].name}get lastModified(){return xg.brandCheck(this,e),this[LA].lastModified}get[Symbol.toStringTag](){return"File"}};xg.converters.Blob=xg.interfaceConverter(MAt);function OAt(e){return e instanceof QAt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}s(OAt,"isFileLike");wwe.exports={FileLike:Gie,isFileLike:OAt}});var ZS=j((vjr,Bwe)=>{"use strict";d();var{isBlobLike:$U,iteratorMixin:UAt}=Ef(),{kState:b0}=tC(),{kEnumerableProperty:E6}=Ci(),{FileLike:_we,isFileLike:qAt}=Hie(),{webidl:es}=fc(),{File:kwe}=require("node:buffer"),Swe=require("node:util"),Rwe=globalThis.File??kwe,XS=class e{static{s(this,"FormData")}constructor(t){if(es.util.markAsUncloneable(this),t!==void 0)throw es.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[b0]=[]}append(t,r,n=void 0){es.brandCheck(this,e);let i="FormData.append";if(es.argumentLengthCheck(arguments,2,i),arguments.length===3&&!$U(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=es.converters.USVString(t,i,"name"),r=$U(r)?es.converters.Blob(r,i,"value",{strict:!1}):es.converters.USVString(r,i,"value"),n=arguments.length===3?es.converters.USVString(n,i,"filename"):void 0;let o=jie(t,r,n);this[b0].push(o)}delete(t){es.brandCheck(this,e);let r="FormData.delete";es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name"),this[b0]=this[b0].filter(n=>n.name!==t)}get(t){es.brandCheck(this,e);let r="FormData.get";es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name");let n=this[b0].findIndex(i=>i.name===t);return n===-1?null:this[b0][n].value}getAll(t){es.brandCheck(this,e);let r="FormData.getAll";return es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name"),this[b0].filter(n=>n.name===t).map(n=>n.value)}has(t){es.brandCheck(this,e);let r="FormData.has";return es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name"),this[b0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){es.brandCheck(this,e);let i="FormData.set";if(es.argumentLengthCheck(arguments,2,i),arguments.length===3&&!$U(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=es.converters.USVString(t,i,"name"),r=$U(r)?es.converters.Blob(r,i,"name",{strict:!1}):es.converters.USVString(r,i,"name"),n=arguments.length===3?es.converters.USVString(n,i,"name"):void 0;let o=jie(t,r,n),a=this[b0].findIndex(l=>l.name===t);a!==-1?this[b0]=[...this[b0].slice(0,a),o,...this[b0].slice(a+1).filter(l=>l.name!==t)]:this[b0].push(o)}[Swe.inspect.custom](t,r){let n=this[b0].reduce((o,a)=>(o[a.name]?Array.isArray(o[a.name])?o[a.name].push(a.value):o[a.name]=[o[a.name],a.value]:o[a.name]=a.value,o),{__proto__:null});r.depth??=t,r.colors??=!0;let i=Swe.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};UAt("FormData",XS,b0,"name","value");Object.defineProperties(XS.prototype,{append:E6,delete:E6,get:E6,getAll:E6,has:E6,set:E6,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function jie(e,t,r){if(typeof t!="string"){if(qAt(t)||(t=t instanceof Blob?new Rwe([t],"blob",{type:t.type}):new _we(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof kwe?new Rwe([t],r,n):new _we(t,r,n)}}return{name:e,value:t}}s(jie,"makeEntry");Bwe.exports={FormData:XS,makeEntry:jie}});var Mwe=j((Ijr,Fwe)=>{"use strict";d();var{isUSVString:Dwe,bufferToLowerCasedHeaderName:WAt}=Ci(),{utf8DecodeBytes:GAt}=Ef(),{HTTP_TOKEN_CODEPOINTS:HAt,isomorphicDecode:Pwe}=pu(),{isFileLike:jAt}=Hie(),{makeEntry:VAt}=ZS(),zU=require("node:assert"),{File:$At}=require("node:buffer"),zAt=globalThis.File??$At,YAt=Buffer.from('form-data; name="'),Nwe=Buffer.from("; filename"),KAt=Buffer.from("--"),JAt=Buffer.from(`--\r
`);function XAt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}s(XAt,"isAsciiString");function ZAt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}s(ZAt,"validateBoundary");function e2t(e,t){zU(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],o={position:0};for(;e[o.position]===13&&e[o.position+1]===10;)o.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(o.position,o.position+n.length).equals(n))o.position+=n.length;else return"failure";if(o.position===e.length-2&&YU(e,KAt,o)||o.position===e.length-4&&YU(e,JAt,o))return i;if(e[o.position]!==13||e[o.position+1]!==10)return"failure";o.position+=2;let l=t2t(e,o);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;o.position+=2;let h;{let g=e.indexOf(n.subarray(2),o.position);if(g===-1)return"failure";h=e.subarray(o.position,g-4),o.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[o.position]!==13||e[o.position+1]!==10)return"failure";o.position+=2;let p;u!==null?(f??="text/plain",XAt(f)||(f=""),p=new zAt([h],u,{type:f})):p=GAt(Buffer.from(h)),zU(Dwe(c)),zU(typeof p=="string"&&Dwe(p)||jAt(p)),i.push(VAt(c,p,u))}}s(e2t,"multipartFormDataParser");function t2t(e,t){let r=null,n=null,i=null,o=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:o};let a=I6(l=>l!==10&&l!==13&&l!==58,e,t);if(a=Vie(a,!0,!0,l=>l===9||l===32),!HAt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,I6(l=>l===32||l===9,e,t),WAt(a)){case"content-disposition":{if(r=n=null,!YU(e,YAt,t)||(t.position+=17,r=Lwe(e,t),r===null))return"failure";if(YU(e,Nwe,t)){let l=t.position+Nwe.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=Lwe(e,t),n===null))return"failure"}break}case"content-type":{let l=I6(c=>c!==10&&c!==13,e,t);l=Vie(l,!1,!0,c=>c===9||c===32),i=Pwe(l);break}case"content-transfer-encoding":{let l=I6(c=>c!==10&&c!==13,e,t);l=Vie(l,!1,!0,c=>c===9||c===32),o=Pwe(l);break}default:I6(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}s(t2t,"parseMultipartFormDataHeaders");function Lwe(e,t){zU(e[t.position-1]===34);let r=I6(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}s(Lwe,"parseMultipartFormDataName");function I6(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}s(I6,"collectASequenceOfBytes");function Vie(e,t,r,n){let i=0,o=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;o>0&&n(e[o]);)o--;return i===0&&o===e.length-1?e:e.subarray(i,o+1)}s(Vie,"removeChars");function YU(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}s(YU,"bufferStartsWith");Fwe.exports={multipartFormDataParser:e2t,validateBoundary:ZAt}});var _6=j((_jr,jwe)=>{"use strict";d();var eR=Ci(),{ReadableStreamFrom:r2t,isBlobLike:Qwe,isReadableStreamLike:n2t,readableStreamClose:i2t,createDeferredPromise:o2t,fullyReadBody:s2t,extractMimeType:a2t,utf8DecodeBytes:qwe}=Ef(),{FormData:Owe}=ZS(),{kState:w6}=tC(),{webidl:l2t}=fc(),{Blob:c2t}=require("node:buffer"),$ie=require("node:assert"),{isErrored:Wwe,isDisturbed:u2t}=require("node:stream"),{isArrayBuffer:f2t}=require("node:util/types"),{serializeAMimeType:d2t}=pu(),{multipartFormDataParser:m2t}=Mwe(),zie;try{let e=require("node:crypto");zie=s(t=>e.randomInt(0,t),"random")}catch{zie=s(e=>Math.floor(Math.random(e)),"random")}var KU=new TextEncoder;function h2t(){}s(h2t,"noop");var Yie=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Kie;Yie&&(Kie=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!u2t(t)&&!Wwe(t)&&t.cancel("Response object has been garbage collected").catch(h2t)}));function Gwe(e,t=!1){let r=null;e instanceof ReadableStream?r=e:Qwe(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?KU.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>i2t(c))},start(){},type:"bytes"}),$ie(n2t(r));let n=null,i=null,o=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(f2t(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(eR.isFormDataLike(e)){let c=`----formdata-undici-0${`${zie(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=s(v=>v.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=s(v=>v.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);o=0;let g=!1;for(let[v,b]of e)if(typeof b=="string"){let E=KU.encode(u+`; name="${f(m(v))}"\r
\r
${m(b)}\r
`);h.push(E),o+=E.byteLength}else{let E=KU.encode(`${u}; name="${f(m(v))}"`+(b.name?`; filename="${f(b.name)}"`:"")+`\r
Content-Type: ${b.type||"application/octet-stream"}\r
\r
`);h.push(E,b,p),typeof b.size=="number"?o+=E.byteLength+b.size+p.byteLength:g=!0}let y=KU.encode(`--${c}--`);h.push(y),o+=y.byteLength,g&&(o=null),i=e,n=s(async function*(){for(let v of h)v.stream?yield*v.stream():yield v},"action"),a=`multipart/form-data; boundary=${c}`}else if(Qwe(e))i=e,o=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(eR.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:r2t(e)}if((typeof i=="string"||eR.isBuffer(i))&&(o=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!Wwe(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:o},a]}s(Gwe,"extractBody");function p2t(e,t=!1){return e instanceof ReadableStream&&($ie(!eR.isDisturbed(e),"The body has already been consumed."),$ie(!e.locked,"The stream is locked.")),Gwe(e,t)}s(p2t,"safelyExtractBody");function g2t(e,t){let[r,n]=t.stream.tee();return Yie&&Kie.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}s(g2t,"cloneBody");function A2t(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}s(A2t,"throwIfAborted");function y2t(e){return{blob(){return T6(this,r=>{let n=Uwe(this);return n===null?n="":n&&(n=d2t(n)),new c2t([r],{type:n})},e)},arrayBuffer(){return T6(this,r=>new Uint8Array(r).buffer,e)},text(){return T6(this,qwe,e)},json(){return T6(this,x2t,e)},formData(){return T6(this,r=>{let n=Uwe(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=m2t(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let o=new Owe;return o[w6]=i,o}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),o=new Owe;for(let[a,l]of i)o.append(a,l);return o}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return T6(this,r=>new Uint8Array(r),e)}}}s(y2t,"bodyMixinMethods");function C2t(e){Object.assign(e.prototype,y2t(e))}s(C2t,"mixinBody");async function T6(e,t,r){if(l2t.brandCheck(e,r),Hwe(e))throw new TypeError("Body is unusable: Body has already been read");A2t(e[w6]);let n=o2t(),i=s(a=>n.reject(a),"errorSteps"),o=s(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[w6].body==null?(o(Buffer.allocUnsafe(0)),n.promise):(await s2t(e[w6].body,o,i),n.promise)}s(T6,"consumeBody");function Hwe(e){let t=e[w6].body;return t!=null&&(t.stream.locked||eR.isDisturbed(t.stream))}s(Hwe,"bodyUnusable");function x2t(e){return JSON.parse(qwe(e))}s(x2t,"parseJSONFromBytes");function Uwe(e){let t=e[w6].headersList,r=a2t(t);return r==="failure"?null:r}s(Uwe,"bodyMimeType");jwe.exports={extractBody:Gwe,safelyExtractBody:p2t,cloneBody:g2t,mixinBody:C2t,streamRegistry:Kie,hasFinalizationRegistry:Yie,bodyUnusable:Hwe}});var r7e=j((kjr,t7e)=>{"use strict";d();var vn=require("node:assert"),$n=Ci(),{channels:Vwe}=h6(),Jie=kie(),{RequestContentLengthMismatchError:Xv,ResponseContentLengthMismatchError:v2t,RequestAbortedError:Xwe,HeadersTimeoutError:b2t,HeadersOverflowError:E2t,SocketError:rq,InformationalError:S6,BodyTimeoutError:I2t,HTTPParserError:T2t,ResponseExceededMaxSizeError:w2t}=Co(),{kUrl:Zwe,kReset:gu,kClient:toe,kParser:ua,kBlocking:nR,kRunning:Gc,kPending:_2t,kSize:$we,kWriting:nC,kQueue:wh,kNoRef:tR,kKeepAliveDefaultTimeout:S2t,kHostHeader:R2t,kPendingIdx:k2t,kRunningIdx:Yd,kError:Kd,kPipelining:eq,kSocket:R6,kKeepAliveTimeoutValue:nq,kMaxHeadersSize:Xie,kKeepAliveMaxTimeout:B2t,kKeepAliveTimeoutThreshold:D2t,kHeadersTimeout:P2t,kBodyTimeout:N2t,kStrictContentLength:roe,kMaxRequests:zwe,kCounter:L2t,kMaxResponseSize:F2t,kOnError:M2t,kResume:rC,kHTTPContext:e7e}=Os(),vg=HTe(),Q2t=Buffer.alloc(0),JU=Buffer[Symbol.species],XU=$n.addListener,O2t=$n.removeAllListeners,Zie;async function U2t(){let e=process.env.JEST_WORKER_ID?Pie():void 0,t;try{t=await WebAssembly.compile($Te())}catch{t=await WebAssembly.compile(e||Pie())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:s((r,n,i)=>0,"wasm_on_url"),wasm_on_status:s((r,n,i)=>{vn(hl.ptr===r);let o=n-Eg+bg.byteOffset;return hl.onStatus(new JU(bg.buffer,o,i))||0},"wasm_on_status"),wasm_on_message_begin:s(r=>(vn(hl.ptr===r),hl.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:s((r,n,i)=>{vn(hl.ptr===r);let o=n-Eg+bg.byteOffset;return hl.onHeaderField(new JU(bg.buffer,o,i))||0},"wasm_on_header_field"),wasm_on_header_value:s((r,n,i)=>{vn(hl.ptr===r);let o=n-Eg+bg.byteOffset;return hl.onHeaderValue(new JU(bg.buffer,o,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:s((r,n,i,o)=>(vn(hl.ptr===r),hl.onHeadersComplete(n,!!i,!!o)||0),"wasm_on_headers_complete"),wasm_on_body:s((r,n,i)=>{vn(hl.ptr===r);let o=n-Eg+bg.byteOffset;return hl.onBody(new JU(bg.buffer,o,i))||0},"wasm_on_body"),wasm_on_message_complete:s(r=>(vn(hl.ptr===r),hl.onMessageComplete()||0),"wasm_on_message_complete")}})}s(U2t,"lazyllhttp");var eoe=null,noe=U2t();noe.catch();var hl=null,bg=null,ZU=0,Eg=null,q2t=0,rR=1,k6=2|rR,tq=4|rR,ioe=8|q2t,ooe=class{static{s(this,"Parser")}constructor(t,r,{exports:n}){vn(Number.isFinite(t[Xie])&&t[Xie]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(vg.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Xie],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[F2t]}setTimeout(t,r){t!==this.timeoutValue||r&rR^this.timeoutType&rR?(this.timeout&&(Jie.clearTimeout(this.timeout),this.timeout=null),t&&(r&rR?this.timeout=Jie.setFastTimeout(Ywe,t,new WeakRef(this)):(this.timeout=setTimeout(Ywe,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(vn(this.ptr!=null),vn(hl==null),this.llhttp.llhttp_resume(this.ptr),vn(this.timeoutType===tq),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||Q2t),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){vn(this.ptr!=null),vn(hl==null),vn(!this.paused);let{socket:r,llhttp:n}=this;t.length>ZU&&(Eg&&n.free(Eg),ZU=Math.ceil(t.length/4096)*4096,Eg=n.malloc(ZU)),new Uint8Array(n.memory.buffer,Eg,ZU).set(t);try{let i;try{bg=t,hl=this,i=n.llhttp_execute(this.ptr,Eg,t.length)}catch(a){throw a}finally{hl=null,bg=null}let o=n.llhttp_get_error_pos(this.ptr)-Eg;if(i===vg.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(o));else if(i===vg.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(o));else if(i!==vg.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new T2t(l,vg.ERROR[i],t.slice(o))}}catch(i){$n.destroy(r,i)}}destroy(){vn(this.ptr!=null),vn(hl==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&Jie.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[wh][r[Yd]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=$n.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&$n.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&$n.destroy(this.socket,new E2t)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:o,statusCode:a}=this;vn(r),vn(n[R6]===i),vn(!i.destroyed),vn(!this.paused),vn((o.length&1)===0);let l=n[wh][n[Yd]];vn(l),vn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[ua].destroy(),i[ua]=null,i[toe]=null,i[Kd]=null,O2t(i),n[R6]=null,n[e7e]=null,n[wh][n[Yd]++]=null,n.emit("disconnect",n[Zwe],[n],new S6("upgrade"));try{l.onUpgrade(a,o,i)}catch(c){$n.destroy(i,c)}n[rC]()}onHeadersComplete(t,r,n){let{client:i,socket:o,headers:a,statusText:l}=this;if(o.destroyed)return-1;let c=i[wh][i[Yd]];if(!c)return-1;if(vn(!this.upgrade),vn(this.statusCode<200),t===100)return $n.destroy(o,new rq("bad response",$n.getSocketInfo(o))),-1;if(r&&!c.upgrade)return $n.destroy(o,new rq("bad upgrade",$n.getSocketInfo(o))),-1;if(vn(this.timeoutType===k6),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!o[gu]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[N2t];this.setTimeout(f,tq)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return vn(i[Gc]===1),this.upgrade=!0,2;if(r)return vn(i[Gc]===1),this.upgrade=!0,2;if(vn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[eq]){let f=this.keepAlive?$n.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[D2t],i[B2t]);m<=0?o[gu]=!0:i[nq]=m}else i[nq]=i[S2t]}else o[gu]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(o[nR]&&(o[nR]=!1,i[rC]()),u?vg.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:o}=this;if(n.destroyed)return-1;let a=r[wh][r[Yd]];if(vn(a),vn(this.timeoutType===tq),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),vn(i>=200),o>-1&&this.bytesRead+t.length>o)return $n.destroy(n,new w2t),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return vg.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:o,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;vn(n>=100),vn((this.headers.length&1)===0);let u=t[wh][t[Yd]];if(vn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return $n.destroy(r,new v2t),-1;if(u.onComplete(o),t[wh][t[Yd]++]=null,r[nC])return vn(t[Gc]===0),$n.destroy(r,new S6("reset")),vg.ERROR.PAUSED;if(c){if(r[gu]&&t[Gc]===0)return $n.destroy(r,new S6("reset")),vg.ERROR.PAUSED;t[eq]==null||t[eq]===1?setImmediate(()=>t[rC]()):t[rC]()}else return $n.destroy(r,new S6("reset")),vg.ERROR.PAUSED}}};function Ywe(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===k6?(!t[nC]||t.writableNeedDrain||n[Gc]>1)&&(vn(!i,"cannot be paused while waiting for headers"),$n.destroy(t,new b2t)):r===tq?i||$n.destroy(t,new I2t):r===ioe&&(vn(n[Gc]===0&&n[nq]),$n.destroy(t,new S6("socket idle timeout")))}s(Ywe,"onParserTimeout");async function W2t(e,t){e[R6]=t,eoe||(eoe=await noe,noe=null),t[tR]=!1,t[nC]=!1,t[gu]=!1,t[nR]=!1,t[ua]=new ooe(e,t,eoe),XU(t,"error",function(n){vn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[ua];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[Kd]=n,this[toe][M2t](n)}),XU(t,"readable",function(){let n=this[ua];n&&n.readMore()}),XU(t,"end",function(){let n=this[ua];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}$n.destroy(this,new rq("other side closed",$n.getSocketInfo(this)))}),XU(t,"close",function(){let n=this[toe],i=this[ua];i&&(!this[Kd]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[ua].destroy(),this[ua]=null);let o=this[Kd]||new rq("closed",$n.getSocketInfo(this));if(n[R6]=null,n[e7e]=null,n.destroyed){vn(n[_2t]===0);let a=n[wh].splice(n[Yd]);for(let l=0;l<a.length;l++){let c=a[l];$n.errorRequest(n,c,o)}}else if(n[Gc]>0&&o.code!=="UND_ERR_INFO"){let a=n[wh][n[Yd]];n[wh][n[Yd]++]=null,$n.errorRequest(n,a,o)}n[k2t]=n[Yd],vn(n[Gc]===0),n.emit("disconnect",n[Zwe],[n],o),n[rC]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return j2t(e,...n)},resume(){G2t(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[nC]||t[gu]||t[nR]||n&&(e[Gc]>0&&!n.idempotent||e[Gc]>0&&(n.upgrade||n.method==="CONNECT")||e[Gc]>0&&$n.bodyLength(n.body)!==0&&($n.isStream(n.body)||$n.isAsyncIterable(n.body)||$n.isFormDataLike(n.body))))}}}s(W2t,"connectH1");function G2t(e){let t=e[R6];if(t&&!t.destroyed){if(e[$we]===0?!t[tR]&&t.unref&&(t.unref(),t[tR]=!0):t[tR]&&t.ref&&(t.ref(),t[tR]=!1),e[$we]===0)t[ua].timeoutType!==ioe&&t[ua].setTimeout(e[nq],ioe);else if(e[Gc]>0&&t[ua].statusCode<200&&t[ua].timeoutType!==k6){let r=e[wh][e[Yd]],n=r.headersTimeout!=null?r.headersTimeout:e[P2t];t[ua].setTimeout(n,k6)}}}s(G2t,"resumeH1");function H2t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}s(H2t,"shouldSendContentLength");function j2t(e,t){let{method:r,path:n,host:i,upgrade:o,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if($n.isFormDataLike(c)){Zie||(Zie=_6().extractBody);let[v,b]=Zie(c);t.contentType==null&&u.push("content-type",b),c=v.stream,f=v.length}else $n.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=$n.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),H2t(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[roe])return $n.errorRequest(e,t,new Xv),!1;process.emitWarning(new Xv)}let p=e[R6],g=s(v=>{t.aborted||t.completed||($n.errorRequest(e,t,v||new Xwe),$n.destroy(c),$n.destroy(p,new S6("aborted")))},"abort");try{t.onConnect(g)}catch(v){$n.errorRequest(e,t,v)}if(t.aborted)return!1;r==="HEAD"&&(p[gu]=!0),(o||r==="CONNECT")&&(p[gu]=!0),l!=null&&(p[gu]=l),e[zwe]&&p[L2t]++>=e[zwe]&&(p[gu]=!0),a&&(p[nR]=!0);let y=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?y+=`host: ${i}\r
`:y+=e[R2t],o?y+=`connection: upgrade\r
upgrade: ${o}\r
`:e[eq]&&!p[gu]?y+=`connection: keep-alive\r
`:y+=`connection: close\r
`,Array.isArray(u))for(let v=0;v<u.length;v+=2){let b=u[v+0],E=u[v+1];if(Array.isArray(E))for(let _=0;_<E.length;_++)y+=`${b}: ${E[_]}\r
`;else y+=`${b}: ${E}\r
`}return Vwe.sendHeaders.hasSubscribers&&Vwe.sendHeaders.publish({request:t,headers:y,socket:p}),!c||h===0?Kwe(g,null,e,t,p,f,y,m):$n.isBuffer(c)?Kwe(g,c,e,t,p,f,y,m):$n.isBlobLike(c)?typeof c.stream=="function"?Jwe(g,c.stream(),e,t,p,f,y,m):$2t(g,c,e,t,p,f,y,m):$n.isStream(c)?V2t(g,c,e,t,p,f,y,m):$n.isIterable(c)?Jwe(g,c,e,t,p,f,y,m):vn(!1),!0}s(j2t,"writeH1");function V2t(e,t,r,n,i,o,a,l){vn(o!==0||r[Gc]===0,"stream body cannot be pipelined");let c=!1,u=new iq({abort:e,socket:i,request:n,contentLength:o,client:r,expectsPayload:l,header:a}),f=s(function(g){if(!c)try{!u.write(g)&&this.pause&&this.pause()}catch(y){$n.destroy(this,y)}},"onData"),m=s(function(){c||t.resume&&t.resume()},"onDrain"),h=s(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let g=new Xwe;queueMicrotask(()=>p(g))}},"onClose"),p=s(function(g){if(!c){if(c=!0,vn(i.destroyed||i[nC]&&r[Gc]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!g)try{u.end()}catch(y){g=y}u.destroy(g),g&&(g.code!=="UND_ERR_INFO"||g.message!=="reset")?$n.destroy(t,g):$n.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}s(V2t,"writeStream");function Kwe(e,t,r,n,i,o,a,l){try{t?$n.isBuffer(t)&&(vn(o===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${o}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[gu]=!0)):o===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(vn(o===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[rC]()}catch(c){e(c)}}s(Kwe,"writeBuffer");async function $2t(e,t,r,n,i,o,a,l){vn(o===t.size,"blob body must have content length");try{if(o!=null&&o!==t.size)throw new Xv;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${o}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[gu]=!0),r[rC]()}catch(c){e(c)}}s($2t,"writeBlob");async function Jwe(e,t,r,n,i,o,a,l){vn(o!==0||r[Gc]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}s(u,"onDrain");let f=s(()=>new Promise((h,p)=>{vn(c===null),i[Kd]?p(i[Kd]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new iq({abort:e,socket:i,request:n,contentLength:o,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[Kd])throw i[Kd];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}s(Jwe,"writeIterable");var iq=class{static{s(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:o,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=o,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[nC]=!0}write(t){let{socket:r,request:n,contentLength:i,client:o,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[Kd])throw r[Kd];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(o[roe])throw new Xv;process.emitWarning(new Xv)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[gu]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[ua].timeout&&r[ua].timeoutType===k6&&r[ua].timeout.refresh&&r[ua].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:o,header:a,request:l}=this;if(l.onRequestSent(),t[nC]=!1,t[Kd])throw t[Kd];if(!t.destroyed){if(i===0?o?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[roe])throw new Xv;process.emitWarning(new Xv)}t[ua].timeout&&t[ua].timeoutType===k6&&t[ua].timeout.refresh&&t[ua].timeout.refresh(),n[rC]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[nC]=!1,t&&(vn(n[Gc]<=1,"pipeline should only contain this request"),i(t))}};t7e.exports=W2t});var u7e=j((Pjr,c7e)=>{"use strict";d();var Jd=require("node:assert"),{pipeline:z2t}=require("node:stream"),Fi=Ci(),{RequestContentLengthMismatchError:soe,RequestAbortedError:n7e,SocketError:iR,InformationalError:aoe}=Co(),{kUrl:oq,kReset:aq,kClient:B6,kRunning:lq,kPending:Y2t,kQueue:iC,kPendingIdx:loe,kRunningIdx:_h,kError:Rh,kSocket:Ql,kStrictContentLength:K2t,kOnError:coe,kMaxConcurrentStreams:l7e,kHTTP2Session:Sh,kResume:oC,kSize:J2t,kHTTPContext:X2t}=Os(),FA=Symbol("open streams"),i7e,o7e=!1,sq;try{sq=require("node:http2")}catch{sq={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:Z2t,HTTP2_HEADER_METHOD:eyt,HTTP2_HEADER_PATH:tyt,HTTP2_HEADER_SCHEME:ryt,HTTP2_HEADER_CONTENT_LENGTH:nyt,HTTP2_HEADER_EXPECT:iyt,HTTP2_HEADER_STATUS:oyt}}=sq;function syt(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}s(syt,"parseH2Headers");async function ayt(e,t){e[Ql]=t,o7e||(o7e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=sq.connect(e[oq],{createConnection:s(()=>t,"createConnection"),peerMaxConcurrentStreams:e[l7e]});r[FA]=0,r[B6]=e,r[Ql]=t,Fi.addListener(r,"error",cyt),Fi.addListener(r,"frameError",uyt),Fi.addListener(r,"end",fyt),Fi.addListener(r,"goaway",dyt),Fi.addListener(r,"close",function(){let{[B6]:i}=this,{[Ql]:o}=i,a=this[Ql][Rh]||this[Rh]||new iR("closed",Fi.getSocketInfo(o));if(i[Sh]=null,i.destroyed){Jd(i[Y2t]===0);let l=i[iC].splice(i[_h]);for(let c=0;c<l.length;c++){let u=l[c];Fi.errorRequest(i,u,a)}}}),r.unref(),e[Sh]=r,t[Sh]=r,Fi.addListener(t,"error",function(i){Jd(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Rh]=i,this[B6][coe](i)}),Fi.addListener(t,"end",function(){Fi.destroy(this,new iR("other side closed",Fi.getSocketInfo(this)))}),Fi.addListener(t,"close",function(){let i=this[Rh]||new iR("closed",Fi.getSocketInfo(this));e[Ql]=null,this[Sh]!=null&&this[Sh].destroy(i),e[loe]=e[_h],Jd(e[lq]===0),e.emit("disconnect",e[oq],[e],i),e[oC]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return hyt(e,...i)},resume(){lyt(e)},destroy(i,o){n?queueMicrotask(o):t.destroy(i).on("close",o)},get destroyed(){return t.destroyed},busy(){return!1}}}s(ayt,"connectH2");function lyt(e){let t=e[Ql];t?.destroyed===!1&&(e[J2t]===0&&e[l7e]===0?(t.unref(),e[Sh].unref()):(t.ref(),e[Sh].ref()))}s(lyt,"resumeH2");function cyt(e){Jd(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Ql][Rh]=e,this[B6][coe](e)}s(cyt,"onHttp2SessionError");function uyt(e,t,r){if(r===0){let n=new aoe(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[Ql][Rh]=n,this[B6][coe](n)}}s(uyt,"onHttp2FrameError");function fyt(){let e=new iR("other side closed",Fi.getSocketInfo(this[Ql]));this.destroy(e),Fi.destroy(this[Ql],e)}s(fyt,"onHttp2SessionEnd");function dyt(e){let t=this[Rh]||new iR(`HTTP/2: "GOAWAY" frame received with code ${e}`,Fi.getSocketInfo(this)),r=this[B6];if(r[Ql]=null,r[X2t]=null,this[Sh]!=null&&(this[Sh].destroy(t),this[Sh]=null),Fi.destroy(this[Ql],t),r[_h]<r[iC].length){let n=r[iC][r[_h]];r[iC][r[_h]++]=null,Fi.errorRequest(r,n,t),r[loe]=r[_h]}Jd(r[lq]===0),r.emit("disconnect",r[oq],[r],t),r[oC]()}s(dyt,"onHTTP2GoAway");function myt(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}s(myt,"shouldSendContentLength");function hyt(e,t){let r=e[Sh],{method:n,path:i,host:o,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return Fi.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let k=0;k<u.length;k+=2){let B=u[k+0],N=u[k+1];if(Array.isArray(N))for(let M=0;M<N.length;M++)m[B]?m[B]+=`,${N[M]}`:m[B]=N[M];else m[B]=N}let h,{hostname:p,port:g}=e[oq];m[Z2t]=o||`${p}${g?`:${g}`:""}`,m[eyt]=n;let y=s(k=>{t.aborted||t.completed||(k=k||new n7e,Fi.errorRequest(e,t,k),h!=null&&Fi.destroy(h,k),Fi.destroy(f,k),e[iC][e[_h]++]=null,e[oC]())},"abort");try{t.onConnect(y)}catch(k){Fi.errorRequest(e,t,k)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[FA],e[iC][e[_h]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[FA],e[iC][e[_h]++]=null}),h.once("close",()=>{r[FA]-=1,r[FA]===0&&r.unref()}),!0;m[tyt]=i,m[ryt]="https";let v=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let b=Fi.bodyLength(f);if(Fi.isFormDataLike(f)){i7e??=_6().extractBody;let[k,B]=i7e(f);m["content-type"]=B,f=k.stream,b=k.length}if(b==null&&(b=t.contentLength),(b===0||!v)&&(b=null),myt(n)&&b>0&&t.contentLength!=null&&t.contentLength!==b){if(e[K2t])return Fi.errorRequest(e,t,new soe),!1;process.emitWarning(new soe)}b!=null&&(Jd(f,"no body must not have content length"),m[nyt]=`${b}`),r.ref();let E=n==="GET"||n==="HEAD"||f===null;return l?(m[iyt]="100-continue",h=r.request(m,{endStream:E,signal:c}),h.once("continue",_)):(h=r.request(m,{endStream:E,signal:c}),_()),++r[FA],h.once("response",k=>{let{[oyt]:B,...N}=k;if(t.onResponseStarted(),t.aborted){let M=new n7e;Fi.errorRequest(e,t,M),Fi.destroy(h,M);return}t.onHeaders(Number(B),syt(N),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",M=>{t.onData(M)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[FA]===0&&r.unref(),y(new aoe("HTTP/2: stream half-closed (remote)")),e[iC][e[_h]++]=null,e[loe]=e[_h],e[oC]()}),h.once("close",()=>{r[FA]-=1,r[FA]===0&&r.unref()}),h.once("error",function(k){y(k)}),h.once("frameError",(k,B)=>{y(new aoe(`HTTP/2: "frameError" received - type ${k}, code ${B}`))}),!0;function _(){!f||b===0?s7e(y,h,null,e,t,e[Ql],b,v):Fi.isBuffer(f)?s7e(y,h,f,e,t,e[Ql],b,v):Fi.isBlobLike(f)?typeof f.stream=="function"?a7e(y,h,f.stream(),e,t,e[Ql],b,v):gyt(y,h,f,e,t,e[Ql],b,v):Fi.isStream(f)?pyt(y,e[Ql],v,h,f,e,t,b):Fi.isIterable(f)?a7e(y,h,f,e,t,e[Ql],b,v):Jd(!1)}s(_,"writeBodyH2")}s(hyt,"writeH2");function s7e(e,t,r,n,i,o,a,l){try{r!=null&&Fi.isBuffer(r)&&(Jd(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(o[aq]=!0),i.onRequestSent(),n[oC]()}catch(c){e(c)}}s(s7e,"writeBuffer");function pyt(e,t,r,n,i,o,a,l){Jd(l!==0||o[lq]===0,"stream body cannot be pipelined");let c=z2t(i,n,f=>{f?(Fi.destroy(c,f),e(f)):(Fi.removeAllListeners(c),a.onRequestSent(),r||(t[aq]=!0),o[oC]())});Fi.addListener(c,"data",u);function u(f){a.onBodySent(f)}s(u,"onPipeData")}s(pyt,"writeStream");async function gyt(e,t,r,n,i,o,a,l){Jd(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new soe;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(o[aq]=!0),n[oC]()}catch(c){e(c)}}s(gyt,"writeBlob");async function a7e(e,t,r,n,i,o,a,l){Jd(a!==0||n[lq]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}s(u,"onDrain");let f=s(()=>new Promise((m,h)=>{Jd(c===null),o[Rh]?h(o[Rh]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(o[Rh])throw o[Rh];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(o[aq]=!0),n[oC]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}s(a7e,"writeIterable");c7e.exports=ayt});var uq=j((Fjr,m7e)=>{"use strict";d();var Ig=Ci(),{kBodyUsed:oR}=Os(),foe=require("node:assert"),{InvalidArgumentError:Ayt}=Co(),yyt=require("node:events"),Cyt=[300,301,302,303,307,308],f7e=Symbol("body"),cq=class{static{s(this,"BodyAsyncIterable")}constructor(t){this[f7e]=t,this[oR]=!1}async*[Symbol.asyncIterator](){foe(!this[oR],"disturbed"),this[oR]=!0,yield*this[f7e]}},uoe=class{static{s(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new Ayt("maxRedirections must be a positive number");Ig.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,Ig.isStream(this.opts.body)?(Ig.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){foe(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[oR]=!1,yyt.prototype.on.call(this.opts.body,"data",function(){this[oR]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new cq(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Ig.isIterable(this.opts.body)&&(this.opts.body=new cq(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||Ig.isDisturbed(this.opts.body)?null:xyt(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:o,pathname:a,search:l}=Ig.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=vyt(this.opts.headers,t===303,this.opts.origin!==o),this.opts.path=c,this.opts.origin=o,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function xyt(e,t){if(Cyt.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&Ig.headerNameToString(t[r])==="location")return t[r+1]}s(xyt,"parseLocation");function d7e(e,t,r){if(e.length===4)return Ig.headerNameToString(e)==="host";if(t&&Ig.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=Ig.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}s(d7e,"shouldRemoveHeader");function vyt(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)d7e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))d7e(i,t,r)||n.push(i,e[i]);else foe(e==null,"headers must be an object or an array");return n}s(vyt,"cleanRequestHeaders");m7e.exports=uoe});var fq=j((Ojr,h7e)=>{"use strict";d();var byt=uq();function Eyt({maxRedirections:e}){return t=>s(function(n,i){let{maxRedirections:o=e}=n;if(!o)return t(n,i);let a=new byt(t,o,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}s(Eyt,"createRedirectInterceptor");h7e.exports=Eyt});var dR=j((Wjr,I7e)=>{"use strict";d();var MA=require("node:assert"),x7e=require("node:net"),Iyt=require("node:http"),Zv=Ci(),{channels:D6}=h6(),Tyt=BTe(),wyt=y6(),{InvalidArgumentError:ka,InformationalError:_yt,ClientDestroyedError:Syt}=Co(),Ryt=VS(),{kUrl:Tg,kServerName:sC,kClient:kyt,kBusy:doe,kConnect:Byt,kResuming:eb,kRunning:uR,kPending:fR,kSize:cR,kQueue:kh,kConnected:Dyt,kConnecting:P6,kNeedDrain:lC,kKeepAliveDefaultTimeout:p7e,kHostHeader:Pyt,kPendingIdx:Bh,kRunningIdx:QA,kError:Nyt,kPipelining:dq,kKeepAliveTimeoutValue:Lyt,kMaxHeadersSize:Fyt,kKeepAliveMaxTimeout:Myt,kKeepAliveTimeoutThreshold:Qyt,kHeadersTimeout:Oyt,kBodyTimeout:Uyt,kStrictContentLength:qyt,kConnector:sR,kMaxRedirections:Wyt,kMaxRequests:moe,kCounter:Gyt,kClose:Hyt,kDestroy:jyt,kDispatch:Vyt,kInterceptors:g7e,kLocalAddress:aR,kMaxResponseSize:$yt,kOnError:zyt,kHTTPContext:Ba,kMaxConcurrentStreams:Yyt,kResume:lR}=Os(),Kyt=r7e(),Jyt=u7e(),A7e=!1,aC=Symbol("kClosedResolve"),y7e=s(()=>{},"noop");function v7e(e){return e[dq]??e[Ba]?.defaultPipelining??1}s(v7e,"getPipelining");var hoe=class extends wyt{static{s(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:o,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:g,socketPath:y,pipelining:v,tls:b,strictContentLength:E,maxCachedSessions:_,maxRedirections:k,connect:B,maxRequestsPerClient:N,localAddress:M,maxResponseSize:re,autoSelectFamily:pe,autoSelectFamilyAttemptTimeout:Z,maxConcurrentStreams:G,allowH2:q}={}){if(super(),f!==void 0)throw new ka("unsupported keepAlive, use pipelining=0 instead");if(o!==void 0)throw new ka("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new ka("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new ka("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new ka("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new ka("invalid maxHeaderSize");if(y!=null&&typeof y!="string")throw new ka("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new ka("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new ka("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new ka("invalid keepAliveMaxTimeout");if(g!=null&&!Number.isFinite(g))throw new ka("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new ka("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new ka("bodyTimeout must be a positive integer or zero");if(B!=null&&typeof B!="function"&&typeof B!="object")throw new ka("connect must be a function or an object");if(k!=null&&(!Number.isInteger(k)||k<0))throw new ka("maxRedirections must be a positive number");if(N!=null&&(!Number.isInteger(N)||N<0))throw new ka("maxRequestsPerClient must be a positive number");if(M!=null&&(typeof M!="string"||x7e.isIP(M)===0))throw new ka("localAddress must be valid string IP address");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new ka("maxResponseSize must be a positive number");if(Z!=null&&(!Number.isInteger(Z)||Z<-1))throw new ka("autoSelectFamilyAttemptTimeout must be a positive number");if(q!=null&&typeof q!="boolean")throw new ka("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new ka("maxConcurrentStreams must be a positive integer, greater than 0");typeof B!="function"&&(B=Ryt({...b,maxCachedSessions:_,allowH2:q,socketPath:y,timeout:l,...pe?{autoSelectFamily:pe,autoSelectFamilyAttemptTimeout:Z}:void 0,...B})),r?.Client&&Array.isArray(r.Client)?(this[g7e]=r.Client,A7e||(A7e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[g7e]=[Xyt({maxRedirections:k})],this[Tg]=Zv.parseOrigin(t),this[sR]=B,this[dq]=v??1,this[Fyt]=n||Iyt.maxHeaderSize,this[p7e]=m??4e3,this[Myt]=p??6e5,this[Qyt]=g??2e3,this[Lyt]=this[p7e],this[sC]=null,this[aR]=M??null,this[eb]=0,this[lC]=0,this[Pyt]=`host: ${this[Tg].hostname}${this[Tg].port?`:${this[Tg].port}`:""}\r
`,this[Uyt]=c??3e5,this[Oyt]=i??3e5,this[qyt]=E??!0,this[Wyt]=k,this[moe]=N,this[aC]=null,this[$yt]=re>-1?re:-1,this[Yyt]=G??100,this[Ba]=null,this[kh]=[],this[QA]=0,this[Bh]=0,this[lR]=ie=>poe(this,ie),this[zyt]=ie=>b7e(this,ie)}get pipelining(){return this[dq]}set pipelining(t){this[dq]=t,this[lR](!0)}get[fR](){return this[kh].length-this[Bh]}get[uR](){return this[Bh]-this[QA]}get[cR](){return this[kh].length-this[QA]}get[Dyt](){return!!this[Ba]&&!this[P6]&&!this[Ba].destroyed}get[doe](){return!!(this[Ba]?.busy(null)||this[cR]>=(v7e(this)||1)||this[fR]>0)}[Byt](t){E7e(this),this.once("connect",t)}[Vyt](t,r){let n=t.origin||this[Tg].origin,i=new Tyt(n,t,r);return this[kh].push(i),this[eb]||(Zv.bodyLength(i.body)==null&&Zv.isIterable(i.body)?(this[eb]=1,queueMicrotask(()=>poe(this))):this[lR](!0)),this[eb]&&this[lC]!==2&&this[doe]&&(this[lC]=2),this[lC]<2}async[Hyt](){return new Promise(t=>{this[cR]?this[aC]=t:t(null)})}async[jyt](t){return new Promise(r=>{let n=this[kh].splice(this[Bh]);for(let o=0;o<n.length;o++){let a=n[o];Zv.errorRequest(this,a,t)}let i=s(()=>{this[aC]&&(this[aC](),this[aC]=null),r(null)},"callback");this[Ba]?(this[Ba].destroy(t,i),this[Ba]=null):queueMicrotask(i),this[lR]()})}},Xyt=fq();function b7e(e,t){if(e[uR]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){MA(e[Bh]===e[QA]);let r=e[kh].splice(e[QA]);for(let n=0;n<r.length;n++){let i=r[n];Zv.errorRequest(e,i,t)}MA(e[cR]===0)}}s(b7e,"onError");async function E7e(e){MA(!e[P6]),MA(!e[Ba]);let{host:t,hostname:r,protocol:n,port:i}=e[Tg];if(r[0]==="["){let o=r.indexOf("]");MA(o!==-1);let a=r.substring(1,o);MA(x7e.isIP(a)),r=a}e[P6]=!0,D6.beforeConnect.hasSubscribers&&D6.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Ba]?.version,servername:e[sC],localAddress:e[aR]},connector:e[sR]});try{let o=await new Promise((a,l)=>{e[sR]({host:t,hostname:r,protocol:n,port:i,servername:e[sC],localAddress:e[aR]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){Zv.destroy(o.on("error",y7e),new Syt);return}MA(o);try{e[Ba]=o.alpnProtocol==="h2"?await Jyt(e,o):await Kyt(e,o)}catch(a){throw o.destroy().on("error",y7e),a}e[P6]=!1,o[Gyt]=0,o[moe]=e[moe],o[kyt]=e,o[Nyt]=null,D6.connected.hasSubscribers&&D6.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Ba]?.version,servername:e[sC],localAddress:e[aR]},connector:e[sR],socket:o}),e.emit("connect",e[Tg],[e])}catch(o){if(e.destroyed)return;if(e[P6]=!1,D6.connectError.hasSubscribers&&D6.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Ba]?.version,servername:e[sC],localAddress:e[aR]},connector:e[sR],error:o}),o.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(MA(e[uR]===0);e[fR]>0&&e[kh][e[Bh]].servername===e[sC];){let a=e[kh][e[Bh]++];Zv.errorRequest(e,a,o)}else b7e(e,o);e.emit("connectionError",e[Tg],[e],o)}e[lR]()}s(E7e,"connect");function C7e(e){e[lC]=0,e.emit("drain",e[Tg],[e])}s(C7e,"emitDrain");function poe(e,t){e[eb]!==2&&(e[eb]=2,Zyt(e,t),e[eb]=0,e[QA]>256&&(e[kh].splice(0,e[QA]),e[Bh]-=e[QA],e[QA]=0))}s(poe,"resume");function Zyt(e,t){for(;;){if(e.destroyed){MA(e[fR]===0);return}if(e[aC]&&!e[cR]){e[aC](),e[aC]=null;return}if(e[Ba]&&e[Ba].resume(),e[doe])e[lC]=2;else if(e[lC]===2){t?(e[lC]=1,queueMicrotask(()=>C7e(e))):C7e(e);continue}if(e[fR]===0||e[uR]>=(v7e(e)||1))return;let r=e[kh][e[Bh]];if(e[Tg].protocol==="https:"&&e[sC]!==r.servername){if(e[uR]>0)return;e[sC]=r.servername,e[Ba]?.destroy(new _yt("servername changed"),()=>{e[Ba]=null,poe(e)})}if(e[P6])return;if(!e[Ba]){E7e(e);return}if(e[Ba].destroyed||e[Ba].busy(r))return;!r.aborted&&e[Ba].write(r)?e[Bh]++:e[kh].splice(e[Bh],1)}}s(Zyt,"_resume");I7e.exports=hoe});var goe=j((Vjr,T7e)=>{"use strict";d();var mq=class{static{s(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};T7e.exports=class{static{s(this,"FixedQueue")}constructor(){this.head=this.tail=new mq}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new mq),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var _7e=j((Yjr,w7e)=>{d();var{kFree:e5t,kConnected:t5t,kPending:r5t,kQueued:n5t,kRunning:i5t,kSize:o5t}=Os(),tb=Symbol("pool"),Aoe=class{static{s(this,"PoolStats")}constructor(t){this[tb]=t}get connected(){return this[tb][t5t]}get free(){return this[tb][e5t]}get pending(){return this[tb][r5t]}get queued(){return this[tb][n5t]}get running(){return this[tb][i5t]}get size(){return this[tb][o5t]}};w7e.exports=Aoe});var Eoe=j((Xjr,M7e)=>{"use strict";d();var s5t=y6(),a5t=goe(),{kConnected:yoe,kSize:S7e,kRunning:R7e,kPending:k7e,kQueued:mR,kBusy:l5t,kFree:c5t,kUrl:u5t,kClose:f5t,kDestroy:d5t,kDispatch:m5t}=Os(),h5t=_7e(),Au=Symbol("clients"),E0=Symbol("needDrain"),hR=Symbol("queue"),Coe=Symbol("closed resolve"),xoe=Symbol("onDrain"),B7e=Symbol("onConnect"),D7e=Symbol("onDisconnect"),P7e=Symbol("onConnectionError"),voe=Symbol("get dispatcher"),L7e=Symbol("add client"),F7e=Symbol("remove client"),N7e=Symbol("stats"),boe=class extends s5t{static{s(this,"PoolBase")}constructor(){super(),this[hR]=new a5t,this[Au]=[],this[mR]=0;let t=this;this[xoe]=s(function(n,i){let o=t[hR],a=!1;for(;!a;){let l=o.shift();if(!l)break;t[mR]--,a=!this.dispatch(l.opts,l.handler)}this[E0]=a,!this[E0]&&t[E0]&&(t[E0]=!1,t.emit("drain",n,[t,...i])),t[Coe]&&o.isEmpty()&&Promise.all(t[Au].map(l=>l.close())).then(t[Coe])},"onDrain"),this[B7e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[D7e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[P7e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[N7e]=new h5t(this)}get[l5t](){return this[E0]}get[yoe](){return this[Au].filter(t=>t[yoe]).length}get[c5t](){return this[Au].filter(t=>t[yoe]&&!t[E0]).length}get[k7e](){let t=this[mR];for(let{[k7e]:r}of this[Au])t+=r;return t}get[R7e](){let t=0;for(let{[R7e]:r}of this[Au])t+=r;return t}get[S7e](){let t=this[mR];for(let{[S7e]:r}of this[Au])t+=r;return t}get stats(){return this[N7e]}async[f5t](){this[hR].isEmpty()?await Promise.all(this[Au].map(t=>t.close())):await new Promise(t=>{this[Coe]=t})}async[d5t](t){for(;;){let r=this[hR].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Au].map(r=>r.destroy(t)))}[m5t](t,r){let n=this[voe]();return n?n.dispatch(t,r)||(n[E0]=!0,this[E0]=!this[voe]()):(this[E0]=!0,this[hR].push({opts:t,handler:r}),this[mR]++),!this[E0]}[L7e](t){return t.on("drain",this[xoe]).on("connect",this[B7e]).on("disconnect",this[D7e]).on("connectionError",this[P7e]),this[Au].push(t),this[E0]&&queueMicrotask(()=>{this[E0]&&this[xoe](t[u5t],[this,t])}),this}[F7e](t){t.close(()=>{let r=this[Au].indexOf(t);r!==-1&&this[Au].splice(r,1)}),this[E0]=this[Au].some(r=>!r[E0]&&r.closed!==!0&&r.destroyed!==!0)}};M7e.exports={PoolBase:boe,kClients:Au,kNeedDrain:E0,kAddClient:L7e,kRemoveClient:F7e,kGetDispatcher:voe}});var N6=j((tVr,W7e)=>{"use strict";d();var{PoolBase:p5t,kClients:Q7e,kNeedDrain:g5t,kAddClient:A5t,kGetDispatcher:y5t}=Eoe(),C5t=dR(),{InvalidArgumentError:Ioe}=Co(),O7e=Ci(),{kUrl:U7e,kInterceptors:x5t}=Os(),v5t=VS(),Toe=Symbol("options"),woe=Symbol("connections"),q7e=Symbol("factory");function b5t(e,t){return new C5t(e,t)}s(b5t,"defaultFactory");var _oe=class extends p5t{static{s(this,"Pool")}constructor(t,{connections:r,factory:n=b5t,connect:i,connectTimeout:o,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new Ioe("invalid connections");if(typeof n!="function")throw new Ioe("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new Ioe("connect must be a function or an object");typeof i!="function"&&(i=v5t({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:o,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[x5t]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[woe]=r||null,this[U7e]=O7e.parseOrigin(t),this[Toe]={...O7e.deepClone(h),connect:i,allowH2:m},this[Toe].interceptors=h.interceptors?{...h.interceptors}:void 0,this[q7e]=n}[y5t](){for(let t of this[Q7e])if(!t[g5t])return t;if(!this[woe]||this[Q7e].length<this[woe]){let t=this[q7e](this[U7e],this[Toe]);return this[A5t](t),t}}};W7e.exports=_oe});var $7e=j((iVr,V7e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:E5t,InvalidArgumentError:I5t}=Co(),{PoolBase:T5t,kClients:Hc,kNeedDrain:pR,kAddClient:w5t,kRemoveClient:_5t,kGetDispatcher:S5t}=Eoe(),R5t=N6(),{kUrl:Soe,kInterceptors:k5t}=Os(),{parseOrigin:G7e}=Ci(),H7e=Symbol("factory"),hq=Symbol("options"),j7e=Symbol("kGreatestCommonDivisor"),rb=Symbol("kCurrentWeight"),nb=Symbol("kIndex"),Xd=Symbol("kWeight"),pq=Symbol("kMaxWeightPerServer"),gq=Symbol("kErrorPenalty");function B5t(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}s(B5t,"getGreatestCommonDivisor");function D5t(e,t){return new R5t(e,t)}s(D5t,"defaultFactory");var Roe=class extends T5t{static{s(this,"BalancedPool")}constructor(t=[],{factory:r=D5t,...n}={}){if(super(),this[hq]=n,this[nb]=-1,this[rb]=0,this[pq]=this[hq].maxWeightPerServer||100,this[gq]=this[hq].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new I5t("factory must be a function.");this[k5t]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[H7e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=G7e(t).origin;if(this[Hc].find(i=>i[Soe].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[H7e](r,Object.assign({},this[hq]));this[w5t](n),n.on("connect",()=>{n[Xd]=Math.min(this[pq],n[Xd]+this[gq])}),n.on("connectionError",()=>{n[Xd]=Math.max(1,n[Xd]-this[gq]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let o=i[2];o&&o.code==="UND_ERR_SOCKET"&&(n[Xd]=Math.max(1,n[Xd]-this[gq]),this._updateBalancedPoolStats())});for(let i of this[Hc])i[Xd]=this[pq];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[Hc].length;r++)t=B5t(this[Hc][r][Xd],t);this[j7e]=t}removeUpstream(t){let r=G7e(t).origin,n=this[Hc].find(i=>i[Soe].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[_5t](n),this}get upstreams(){return this[Hc].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[Soe].origin)}[S5t](){if(this[Hc].length===0)throw new E5t;if(!this[Hc].find(o=>!o[pR]&&o.closed!==!0&&o.destroyed!==!0)||this[Hc].map(o=>o[pR]).reduce((o,a)=>o&&a,!0))return;let n=0,i=this[Hc].findIndex(o=>!o[pR]);for(;n++<this[Hc].length;){this[nb]=(this[nb]+1)%this[Hc].length;let o=this[Hc][this[nb]];if(o[Xd]>this[Hc][i][Xd]&&!o[pR]&&(i=this[nb]),this[nb]===0&&(this[rb]=this[rb]-this[j7e],this[rb]<=0&&(this[rb]=this[pq])),o[Xd]>=this[rb]&&!o[pR])return o}return this[rb]=this[Hc][i][Xd],this[nb]=i,this[Hc][i]}};V7e.exports=Roe});var L6=j((aVr,e_e)=>{"use strict";d();var{InvalidArgumentError:Aq}=Co(),{kClients:cC,kRunning:z7e,kClose:P5t,kDestroy:N5t,kDispatch:L5t,kInterceptors:F5t}=Os(),M5t=y6(),Q5t=N6(),O5t=dR(),U5t=Ci(),q5t=fq(),Y7e=Symbol("onConnect"),K7e=Symbol("onDisconnect"),J7e=Symbol("onConnectionError"),W5t=Symbol("maxRedirections"),X7e=Symbol("onDrain"),Z7e=Symbol("factory"),koe=Symbol("options");function G5t(e,t){return t&&t.connections===1?new O5t(e,t):new Q5t(e,t)}s(G5t,"defaultFactory");var Boe=class extends M5t{static{s(this,"Agent")}constructor({factory:t=G5t,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new Aq("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new Aq("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new Aq("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[F5t]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[q5t({maxRedirections:r})],this[koe]={...U5t.deepClone(i),connect:n},this[koe].interceptors=i.interceptors?{...i.interceptors}:void 0,this[W5t]=r,this[Z7e]=t,this[cC]=new Map,this[X7e]=(o,a)=>{this.emit("drain",o,[this,...a])},this[Y7e]=(o,a)=>{this.emit("connect",o,[this,...a])},this[K7e]=(o,a,l)=>{this.emit("disconnect",o,[this,...a],l)},this[J7e]=(o,a,l)=>{this.emit("connectionError",o,[this,...a],l)}}get[z7e](){let t=0;for(let r of this[cC].values())t+=r[z7e];return t}[L5t](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new Aq("opts.origin must be a non-empty string or URL.");let i=this[cC].get(n);return i||(i=this[Z7e](t.origin,this[koe]).on("drain",this[X7e]).on("connect",this[Y7e]).on("disconnect",this[K7e]).on("connectionError",this[J7e]),this[cC].set(n,i)),i.dispatch(t,r)}async[P5t](){let t=[];for(let r of this[cC].values())t.push(r.close());this[cC].clear(),await Promise.all(t)}async[N5t](t){let r=[];for(let n of this[cC].values())r.push(n.destroy(t));this[cC].clear(),await Promise.all(r)}};e_e.exports=Boe});var Noe=j((uVr,i_e)=>{"use strict";d();var{kProxy:H5t,kClose:j5t,kDestroy:V5t,kInterceptors:$5t}=Os(),{URL:gR}=require("node:url"),z5t=L6(),Y5t=N6(),K5t=y6(),{InvalidArgumentError:xq,RequestAbortedError:J5t,SecureProxyConnectionError:X5t}=Co(),t_e=VS(),yq=Symbol("proxy agent"),Cq=Symbol("proxy client"),AR=Symbol("proxy headers"),Doe=Symbol("request tls settings"),r_e=Symbol("proxy tls settings"),n_e=Symbol("connect endpoint function");function Z5t(e){return e==="https:"?443:80}s(Z5t,"defaultProtocolPort");function eCt(e,t){return new Y5t(e,t)}s(eCt,"defaultFactory");var tCt=s(()=>{},"noop"),Poe=class extends K5t{static{s(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof gR)&&!t.uri)throw new xq("Proxy uri is mandatory");let{clientFactory:r=eCt}=t;if(typeof r!="function")throw new xq("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:o,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[H5t]={uri:i,protocol:l},this[$5t]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[Doe]=t.requestTls,this[r_e]=t.proxyTls,this[AR]=t.headers||{},t.auth&&t.token)throw new xq("opts.auth cannot be used in combination with opts.token");t.auth?this[AR]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[AR]["proxy-authorization"]=t.token:c&&u&&(this[AR]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=t_e({...t.proxyTls});this[n_e]=t_e({...t.requestTls}),this[Cq]=r(n,{connect:m}),this[yq]=new z5t({...t,connect:s(async(h,p)=>{let g=h.host;h.port||(g+=`:${Z5t(h.protocol)}`);try{let{socket:y,statusCode:v}=await this[Cq].connect({origin:o,port:a,path:g,signal:h.signal,headers:{...this[AR],host:h.host},servername:this[r_e]?.servername||f});if(v!==200&&(y.on("error",tCt).destroy(),p(new J5t(`Proxy response (${v}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,y);return}let b;this[Doe]?b=this[Doe].servername:b=h.servername,this[n_e]({...h,servername:b,httpSocket:y},p)}catch(y){y.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new X5t(y)):p(y)}},"connect")})}dispatch(t,r){let n=rCt(t.headers);if(nCt(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new gR(t.origin);n.host=i}return this[yq].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new gR(t):t instanceof gR?t:new gR(t.uri)}async[j5t](){await this[yq].close(),await this[Cq].close()}async[V5t](){await this[yq].destroy(),await this[Cq].destroy()}};function rCt(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}s(rCt,"buildHeaders");function nCt(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new xq("Proxy-Authorization should be sent in ProxyAgent constructor")}s(nCt,"throwIfProxyAuthIsSent");i_e.exports=Poe});var u_e=j((mVr,c_e)=>{"use strict";d();var iCt=y6(),{kClose:oCt,kDestroy:sCt,kClosed:o_e,kDestroyed:s_e,kDispatch:aCt,kNoProxyAgent:yR,kHttpProxyAgent:uC,kHttpsProxyAgent:ib}=Os(),a_e=Noe(),lCt=L6(),cCt={"http:":80,"https:":443},l_e=!1,Loe=class extends iCt{static{s(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,l_e||(l_e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...o}=t;this[yR]=new lCt(o);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[uC]=new a_e({...o,uri:a}):this[uC]=this[yR];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[ib]=new a_e({...o,uri:l}):this[ib]=this[uC],this.#o()}[aCt](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[oCt](){await this[yR].close(),this[uC][o_e]||await this[uC].close(),this[ib][o_e]||await this[ib].close()}async[sCt](t){await this[yR].destroy(t),this[uC][s_e]||await this[uC].destroy(t),this[ib][s_e]||await this[ib].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||cCt[r]||0,this.#r(n,i)?r==="https:"?this[ib]:this[uC]:this[yR]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let o=r[i];if(!o)continue;let a=o.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:o).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};c_e.exports=Loe});var vq=j((gVr,h_e)=>{"use strict";d();var F6=require("node:assert"),{kRetryHandlerDefaultRetry:f_e}=Os(),{RequestRetryError:CR}=Co(),{isDisturbed:d_e,parseHeaders:uCt,parseRangeHeader:m_e,wrapRequestBody:fCt}=Ci();function dCt(e){let t=Date.now();return new Date(e).getTime()-t}s(dCt,"calculateRetryAfterHeader");var Foe=class e{static{s(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:o,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:fCt(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:o??e[f_e],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(g=>{this.aborted=!0,this.abort?this.abort(g):this.reason=g})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[f_e](t,{state:r,opts:n},i){let{statusCode:o,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:g,errorCodes:y,methods:v}=u,{counter:b}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!y.includes(a)){i(t);return}if(Array.isArray(v)&&!v.includes(c)){i(t);return}if(o!=null&&Array.isArray(g)&&!g.includes(o)){i(t);return}if(b>f){i(t);return}let E=l?.["retry-after"];E&&(E=Number(E),E=Number.isNaN(E)?dCt(E):E*1e3);let _=E>0?Math.min(E,h):Math.min(m*p**(b-1),h);setTimeout(()=>i(null),_)}onHeaders(t,r,n,i){let o=uCt(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new CR("Request failed",t,{headers:o,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new CR("server does not support the range header and the payload was partially consumed",t,{headers:o,data:{count:this.retryCount}})),!1;let l=m_e(o["content-range"]);if(!l)return this.abort(new CR("Content-Range mismatch",t,{headers:o,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==o.etag)return this.abort(new CR("ETag mismatch",t,{headers:o,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return F6(this.start===c,"content-range mismatch"),F6(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=m_e(o["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;F6(c!=null&&Number.isFinite(c),"content-range mismatch"),F6(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=o["content-length"];this.end=l!=null?Number(l)-1:null}return F6(Number.isFinite(this.start)),F6(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=o.etag!=null?o.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new CR("Request failed",t,{headers:o,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||d_e(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||d_e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}s(r,"onRetry")}};h_e.exports=Foe});var g_e=j((CVr,p_e)=>{"use strict";d();var mCt=HS(),hCt=vq(),Moe=class extends mCt{static{s(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new hCt({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};p_e.exports=Moe});var Goe=j((bVr,T_e)=>{"use strict";d();var v_e=require("node:assert"),{Readable:pCt}=require("node:stream"),{RequestAbortedError:b_e,NotSupportedError:gCt,InvalidArgumentError:ACt,AbortError:Qoe}=Co(),E_e=Ci(),{ReadableStreamFrom:yCt}=Ci(),If=Symbol("kConsume"),xR=Symbol("kReading"),fC=Symbol("kBody"),A_e=Symbol("kAbort"),I_e=Symbol("kContentType"),y_e=Symbol("kContentLength"),CCt=s(()=>{},"noop"),Ooe=class extends pCt{static{s(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:o=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:o}),this._readableState.dataEmitted=!1,this[A_e]=r,this[If]=null,this[fC]=null,this[I_e]=n,this[y_e]=i,this[xR]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new b_e),t&&this[A_e](),super.destroy(t)}_destroy(t,r){this[xR]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[xR]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[xR]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[If]&&t!==null?(qoe(this[If],t),this[xR]?super.push(t):!0):super.push(t)}async text(){return vR(this,"text")}async json(){return vR(this,"json")}async blob(){return vR(this,"blob")}async bytes(){return vR(this,"bytes")}async arrayBuffer(){return vR(this,"arrayBuffer")}async formData(){throw new gCt}get bodyUsed(){return E_e.isDisturbed(this)}get body(){return this[fC]||(this[fC]=yCt(this),this[If]&&(this[fC].getReader(),v_e(this[fC].locked))),this[fC]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new ACt("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,o)=>{this[y_e]>r&&this.destroy(new Qoe);let a=s(()=>{this.destroy(n.reason??new Qoe)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?o(n.reason??new Qoe):i(null)}).on("error",CCt).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function xCt(e){return e[fC]&&e[fC].locked===!0||e[If]}s(xCt,"isLocked");function vCt(e){return E_e.isDisturbed(e)||xCt(e)}s(vCt,"isUnusable");async function vR(e,t){return v_e(!e[If]),new Promise((r,n)=>{if(vCt(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",o=>{n(o)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[If]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){Woe(this[If],i)}).on("close",function(){this[If].body!==null&&Woe(this[If],new b_e)}),bCt(e[If])})})}s(vR,"consume");function bCt(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)qoe(e,t.buffer[i])}else for(let r of t.buffer)qoe(e,r);for(t.endEmitted?x_e(this[If]):e.stream.on("end",function(){x_e(this[If])}),e.stream.resume();e.stream.read()!=null;);}s(bCt,"consumeStart");function Uoe(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}s(Uoe,"chunksDecode");function C_e(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let o=e[i];r.set(o,n),n+=o.length}return r}s(C_e,"chunksConcat");function x_e(e){let{type:t,body:r,resolve:n,stream:i,length:o}=e;try{t==="text"?n(Uoe(r,o)):t==="json"?n(JSON.parse(Uoe(r,o))):t==="arrayBuffer"?n(C_e(r,o).buffer):t==="blob"?n(new Blob(r,{type:i[I_e]})):t==="bytes"&&n(C_e(r,o)),Woe(e)}catch(a){i.destroy(a)}}s(x_e,"consumeEnd");function qoe(e,t){e.length+=t.length,e.body.push(t)}s(qoe,"consumePush");function Woe(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}s(Woe,"consumeFinish");T_e.exports={Readable:Ooe,chunksDecode:Uoe}});var Hoe=j((TVr,k_e)=>{d();var ECt=require("node:assert"),{ResponseStatusCodeError:w_e}=Co(),{chunksDecode:__e}=Goe(),ICt=128*1024;async function TCt({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:o}){ECt(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>ICt){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new w_e(c,n,o)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{S_e(r)?f=JSON.parse(__e(a,l)):R_e(r)&&(f=__e(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new w_e(c,n,o,f)))}s(TCt,"getResolveErrorBodyCallback");var S_e=s(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),R_e=s(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");k_e.exports={getResolveErrorBodyCallback:TCt,isContentTypeApplicationJson:S_e,isContentTypeText:R_e}});var P_e=j((SVr,joe)=>{"use strict";d();var wCt=require("node:assert"),{Readable:_Ct}=Goe(),{InvalidArgumentError:M6,RequestAbortedError:B_e}=Co(),Tf=Ci(),{getResolveErrorBodyCallback:SCt}=Hoe(),{AsyncResource:RCt}=require("node:async_hooks"),bq=class extends RCt{static{s(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new M6("invalid opts");let{signal:n,method:i,opaque:o,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new M6("invalid callback");if(f&&(typeof f!="number"||f<0))throw new M6("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new M6("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new M6("invalid method");if(l&&typeof l!="function")throw new M6("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw Tf.isStream(a)&&Tf.destroy(a.on("error",Tf.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=o||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,Tf.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new B_e:this.removeAbortListener=Tf.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new B_e,this.res?Tf.destroy(this.res.on("error",Tf.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}wCt(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:o,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?Tf.parseRawHeaders(r):Tf.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?Tf.parseHeaders(r):m,p=h["content-type"],g=h["content-length"],y=new _Ct({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&g?Number(g):null,highWaterMark:f});this.removeAbortListener&&y.on("close",this.removeAbortListener),this.callback=null,this.res=y,o!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(SCt,null,{callback:o,body:y,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(o,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:y,context:c}))}onData(t){return this.res.push(t)}onComplete(t){Tf.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:o}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:o})})),r&&(this.res=null,queueMicrotask(()=>{Tf.destroy(r,t)})),i&&(this.body=null,Tf.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function D_e(e,t){if(t===void 0)return new Promise((r,n)=>{D_e.call(this,e,(i,o)=>i?n(i):r(o))});try{this.dispatch(e,new bq(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}s(D_e,"request");joe.exports=D_e;joe.exports.RequestHandler=bq});var bR=j((BVr,F_e)=>{d();var{addAbortListener:kCt}=Ci(),{RequestAbortedError:BCt}=Co(),Q6=Symbol("kListener"),wg=Symbol("kSignal");function N_e(e){e.abort?e.abort(e[wg]?.reason):e.reason=e[wg]?.reason??new BCt,L_e(e)}s(N_e,"abort");function DCt(e,t){if(e.reason=null,e[wg]=null,e[Q6]=null,!!t){if(t.aborted){N_e(e);return}e[wg]=t,e[Q6]=()=>{N_e(e)},kCt(e[wg],e[Q6])}}s(DCt,"addSignal");function L_e(e){e[wg]&&("removeEventListener"in e[wg]?e[wg].removeEventListener("abort",e[Q6]):e[wg].removeListener("abort",e[Q6]),e[wg]=null,e[Q6]=null)}s(L_e,"removeSignal");F_e.exports={addSignal:DCt,removeSignal:L_e}});var U_e=j((NVr,O_e)=>{"use strict";d();var PCt=require("node:assert"),{finished:NCt,PassThrough:LCt}=require("node:stream"),{InvalidArgumentError:O6,InvalidReturnValueError:FCt}=Co(),Dh=Ci(),{getResolveErrorBodyCallback:MCt}=Hoe(),{AsyncResource:QCt}=require("node:async_hooks"),{addSignal:OCt,removeSignal:M_e}=bR(),Voe=class extends QCt{static{s(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new O6("invalid opts");let{signal:i,method:o,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new O6("invalid callback");if(typeof r!="function")throw new O6("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new O6("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new O6("invalid method");if(c&&typeof c!="function")throw new O6("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Dh.isStream(l)&&Dh.destroy(l.on("error",Dh.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Dh.isStream(l)&&l.on("error",m=>{this.onError(m)}),OCt(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}PCt(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:o,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Dh.parseRawHeaders(r):Dh.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let g=(u==="raw"?Dh.parseHeaders(r):f)["content-type"];m=new LCt,this.callback=null,this.runInAsyncScope(MCt,null,{callback:c,body:m,contentType:g,statusCode:t,statusMessage:i,headers:f})}else{if(o===null)return;if(m=this.runInAsyncScope(o,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new FCt("expected Writable");NCt(m,{readable:!1},p=>{let{callback:g,res:y,opaque:v,trailers:b,abort:E}=this;this.res=null,(p||!y.readable)&&Dh.destroy(y,p),this.callback=null,this.runInAsyncScope(g,null,p||null,{opaque:v,trailers:b}),p&&E()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;M_e(this),r&&(this.trailers=Dh.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:o}=this;M_e(this),this.factory=null,r?(this.res=null,Dh.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),o&&(this.body=null,Dh.destroy(o,t))}};function Q_e(e,t,r){if(r===void 0)return new Promise((n,i)=>{Q_e.call(this,e,t,(o,a)=>o?i(o):n(a))});try{this.dispatch(e,new Voe(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}s(Q_e,"stream");O_e.exports=Q_e});var H_e=j((MVr,G_e)=>{"use strict";d();var{Readable:W_e,Duplex:UCt,PassThrough:qCt}=require("node:stream"),{InvalidArgumentError:ER,InvalidReturnValueError:WCt,RequestAbortedError:$oe}=Co(),Zd=Ci(),{AsyncResource:GCt}=require("node:async_hooks"),{addSignal:HCt,removeSignal:jCt}=bR(),q_e=require("node:assert"),U6=Symbol("resume"),zoe=class extends W_e{static{s(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[U6]=null}_read(){let{[U6]:t}=this;t&&(this[U6]=null,t())}_destroy(t,r){this._read(),r(t)}},Yoe=class extends W_e{static{s(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[U6]=t}_read(){this[U6]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new $oe),r(t)}},Koe=class extends GCt{static{s(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new ER("invalid opts");if(typeof r!="function")throw new ER("invalid handler");let{signal:n,method:i,opaque:o,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new ER("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new ER("invalid method");if(a&&typeof a!="function")throw new ER("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=o||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new zoe().on("error",Zd.nop),this.ret=new UCt({readableObjectMode:t.objectMode,autoDestroy:!0,read:s(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:s((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[U6]=f},"write"),destroy:s((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:g}=this;!c&&!p._readableState.endEmitted&&(c=new $oe),g&&c&&g(),Zd.destroy(f,c),Zd.destroy(m,c),Zd.destroy(h,c),jCt(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,HCt(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}q_e(!i,"pipeline cannot be retried"),q_e(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:o,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?Zd.parseRawHeaders(r):Zd.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Yoe(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?Zd.parseRawHeaders(r):Zd.parseHeaders(r);l=this.runInAsyncScope(o,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",Zd.nop),c}if(!l||typeof l.on!="function")throw new WCt("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;Zd.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||Zd.destroy(c,new $oe)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,Zd.destroy(r,t)}};function VCt(e,t){try{let r=new Koe(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new qCt().destroy(r)}}s(VCt,"pipeline");G_e.exports=VCt});var K_e=j((UVr,Y_e)=>{"use strict";d();var{InvalidArgumentError:Joe,SocketError:$Ct}=Co(),{AsyncResource:zCt}=require("node:async_hooks"),j_e=Ci(),{addSignal:YCt,removeSignal:V_e}=bR(),$_e=require("node:assert"),Xoe=class extends zCt{static{s(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Joe("invalid opts");if(typeof r!="function")throw new Joe("invalid callback");let{signal:n,opaque:i,responseHeaders:o}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Joe("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=o||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,YCt(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}$_e(this.callback),this.abort=t,this.context=null}onHeaders(){throw new $Ct("bad upgrade",null)}onUpgrade(t,r,n){$_e(t===101);let{callback:i,opaque:o,context:a}=this;V_e(this),this.callback=null;let l=this.responseHeaders==="raw"?j_e.parseRawHeaders(r):j_e.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:o,context:a})}onError(t){let{callback:r,opaque:n}=this;V_e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function z_e(e,t){if(t===void 0)return new Promise((r,n)=>{z_e.call(this,e,(i,o)=>i?n(i):r(o))});try{let r=new Xoe(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}s(z_e,"upgrade");Y_e.exports=z_e});var tSe=j((GVr,eSe)=>{"use strict";d();var KCt=require("node:assert"),{AsyncResource:JCt}=require("node:async_hooks"),{InvalidArgumentError:Zoe,SocketError:XCt}=Co(),J_e=Ci(),{addSignal:ZCt,removeSignal:X_e}=bR(),ese=class extends JCt{static{s(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Zoe("invalid opts");if(typeof r!="function")throw new Zoe("invalid callback");let{signal:n,opaque:i,responseHeaders:o}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Zoe("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=o||null,this.callback=r,this.abort=null,ZCt(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}KCt(this.callback),this.abort=t,this.context=r}onHeaders(){throw new XCt("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:o,context:a}=this;X_e(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?J_e.parseRawHeaders(r):J_e.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:o,context:a})}onError(t){let{callback:r,opaque:n}=this;X_e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function Z_e(e,t){if(t===void 0)return new Promise((r,n)=>{Z_e.call(this,e,(i,o)=>i?n(i):r(o))});try{let r=new ese(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}s(Z_e,"connect");eSe.exports=Z_e});var rSe=j((VVr,q6)=>{"use strict";d();q6.exports.request=P_e();q6.exports.stream=U_e();q6.exports.pipeline=H_e();q6.exports.upgrade=K_e();q6.exports.connect=tSe()});var rse=j((zVr,nSe)=>{"use strict";d();var{UndiciError:e3t}=Co(),tse=class e extends e3t{static{s(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};nSe.exports={MockNotMatchedError:tse}});var W6=j((JVr,iSe)=>{"use strict";d();iSe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var IR=j((ZVr,pSe)=>{"use strict";d();var{MockNotMatchedError:ob}=rse(),{kDispatches:Eq,kMockAgent:t3t,kOriginalDispatch:r3t,kOrigin:n3t,kGetNetConnect:i3t}=W6(),{buildURL:o3t}=Ci(),{STATUS_CODES:s3t}=require("node:http"),{types:{isPromise:a3t}}=require("node:util");function OA(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}s(OA,"matchValue");function sSe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}s(sSe,"lowerCaseEntries");function aSe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):sSe(e)[t.toLocaleLowerCase()]}s(aSe,"getHeaderByName");function ose(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}s(ose,"buildHeadersFromArray");function lSe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=ose(t)),e.headers(t?sSe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=aSe(t,r);if(!OA(n,i))return!1}return!0}s(lSe,"matchHeaders");function oSe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}s(oSe,"safeUrl");function l3t(e,{path:t,method:r,body:n,headers:i}){let o=OA(e.path,t),a=OA(e.method,r),l=typeof e.body<"u"?OA(e.body,n):!0,c=lSe(e,i);return o&&a&&l&&c}s(l3t,"matchKey");function cSe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}s(cSe,"getResponseData");function uSe(e,t){let r=t.query?o3t(t.path,t.query):t.path,n=typeof r=="string"?oSe(r):r,i=e.filter(({consumed:o})=>!o).filter(({path:o})=>OA(oSe(o),n));if(i.length===0)throw new ob(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:o})=>OA(o,t.method)),i.length===0)throw new ob(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:o})=>typeof o<"u"?OA(o,t.body):!0),i.length===0)throw new ob(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(o=>lSe(o,t.headers)),i.length===0){let o=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new ob(`Mock dispatch not matched for headers '${o}' on path '${n}'`)}return i[0]}s(uSe,"getMockDispatch");function c3t(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},o={...n,...t,pending:!0,data:{error:null,...i}};return e.push(o),o}s(c3t,"addMockDispatch");function nse(e,t){let r=e.findIndex(n=>n.consumed?l3t(n,t):!1);r!==-1&&e.splice(r,1)}s(nse,"deleteMockDispatch");function fSe(e){let{path:t,method:r,body:n,headers:i,query:o}=e;return{path:t,method:r,body:n,headers:i,query:o}}s(fSe,"buildKey");function ise(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],o=e[i],a=Buffer.from(`${i}`);if(Array.isArray(o))for(let l=0;l<o.length;++l)r.push(a,Buffer.from(`${o[l]}`));else r.push(a,Buffer.from(`${o}`))}return r}s(ise,"generateKeyValues");function dSe(e){return s3t[e]||"unknown"}s(dSe,"getStatusText");async function u3t(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}s(u3t,"getResponse");function mSe(e,t){let r=fSe(e),n=uSe(this[Eq],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:o,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return nse(this[Eq],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[Eq])},u):p(this[Eq]);function p(y,v=o){let b=Array.isArray(e.headers)?ose(e.headers):e.headers,E=typeof v=="function"?v({...e,headers:b}):v;if(a3t(E)){E.then(N=>p(y,N));return}let _=cSe(E),k=ise(a),B=ise(l);t.onConnect?.(N=>t.onError(N),null),t.onHeaders?.(i,k,g,dSe(i)),t.onData?.(Buffer.from(_)),t.onComplete?.(B),nse(y,r)}s(p,"handleReply");function g(){}return s(g,"resume"),!0}s(mSe,"mockDispatch");function f3t(){let e=this[t3t],t=this[n3t],r=this[r3t];return s(function(i,o){if(e.isMockActive)try{mSe.call(this,i,o)}catch(a){if(a instanceof ob){let l=e[i3t]();if(l===!1)throw new ob(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(hSe(l,t))r.call(this,i,o);else throw new ob(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,o)},"dispatch")}s(f3t,"buildMockDispatch");function hSe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>OA(n,r.host)))}s(hSe,"checkNetConnect");function d3t(e){if(e){let{agent:t,...r}=e;return r}}s(d3t,"buildMockOptions");pSe.exports={getResponseData:cSe,getMockDispatch:uSe,addMockDispatch:c3t,deleteMockDispatch:nse,buildKey:fSe,generateKeyValues:ise,matchValue:OA,getResponse:u3t,getStatusText:dSe,mockDispatch:mSe,buildMockDispatch:f3t,checkNetConnect:hSe,buildMockOptions:d3t,getHeaderByName:aSe,buildHeadersFromArray:ose}});var dse=j((r$r,fse)=>{"use strict";d();var{getResponseData:m3t,buildKey:h3t,addMockDispatch:sse}=IR(),{kDispatches:Iq,kDispatchKey:Tq,kDefaultHeaders:ase,kDefaultTrailers:lse,kContentLength:cse,kMockDispatch:wq}=W6(),{InvalidArgumentError:_g}=Co(),{buildURL:p3t}=Ci(),G6=class{static{s(this,"MockScope")}constructor(t){this[wq]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new _g("waitInMs must be a valid integer > 0");return this[wq].delay=t,this}persist(){return this[wq].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new _g("repeatTimes must be a valid integer > 0");return this[wq].times=t,this}},use=class{static{s(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new _g("opts must be an object");if(typeof t.path>"u")throw new _g("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=p3t(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[Tq]=h3t(t),this[Iq]=r,this[ase]={},this[lse]={},this[cse]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=m3t(r),o=this[cse]?{"content-length":i.length}:{},a={...this[ase],...o,...n.headers},l={...this[lse],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new _g("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new _g("responseOptions must be an object")}reply(t){if(typeof t=="function"){let o=s(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new _g("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=sse(this[Iq],this[Tq],o);return new G6(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=sse(this[Iq],this[Tq],n);return new G6(i)}replyWithError(t){if(typeof t>"u")throw new _g("error must be defined");let r=sse(this[Iq],this[Tq],{error:t});return new G6(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new _g("headers must be defined");return this[ase]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new _g("trailers must be defined");return this[lse]=t,this}replyContentLength(){return this[cse]=!0,this}};fse.exports.MockInterceptor=use;fse.exports.MockScope=G6});var pse=j((o$r,bSe)=>{"use strict";d();var{promisify:g3t}=require("node:util"),A3t=dR(),{buildMockDispatch:y3t}=IR(),{kDispatches:gSe,kMockAgent:ASe,kClose:ySe,kOriginalClose:CSe,kOrigin:xSe,kOriginalDispatch:C3t,kConnected:mse}=W6(),{MockInterceptor:x3t}=dse(),vSe=Os(),{InvalidArgumentError:v3t}=Co(),hse=class extends A3t{static{s(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new v3t("Argument opts.agent must implement Agent");this[ASe]=r.agent,this[xSe]=t,this[gSe]=[],this[mse]=1,this[C3t]=this.dispatch,this[CSe]=this.close.bind(this),this.dispatch=y3t.call(this),this.close=this[ySe]}get[vSe.kConnected](){return this[mse]}intercept(t){return new x3t(t,this[gSe])}async[ySe](){await g3t(this[CSe])(),this[mse]=0,this[ASe][vSe.kClients].delete(this[xSe])}};bSe.exports=hse});var yse=j((l$r,RSe)=>{"use strict";d();var{promisify:b3t}=require("node:util"),E3t=N6(),{buildMockDispatch:I3t}=IR(),{kDispatches:ESe,kMockAgent:ISe,kClose:TSe,kOriginalClose:wSe,kOrigin:_Se,kOriginalDispatch:T3t,kConnected:gse}=W6(),{MockInterceptor:w3t}=dse(),SSe=Os(),{InvalidArgumentError:_3t}=Co(),Ase=class extends E3t{static{s(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new _3t("Argument opts.agent must implement Agent");this[ISe]=r.agent,this[_Se]=t,this[ESe]=[],this[gse]=1,this[T3t]=this.dispatch,this[wSe]=this.close.bind(this),this.dispatch=I3t.call(this),this.close=this[TSe]}get[SSe.kConnected](){return this[gse]}intercept(t){return new w3t(t,this[ESe])}async[TSe](){await b3t(this[wSe])(),this[gse]=0,this[ISe][SSe.kClients].delete(this[_Se])}};RSe.exports=Ase});var BSe=j((d$r,kSe)=>{"use strict";d();var S3t={pronoun:"it",is:"is",was:"was",this:"this"},R3t={pronoun:"they",is:"are",was:"were",this:"these"};kSe.exports=class{static{s(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?S3t:R3t,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var PSe=j((g$r,DSe)=>{"use strict";d();var{Transform:k3t}=require("node:stream"),{Console:B3t}=require("node:console"),D3t=process.versions.icu?"\u2705":"Y ",P3t=process.versions.icu?"\u274C":"N ";DSe.exports=class{static{s(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new k3t({transform(r,n,i){i(null,r)}}),this.logger=new B3t({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:o},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":o,Persistent:a?D3t:P3t,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var MSe=j((C$r,FSe)=>{"use strict";d();var{kClients:sb}=Os(),N3t=L6(),{kAgent:Cse,kMockAgentSet:_q,kMockAgentGet:NSe,kDispatches:xse,kIsMockActive:Sq,kNetConnect:ab,kGetNetConnect:L3t,kOptions:Rq,kFactory:kq}=W6(),F3t=pse(),M3t=yse(),{matchValue:Q3t,buildMockOptions:O3t}=IR(),{InvalidArgumentError:LSe,UndiciError:U3t}=Co(),q3t=HS(),W3t=BSe(),G3t=PSe(),vse=class extends q3t{static{s(this,"MockAgent")}constructor(t){if(super(t),this[ab]=!0,this[Sq]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new LSe("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new N3t(t);this[Cse]=r,this[sb]=r[sb],this[Rq]=O3t(t)}get(t){let r=this[NSe](t);return r||(r=this[kq](t),this[_q](t,r)),r}dispatch(t,r){return this.get(t.origin),this[Cse].dispatch(t,r)}async close(){await this[Cse].close(),this[sb].clear()}deactivate(){this[Sq]=!1}activate(){this[Sq]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[ab])?this[ab].push(t):this[ab]=[t];else if(typeof t>"u")this[ab]=!0;else throw new LSe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[ab]=!1}get isMockActive(){return this[Sq]}[_q](t,r){this[sb].set(t,r)}[kq](t){let r=Object.assign({agent:this},this[Rq]);return this[Rq]&&this[Rq].connections===1?new F3t(t,r):new M3t(t,r)}[NSe](t){let r=this[sb].get(t);if(r)return r;if(typeof t!="string"){let n=this[kq]("http://localhost:9999");return this[_q](t,n),n}for(let[n,i]of Array.from(this[sb]))if(i&&typeof n!="string"&&Q3t(n,t)){let o=this[kq](t);return this[_q](t,o),o[xse]=i[xse],o}}[L3t](){return this[ab]}pendingInterceptors(){let t=this[sb];return Array.from(t.entries()).flatMap(([r,n])=>n[xse].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new G3t}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new W3t("interceptor","interceptors").pluralize(r.length);throw new U3t(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};FSe.exports=vse});var Bq=j((b$r,qSe)=>{"use strict";d();var QSe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:H3t}=Co(),j3t=L6();USe()===void 0&&OSe(new j3t);function OSe(e){if(!e||typeof e.dispatch!="function")throw new H3t("Argument agent must implement Agent");Object.defineProperty(globalThis,QSe,{value:e,writable:!0,enumerable:!1,configurable:!1})}s(OSe,"setGlobalDispatcher");function USe(){return globalThis[QSe]}s(USe,"getGlobalDispatcher");qSe.exports={setGlobalDispatcher:OSe,getGlobalDispatcher:USe}});var Dq=j((w$r,WSe)=>{"use strict";d();WSe.exports=class{static{s(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var HSe=j((R$r,GSe)=>{"use strict";d();var V3t=uq();GSe.exports=e=>{let t=e?.maxRedirections;return r=>s(function(i,o){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,o);let c=new V3t(r,a,i,o);return r(l,c)},"redirectInterceptor")}});var VSe=j((D$r,jSe)=>{"use strict";d();var $3t=vq();jSe.exports=e=>t=>s(function(n,i){return t(n,new $3t({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var zSe=j((L$r,$Se)=>{"use strict";d();var z3t=Ci(),{InvalidArgumentError:Y3t,RequestAbortedError:K3t}=Co(),J3t=Dq(),bse=class extends J3t{static{s(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new Y3t("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=z3t.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new K3t(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function X3t({maxSize:e}={maxSize:1024*1024}){return t=>s(function(n,i){let{dumpMaxSize:o=e}=n,a=new bse({maxSize:o},i);return t(n,a)},"Intercept")}s(X3t,"createDumpInterceptor");$Se.exports=X3t});var JSe=j((Q$r,KSe)=>{"use strict";d();var{isIP:Z3t}=require("node:net"),{lookup:ext}=require("node:dns"),txt=Dq(),{InvalidArgumentError:H6,InformationalError:rxt}=Co(),YSe=Math.pow(2,31)-1,Ese=class{static{s(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let o={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,o,(a,l)=>{if(a||l==null||l.length===0){n(a??new rxt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,o.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,o.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){ext(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,o)=>{if(i)return n(i);let a=new Map;for(let l of o)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:o,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===YSe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),o[n]!=null&&o[n].ips.length>0?l=o[n]:l=o[n===4?6:4]):l=o[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===YSe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let o of r){o.timestamp=n,typeof o.ttl=="number"?o.ttl=Math.min(o.ttl,this.#e):o.ttl=this.#e;let a=i.records[o.family]??{ips:[]};a.ips.push(o),i.records[o.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new Ise(this,t,r)}},Ise=class extends txt{static{s(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},o){super(n),this.#r=r,this.#n=n,this.#t={...o},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};KSe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new H6("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new H6("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new H6("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new H6("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new H6("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new H6("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new Ese(n);return o=>s(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return Z3t(u.hostname)!==0?o(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},o(h,i.getHandler({origin:u,dispatch:o,handler:c},l))}),!0)},"dnsInterceptor")}});var lb=j((q$r,iRe)=>{"use strict";d();var{kConstruct:nxt}=Os(),{kEnumerableProperty:j6}=Ci(),{iteratorMixin:ixt,isValidHeaderName:TR,isValidHeaderValue:ZSe}=Ef(),{webidl:Zi}=fc(),Tse=require("node:assert"),Pq=require("node:util"),Ja=Symbol("headers map"),wf=Symbol("headers map sorted");function XSe(e){return e===10||e===13||e===9||e===32}s(XSe,"isHTTPWhiteSpaceCharCode");function eRe(e){let t=0,r=e.length;for(;r>t&&XSe(e.charCodeAt(r-1));)--r;for(;r>t&&XSe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}s(eRe,"headerValueNormalize");function tRe(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Zi.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});wse(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)wse(e,r[n],t[r[n]])}else throw Zi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}s(tRe,"fill");function wse(e,t,r){if(r=eRe(r),TR(t)){if(!ZSe(r))throw Zi.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Zi.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(nRe(e)==="immutable")throw new TypeError("immutable");return _se(e).append(t,r,!1)}s(wse,"appendHeader");function rRe(e,t){return e[0]<t[0]?-1:1}s(rRe,"compareHeaderName");var Nq=class e{static{s(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[Ja]=new Map(t[Ja]),this[wf]=t[wf],this.cookies=t.cookies===null?null:[...t.cookies]):(this[Ja]=new Map(t),this[wf]=null)}contains(t,r){return this[Ja].has(r?t:t.toLowerCase())}clear(){this[Ja].clear(),this[wf]=null,this.cookies=null}append(t,r,n){this[wf]=null;let i=n?t:t.toLowerCase(),o=this[Ja].get(i);if(o){let a=i==="cookie"?"; ":", ";this[Ja].set(i,{name:o.name,value:`${o.value}${a}${r}`})}else this[Ja].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[wf]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[Ja].set(i,{name:t,value:r})}delete(t,r){this[wf]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[Ja].delete(t)}get(t,r){return this[Ja].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[Ja])yield[t,r]}get entries(){let t={};if(this[Ja].size!==0)for(let{name:r,value:n}of this[Ja].values())t[r]=n;return t}rawValues(){return this[Ja].values()}get entriesList(){let t=[];if(this[Ja].size!==0)for(let{0:r,1:{name:n,value:i}}of this[Ja])if(r==="set-cookie")for(let o of this.cookies)t.push([n,o]);else t.push([n,i]);return t}toSortedArray(){let t=this[Ja].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[Ja][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],Tse(i[1].value!==null);for(let o=1,a=0,l=0,c=0,u=0,f,m;o<t;++o){for(m=n.next().value,f=r[o]=[m[0],m[1].value],Tse(f[1]!==null),c=0,l=o;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(o!==u){for(a=o;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:o}}of this[Ja])r[n++]=[i,o],Tse(o!==null);return r.sort(rRe)}}},Ph=class e{static{s(this,"Headers")}#e;#t;constructor(t=void 0){Zi.util.markAsUncloneable(this),t!==nxt&&(this.#t=new Nq,this.#e="none",t!==void 0&&(t=Zi.converters.HeadersInit(t,"Headers contructor","init"),tRe(this,t)))}append(t,r){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Zi.converters.ByteString(t,n,"name"),r=Zi.converters.ByteString(r,n,"value"),wse(this,t,r)}delete(t){if(Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,1,"Headers.delete"),t=Zi.converters.ByteString(t,"Headers.delete","name"),!TR(t))throw Zi.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Zi.converters.ByteString(t,r,"name"),!TR(t))throw Zi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Zi.converters.ByteString(t,r,"name"),!TR(t))throw Zi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Zi.converters.ByteString(t,n,"name"),r=Zi.converters.ByteString(r,n,"value"),r=eRe(r),TR(t)){if(!ZSe(r))throw Zi.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Zi.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Zi.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[wf](){if(this.#t[wf])return this.#t[wf];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[wf]=r;for(let i=0;i<r.length;++i){let{0:o,1:a}=r[i];if(o==="set-cookie")for(let l=0;l<n.length;++l)t.push([o,n[l]]);else t.push([o,a])}return this.#t[wf]=t}[Pq.inspect.custom](t,r){return r.depth??=t,`Headers ${Pq.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:nRe,setHeadersGuard:oxt,getHeadersList:_se,setHeadersList:sxt}=Ph;Reflect.deleteProperty(Ph,"getHeadersGuard");Reflect.deleteProperty(Ph,"setHeadersGuard");Reflect.deleteProperty(Ph,"getHeadersList");Reflect.deleteProperty(Ph,"setHeadersList");ixt("Headers",Ph,wf,0,1);Object.defineProperties(Ph.prototype,{append:j6,delete:j6,get:j6,has:j6,set:j6,getSetCookie:j6,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[Pq.inspect.custom]:{enumerable:!1}});Zi.converters.HeadersInit=function(e,t,r){if(Zi.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!Pq.types.isProxy(e)&&n===Ph.prototype.entries)try{return _se(e).entriesList}catch{}return typeof n=="function"?Zi.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Zi.converters["record<ByteString, ByteString>"](e,t,r)}throw Zi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};iRe.exports={fill:tRe,compareHeaderName:rRe,Headers:Ph,HeadersList:Nq,getHeadersGuard:nRe,setHeadersGuard:oxt,setHeadersList:sxt,getHeadersList:_se}});var _R=j((H$r,hRe)=>{"use strict";d();var{Headers:uRe,HeadersList:oRe,fill:axt,getHeadersGuard:lxt,setHeadersGuard:fRe,setHeadersList:dRe}=lb(),{extractBody:sRe,cloneBody:cxt,mixinBody:uxt,hasFinalizationRegistry:fxt,streamRegistry:dxt,bodyUnusable:mxt}=_6(),Sse=Ci(),aRe=require("node:util"),{kEnumerableProperty:_f}=Sse,{isValidReasonPhrase:hxt,isCancelled:pxt,isAborted:gxt,isBlobLike:Axt,serializeJavascriptValueToJSONString:yxt,isErrorLike:Cxt,isomorphicEncode:xxt,environmentSettingsObject:vxt}=Ef(),{redirectStatusSet:bxt,nullBodyStatus:Ext}=$S(),{kState:fa,kHeaders:UA}=tC(),{webidl:oi}=fc(),{FormData:Ixt}=ZS(),{URLSerializer:lRe}=pu(),{kConstruct:Fq}=Os(),Rse=require("node:assert"),{types:Txt}=require("node:util"),wxt=new TextEncoder("utf-8"),cb=class e{static{s(this,"Response")}static error(){return wR(Mq(),"immutable")}static json(t,r={}){oi.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=oi.converters.ResponseInit(r));let n=wxt.encode(yxt(t)),i=sRe(n),o=wR(V6({}),"response");return cRe(o,r,{body:i[0],type:"application/json"}),o}static redirect(t,r=302){oi.argumentLengthCheck(arguments,1,"Response.redirect"),t=oi.converters.USVString(t),r=oi.converters["unsigned short"](r);let n;try{n=new URL(t,vxt.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!bxt.has(r))throw new RangeError(`Invalid status code ${r}`);let i=wR(V6({}),"immutable");i[fa].status=r;let o=xxt(lRe(n));return i[fa].headersList.append("location",o,!0),i}constructor(t=null,r={}){if(oi.util.markAsUncloneable(this),t===Fq)return;t!==null&&(t=oi.converters.BodyInit(t)),r=oi.converters.ResponseInit(r),this[fa]=V6({}),this[UA]=new uRe(Fq),fRe(this[UA],"response"),dRe(this[UA],this[fa].headersList);let n=null;if(t!=null){let[i,o]=sRe(t);n={body:i,type:o}}cRe(this,r,n)}get type(){return oi.brandCheck(this,e),this[fa].type}get url(){oi.brandCheck(this,e);let t=this[fa].urlList,r=t[t.length-1]??null;return r===null?"":lRe(r,!0)}get redirected(){return oi.brandCheck(this,e),this[fa].urlList.length>1}get status(){return oi.brandCheck(this,e),this[fa].status}get ok(){return oi.brandCheck(this,e),this[fa].status>=200&&this[fa].status<=299}get statusText(){return oi.brandCheck(this,e),this[fa].statusText}get headers(){return oi.brandCheck(this,e),this[UA]}get body(){return oi.brandCheck(this,e),this[fa].body?this[fa].body.stream:null}get bodyUsed(){return oi.brandCheck(this,e),!!this[fa].body&&Sse.isDisturbed(this[fa].body.stream)}clone(){if(oi.brandCheck(this,e),mxt(this))throw oi.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=kse(this[fa]);return wR(t,lxt(this[UA]))}[aRe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${aRe.formatWithOptions(r,n)}`}};uxt(cb);Object.defineProperties(cb.prototype,{type:_f,url:_f,status:_f,ok:_f,redirected:_f,statusText:_f,headers:_f,clone:_f,body:_f,bodyUsed:_f,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(cb,{json:_f,redirect:_f,error:_f});function kse(e){if(e.internalResponse)return mRe(kse(e.internalResponse),e.type);let t=V6({...e,body:null});return e.body!=null&&(t.body=cxt(t,e.body)),t}s(kse,"cloneResponse");function V6(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new oRe(e?.headersList):new oRe,urlList:e?.urlList?[...e.urlList]:[]}}s(V6,"makeResponse");function Mq(e){let t=Cxt(e);return V6({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}s(Mq,"makeNetworkError");function _xt(e){return e.type==="error"&&e.status===0}s(_xt,"isNetworkError");function Lq(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return Rse(!(n in t)),r[n]=i,!0}})}s(Lq,"makeFilteredResponse");function mRe(e,t){if(t==="basic")return Lq(e,{type:"basic",headersList:e.headersList});if(t==="cors")return Lq(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return Lq(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return Lq(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});Rse(!1)}s(mRe,"filterResponse");function Sxt(e,t=null){return Rse(pxt(e)),gxt(e)?Mq(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):Mq(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}s(Sxt,"makeAppropriateNetworkError");function cRe(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!hxt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[fa].status=t.status),"statusText"in t&&t.statusText!=null&&(e[fa].statusText=t.statusText),"headers"in t&&t.headers!=null&&axt(e[UA],t.headers),r){if(Ext.includes(e.status))throw oi.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[fa].body=r.body,r.type!=null&&!e[fa].headersList.contains("content-type",!0)&&e[fa].headersList.append("content-type",r.type,!0)}}s(cRe,"initializeResponse");function wR(e,t){let r=new cb(Fq);return r[fa]=e,r[UA]=new uRe(Fq),dRe(r[UA],e.headersList),fRe(r[UA],t),fxt&&e.body?.stream&&dxt.register(r,new WeakRef(e.body.stream)),r}s(wR,"fromInnerResponse");oi.converters.ReadableStream=oi.interfaceConverter(ReadableStream);oi.converters.FormData=oi.interfaceConverter(Ixt);oi.converters.URLSearchParams=oi.interfaceConverter(URLSearchParams);oi.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?oi.converters.USVString(e,t,r):Axt(e)?oi.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||Txt.isArrayBuffer(e)?oi.converters.BufferSource(e,t,r):Sse.isFormDataLike(e)?oi.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?oi.converters.URLSearchParams(e,t,r):oi.converters.DOMString(e,t,r)};oi.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?oi.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:oi.converters.XMLHttpRequestBodyInit(e,t,r)};oi.converters.ResponseInit=oi.dictionaryConverter([{key:"status",converter:oi.converters["unsigned short"],defaultValue:s(()=>200,"defaultValue")},{key:"statusText",converter:oi.converters.ByteString,defaultValue:s(()=>"","defaultValue")},{key:"headers",converter:oi.converters.HeadersInit}]);hRe.exports={isNetworkError:_xt,makeNetworkError:Mq,makeResponse:V6,makeAppropriateNetworkError:Sxt,filterResponse:mRe,Response:cb,cloneResponse:kse,fromInnerResponse:wR}});var yRe=j(($$r,ARe)=>{"use strict";d();var{kConnected:pRe,kSize:gRe}=Os(),Bse=class{static{s(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[pRe]===0&&this.value[gRe]===0?void 0:this.value}},Dse=class{static{s(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[pRe]===0&&t[gRe]===0&&this.finalizer(r)})}unregister(t){}};ARe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:Bse,FinalizationRegistry:Dse}):{WeakRef,FinalizationRegistry}}});var $6=j((K$r,PRe)=>{"use strict";d();var{extractBody:Rxt,mixinBody:kxt,cloneBody:Bxt,bodyUnusable:CRe}=_6(),{Headers:SRe,fill:Dxt,HeadersList:qq,setHeadersGuard:Nse,getHeadersGuard:Pxt,setHeadersList:RRe,getHeadersList:xRe}=lb(),{FinalizationRegistry:Nxt}=yRe()(),Oq=Ci(),vRe=require("node:util"),{isValidHTTPToken:Lxt,sameOrigin:bRe,environmentSettingsObject:Qq}=Ef(),{forbiddenMethodsSet:Fxt,corsSafeListedMethodsSet:Mxt,referrerPolicy:Qxt,requestRedirect:Oxt,requestMode:Uxt,requestCredentials:qxt,requestCache:Wxt,requestDuplex:Gxt}=$S(),{kEnumerableProperty:Xa,normalizedMethodRecordsBase:Hxt,normalizedMethodRecords:jxt}=Oq,{kHeaders:Sf,kSignal:Uq,kState:vs,kDispatcher:Pse}=tC(),{webidl:bn}=fc(),{URLSerializer:Vxt}=pu(),{kConstruct:Wq}=Os(),$xt=require("node:assert"),{getMaxListeners:ERe,setMaxListeners:IRe,getEventListeners:zxt,defaultMaxListeners:TRe}=require("node:events"),Yxt=Symbol("abortController"),kRe=new Nxt(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),Gq=new WeakMap;function wRe(e){return t;function t(){let r=e.deref();if(r!==void 0){kRe.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=Gq.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let o=i.deref();o!==void 0&&o.abort(this.reason)}n.clear()}Gq.delete(r.signal)}}}}s(wRe,"buildAbort");var _Re=!1,dC=class e{static{s(this,"Request")}constructor(t,r={}){if(bn.util.markAsUncloneable(this),t===Wq)return;let n="Request constructor";bn.argumentLengthCheck(arguments,1,n),t=bn.converters.RequestInfo(t,n,"input"),r=bn.converters.RequestInit(r,n,"init");let i=null,o=null,a=Qq.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[Pse]=r.dispatcher;let b;try{b=new URL(t,a)}catch(E){throw new TypeError("Failed to parse URL from "+t,{cause:E})}if(b.username||b.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=Hq({urlList:[b]}),o="cors"}else this[Pse]=r.dispatcher||t[Pse],$xt(t instanceof e),i=t[vs],l=t[Uq];let c=Qq.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&bRe(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=Hq({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:Qq.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let b=r.referrer;if(b==="")i.referrer="no-referrer";else{let E;try{E=new URL(b,a)}catch(_){throw new TypeError(`Referrer "${b}" is not a valid URL.`,{cause:_})}E.protocol==="about:"&&E.hostname==="client"||c&&!bRe(E,Qq.settingsObject.baseUrl)?i.referrer="client":i.referrer=E}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=o,m==="navigate")throw bn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let b=r.method,E=jxt[b];if(E!==void 0)i.method=E;else{if(!Lxt(b))throw new TypeError(`'${b}' is not a valid HTTP method.`);let _=b.toUpperCase();if(Fxt.has(_))throw new TypeError(`'${b}' HTTP method is unsupported.`);b=Hxt[_]??b,i.method=b}!_Re&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),_Re=!0)}r.signal!==void 0&&(l=r.signal),this[vs]=i;let h=new AbortController;if(this[Uq]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[Yxt]=h;let b=new WeakRef(h),E=wRe(b);try{(typeof ERe=="function"&&ERe(l)===TRe||zxt(l,"abort").length>=TRe)&&IRe(1500,l)}catch{}Oq.addAbortListener(l,E),kRe.register(h,{signal:l,abort:E},E)}}if(this[Sf]=new SRe(Wq),RRe(this[Sf],i.headersList),Nse(this[Sf],"request"),m==="no-cors"){if(!Mxt.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);Nse(this[Sf],"request-no-cors")}if(f){let b=xRe(this[Sf]),E=r.headers!==void 0?r.headers:new qq(b);if(b.clear(),E instanceof qq){for(let{name:_,value:k}of E.rawValues())b.append(_,k,!1);b.cookies=E.cookies}else Dxt(this[Sf],E)}let p=t instanceof e?t[vs].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let g=null;if(r.body!=null){let[b,E]=Rxt(r.body,i.keepalive);g=b,E&&!xRe(this[Sf]).contains("content-type",!0)&&this[Sf].append("content-type",E)}let y=g??p;if(y!=null&&y.source==null){if(g!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let v=y;if(g==null&&p!=null){if(CRe(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let b=new TransformStream;p.stream.pipeThrough(b),v={source:p.source,length:p.length,stream:b.readable}}this[vs].body=v}get method(){return bn.brandCheck(this,e),this[vs].method}get url(){return bn.brandCheck(this,e),Vxt(this[vs].url)}get headers(){return bn.brandCheck(this,e),this[Sf]}get destination(){return bn.brandCheck(this,e),this[vs].destination}get referrer(){return bn.brandCheck(this,e),this[vs].referrer==="no-referrer"?"":this[vs].referrer==="client"?"about:client":this[vs].referrer.toString()}get referrerPolicy(){return bn.brandCheck(this,e),this[vs].referrerPolicy}get mode(){return bn.brandCheck(this,e),this[vs].mode}get credentials(){return this[vs].credentials}get cache(){return bn.brandCheck(this,e),this[vs].cache}get redirect(){return bn.brandCheck(this,e),this[vs].redirect}get integrity(){return bn.brandCheck(this,e),this[vs].integrity}get keepalive(){return bn.brandCheck(this,e),this[vs].keepalive}get isReloadNavigation(){return bn.brandCheck(this,e),this[vs].reloadNavigation}get isHistoryNavigation(){return bn.brandCheck(this,e),this[vs].historyNavigation}get signal(){return bn.brandCheck(this,e),this[Uq]}get body(){return bn.brandCheck(this,e),this[vs].body?this[vs].body.stream:null}get bodyUsed(){return bn.brandCheck(this,e),!!this[vs].body&&Oq.isDisturbed(this[vs].body.stream)}get duplex(){return bn.brandCheck(this,e),"half"}clone(){if(bn.brandCheck(this,e),CRe(this))throw new TypeError("unusable");let t=BRe(this[vs]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=Gq.get(this.signal);n===void 0&&(n=new Set,Gq.set(this.signal,n));let i=new WeakRef(r);n.add(i),Oq.addAbortListener(r.signal,wRe(i))}return DRe(t,r.signal,Pxt(this[Sf]))}[vRe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${vRe.formatWithOptions(r,n)}`}};kxt(dC);function Hq(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new qq(e.headersList):new qq}}s(Hq,"makeRequest");function BRe(e){let t=Hq({...e,body:null});return e.body!=null&&(t.body=Bxt(t,e.body)),t}s(BRe,"cloneRequest");function DRe(e,t,r){let n=new dC(Wq);return n[vs]=e,n[Uq]=t,n[Sf]=new SRe(Wq),RRe(n[Sf],e.headersList),Nse(n[Sf],r),n}s(DRe,"fromInnerRequest");Object.defineProperties(dC.prototype,{method:Xa,url:Xa,headers:Xa,redirect:Xa,clone:Xa,signal:Xa,duplex:Xa,destination:Xa,body:Xa,bodyUsed:Xa,isHistoryNavigation:Xa,isReloadNavigation:Xa,keepalive:Xa,integrity:Xa,cache:Xa,credentials:Xa,attribute:Xa,referrerPolicy:Xa,referrer:Xa,mode:Xa,[Symbol.toStringTag]:{value:"Request",configurable:!0}});bn.converters.Request=bn.interfaceConverter(dC);bn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?bn.converters.USVString(e,t,r):e instanceof dC?bn.converters.Request(e,t,r):bn.converters.USVString(e,t,r)};bn.converters.AbortSignal=bn.interfaceConverter(AbortSignal);bn.converters.RequestInit=bn.dictionaryConverter([{key:"method",converter:bn.converters.ByteString},{key:"headers",converter:bn.converters.HeadersInit},{key:"body",converter:bn.nullableConverter(bn.converters.BodyInit)},{key:"referrer",converter:bn.converters.USVString},{key:"referrerPolicy",converter:bn.converters.DOMString,allowedValues:Qxt},{key:"mode",converter:bn.converters.DOMString,allowedValues:Uxt},{key:"credentials",converter:bn.converters.DOMString,allowedValues:qxt},{key:"cache",converter:bn.converters.DOMString,allowedValues:Wxt},{key:"redirect",converter:bn.converters.DOMString,allowedValues:Oxt},{key:"integrity",converter:bn.converters.DOMString},{key:"keepalive",converter:bn.converters.boolean},{key:"signal",converter:bn.nullableConverter(e=>bn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:bn.converters.any},{key:"duplex",converter:bn.converters.DOMString,allowedValues:Gxt},{key:"dispatcher",converter:bn.converters.any}]);PRe.exports={Request:dC,makeRequest:Hq,fromInnerRequest:DRe,cloneRequest:BRe}});var RR=j((Z$r,zRe)=>{"use strict";d();var{makeNetworkError:Fo,makeAppropriateNetworkError:jq,filterResponse:Lse,makeResponse:Vq,fromInnerResponse:Kxt}=_R(),{HeadersList:NRe}=lb(),{Request:Jxt,cloneRequest:Xxt}=$6(),mC=require("node:zlib"),{bytesMatch:Zxt,makePolicyContainer:evt,clonePolicyContainer:tvt,requestBadPort:rvt,TAOCheck:nvt,appendRequestOriginHeader:ivt,responseLocationURL:ovt,requestCurrentURL:Sg,setRequestReferrerPolicyOnRedirect:svt,tryUpgradeRequestToAPotentiallyTrustworthyURL:avt,createOpaqueTimingInfo:Use,appendFetchMetadata:lvt,corsCheck:cvt,crossOriginResourcePolicyCheck:uvt,determineRequestsReferrer:fvt,coarsenedSharedCurrentTime:SR,createDeferredPromise:dvt,isBlobLike:mvt,sameOrigin:Ose,isCancelled:ub,isAborted:LRe,isErrorLike:hvt,fullyReadBody:pvt,readableStreamClose:gvt,isomorphicEncode:$q,urlIsLocal:Avt,urlIsHttpHttpsScheme:qse,urlHasHttpsScheme:yvt,clampAndCoarsenConnectionTimingInfo:Cvt,simpleRangeHeaderValue:xvt,buildContentRange:vvt,createInflate:bvt,extractMimeType:Evt}=Ef(),{kState:ORe,kDispatcher:Ivt}=tC(),fb=require("node:assert"),{safelyExtractBody:Wse,extractBody:FRe}=_6(),{redirectStatusSet:URe,nullBodyStatus:qRe,safeMethodsSet:Tvt,requestBodyHeader:wvt,subresourceSet:_vt}=$S(),Svt=require("node:events"),{Readable:Rvt,pipeline:kvt,finished:Bvt}=require("node:stream"),{addAbortListener:Dvt,isErrored:Pvt,isReadable:zq,bufferToLowerCasedHeaderName:MRe}=Ci(),{dataURLProcessor:Nvt,serializeAMimeType:Lvt,minimizeSupportedMimeType:Fvt}=pu(),{getGlobalDispatcher:Mvt}=Bq(),{webidl:Qvt}=fc(),{STATUS_CODES:Ovt}=require("node:http"),Uvt=["GET","HEAD"],qvt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",Fse,Yq=class extends Svt{static{s(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function Wvt(e){WRe(e,"fetch")}s(Wvt,"handleFetchDone");function Gvt(e,t=void 0){Qvt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=dvt(),n;try{n=new Jxt(e,t)}catch(f){return r.reject(f),r.promise}let i=n[ORe];if(n.signal.aborted)return Mse(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return Dvt(n.signal,()=>{l=!0,fb(c!=null),c.abort(n.signal.reason);let f=a?.deref();Mse(r,i,f,n.signal.reason)}),c=HRe({request:i,processResponseEndOfBody:Wvt,processResponse:s(f=>{if(!l){if(f.aborted){Mse(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(Kxt(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[Ivt]}),r.promise}s(Gvt,"fetch");function WRe(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;qse(r)&&n!==null&&(e.timingAllowPassed||(n=Use({startTime:n.startTime}),i=""),n.endTime=SR(),e.timingInfo=n,GRe(n,r.href,t,globalThis,i))}s(WRe,"finalizeAndReportTiming");var GRe=performance.markResourceTiming;function Mse(e,t,r,n){if(e&&e.reject(n),t.body!=null&&zq(t.body?.stream)&&t.body.stream.cancel(n).catch(o=>{if(o.code!=="ERR_INVALID_STATE")throw o}),r==null)return;let i=r[ORe];i.body!=null&&zq(i.body?.stream)&&i.body.stream.cancel(n).catch(o=>{if(o.code!=="ERR_INVALID_STATE")throw o})}s(Mse,"abortFetch");function HRe({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:o,useParallelQueue:a=!1,dispatcher:l=Mvt()}){fb(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=SR(u),m=Use({startTime:f}),h={controller:new Yq(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:o,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return fb(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=tvt(e.client.policyContainer):e.policyContainer=evt()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,_vt.has(e.destination),jRe(h).catch(p=>{h.controller.terminate(p)}),h.controller}s(HRe,"fetching");async function jRe(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!Avt(Sg(r))&&(n=Fo("local URLs only")),avt(r),rvt(r)==="blocked"&&(n=Fo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=fvt(r)),n===null&&(n=await(async()=>{let o=Sg(r);return Ose(o,r.url)&&r.responseTainting==="basic"||o.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await QRe(e)):r.mode==="same-origin"?Fo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Fo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await QRe(e)):qse(Sg(r))?(r.responseTainting="cors",await VRe(e)):Fo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=Lse(n,"basic"):r.responseTainting==="cors"?n=Lse(n,"cors"):r.responseTainting==="opaque"?n=Lse(n,"opaque"):fb(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=Fo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||qRe.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let o=s(l=>Qse(e,Fo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){o(n.error);return}let a=s(l=>{if(!Zxt(l,r.integrity)){o("integrity mismatch");return}n.body=Wse(l)[0],Qse(e,n)},"processBody");await pvt(n.body,a,o)}else Qse(e,n)}s(jRe,"mainFetch");function QRe(e){if(ub(e)&&e.request.redirectCount===0)return Promise.resolve(jq(e));let{request:t}=e,{protocol:r}=Sg(t);switch(r){case"about:":return Promise.resolve(Fo("about scheme is not supported"));case"blob:":{Fse||(Fse=require("node:buffer").resolveObjectURL);let n=Sg(t);if(n.search.length!==0)return Promise.resolve(Fo("NetworkError when attempting to fetch resource."));let i=Fse(n.toString());if(t.method!=="GET"||!mvt(i))return Promise.resolve(Fo("invalid method"));let o=Vq(),a=i.size,l=$q(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){o.rangeRequested=!0;let u=t.headersList.get("range",!0),f=xvt(u,!0);if(f==="failure")return Promise.resolve(Fo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(Fo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),g=FRe(p);o.body=g[0];let y=$q(`${p.size}`),v=vvt(m,h,a);o.status=206,o.statusText="Partial Content",o.headersList.set("content-length",y,!0),o.headersList.set("content-type",c,!0),o.headersList.set("content-range",v,!0)}else{let u=FRe(i);o.statusText="OK",o.body=u[0],o.headersList.set("content-length",l,!0),o.headersList.set("content-type",c,!0)}return Promise.resolve(o)}case"data:":{let n=Sg(t),i=Nvt(n);if(i==="failure")return Promise.resolve(Fo("failed to fetch the data URL"));let o=Lvt(i.mimeType);return Promise.resolve(Vq({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:o}]],body:Wse(i.body)[0]}))}case"file:":return Promise.resolve(Fo("not implemented... yet..."));case"http:":case"https:":return VRe(e).catch(n=>Fo(n));default:return Promise.resolve(Fo("unknown scheme"))}}s(QRe,"schemeFetch");function Hvt(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}s(Hvt,"finalizeResponse");function Qse(e,t){let r=e.timingInfo,n=s(()=>{let o=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=o;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=Use(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=Evt(t.headersList);f!=="failure"&&(c.contentType=Fvt(f))}e.request.initiatorType!=null&&GRe(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=s(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():Bvt(i.body.stream,()=>{n()})}s(Qse,"fetchFinale");async function VRe(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await $Re(e),t.responseTainting==="cors"&&cvt(t,r)==="failure")return Fo("cors failure");nvt(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&uvt(t.origin,t.client,t.destination,n)==="blocked"?Fo("blocked"):(URe.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=Fo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await jvt(e,r):fb(!1)),r.timingInfo=i,r)}s(VRe,"httpFetch");function jvt(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=ovt(n,Sg(r).hash),i==null)return t}catch(a){return Promise.resolve(Fo(a))}if(!qse(i))return Promise.resolve(Fo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Fo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!Ose(r,i))return Promise.resolve(Fo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Fo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Fo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!Uvt.includes(r.method)){r.method="GET",r.body=null;for(let a of wvt)r.headersList.delete(a)}Ose(Sg(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(fb(r.body.source!=null),r.body=Wse(r.body.source)[0]);let o=e.timingInfo;return o.redirectEndTime=o.postRedirectStartTime=SR(e.crossOriginIsolatedCapability),o.redirectStartTime===0&&(o.redirectStartTime=o.startTime),r.urlList.push(i),svt(r,n),jRe(e,!0)}s(jvt,"httpRedirectFetch");async function $Re(e,t=!1,r=!1){let n=e.request,i=null,o=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,o=n):(o=Xxt(n),i={...e},i.request=o);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=o.body?o.body.length:null,m=null;if(o.body==null&&["POST","PUT"].includes(o.method)&&(m="0"),f!=null&&(m=$q(`${f}`)),m!=null&&o.headersList.append("content-length",m,!0),f!=null&&o.keepalive,o.referrer instanceof URL&&o.headersList.append("referer",$q(o.referrer.href),!0),ivt(o),lvt(o),o.headersList.contains("user-agent",!0)||o.headersList.append("user-agent",qvt),o.cache==="default"&&(o.headersList.contains("if-modified-since",!0)||o.headersList.contains("if-none-match",!0)||o.headersList.contains("if-unmodified-since",!0)||o.headersList.contains("if-match",!0)||o.headersList.contains("if-range",!0))&&(o.cache="no-store"),o.cache==="no-cache"&&!o.preventNoCacheCacheControlHeaderModification&&!o.headersList.contains("cache-control",!0)&&o.headersList.append("cache-control","max-age=0",!0),(o.cache==="no-store"||o.cache==="reload")&&(o.headersList.contains("pragma",!0)||o.headersList.append("pragma","no-cache",!0),o.headersList.contains("cache-control",!0)||o.headersList.append("cache-control","no-cache",!0)),o.headersList.contains("range",!0)&&o.headersList.append("accept-encoding","identity",!0),o.headersList.contains("accept-encoding",!0)||(yvt(Sg(o))?o.headersList.append("accept-encoding","br, gzip, deflate",!0):o.headersList.append("accept-encoding","gzip, deflate",!0)),o.headersList.delete("host",!0),l==null&&(o.cache="no-store"),o.cache!=="no-store"&&o.cache,a==null){if(o.cache==="only-if-cached")return Fo("only if cached");let h=await Vvt(i,u,r);!Tvt.has(o.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...o.urlList],o.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?Fo():ub(e)?jq(e):Fo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(ub(e))return jq(e);e.controller.connection.destroy(),a=await $Re(e,t,!0)}return a}s($Re,"httpNetworkOrCacheFetch");async function Vvt(e,t=!1,r=!1){fb(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(g,y=!0){this.destroyed||(this.destroyed=!0,y&&this.abort?.(g??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,o=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let g=s(async function*(b){ub(e)||(yield b,e.processRequestBodyChunkLength?.(b.byteLength))},"processBodyChunk"),y=s(()=>{ub(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),v=s(b=>{ub(e)||(b.name==="AbortError"?e.controller.abort():e.controller.terminate(b))},"processBodyError");c=async function*(){try{for await(let b of n.body.stream)yield*g(b);y()}catch(b){v(b)}}()}try{let{body:g,status:y,statusText:v,headersList:b,socket:E}=await p({body:c});if(E)i=Vq({status:y,statusText:v,headersList:b,socket:E});else{let _=g[Symbol.asyncIterator]();e.controller.next=()=>_.next(),i=Vq({status:y,statusText:v,headersList:b})}}catch(g){return g.name==="AbortError"?(e.controller.connection.destroy(),jq(e,g)):Fo(g)}let u=s(async()=>{await e.controller.resume()},"pullAlgorithm"),f=s(g=>{ub(e)||e.controller.abort(g)},"cancelAlgorithm"),m=new ReadableStream({async start(g){e.controller.controller=g},async pull(g){await u(g)},async cancel(g){await f(g)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let g,y;try{let{done:b,value:E}=await e.controller.next();if(LRe(e))break;g=b?void 0:E}catch(b){e.controller.ended&&!o.encodedBodySize?g=void 0:(g=b,y=!0)}if(g===void 0){gvt(e.controller.controller),Hvt(e,i);return}if(o.decodedBodySize+=g?.byteLength??0,y){e.controller.terminate(g);return}let v=new Uint8Array(g);if(v.byteLength&&e.controller.controller.enqueue(v),Pvt(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(g){LRe(e)?(i.aborted=!0,zq(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):zq(m)&&e.controller.controller.error(new TypeError("terminated",{cause:hvt(g)?g:void 0})),e.controller.connection.destroy()}return s(h,"onAborted"),i;function p({body:g}){let y=Sg(n),v=e.controller.dispatcher;return new Promise((b,E)=>v.dispatch({path:y.pathname+y.search,origin:y.origin,method:n.method,body:v.isMockActive?n.body&&(n.body.source||n.body.stream):g,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(_){let{connection:k}=e.controller;o.finalConnectionTimingInfo=Cvt(void 0,o.postRedirectStartTime,e.crossOriginIsolatedCapability),k.destroyed?_(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",_),this.abort=k.abort=_),o.finalNetworkRequestStartTime=SR(e.crossOriginIsolatedCapability)},onResponseStarted(){o.finalNetworkResponseStartTime=SR(e.crossOriginIsolatedCapability)},onHeaders(_,k,B,N){if(_<200)return;let M=[],re="",pe=new NRe;for(let z=0;z<k.length;z+=2)pe.append(MRe(k[z]),k[z+1].toString("latin1"),!0);let Z=pe.get("content-encoding",!0);Z&&(M=Z.toLowerCase().split(",").map(z=>z.trim())),re=pe.get("location",!0),this.body=new Rvt({read:B});let G=[],q=re&&n.redirect==="follow"&&URe.has(_);if(M.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!qRe.includes(_)&&!q)for(let z=M.length-1;z>=0;--z){let H=M[z];if(H==="x-gzip"||H==="gzip")G.push(mC.createGunzip({flush:mC.constants.Z_SYNC_FLUSH,finishFlush:mC.constants.Z_SYNC_FLUSH}));else if(H==="deflate")G.push(bvt({flush:mC.constants.Z_SYNC_FLUSH,finishFlush:mC.constants.Z_SYNC_FLUSH}));else if(H==="br")G.push(mC.createBrotliDecompress({flush:mC.constants.BROTLI_OPERATION_FLUSH,finishFlush:mC.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let ie=this.onError.bind(this);return b({status:_,statusText:N,headersList:pe,body:G.length?kvt(this.body,...G,z=>{z&&this.onError(z)}).on("error",ie):this.body.on("error",ie)}),!0},onData(_){if(e.controller.dump)return;let k=_;return o.encodedBodySize+=k.byteLength,this.body.push(k)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(_){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(_),e.controller.terminate(_),E(_)},onUpgrade(_,k,B){if(_!==101)return;let N=new NRe;for(let M=0;M<k.length;M+=2)N.append(MRe(k[M]),k[M+1].toString("latin1"),!0);return b({status:_,statusText:Ovt[_],headersList:N,socket:B}),!0}}))}s(p,"dispatch")}s(Vvt,"httpNetworkFetch");zRe.exports={fetch:Gvt,Fetch:Yq,fetching:HRe,finalizeAndReportTiming:WRe}});var Gse=j((rzr,YRe)=>{"use strict";d();YRe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var JRe=j((izr,KRe)=>{"use strict";d();var{webidl:Rf}=fc(),Kq=Symbol("ProgressEvent state"),Hse=class e extends Event{static{s(this,"ProgressEvent")}constructor(t,r={}){t=Rf.converters.DOMString(t,"ProgressEvent constructor","type"),r=Rf.converters.ProgressEventInit(r??{}),super(t,r),this[Kq]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return Rf.brandCheck(this,e),this[Kq].lengthComputable}get loaded(){return Rf.brandCheck(this,e),this[Kq].loaded}get total(){return Rf.brandCheck(this,e),this[Kq].total}};Rf.converters.ProgressEventInit=Rf.dictionaryConverter([{key:"lengthComputable",converter:Rf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"loaded",converter:Rf.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"total",converter:Rf.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"bubbles",converter:Rf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:Rf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:Rf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}]);KRe.exports={ProgressEvent:Hse}});var ZRe=j((azr,XRe)=>{"use strict";d();function $vt(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}s($vt,"getEncoding");XRe.exports={getEncoding:$vt}});var ake=j((uzr,ske)=>{"use strict";d();var{kState:z6,kError:jse,kResult:eke,kAborted:kR,kLastProgressEventFired:Vse}=Gse(),{ProgressEvent:zvt}=JRe(),{getEncoding:tke}=ZRe(),{serializeAMimeType:Yvt,parseMIMEType:rke}=pu(),{types:Kvt}=require("node:util"),{StringDecoder:nke}=require("string_decoder"),{btoa:ike}=require("node:buffer"),Jvt={enumerable:!0,writable:!1,configurable:!1};function Xvt(e,t,r,n){if(e[z6]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[z6]="loading",e[eke]=null,e[jse]=null;let o=t.stream().getReader(),a=[],l=o.read(),c=!0;(async()=>{for(;!e[kR];)try{let{done:u,value:f}=await l;if(c&&!e[kR]&&queueMicrotask(()=>{hC("loadstart",e)}),c=!1,!u&&Kvt.isUint8Array(f))a.push(f),(e[Vse]===void 0||Date.now()-e[Vse]>=50)&&!e[kR]&&(e[Vse]=Date.now(),queueMicrotask(()=>{hC("progress",e)})),l=o.read();else if(u){queueMicrotask(()=>{e[z6]="done";try{let m=Zvt(a,r,t.type,n);if(e[kR])return;e[eke]=m,hC("load",e)}catch(m){e[jse]=m,hC("error",e)}e[z6]!=="loading"&&hC("loadend",e)});break}}catch(u){if(e[kR])return;queueMicrotask(()=>{e[z6]="done",e[jse]=u,hC("error",e),e[z6]!=="loading"&&hC("loadend",e)});break}})()}s(Xvt,"readOperation");function hC(e,t){let r=new zvt(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}s(hC,"fireAProgressEvent");function Zvt(e,t,r,n){switch(t){case"DataURL":{let i="data:",o=rke(r||"application/octet-stream");o!=="failure"&&(i+=Yvt(o)),i+=";base64,";let a=new nke("latin1");for(let l of e)i+=ike(a.write(l));return i+=ike(a.end()),i}case"Text":{let i="failure";if(n&&(i=tke(n)),i==="failure"&&r){let o=rke(r);o!=="failure"&&(i=tke(o.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),ebt(e,i)}case"ArrayBuffer":return oke(e).buffer;case"BinaryString":{let i="",o=new nke("latin1");for(let a of e)i+=o.write(a);return i+=o.end(),i}}}s(Zvt,"packageData");function ebt(e,t){let r=oke(e),n=tbt(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let o=r.slice(i);return new TextDecoder(t).decode(o)}s(ebt,"decode");function tbt(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}s(tbt,"BOMSniffing");function oke(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}s(oke,"combineByteSequences");ske.exports={staticPropertyDescriptors:Jvt,readOperation:Xvt,fireAProgressEvent:hC}});var fke=j((mzr,uke)=>{"use strict";d();var{staticPropertyDescriptors:Y6,readOperation:Jq,fireAProgressEvent:lke}=ake(),{kState:db,kError:cke,kResult:Xq,kEvents:xo,kAborted:rbt}=Gse(),{webidl:Qo}=fc(),{kEnumerableProperty:yu}=Ci(),Nh=class e extends EventTarget{static{s(this,"FileReader")}constructor(){super(),this[db]="empty",this[Xq]=null,this[cke]=null,this[xo]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=Qo.converters.Blob(t,{strict:!1}),Jq(this,t,"ArrayBuffer")}readAsBinaryString(t){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=Qo.converters.Blob(t,{strict:!1}),Jq(this,t,"BinaryString")}readAsText(t,r=void 0){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=Qo.converters.Blob(t,{strict:!1}),r!==void 0&&(r=Qo.converters.DOMString(r,"FileReader.readAsText","encoding")),Jq(this,t,"Text",r)}readAsDataURL(t){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=Qo.converters.Blob(t,{strict:!1}),Jq(this,t,"DataURL")}abort(){if(this[db]==="empty"||this[db]==="done"){this[Xq]=null;return}this[db]==="loading"&&(this[db]="done",this[Xq]=null),this[rbt]=!0,lke("abort",this),this[db]!=="loading"&&lke("loadend",this)}get readyState(){switch(Qo.brandCheck(this,e),this[db]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Qo.brandCheck(this,e),this[Xq]}get error(){return Qo.brandCheck(this,e),this[cke]}get onloadend(){return Qo.brandCheck(this,e),this[xo].loadend}set onloadend(t){Qo.brandCheck(this,e),this[xo].loadend&&this.removeEventListener("loadend",this[xo].loadend),typeof t=="function"?(this[xo].loadend=t,this.addEventListener("loadend",t)):this[xo].loadend=null}get onerror(){return Qo.brandCheck(this,e),this[xo].error}set onerror(t){Qo.brandCheck(this,e),this[xo].error&&this.removeEventListener("error",this[xo].error),typeof t=="function"?(this[xo].error=t,this.addEventListener("error",t)):this[xo].error=null}get onloadstart(){return Qo.brandCheck(this,e),this[xo].loadstart}set onloadstart(t){Qo.brandCheck(this,e),this[xo].loadstart&&this.removeEventListener("loadstart",this[xo].loadstart),typeof t=="function"?(this[xo].loadstart=t,this.addEventListener("loadstart",t)):this[xo].loadstart=null}get onprogress(){return Qo.brandCheck(this,e),this[xo].progress}set onprogress(t){Qo.brandCheck(this,e),this[xo].progress&&this.removeEventListener("progress",this[xo].progress),typeof t=="function"?(this[xo].progress=t,this.addEventListener("progress",t)):this[xo].progress=null}get onload(){return Qo.brandCheck(this,e),this[xo].load}set onload(t){Qo.brandCheck(this,e),this[xo].load&&this.removeEventListener("load",this[xo].load),typeof t=="function"?(this[xo].load=t,this.addEventListener("load",t)):this[xo].load=null}get onabort(){return Qo.brandCheck(this,e),this[xo].abort}set onabort(t){Qo.brandCheck(this,e),this[xo].abort&&this.removeEventListener("abort",this[xo].abort),typeof t=="function"?(this[xo].abort=t,this.addEventListener("abort",t)):this[xo].abort=null}};Nh.EMPTY=Nh.prototype.EMPTY=0;Nh.LOADING=Nh.prototype.LOADING=1;Nh.DONE=Nh.prototype.DONE=2;Object.defineProperties(Nh.prototype,{EMPTY:Y6,LOADING:Y6,DONE:Y6,readAsArrayBuffer:yu,readAsBinaryString:yu,readAsText:yu,readAsDataURL:yu,abort:yu,readyState:yu,result:yu,error:yu,onloadstart:yu,onprogress:yu,onload:yu,onabort:yu,onerror:yu,onloadend:yu,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Nh,{EMPTY:Y6,LOADING:Y6,DONE:Y6});uke.exports={FileReader:Nh}});var Zq=j((gzr,dke)=>{"use strict";d();dke.exports={kConstruct:Os().kConstruct}});var pke=j((yzr,hke)=>{"use strict";d();var nbt=require("node:assert"),{URLSerializer:mke}=pu(),{isValidHeaderName:ibt}=Ef();function obt(e,t,r=!1){let n=mke(e,r),i=mke(t,r);return n===i}s(obt,"urlEquals");function sbt(e){nbt(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),ibt(r)&&t.push(r);return t}s(sbt,"getFieldValues");hke.exports={urlEquals:obt,getFieldValues:sbt}});var yke=j((vzr,Ake)=>{"use strict";d();var{kConstruct:abt}=Zq(),{urlEquals:lbt,getFieldValues:$se}=pke(),{kEnumerableProperty:mb,isDisturbed:cbt}=Ci(),{webidl:sn}=fc(),{Response:ubt,cloneResponse:fbt,fromInnerResponse:dbt}=_R(),{Request:qA,fromInnerRequest:mbt}=$6(),{kState:Lh}=tC(),{fetching:hbt}=RR(),{urlIsHttpHttpsScheme:eW,createDeferredPromise:K6,readAllBytes:pbt}=Ef(),zse=require("node:assert"),tW=class e{static{s(this,"Cache")}#e;constructor(){arguments[0]!==abt&&sn.illegalConstructor(),sn.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){sn.brandCheck(this,e);let n="Cache.match";sn.argumentLengthCheck(arguments,1,n),t=sn.converters.RequestInfo(t,n,"request"),r=sn.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){sn.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=sn.converters.RequestInfo(t,n,"request")),r=sn.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){sn.brandCheck(this,e);let r="Cache.add";sn.argumentLengthCheck(arguments,1,r),t=sn.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){sn.brandCheck(this,e);let r="Cache.addAll";sn.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw sn.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=sn.converters.RequestInfo(h),typeof h=="string")continue;let p=h[Lh];if(!eW(p.url)||p.method!=="GET")throw sn.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let o=[];for(let h of t){let p=new qA(h)[Lh];if(!eW(p.url))throw sn.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let g=K6();o.push(hbt({request:p,processResponse(y){if(y.type==="error"||y.status===206||y.status<200||y.status>299)g.reject(sn.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(y.headersList.contains("vary")){let v=$se(y.headersList.get("vary"));for(let b of v)if(b==="*"){g.reject(sn.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let E of o)E.abort();return}}},processResponseEndOfBody(y){if(y.aborted){g.reject(new DOMException("aborted","AbortError"));return}g.resolve(y)}})),n.push(g.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=K6(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){sn.brandCheck(this,e);let n="Cache.put";sn.argumentLengthCheck(arguments,2,n),t=sn.converters.RequestInfo(t,n,"request"),r=sn.converters.Response(r,n,"response");let i=null;if(t instanceof qA?i=t[Lh]:i=new qA(t)[Lh],!eW(i.url)||i.method!=="GET")throw sn.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let o=r[Lh];if(o.status===206)throw sn.errors.exception({header:n,message:"Got 206 status"});if(o.headersList.contains("vary")){let p=$se(o.headersList.get("vary"));for(let g of p)if(g==="*")throw sn.errors.exception({header:n,message:"Got * vary field value"})}if(o.body&&(cbt(o.body.stream)||o.body.stream.locked))throw sn.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=fbt(o),l=K6();if(o.body!=null){let g=o.body.stream.getReader();pbt(g).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=K6(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){sn.brandCheck(this,e);let n="Cache.delete";sn.argumentLengthCheck(arguments,1,n),t=sn.converters.RequestInfo(t,n,"request"),r=sn.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof qA){if(i=t[Lh],i.method!=="GET"&&!r.ignoreMethod)return!1}else zse(typeof t=="string"),i=new qA(t)[Lh];let o=[],a={type:"delete",request:i,options:r};o.push(a);let l=K6(),c=null,u;try{u=this.#t(o)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){sn.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=sn.converters.RequestInfo(t,n,"request")),r=sn.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof qA){if(i=t[Lh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new qA(t)[Lh]);let o=K6(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=mbt(c,new AbortController().signal,"immutable");l.push(u)}o.resolve(Object.freeze(l))}),o.promise}#t(t){let r=this.#e,n=[...r],i=[],o=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw sn.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw sn.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);zse(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw sn.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!eW(c.url))throw sn.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw sn.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw sn.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);zse(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}o.push([a.request,a.response])}return o}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],o=n??this.#e;for(let a of o){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let o=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",o.search=""),!lbt(o,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=$se(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof qA){if(i=t[Lh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new qA(t)[Lh]);let o=[];if(t===void 0)for(let l of this.#e)o.push(l[1]);else{let l=this.#i(i,r);for(let c of l)o.push(c[1])}let a=[];for(let l of o){let c=dbt(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(tW.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:mb,matchAll:mb,add:mb,addAll:mb,put:mb,delete:mb,keys:mb});var gke=[{key:"ignoreSearch",converter:sn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:sn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreVary",converter:sn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];sn.converters.CacheQueryOptions=sn.dictionaryConverter(gke);sn.converters.MultiCacheQueryOptions=sn.dictionaryConverter([...gke,{key:"cacheName",converter:sn.converters.DOMString}]);sn.converters.Response=sn.interfaceConverter(ubt);sn.converters["sequence<RequestInfo>"]=sn.sequenceConverter(sn.converters.RequestInfo);Ake.exports={Cache:tW}});var xke=j((Izr,Cke)=>{"use strict";d();var{kConstruct:BR}=Zq(),{Cache:rW}=yke(),{webidl:jc}=fc(),{kEnumerableProperty:DR}=Ci(),nW=class e{static{s(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==BR&&jc.illegalConstructor(),jc.util.markAsUncloneable(this)}async match(t,r={}){if(jc.brandCheck(this,e),jc.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=jc.converters.RequestInfo(t),r=jc.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new rW(BR,n).match(t,r)}}else for(let n of this.#e.values()){let o=await new rW(BR,n).match(t,r);if(o!==void 0)return o}}async has(t){jc.brandCheck(this,e);let r="CacheStorage.has";return jc.argumentLengthCheck(arguments,1,r),t=jc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){jc.brandCheck(this,e);let r="CacheStorage.open";if(jc.argumentLengthCheck(arguments,1,r),t=jc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new rW(BR,i)}let n=[];return this.#e.set(t,n),new rW(BR,n)}async delete(t){jc.brandCheck(this,e);let r="CacheStorage.delete";return jc.argumentLengthCheck(arguments,1,r),t=jc.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return jc.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(nW.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:DR,has:DR,open:DR,delete:DR,keys:DR});Cke.exports={CacheStorage:nW}});var bke=j((_zr,vke)=>{"use strict";d();vke.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Yse=j((Rzr,_ke)=>{"use strict";d();function gbt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}s(gbt,"isCTLExcludingHtab");function Eke(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}s(Eke,"validateCookieName");function Ike(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}s(Ike,"validateCookieValue");function Tke(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}s(Tke,"validateCookiePath");function Abt(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}s(Abt,"validateCookieDomain");var ybt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Cbt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],iW=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function wke(e){return typeof e=="number"&&(e=new Date(e)),`${ybt[e.getUTCDay()]}, ${iW[e.getUTCDate()]} ${Cbt[e.getUTCMonth()]} ${e.getUTCFullYear()} ${iW[e.getUTCHours()]}:${iW[e.getUTCMinutes()]}:${iW[e.getUTCSeconds()]} GMT`}s(wke,"toIMFDate");function xbt(e){if(e<0)throw new Error("Invalid cookie max-age")}s(xbt,"validateCookieMaxAge");function vbt(e){if(e.name.length===0)return null;Eke(e.name),Ike(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(xbt(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(Abt(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(Tke(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${wke(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}s(vbt,"stringify");_ke.exports={isCTLExcludingHtab:gbt,validateCookieName:Eke,validateCookiePath:Tke,validateCookieValue:Ike,toIMFDate:wke,stringify:vbt}});var Rke=j((Dzr,Ske)=>{"use strict";d();var{maxNameValuePairSize:bbt,maxAttributeValueSize:Ebt}=bke(),{isCTLExcludingHtab:Ibt}=Yse(),{collectASequenceOfCodePointsFast:oW}=pu(),Tbt=require("node:assert");function wbt(e){if(Ibt(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let o={position:0};t=oW(";",e,o),r=e.slice(o.position)}else t=e;if(!t.includes("="))i=t;else{let o={position:0};n=oW("=",t,o),i=t.slice(o.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>bbt?null:{name:n,value:i,...J6(r)}}s(wbt,"parseSetCookie");function J6(e,t={}){if(e.length===0)return t;Tbt(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=oW(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=oW("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>Ebt)return J6(e,t);let o=n.toLowerCase();if(o==="expires"){let a=new Date(i);t.expires=a}else if(o==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return J6(e,t);let l=Number(i);t.maxAge=l}else if(o==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(o==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(o==="secure")t.secure=!0;else if(o==="httponly")t.httpOnly=!0;else if(o==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return J6(e,t)}s(J6,"parseUnparsedAttributes");Ske.exports={parseSetCookie:wbt,parseUnparsedAttributes:J6}});var Dke=j((Lzr,Bke)=>{"use strict";d();var{parseSetCookie:_bt}=Rke(),{stringify:Sbt}=Yse(),{webidl:Mi}=fc(),{Headers:sW}=lb();function Rbt(e){Mi.argumentLengthCheck(arguments,1,"getCookies"),Mi.brandCheck(e,sW,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...o]=n.split("=");r[i.trim()]=o.join("=")}return r}s(Rbt,"getCookies");function kbt(e,t,r){Mi.brandCheck(e,sW,{strict:!1});let n="deleteCookie";Mi.argumentLengthCheck(arguments,2,n),t=Mi.converters.DOMString(t,n,"name"),r=Mi.converters.DeleteCookieAttributes(r),kke(e,{name:t,value:"",expires:new Date(0),...r})}s(kbt,"deleteCookie");function Bbt(e){Mi.argumentLengthCheck(arguments,1,"getSetCookies"),Mi.brandCheck(e,sW,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>_bt(r)):[]}s(Bbt,"getSetCookies");function kke(e,t){Mi.argumentLengthCheck(arguments,2,"setCookie"),Mi.brandCheck(e,sW,{strict:!1}),t=Mi.converters.Cookie(t);let r=Sbt(t);r&&e.append("Set-Cookie",r)}s(kke,"setCookie");Mi.converters.DeleteCookieAttributes=Mi.dictionaryConverter([{converter:Mi.nullableConverter(Mi.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.nullableConverter(Mi.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")}]);Mi.converters.Cookie=Mi.dictionaryConverter([{converter:Mi.converters.DOMString,key:"name"},{converter:Mi.converters.DOMString,key:"value"},{converter:Mi.nullableConverter(e=>typeof e=="number"?Mi.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.nullableConverter(Mi.converters["long long"]),key:"maxAge",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.nullableConverter(Mi.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.nullableConverter(Mi.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.nullableConverter(Mi.converters.boolean),key:"secure",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.nullableConverter(Mi.converters.boolean),key:"httpOnly",defaultValue:s(()=>null,"defaultValue")},{converter:Mi.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Mi.sequenceConverter(Mi.converters.DOMString),key:"unparsed",defaultValue:s(()=>new Array(0),"defaultValue")}]);Bke.exports={getCookies:Rbt,deleteCookie:kbt,getSetCookies:Bbt,setCookie:kke}});var Z6=j((Qzr,Nke)=>{"use strict";d();var{webidl:tn}=fc(),{kEnumerableProperty:Cu}=Ci(),{kConstruct:Pke}=Os(),{MessagePort:Dbt}=require("node:worker_threads"),X6=class e extends Event{static{s(this,"MessageEvent")}#e;constructor(t,r={}){if(t===Pke){super(arguments[1],arguments[2]),tn.util.markAsUncloneable(this);return}let n="MessageEvent constructor";tn.argumentLengthCheck(arguments,1,n),t=tn.converters.DOMString(t,n,"type"),r=tn.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,tn.util.markAsUncloneable(this)}get data(){return tn.brandCheck(this,e),this.#e.data}get origin(){return tn.brandCheck(this,e),this.#e.origin}get lastEventId(){return tn.brandCheck(this,e),this.#e.lastEventId}get source(){return tn.brandCheck(this,e),this.#e.source}get ports(){return tn.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,o="",a="",l=null,c=[]){return tn.brandCheck(this,e),tn.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:o,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(Pke,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:Pbt}=X6;delete X6.createFastMessageEvent;var aW=class e extends Event{static{s(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";tn.argumentLengthCheck(arguments,1,n),t=tn.converters.DOMString(t,n,"type"),r=tn.converters.CloseEventInit(r),super(t,r),this.#e=r,tn.util.markAsUncloneable(this)}get wasClean(){return tn.brandCheck(this,e),this.#e.wasClean}get code(){return tn.brandCheck(this,e),this.#e.code}get reason(){return tn.brandCheck(this,e),this.#e.reason}},lW=class e extends Event{static{s(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";tn.argumentLengthCheck(arguments,1,n),super(t,r),tn.util.markAsUncloneable(this),t=tn.converters.DOMString(t,n,"type"),r=tn.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return tn.brandCheck(this,e),this.#e.message}get filename(){return tn.brandCheck(this,e),this.#e.filename}get lineno(){return tn.brandCheck(this,e),this.#e.lineno}get colno(){return tn.brandCheck(this,e),this.#e.colno}get error(){return tn.brandCheck(this,e),this.#e.error}};Object.defineProperties(X6.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Cu,origin:Cu,lastEventId:Cu,source:Cu,ports:Cu,initMessageEvent:Cu});Object.defineProperties(aW.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Cu,code:Cu,wasClean:Cu});Object.defineProperties(lW.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Cu,filename:Cu,lineno:Cu,colno:Cu,error:Cu});tn.converters.MessagePort=tn.interfaceConverter(Dbt);tn.converters["sequence<MessagePort>"]=tn.sequenceConverter(tn.converters.MessagePort);var Kse=[{key:"bubbles",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];tn.converters.MessageEventInit=tn.dictionaryConverter([...Kse,{key:"data",converter:tn.converters.any,defaultValue:s(()=>null,"defaultValue")},{key:"origin",converter:tn.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lastEventId",converter:tn.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"source",converter:tn.nullableConverter(tn.converters.MessagePort),defaultValue:s(()=>null,"defaultValue")},{key:"ports",converter:tn.converters["sequence<MessagePort>"],defaultValue:s(()=>new Array(0),"defaultValue")}]);tn.converters.CloseEventInit=tn.dictionaryConverter([...Kse,{key:"wasClean",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"code",converter:tn.converters["unsigned short"],defaultValue:s(()=>0,"defaultValue")},{key:"reason",converter:tn.converters.USVString,defaultValue:s(()=>"","defaultValue")}]);tn.converters.ErrorEventInit=tn.dictionaryConverter([...Kse,{key:"message",converter:tn.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"filename",converter:tn.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lineno",converter:tn.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"colno",converter:tn.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"error",converter:tn.converters.any}]);Nke.exports={MessageEvent:X6,CloseEvent:aW,ErrorEvent:lW,createFastMessageEvent:Pbt}});var hb=j((qzr,Lke)=>{"use strict";d();var Nbt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Lbt={enumerable:!0,writable:!1,configurable:!1},Fbt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Mbt={NOT_SENT:0,PROCESSING:1,SENT:2},Qbt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Obt=2**16-1,Ubt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},qbt=Buffer.allocUnsafe(0),Wbt={string:1,typedArray:2,arrayBuffer:3,blob:4};Lke.exports={uid:Nbt,sentCloseFrameState:Mbt,staticPropertyDescriptors:Lbt,states:Fbt,opcodes:Qbt,maxUnsigned16Bit:Obt,parserStates:Ubt,emptyBuffer:qbt,sendHints:Wbt}});var PR=j((Gzr,Fke)=>{"use strict";d();Fke.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var FR=j((jzr,jke)=>{"use strict";d();var{kReadyState:NR,kController:Gbt,kResponse:Hbt,kBinaryType:jbt,kWebSocketURL:Vbt}=PR(),{states:LR,opcodes:pC}=hb(),{ErrorEvent:$bt,createFastMessageEvent:zbt}=Z6(),{isUtf8:Ybt}=require("node:buffer"),{collectASequenceOfCodePointsFast:Kbt,removeHTTPWhitespace:Mke}=pu();function Jbt(e){return e[NR]===LR.CONNECTING}s(Jbt,"isConnecting");function Xbt(e){return e[NR]===LR.OPEN}s(Xbt,"isEstablished");function Zbt(e){return e[NR]===LR.CLOSING}s(Zbt,"isClosing");function eEt(e){return e[NR]===LR.CLOSED}s(eEt,"isClosed");function Jse(e,t,r=(i,o)=>new Event(i,o),n={}){let i=r(e,n);t.dispatchEvent(i)}s(Jse,"fireEvent");function tEt(e,t,r){if(e[NR]!==LR.OPEN)return;let n;if(t===pC.TEXT)try{n=Hke(r)}catch{Oke(e,"Received invalid UTF-8 in text frame.");return}else t===pC.BINARY&&(e[jbt]==="blob"?n=new Blob([r]):n=rEt(r));Jse("message",e,zbt,{origin:e[Vbt].origin,data:n})}s(tEt,"websocketMessageReceived");function rEt(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}s(rEt,"toArrayBuffer");function nEt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}s(nEt,"isValidSubprotocol");function iEt(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}s(iEt,"isValidStatusCode");function Oke(e,t){let{[Gbt]:r,[Hbt]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&Jse("error",e,(i,o)=>new $bt(i,o),{error:new Error(t),message:t})}s(Oke,"failWebsocketConnection");function Uke(e){return e===pC.CLOSE||e===pC.PING||e===pC.PONG}s(Uke,"isControlFrame");function qke(e){return e===pC.CONTINUATION}s(qke,"isContinuationFrame");function Wke(e){return e===pC.TEXT||e===pC.BINARY}s(Wke,"isTextBinaryFrame");function oEt(e){return Wke(e)||qke(e)||Uke(e)}s(oEt,"isValidOpcode");function sEt(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=Kbt(";",e,t),[i,o=""]=n.split("=");r.set(Mke(i,!0,!1),Mke(o,!1,!0)),t.position++}return r}s(sEt,"parseExtensions");function aEt(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}s(aEt,"isValidClientWindowBits");var Gke=typeof process.versions.icu=="string",Qke=Gke?new TextDecoder("utf-8",{fatal:!0}):void 0,Hke=Gke?Qke.decode.bind(Qke):function(e){if(Ybt(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};jke.exports={isConnecting:Jbt,isEstablished:Xbt,isClosing:Zbt,isClosed:eEt,fireEvent:Jse,isValidSubprotocol:nEt,isValidStatusCode:iEt,failWebsocketConnection:Oke,websocketMessageReceived:tEt,utf8Decode:Hke,isControlFrame:Uke,isContinuationFrame:qke,isTextBinaryFrame:Wke,isValidOpcode:oEt,parseExtensions:sEt,isValidClientWindowBits:aEt}});var uW=j((zzr,Vke)=>{"use strict";d();var{maxUnsigned16Bit:lEt}=hb(),cW=16386,Xse,MR=null,e9=cW;try{Xse=require("node:crypto")}catch{Xse={randomFillSync:s(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function cEt(){return e9===cW&&(e9=0,Xse.randomFillSync(MR??=Buffer.allocUnsafe(cW),0,cW)),[MR[e9++],MR[e9++],MR[e9++],MR[e9++]]}s(cEt,"generateMask");var Zse=class{static{s(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=cEt(),i=r?.byteLength??0,o=i,a=6;i>lEt?(a+=8,o=127):i>125&&(a+=2,o=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=o,o===126?l.writeUInt16BE(i,2):o===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};Vke.exports={WebsocketFrameSend:Zse}});var tae=j((Jzr,Zke)=>{"use strict";d();var{uid:uEt,states:QR,sentCloseFrameState:fW,emptyBuffer:fEt,opcodes:dEt}=hb(),{kReadyState:OR,kSentClose:dW,kByteParser:zke,kReceivedClose:$ke,kResponse:Yke}=PR(),{fireEvent:mEt,failWebsocketConnection:gC,isClosing:hEt,isClosed:pEt,isEstablished:gEt,parseExtensions:AEt}=FR(),{channels:t9}=h6(),{CloseEvent:yEt}=Z6(),{makeRequest:CEt}=$6(),{fetching:xEt}=RR(),{Headers:vEt,getHeadersList:bEt}=lb(),{getDecodeSplit:EEt}=Ef(),{WebsocketFrameSend:IEt}=uW(),eae;try{eae=require("node:crypto")}catch{}function TEt(e,t,r,n,i,o){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=CEt({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(o.headers){let m=bEt(new vEt(o.headers));l.headersList=m}let c=eae.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),xEt({request:l,useParallelQueue:!0,dispatcher:o.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){gC(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){gC(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){gC(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){gC(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=eae.createHash("sha1").update(c+uEt).digest("base64");if(h!==p){gC(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let g=m.headersList.get("Sec-WebSocket-Extensions"),y;if(g!==null&&(y=AEt(g),!y.has("permessage-deflate"))){gC(n,"Sec-WebSocket-Extensions header does not match.");return}let v=m.headersList.get("Sec-WebSocket-Protocol");if(v!==null&&!EEt("sec-websocket-protocol",l.headersList).includes(v)){gC(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",Kke),m.socket.on("close",Jke),m.socket.on("error",Xke),t9.open.hasSubscribers&&t9.open.publish({address:m.socket.address(),protocol:v,extensions:g}),i(m,y)}})}s(TEt,"establishWebSocketConnection");function wEt(e,t,r,n){if(!(hEt(e)||pEt(e)))if(!gEt(e))gC(e,"Connection was closed before it was established."),e[OR]=QR.CLOSING;else if(e[dW]===fW.NOT_SENT){e[dW]=fW.PROCESSING;let i=new IEt;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=fEt,e[Yke].socket.write(i.createFrame(dEt.CLOSE)),e[dW]=fW.SENT,e[OR]=QR.CLOSING}else e[OR]=QR.CLOSING}s(wEt,"closeWebSocketConnection");function Kke(e){this.ws[zke].write(e)||this.pause()}s(Kke,"onSocketData");function Jke(){let{ws:e}=this,{[Yke]:t}=e;t.socket.off("data",Kke),t.socket.off("close",Jke),t.socket.off("error",Xke);let r=e[dW]===fW.SENT&&e[$ke],n=1005,i="",o=e[zke].closingInfo;o&&!o.error?(n=o.code??1005,i=o.reason):e[$ke]||(n=1006),e[OR]=QR.CLOSED,mEt("close",e,(a,l)=>new yEt(a,l),{wasClean:r,code:n,reason:i}),t9.close.hasSubscribers&&t9.close.publish({websocket:e,code:n,reason:i})}s(Jke,"onSocketClose");function Xke(e){let{ws:t}=this;t[OR]=QR.CLOSING,t9.socketError.hasSubscribers&&t9.socketError.publish(e),this.destroy()}s(Xke,"onSocketError");Zke.exports={establishWebSocketConnection:TEt,closeWebSocketConnection:wEt}});var tBe=j((eYr,eBe)=>{"use strict";d();var{createInflateRaw:_Et,Z_DEFAULT_WINDOWBITS:SEt}=require("node:zlib"),{isValidClientWindowBits:REt}=FR(),kEt=Buffer.from([0,0,255,255]),mW=Symbol("kBuffer"),hW=Symbol("kLength"),rae=class{static{s(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=SEt;if(this.#t.serverMaxWindowBits){if(!REt(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=_Et({windowBits:i}),this.#e[mW]=[],this.#e[hW]=0,this.#e.on("data",o=>{this.#e[mW].push(o),this.#e[hW]+=o.length}),this.#e.on("error",o=>{this.#e=null,n(o)})}this.#e.write(t),r&&this.#e.write(kEt),this.#e.flush(()=>{let i=Buffer.concat(this.#e[mW],this.#e[hW]);this.#e[mW].length=0,this.#e[hW]=0,n(null,i)})}};eBe.exports={PerMessageDeflate:rae}});var dBe=j((nYr,fBe)=>{"use strict";d();var{Writable:BEt}=require("node:stream"),DEt=require("node:assert"),{parserStates:xu,opcodes:r9,states:PEt,emptyBuffer:rBe,sentCloseFrameState:nBe}=hb(),{kReadyState:NEt,kSentClose:iBe,kResponse:oBe,kReceivedClose:sBe}=PR(),{channels:pW}=h6(),{isValidStatusCode:LEt,isValidOpcode:FEt,failWebsocketConnection:em,websocketMessageReceived:aBe,utf8Decode:MEt,isControlFrame:lBe,isTextBinaryFrame:nae,isContinuationFrame:QEt}=FR(),{WebsocketFrameSend:cBe}=uW(),{closeWebSocketConnection:uBe}=tae(),{PerMessageDeflate:OEt}=tBe(),iae=class extends BEt{static{s(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=xu.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new OEt(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===xu.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,o=(r[1]&128)===128,a=!n&&i!==r9.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!FEt(i))return em(this.ws,"Invalid opcode received"),t();if(o)return em(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){em(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){em(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!nae(i)){em(this.ws,"Invalid frame type was fragmented.");return}if(nae(i)&&this.#o.length>0){em(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){em(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&lBe(i)){em(this.ws,"Control frame either too large or fragmented");return}if(QEt(i)&&this.#o.length===0&&!this.#r.compressed){em(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=xu.READ_DATA):l===126?this.#n=xu.PAYLOADLENGTH_16:l===127&&(this.#n=xu.PAYLOADLENGTH_64),nae(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=o,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===xu.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=xu.READ_DATA}else if(this.#n===xu.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){em(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=xu.READ_DATA}else if(this.#n===xu.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(lBe(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=xu.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){uBe(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=xu.INFO,this.#i=!0,this.run(t);return}aBe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=xu.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);aBe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=xu.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return rBe;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:o}=i;if(o+n===t){r.set(this.#e.shift(),n);break}else if(o+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){DEt(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!LEt(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=MEt(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===r9.CLOSE){if(n===1)return em(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:o}=this.#r.closeInfo;return uBe(this.ws,i,o,o.length),em(this.ws,o),!1}if(this.ws[iBe]!==nBe.SENT){let i=rBe;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let o=new cBe(i);this.ws[oBe].socket.write(o.createFrame(r9.CLOSE),a=>{a||(this.ws[iBe]=nBe.SENT)})}return this.ws[NEt]=PEt.CLOSING,this.ws[sBe]=!0,!1}else if(r===r9.PING){if(!this.ws[sBe]){let i=new cBe(t);this.ws[oBe].socket.write(i.createFrame(r9.PONG)),pW.ping.hasSubscribers&&pW.ping.publish({payload:t})}}else r===r9.PONG&&pW.pong.hasSubscribers&&pW.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};fBe.exports={ByteParser:iae}});var ABe=j((sYr,gBe)=>{"use strict";d();var{WebsocketFrameSend:UEt}=uW(),{opcodes:mBe,sendHints:n9}=hb(),qEt=goe(),hBe=Buffer[Symbol.species],oae=class{static{s(this,"SendQueue")}#e=new qEt;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==n9.blob){let o=pBe(t,n);if(!this.#t)this.#i.write(o,r);else{let a={promise:null,callback:r,frame:o};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(o=>{i.promise=null,i.frame=pBe(o,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function pBe(e,t){return new UEt(WEt(e,t)).createFrame(t===n9.string?mBe.TEXT:mBe.BINARY)}s(pBe,"createFrame");function WEt(e,t){switch(t){case n9.string:return Buffer.from(e);case n9.arrayBuffer:case n9.blob:return new hBe(e);case n9.typedArray:return new hBe(e.buffer,e.byteOffset,e.byteLength)}}s(WEt,"toBuffer");gBe.exports={SendQueue:oae}});var wBe=j((cYr,TBe)=>{"use strict";d();var{webidl:Wn}=fc(),{URLSerializer:GEt}=pu(),{environmentSettingsObject:yBe}=Ef(),{staticPropertyDescriptors:AC,states:UR,sentCloseFrameState:HEt,sendHints:gW}=hb(),{kWebSocketURL:CBe,kReadyState:sae,kController:jEt,kBinaryType:AW,kResponse:xBe,kSentClose:VEt,kByteParser:$Et}=PR(),{isConnecting:zEt,isEstablished:YEt,isClosing:KEt,isValidSubprotocol:JEt,fireEvent:vBe}=FR(),{establishWebSocketConnection:XEt,closeWebSocketConnection:bBe}=tae(),{ByteParser:ZEt}=dBe(),{kEnumerableProperty:tm,isBlobLike:EBe}=Ci(),{getGlobalDispatcher:e4t}=Bq(),{types:IBe}=require("node:util"),{ErrorEvent:t4t,CloseEvent:r4t}=Z6(),{SendQueue:n4t}=ABe(),kf=class e extends EventTarget{static{s(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Wn.util.markAsUncloneable(this);let n="WebSocket constructor";Wn.argumentLengthCheck(arguments,1,n);let i=Wn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Wn.converters.USVString(t,n,"url"),r=i.protocols;let o=yBe.settingsObject.baseUrl,a;try{a=new URL(t,o)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>JEt(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[CBe]=new URL(a.href);let l=yBe.settingsObject;this[jEt]=XEt(a,r,l,this,(c,u)=>this.#o(c,u),i),this[sae]=e.CONNECTING,this[VEt]=HEt.NOT_SENT,this[AW]="blob"}close(t=void 0,r=void 0){Wn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Wn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Wn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");bBe(this,t,r,i)}send(t){Wn.brandCheck(this,e);let r="WebSocket.send";if(Wn.argumentLengthCheck(arguments,1,r),t=Wn.converters.WebSocketSendData(t,r,"data"),zEt(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!YEt(this)||KEt(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},gW.string)}else IBe.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},gW.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},gW.typedArray)):EBe(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},gW.blob))}get readyState(){return Wn.brandCheck(this,e),this[sae]}get bufferedAmount(){return Wn.brandCheck(this,e),this.#t}get url(){return Wn.brandCheck(this,e),GEt(this[CBe])}get extensions(){return Wn.brandCheck(this,e),this.#n}get protocol(){return Wn.brandCheck(this,e),this.#i}get onopen(){return Wn.brandCheck(this,e),this.#e.open}set onopen(t){Wn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Wn.brandCheck(this,e),this.#e.error}set onerror(t){Wn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Wn.brandCheck(this,e),this.#e.close}set onclose(t){Wn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Wn.brandCheck(this,e),this.#e.message}set onmessage(t){Wn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Wn.brandCheck(this,e),this[AW]}set binaryType(t){Wn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[AW]="blob":this[AW]=t}#o(t,r){this[xBe]=t;let n=new ZEt(this,r);n.on("drain",i4t),n.on("error",o4t.bind(this)),t.socket.ws=this,this[$Et]=n,this.#r=new n4t(t.socket),this[sae]=UR.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let o=t.headersList.get("sec-websocket-protocol");o!==null&&(this.#i=o),vBe("open",this)}};kf.CONNECTING=kf.prototype.CONNECTING=UR.CONNECTING;kf.OPEN=kf.prototype.OPEN=UR.OPEN;kf.CLOSING=kf.prototype.CLOSING=UR.CLOSING;kf.CLOSED=kf.prototype.CLOSED=UR.CLOSED;Object.defineProperties(kf.prototype,{CONNECTING:AC,OPEN:AC,CLOSING:AC,CLOSED:AC,url:tm,readyState:tm,bufferedAmount:tm,onopen:tm,onerror:tm,onclose:tm,close:tm,onmessage:tm,binaryType:tm,send:tm,extensions:tm,protocol:tm,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(kf,{CONNECTING:AC,OPEN:AC,CLOSING:AC,CLOSED:AC});Wn.converters["sequence<DOMString>"]=Wn.sequenceConverter(Wn.converters.DOMString);Wn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Wn.util.Type(e)==="Object"&&Symbol.iterator in e?Wn.converters["sequence<DOMString>"](e):Wn.converters.DOMString(e,t,r)};Wn.converters.WebSocketInit=Wn.dictionaryConverter([{key:"protocols",converter:Wn.converters["DOMString or sequence<DOMString>"],defaultValue:s(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Wn.converters.any,defaultValue:s(()=>e4t(),"defaultValue")},{key:"headers",converter:Wn.nullableConverter(Wn.converters.HeadersInit)}]);Wn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Wn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Wn.converters.WebSocketInit(e):{protocols:Wn.converters["DOMString or sequence<DOMString>"](e)}};Wn.converters.WebSocketSendData=function(e){if(Wn.util.Type(e)==="Object"){if(EBe(e))return Wn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||IBe.isArrayBuffer(e))return Wn.converters.BufferSource(e)}return Wn.converters.USVString(e)};function i4t(){this.ws[xBe].socket.resume()}s(i4t,"onParserDrain");function o4t(e){let t,r;e instanceof r4t?(t=e.reason,r=e.code):t=e.message,vBe("error",this,()=>new t4t("error",{error:e,message:t})),bBe(this,r)}s(o4t,"onParserError");TBe.exports={WebSocket:kf}});var aae=j((dYr,_Be)=>{"use strict";d();function s4t(e){return e.indexOf("\0")===-1}s(s4t,"isValidLastEventId");function a4t(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}s(a4t,"isASCIINumber");function l4t(e){return new Promise(t=>{setTimeout(t,e).unref()})}s(l4t,"delay");_Be.exports={isValidLastEventId:s4t,isASCIINumber:a4t,delay:l4t}});var BBe=j((pYr,kBe)=>{"use strict";d();var{Transform:c4t}=require("node:stream"),{isASCIINumber:SBe,isValidLastEventId:RBe}=aae(),WA=[239,187,191],lae=10,yW=13,u4t=58,f4t=32,cae=class extends c4t{static{s(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===WA[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===WA[0]&&this.buffer[1]===WA[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===WA[0]&&this.buffer[1]===WA[1]&&this.buffer[2]===WA[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===WA[0]&&this.buffer[1]===WA[1]&&this.buffer[2]===WA[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===lae){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===lae||this.buffer[this.pos]===yW){this.buffer[this.pos]===yW&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===lae||this.buffer[this.pos]===yW){this.buffer[this.pos]===yW&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(u4t);if(n===0)return;let i="",o="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===f4t&&++a,o=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),o="";switch(i){case"data":r[i]===void 0?r[i]=o:r[i]+=`
${o}`;break;case"retry":SBe(o)&&(r[i]=o);break;case"id":RBe(o)&&(r[i]=o);break;case"event":o.length>0&&(r[i]=o);break}}processEvent(t){t.retry&&SBe(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&RBe(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};kBe.exports={EventSourceStream:cae}});var OBe=j((yYr,QBe)=>{"use strict";d();var{pipeline:d4t}=require("node:stream"),{fetching:m4t}=RR(),{makeRequest:h4t}=$6(),{webidl:GA}=fc(),{EventSourceStream:p4t}=BBe(),{parseMIMEType:g4t}=pu(),{createFastMessageEvent:A4t}=Z6(),{isNetworkError:DBe}=_R(),{delay:y4t}=aae(),{kEnumerableProperty:pb}=Ci(),{environmentSettingsObject:PBe}=Ef(),NBe=!1,LBe=3e3,qR=0,FBe=1,WR=2,C4t="anonymous",x4t="use-credentials",i9=class e extends EventTarget{static{s(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=qR;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),GA.util.markAsUncloneable(this);let n="EventSource constructor";GA.argumentLengthCheck(arguments,1,n),NBe||(NBe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=GA.converters.USVString(t,n,"url"),r=GA.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:LBe};let i=PBe,o;try{o=new URL(t,i.settingsObject.baseUrl),this.#a.origin=o.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=o.href;let a=C4t;r.withCredentials&&(a=x4t,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=PBe.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=h4t(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===WR)return;this.#n=qR;let t={request:this.#r,dispatcher:this.#s},r=s(n=>{DBe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(DBe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),o=i!==null?g4t(i):"failure",a=o!=="failure"&&o.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=FBe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new p4t({eventSourceSettings:this.#a,push:s(c=>{this.dispatchEvent(A4t(c.type,c.options))},"push")});d4t(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=m4t(t)}async#c(){this.#n!==WR&&(this.#n=qR,this.dispatchEvent(new Event("error")),await y4t(this.#a.reconnectionTime),this.#n===qR&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){GA.brandCheck(this,e),this.#n!==WR&&(this.#n=WR,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},MBe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:qR,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:FBe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:WR,writable:!1}};Object.defineProperties(i9,MBe);Object.defineProperties(i9.prototype,MBe);Object.defineProperties(i9.prototype,{close:pb,onerror:pb,onmessage:pb,onopen:pb,readyState:pb,url:pb,withCredentials:pb});GA.converters.EventSourceInitDict=GA.dictionaryConverter([{key:"withCredentials",converter:GA.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"dispatcher",converter:GA.converters.any}]);QBe.exports={EventSource:i9,defaultReconnectionTime:LBe}});var GBe=j((vYr,Bn)=>{"use strict";d();var v4t=dR(),UBe=HS(),b4t=N6(),E4t=$7e(),I4t=L6(),T4t=Noe(),w4t=u_e(),_4t=g_e(),qBe=Co(),xW=Ci(),{InvalidArgumentError:CW}=qBe,o9=rSe(),S4t=VS(),R4t=pse(),k4t=MSe(),B4t=yse(),D4t=rse(),P4t=vq(),{getGlobalDispatcher:WBe,setGlobalDispatcher:N4t}=Bq(),L4t=Dq(),F4t=uq(),M4t=fq();Object.assign(UBe.prototype,o9);Bn.exports.Dispatcher=UBe;Bn.exports.Client=v4t;Bn.exports.Pool=b4t;Bn.exports.BalancedPool=E4t;Bn.exports.Agent=I4t;Bn.exports.ProxyAgent=T4t;Bn.exports.EnvHttpProxyAgent=w4t;Bn.exports.RetryAgent=_4t;Bn.exports.RetryHandler=P4t;Bn.exports.DecoratorHandler=L4t;Bn.exports.RedirectHandler=F4t;Bn.exports.createRedirectInterceptor=M4t;Bn.exports.interceptors={redirect:HSe(),retry:VSe(),dump:zSe(),dns:JSe()};Bn.exports.buildConnector=S4t;Bn.exports.errors=qBe;Bn.exports.util={parseHeaders:xW.parseHeaders,headerNameToString:xW.headerNameToString};function GR(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new CW("invalid url");if(r!=null&&typeof r!="object")throw new CW("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new CW("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(xW.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=xW.parseURL(t);let{agent:i,dispatcher:o=WBe()}=r;if(i)throw new CW("unsupported opts.agent. Did you mean opts.client?");return e.call(o,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}s(GR,"makeDispatcher");Bn.exports.setGlobalDispatcher=N4t;Bn.exports.getGlobalDispatcher=WBe;var Q4t=RR().fetch;Bn.exports.fetch=s(async function(t,r=void 0){try{return await Q4t(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Bn.exports.Headers=lb().Headers;Bn.exports.Response=_R().Response;Bn.exports.Request=$6().Request;Bn.exports.FormData=ZS().FormData;Bn.exports.File=globalThis.File??require("node:buffer").File;Bn.exports.FileReader=fke().FileReader;var{setGlobalOrigin:O4t,getGlobalOrigin:U4t}=Lie();Bn.exports.setGlobalOrigin=O4t;Bn.exports.getGlobalOrigin=U4t;var{CacheStorage:q4t}=xke(),{kConstruct:W4t}=Zq();Bn.exports.caches=new q4t(W4t);var{deleteCookie:G4t,getCookies:H4t,getSetCookies:j4t,setCookie:V4t}=Dke();Bn.exports.deleteCookie=G4t;Bn.exports.getCookies=H4t;Bn.exports.getSetCookies=j4t;Bn.exports.setCookie=V4t;var{parseMIMEType:$4t,serializeAMimeType:z4t}=pu();Bn.exports.parseMIMEType=$4t;Bn.exports.serializeAMimeType=z4t;var{CloseEvent:Y4t,ErrorEvent:K4t,MessageEvent:J4t}=Z6();Bn.exports.WebSocket=wBe().WebSocket;Bn.exports.CloseEvent=Y4t;Bn.exports.ErrorEvent=K4t;Bn.exports.MessageEvent=J4t;Bn.exports.request=GR(o9.request);Bn.exports.stream=GR(o9.stream);Bn.exports.pipeline=GR(o9.pipeline);Bn.exports.connect=GR(o9.connect);Bn.exports.upgrade=GR(o9.upgrade);Bn.exports.MockClient=R4t;Bn.exports.MockPool=B4t;Bn.exports.MockAgent=k4t;Bn.exports.mockErrors=D4t;var{EventSource:X4t}=OBe();Bn.exports.EventSource=X4t});var fi=j((IYr,HBe)=>{d();HBe.exports={options:{usePureJavaScript:!1}}});var $Be=j((wYr,VBe)=>{d();var uae={};VBe.exports=uae;var jBe={};uae.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Z4t(e,t);else{var i=0,o=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%o,u=u/o|0;for(;u>0;)l.push(u%o),u=u/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};uae.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=jBe[t];if(!r){r=jBe[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===o&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Z4t(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<o.length;++a)l+=o[a]<<8,o[a]=l%n,l=l/n|0;for(;l>0;)o.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=o.length-1;r>=0;--r)c+=t[o[r]];return c}s(Z4t,"_encodeWithByteBuffer")});var uo=j((RYr,JBe)=>{d();var zBe=fi(),YBe=$Be(),Le=JBe.exports=zBe.util=zBe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Le.nextTick=process.nextTick,typeof setImmediate=="function"?Le.setImmediate=setImmediate:Le.setImmediate=Le.nextTick;return}if(typeof setImmediate=="function"){Le.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Le.nextTick=function(l){return setImmediate(l)};return}if(Le.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;s(l,"handler");var e="forge.setImmediate",t=[];Le.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var o=Le.setImmediate;Le.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),o(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Le.nextTick=Le.setImmediate})();Le.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Le.globalScope=function(){return Le.isNodejs?global:typeof self>"u"?window:self}();Le.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Le.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Le.isArrayBufferView=function(e){return e&&Le.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function HR(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}s(HR,"_checkBitsParam");Le.ByteBuffer=fae;function fae(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Le.isArrayBuffer(e)||Le.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof fae||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}s(fae,"ByteStringBuffer");Le.ByteStringBuffer=fae;var eIt=4096;Le.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>eIt&&(this.data.substr(0,1),this._constructedStringLength=0)};Le.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Le.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Le.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Le.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Le.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Le.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Le.encodeUtf8(e))};Le.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Le.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Le.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Le.ByteStringBuffer.prototype.putInt=function(e,t){HR(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Le.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Le.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Le.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Le.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Le.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Le.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Le.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Le.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Le.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Le.ByteStringBuffer.prototype.getInt=function(e){HR(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Le.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Le.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Le.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Le.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Le.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Le.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Le.ByteStringBuffer.prototype.copy=function(){var e=Le.createBuffer(this.data);return e.read=this.read,e};Le.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Le.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Le.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Le.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Le.ByteStringBuffer.prototype.toString=function(){return Le.decodeUtf8(this.bytes())};function tIt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Le.isArrayBuffer(e),n=Le.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}s(tIt,"DataBuffer");Le.DataBuffer=tIt;Le.DataBuffer.prototype.length=function(){return this.write-this.read};Le.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Le.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Le.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Le.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Le.DataBuffer.prototype.putBytes=function(e,t){if(Le.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Le.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Le.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Le.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Le.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=Le.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=Le.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Le.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Le.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Le.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Le.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Le.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Le.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Le.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Le.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Le.DataBuffer.prototype.putInt=function(e,t){HR(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Le.DataBuffer.prototype.putSignedInt=function(e,t){return HR(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Le.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Le.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Le.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Le.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Le.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Le.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Le.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Le.DataBuffer.prototype.getInt=function(e){HR(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Le.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Le.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Le.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Le.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Le.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Le.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Le.DataBuffer.prototype.copy=function(){return new Le.DataBuffer(this)};Le.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Le.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Le.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Le.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Le.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Le.binary.raw.encode(t);if(e==="hex")return Le.binary.hex.encode(t);if(e==="base64")return Le.binary.base64.encode(t);if(e==="utf8")return Le.text.utf8.decode(t);if(e==="utf16")return Le.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Le.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Le.encodeUtf8(e)),new Le.ByteBuffer(e)};Le.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Le.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=o,o="",l=0),o+=String.fromCharCode(i),++l;return n+=o,n};Le.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Le.bytesToHex=function(e){return Le.createBuffer(e).toHex()};Le.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var yC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",CC=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],KBe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Le.encode64=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.length;)i=e.charCodeAt(l++),o=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=yC.charAt(i>>2),r+=yC.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=yC.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":yC.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Le.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,o,a=0;a<e.length;)r=CC[e.charCodeAt(a++)-43],n=CC[e.charCodeAt(a++)-43],i=CC[e.charCodeAt(a++)-43],o=CC[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};Le.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Le.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Le.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:YBe.encode,decode:YBe.decode}};Le.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Le.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};Le.binary.hex.encode=Le.bytesToHex;Le.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(e.length&1&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n};Le.binary.base64.encode=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.byteLength;)i=e[l++],o=e[l++],a=e[l++],r+=yC.charAt(i>>2),r+=yC.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=yC.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":yC.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Le.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,l,c=0,u=r;c<e.length;)i=CC[e.charCodeAt(c++)-43],o=CC[e.charCodeAt(c++)-43],a=CC[e.charCodeAt(c++)-43],l=CC[e.charCodeAt(c++)-43],n[u++]=i<<2|o>>4,a!==64&&(n[u++]=(o&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Le.binary.base58.encode=function(e,t){return Le.binary.baseN.encode(e,KBe,t)};Le.binary.base58.decode=function(e,t){return Le.binary.baseN.decode(e,KBe,t)};Le.text={utf8:{},utf16:{}};Le.text.utf8.encode=function(e,t,r){e=Le.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};Le.text.utf8.decode=function(e){return Le.decodeUtf8(String.fromCharCode.apply(null,e))};Le.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),o+=2;return t?o-r:n};Le.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Le.deflate=function(e,t,r){if(t=Le.decode64(e.deflate(Le.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Le.inflate=function(e,t,r){var n=e.inflate(Le.encode64(t)).rval;return n===null?null:Le.decode64(n)};var dae=s(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Le.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),mae=s(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Le.decode64(r))),r},"_getStorageObject"),rIt=s(function(e,t,r,n){var i=mae(e,t);i===null&&(i={}),i[r]=n,dae(e,t,i)},"_setItem"),nIt=s(function(e,t,r){var n=mae(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),iIt=s(function(e,t,r){var n=mae(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),dae(e,t,n)}},"_removeItem"),oIt=s(function(e,t){dae(e,t,null)},"_clearItems"),vW=s(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(c){a=c}if(o)break}if(!o)throw a;return n},"_callStorageFunction");Le.setItem=function(e,t,r,n,i){vW(rIt,arguments,i)};Le.getItem=function(e,t,r,n){return vW(nIt,arguments,n)};Le.removeItem=function(e,t,r,n){vW(iIt,arguments,n)};Le.clearItems=function(e,t,r){vW(oIt,arguments,r)};Le.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Le.format=function(e){for(var t=/%./g,r,n,i=0,o=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&o.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+l+"?>")}}return o.push(e.substring(a)),o.join("")};Le.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?a+Math.abs(i-u).toFixed(o).slice(2):"")};Le.formatSize=function(e){return e>=1073741824?e=Le.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Le.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Le.formatNumber(e/1024,0)+" KiB":e=Le.formatNumber(e,0)+" bytes",e};Le.bytesFromIP=function(e){return e.indexOf(".")!==-1?Le.bytesFromIPv4(e):e.indexOf(":")!==-1?Le.bytesFromIPv6(e):null};Le.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Le.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Le.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Le.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=Le.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};Le.bytesToIP=function(e){return e.length===4?Le.bytesToIPv4(e):e.length===16?Le.bytesToIPv6(e):null};Le.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Le.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=Le.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Le.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Le&&!e.update)return t(null,Le.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Le.cores=navigator.hardwareConcurrency,t(null,Le.cores);if(typeof Worker>"u")return Le.cores=1,t(null,Le.cores);if(typeof Blob>"u")return Le.cores=2,t(null,Le.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Le.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Le.cores)}i(c,function(f,m){a.push(o(c,m)),n(a,l-1,c)})}s(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}s(i,"map");function o(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(g,y){return Math.max(g,y.length)},0)}s(o,"reduce")}});var bW=j((DYr,XBe)=>{d();var Ol=fi();uo();XBe.exports=Ol.cipher=Ol.cipher||{};Ol.cipher.algorithms=Ol.cipher.algorithms||{};Ol.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ol.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ol.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Ol.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ol.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ol.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Ol.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Ol.cipher.algorithms[e]=t};Ol.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Ol.cipher.algorithms?Ol.cipher.algorithms[e]:null};var hae=Ol.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};hae.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Ol.util.createBuffer(),this.output=e.output||Ol.util.createBuffer(),this.mode.start(t)};hae.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};hae.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var gae=j((NYr,ZBe)=>{d();var Ul=fi();uo();Ul.cipher=Ul.cipher||{};var Ti=ZBe.exports=Ul.cipher.modes=Ul.cipher.modes||{};Ti.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ti.ecb.prototype.start=function(e){};Ti.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ti.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ti.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ti.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ti.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ti.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=EW(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ti.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ti.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ti.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ti.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ti.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ul.util.createBuffer(),this._partialBytes=0};Ti.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=EW(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ul.util.createBuffer(),this._partialBytes=0};Ti.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=EW(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.ofb.prototype.decrypt=Ti.ofb.prototype.encrypt;Ti.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ul.util.createBuffer(),this._partialBytes=0};Ti.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=EW(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}IW(this._inBlock)};Ti.ctr.prototype.decrypt=Ti.ctr.prototype.encrypt;Ti.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ul.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ti.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ul.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Ul.util.createBuffer(e.additionalData):r=Ul.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ul.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(pae(n*8)))}this._inBlock=this._j0.slice(0),IW(this._inBlock),this._partialBytes=0,r=Ul.util.createBuffer(r),this._aDataLength=pae(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ti.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),IW(this._inBlock)};Ti.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),IW(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ti.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ul.util.createBuffer();var n=this._aDataLength.concat(pae(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ti.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ti.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ti.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};Ti.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ti.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,o[a]=this.generateSubHashTable(this.multiply(l,e),t)}return o};Ti.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var l=i[o],c=i[a];i[o+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var u=i[o^n];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function EW(e,t){if(typeof e=="string"&&(e=Ul.util.createBuffer(e)),Ul.util.isArray(e)&&e.length>4){var r=e;e=Ul.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ul.util.isArray(e)){for(var i=[],o=t/4,n=0;n<o;++n)i.push(e.getInt32());e=i}return e}s(EW,"transformIV");function IW(e){e[e.length-1]=e[e.length-1]+1&4294967295}s(IW,"inc32");function pae(e){return[e/4294967296|0,e&4294967295]}s(pae,"from64To32")});var xC=j((MYr,nDe)=>{d();var ts=fi();bW();gae();uo();nDe.exports=ts.aes=ts.aes||{};ts.aes.startEncrypting=function(e,t,r,n){var i=TW({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};ts.aes.createEncryptionCipher=function(e,t){return TW({key:e,output:null,decrypt:!1,mode:t})};ts.aes.startDecrypting=function(e,t,r,n){var i=TW({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};ts.aes.createDecryptionCipher=function(e,t){return TW({key:e,output:null,decrypt:!0,mode:t})};ts.aes.Algorithm=function(e,t){Cae||tDe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:s(function(n,i){return yae(r._w,n,i,!1)},"encrypt"),decrypt:s(function(n,i){return yae(r._w,n,i,!0)},"decrypt")}}),r._init=!1};ts.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ts.util.createBuffer(t);else if(ts.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=ts.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!ts.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!ts.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=rDe(t,e.decrypt&&!a),this._init=!0}};ts.aes._expandKey=function(e,t){return Cae||tDe(),rDe(e,t)};ts.aes._updateBlock=yae;a9("AES-ECB",ts.cipher.modes.ecb);a9("AES-CBC",ts.cipher.modes.cbc);a9("AES-CFB",ts.cipher.modes.cfb);a9("AES-OFB",ts.cipher.modes.ofb);a9("AES-CTR",ts.cipher.modes.ctr);a9("AES-GCM",ts.cipher.modes.gcm);function a9(e,t){var r=s(function(){return new ts.aes.Algorithm(e,t)},"factory");ts.cipher.registerAlgorithm(e,r)}s(a9,"registerAlgorithm");var Cae=!1,s9=4,I0,Aae,eDe,gb,Fh;function tDe(){Cae=!0,eDe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;I0=new Array(256),Aae=new Array(256),gb=new Array(4),Fh=new Array(4);for(var t=0;t<4;++t)gb[t]=new Array(256),Fh[t]=new Array(256);for(var r=0,n=0,i,o,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,I0[r]=l,Aae[l]=r,c=e[l],i=e[r],o=e[i],a=e[o],u=c<<24^l<<16^l<<8^(l^c),f=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var m=0;m<4;++m)gb[m][r]=u,Fh[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}s(tDe,"initialize");function rDe(e,t){for(var r=e.slice(0),n,i=1,o=r.length,a=o+6+1,l=s9*a,c=o;c<l;++c)n=r[c-1],c%o===0?(n=I0[n>>>16&255]<<24^I0[n>>>8&255]<<16^I0[n&255]<<8^I0[n>>>24]^eDe[i]<<24,i++):o>6&&c%o===4&&(n=I0[n>>>24]<<24^I0[n>>>16&255]<<16^I0[n>>>8&255]<<8^I0[n&255]),r[c]=r[c-o]^n;if(t){var u,f=Fh[0],m=Fh[1],h=Fh[2],p=Fh[3],g=r.slice(0);l=r.length;for(var c=0,y=l-s9;c<l;c+=s9,y-=s9)if(c===0||c===l-s9)g[c]=r[y],g[c+1]=r[y+3],g[c+2]=r[y+2],g[c+3]=r[y+1];else for(var v=0;v<s9;++v)u=r[y+v],g[c+(3&-v)]=f[I0[u>>>24]]^m[I0[u>>>16&255]]^h[I0[u>>>8&255]]^p[I0[u&255]];r=g}return r}s(rDe,"_expandKey");function yae(e,t,r,n){var i=e.length/4-1,o,a,l,c,u;n?(o=Fh[0],a=Fh[1],l=Fh[2],c=Fh[3],u=Aae):(o=gb[0],a=gb[1],l=gb[2],c=gb[3],u=I0);var f,m,h,p,g,y,v;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var b=3,E=1;E<i;++E)g=o[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++b],y=o[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++b],v=o[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++b],p=o[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++b],f=g,m=y,h=v;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++b],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++b],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++b],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++b]}s(yae,"_updateBlock");function TW(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=ts.cipher.createDecipher(r,e.key):n=ts.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof ts.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(TW,"_createCipher")});var vC=j((UYr,iDe)=>{d();var jR=fi();jR.pki=jR.pki||{};var xae=iDe.exports=jR.pki.oids=jR.oids=jR.oids||{};function Qt(e,t){xae[e]=t,xae[t]=e}s(Qt,"_IN");function Io(e,t){xae[e]=t}s(Io,"_I_");Qt("1.2.840.113549.1.1.1","rsaEncryption");Qt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Qt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Qt("1.2.840.113549.1.1.7","RSAES-OAEP");Qt("1.2.840.113549.1.1.8","mgf1");Qt("1.2.840.113549.1.1.9","pSpecified");Qt("1.2.840.113549.1.1.10","RSASSA-PSS");Qt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Qt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Qt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Qt("1.3.101.112","EdDSA25519");Qt("1.2.840.10040.4.3","dsa-with-sha1");Qt("1.3.14.3.2.7","desCBC");Qt("1.3.14.3.2.26","sha1");Qt("1.3.14.3.2.29","sha1WithRSASignature");Qt("2.16.840.1.101.3.4.2.1","sha256");Qt("2.16.840.1.101.3.4.2.2","sha384");Qt("2.16.840.1.101.3.4.2.3","sha512");Qt("2.16.840.1.101.3.4.2.4","sha224");Qt("2.16.840.1.101.3.4.2.5","sha512-224");Qt("2.16.840.1.101.3.4.2.6","sha512-256");Qt("1.2.840.113549.2.2","md2");Qt("1.2.840.113549.2.5","md5");Qt("1.2.840.113549.1.7.1","data");Qt("1.2.840.113549.1.7.2","signedData");Qt("1.2.840.113549.1.7.3","envelopedData");Qt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Qt("1.2.840.113549.1.7.5","digestedData");Qt("1.2.840.113549.1.7.6","encryptedData");Qt("1.2.840.113549.1.9.1","emailAddress");Qt("1.2.840.113549.1.9.2","unstructuredName");Qt("1.2.840.113549.1.9.3","contentType");Qt("1.2.840.113549.1.9.4","messageDigest");Qt("1.2.840.113549.1.9.5","signingTime");Qt("1.2.840.113549.1.9.6","counterSignature");Qt("1.2.840.113549.1.9.7","challengePassword");Qt("1.2.840.113549.1.9.8","unstructuredAddress");Qt("1.2.840.113549.1.9.14","extensionRequest");Qt("1.2.840.113549.1.9.20","friendlyName");Qt("1.2.840.113549.1.9.21","localKeyId");Qt("1.2.840.113549.1.9.22.1","x509Certificate");Qt("1.2.840.113549.1.12.10.1.1","keyBag");Qt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Qt("1.2.840.113549.1.12.10.1.3","certBag");Qt("1.2.840.113549.1.12.10.1.4","crlBag");Qt("1.2.840.113549.1.12.10.1.5","secretBag");Qt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Qt("1.2.840.113549.1.5.13","pkcs5PBES2");Qt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Qt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Qt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Qt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Qt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Qt("1.2.840.113549.2.7","hmacWithSHA1");Qt("1.2.840.113549.2.8","hmacWithSHA224");Qt("1.2.840.113549.2.9","hmacWithSHA256");Qt("1.2.840.113549.2.10","hmacWithSHA384");Qt("1.2.840.113549.2.11","hmacWithSHA512");Qt("1.2.840.113549.3.7","des-EDE3-CBC");Qt("2.16.840.1.101.3.4.1.2","aes128-CBC");Qt("2.16.840.1.101.3.4.1.22","aes192-CBC");Qt("2.16.840.1.101.3.4.1.42","aes256-CBC");Qt("2.5.4.3","commonName");Qt("2.5.4.4","surname");Qt("2.5.4.5","serialNumber");Qt("2.5.4.6","countryName");Qt("2.5.4.7","localityName");Qt("2.5.4.8","stateOrProvinceName");Qt("2.5.4.9","streetAddress");Qt("2.5.4.10","organizationName");Qt("2.5.4.11","organizationalUnitName");Qt("2.5.4.12","title");Qt("2.5.4.13","description");Qt("2.5.4.15","businessCategory");Qt("2.5.4.17","postalCode");Qt("2.5.4.42","givenName");Qt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Qt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Qt("2.16.840.1.113730.1.1","nsCertType");Qt("2.16.840.1.113730.1.13","nsComment");Io("2.5.29.1","authorityKeyIdentifier");Io("2.5.29.2","keyAttributes");Io("2.5.29.3","certificatePolicies");Io("2.5.29.4","keyUsageRestriction");Io("2.5.29.5","policyMapping");Io("2.5.29.6","subtreesConstraint");Io("2.5.29.7","subjectAltName");Io("2.5.29.8","issuerAltName");Io("2.5.29.9","subjectDirectoryAttributes");Io("2.5.29.10","basicConstraints");Io("2.5.29.11","nameConstraints");Io("2.5.29.12","policyConstraints");Io("2.5.29.13","basicConstraints");Qt("2.5.29.14","subjectKeyIdentifier");Qt("2.5.29.15","keyUsage");Io("2.5.29.16","privateKeyUsagePeriod");Qt("2.5.29.17","subjectAltName");Qt("2.5.29.18","issuerAltName");Qt("2.5.29.19","basicConstraints");Io("2.5.29.20","cRLNumber");Io("2.5.29.21","cRLReason");Io("2.5.29.22","expirationDate");Io("2.5.29.23","instructionCode");Io("2.5.29.24","invalidityDate");Io("2.5.29.25","cRLDistributionPoints");Io("2.5.29.26","issuingDistributionPoint");Io("2.5.29.27","deltaCRLIndicator");Io("2.5.29.28","issuingDistributionPoint");Io("2.5.29.29","certificateIssuer");Io("2.5.29.30","nameConstraints");Qt("2.5.29.31","cRLDistributionPoints");Qt("2.5.29.32","certificatePolicies");Io("2.5.29.33","policyMappings");Io("2.5.29.34","policyConstraints");Qt("2.5.29.35","authorityKeyIdentifier");Io("2.5.29.36","policyConstraints");Qt("2.5.29.37","extKeyUsage");Io("2.5.29.46","freshestCRL");Io("2.5.29.54","inhibitAnyPolicy");Qt("1.3.6.1.4.1.11129.2.4.2","timestampList");Qt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Qt("1.3.6.1.5.5.7.3.1","serverAuth");Qt("1.3.6.1.5.5.7.3.2","clientAuth");Qt("1.3.6.1.5.5.7.3.3","codeSigning");Qt("1.3.6.1.5.5.7.3.4","emailProtection");Qt("1.3.6.1.5.5.7.3.8","timeStamping")});var Mh=j((GYr,sDe)=>{d();var bs=fi();uo();vC();var Ir=sDe.exports=bs.asn1=bs.asn1||{};Ir.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ir.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ir.create=function(e,t,r,n,i){if(bs.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var l={tagClass:e,type:t,constructed:r,composed:r||bs.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Ir.copy(l)),l};Ir.copy=function(e,t){var r;if(bs.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Ir.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Ir.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Ir.equals=function(e,t,r){if(bs.util.isArray(e)){if(!bs.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ir.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Ir.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Ir.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function VR(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}s(VR,"_checkBufferLength");var sIt=s(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;VR(e,t,o),n=e.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ir.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=bs.util.createBuffer(e));var r=e.length(),n=wW(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function wW(e,t,r,n){var i;VR(e,t,2);var o=e.getByte();t--;var a=o&192,l=o&31;i=e.length();var c=sIt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(o&32)===32;if(h)if(f=[],c===void 0)for(;;){if(VR(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(wW(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(wW(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===Ir.Class.UNIVERSAL&&l===Ir.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===Ir.Class.UNIVERSAL&&l===Ir.Type.BITSTRING&&c>1){var p=e.read,g=t,y=0;if(l===Ir.Type.BITSTRING&&(VR(e,t,1),y=e.getByte(),t--),y===0)try{i=e.length();var v={strict:!0,decodeBitStrings:!0},b=wW(e,t,r+1,v),E=i-e.length();t-=E,l==Ir.Type.BITSTRING&&E++;var _=b.tagClass;E===c&&(_===Ir.Class.UNIVERSAL||_===Ir.Class.CONTEXT_SPECIFIC)&&(f=[b])}catch{}f===void 0&&(e.read=p,t=g)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Ir.Type.BMPSTRING)for(f="";c>0;c-=2)VR(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var k=m===void 0?null:{bitStringContents:m};return Ir.create(a,l,h,f,k)}s(wW,"_fromDer");Ir.toDer=function(e){var t=bs.util.createBuffer(),r=e.tagClass|e.type,n=bs.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Ir.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&n.putBuffer(Ir.toDer(e.value[o]))}else if(e.type===Ir.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===Ir.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var o=l.length-1;o>=0;--o)t.putByte(l.charCodeAt(o))}return t.putBuffer(n),t};Ir.oidToDer=function(e){var t=e.split("."),r=bs.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,o,a,l=2;l<t.length;++l){n=!0,i=[],o=parseInt(t[l],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Ir.derToOid=function(e){var t;typeof e=="string"&&(e=bs.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Ir.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Ir.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),g=parseInt(e.substr(m+4,2),10);u=p*60+g,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(o,a,l,c)),t};Ir.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ir.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ir.integerToDer=function(e){var t=bs.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Ir.derToInteger=function(e){typeof e=="string"&&(e=bs.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Ir.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&bs.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&(i=Ir.validate(e.value[o],t.value[a],r,n),i?++o:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var oDe=/[^\\u0000-\\u00ff]/;Ir.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",o=0;o<t*r;++o)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Ir.Class.UNIVERSAL:n+="Universal:";break;case Ir.Class.APPLICATION:n+="Application:";break;case Ir.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ir.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Ir.Class.UNIVERSAL)switch(n+=e.type,e.type){case Ir.Type.NONE:n+=" (None)";break;case Ir.Type.BOOLEAN:n+=" (Boolean)";break;case Ir.Type.INTEGER:n+=" (Integer)";break;case Ir.Type.BITSTRING:n+=" (Bit string)";break;case Ir.Type.OCTETSTRING:n+=" (Octet string)";break;case Ir.Type.NULL:n+=" (Null)";break;case Ir.Type.OID:n+=" (Object Identifier)";break;case Ir.Type.ODESC:n+=" (Object Descriptor)";break;case Ir.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ir.Type.REAL:n+=" (Real)";break;case Ir.Type.ENUMERATED:n+=" (Enumerated)";break;case Ir.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ir.Type.UTF8:n+=" (UTF8)";break;case Ir.Type.ROID:n+=" (Relative Object Identifier)";break;case Ir.Type.SEQUENCE:n+=" (Sequence)";break;case Ir.Type.SET:n+=" (Set)";break;case Ir.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ir.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ir.Type.UTCTIME:n+=" (UTC time)";break;case Ir.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ir.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(a+=1,l+=Ir.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===Ir.Type.OID){var c=Ir.derToOid(e.value);n+=c,bs.pki&&bs.pki.oids&&c in bs.pki.oids&&(n+=" ("+bs.pki.oids[c]+") ")}if(e.type===Ir.Type.INTEGER)try{n+=Ir.derToInteger(e.value)}catch{n+="0x"+bs.util.bytesToHex(e.value)}else if(e.type===Ir.Type.BITSTRING){if(e.value.length>1?n+="0x"+bs.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Ir.Type.OCTETSTRING)oDe.test(e.value)||(n+="("+e.value+") "),n+="0x"+bs.util.bytesToHex(e.value);else if(e.type===Ir.Type.UTF8)try{n+=bs.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+bs.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===Ir.Type.PRINTABLESTRING||e.type===Ir.Type.IA5String?n+=e.value:oDe.test(e.value)?n+="0x"+bs.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Rg=j((VYr,aDe)=>{d();var _W=fi();aDe.exports=_W.md=_W.md||{};_W.md.algorithms=_W.md.algorithms||{}});var l9=j((zYr,lDe)=>{d();var HA=fi();Rg();uo();var aIt=lDe.exports=HA.hmac=HA.hmac||{};aIt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in HA.md.algorithms)t=HA.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(a===null)a=e;else{if(typeof a=="string")a=HA.util.createBuffer(a);else if(HA.util.isArray(a)){var l=a;a=HA.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=HA.util.createBuffer(),n=HA.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(n),t.update(o),t.digest()},i.digest=i.getMac,i}});var RW=j((KYr,dDe)=>{d();var kg=fi();Rg();uo();var uDe=dDe.exports=kg.md5=kg.md5||{};kg.md.md5=kg.md.algorithms.md5=uDe;uDe.create=function(){fDe||lIt();var e=null,t=kg.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=kg.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=kg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),cDe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=kg.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(vae.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};cDe(f,r,i);var m=kg.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var vae=null,SW=null,$R=null,c9=null,fDe=!1;function lIt(){vae="\x80",vae+=kg.util.fillString("\0",64),SW=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],$R=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c9=new Array(64);for(var e=0;e<64;++e)c9[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);fDe=!0}s(lIt,"_init");function cDe(e,t,r){for(var n,i,o,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^o&(a^l),n=i+c+c9[f]+t[f],u=$R[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(o^a),n=i+c+c9[f]+t[SW[f]],u=$R[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;for(;f<48;++f)c=o^a^l,n=i+c+c9[f]+t[SW[f]],u=$R[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(o|~l),n=i+c+c9[f]+t[SW[f]],u=$R[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}s(cDe,"_update")});var Ab=j((ZYr,hDe)=>{d();var BW=fi();uo();var mDe=hDe.exports=BW.pem=BW.pem||{};mDe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=kW(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=kW(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=kW(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=kW(e.headers[i]);return e.procType&&(r+=`\r
`),r+=BW.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};mDe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(e),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:BW.util.decode64(o[3])};if(t.push(l),!!o[2]){for(var c=o[2].split(i),u=0;o&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(o=f.match(n),o){for(var p={name:o[1],values:[]},g=o[2].split(","),y=0;y<g.length;++y)p.values.push(cIt(g[y]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=g[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:g[0],parameters:g[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:g[0],type:g[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function kW(e){for(var t=e.name+": ",r=[],n=s(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),o=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}s(kW,"foldHeader");function cIt(e){return e.replace(/^\s+/,"")}s(cIt,"ltrim")});var zR=j((rKr,gDe)=>{d();var Us=fi();bW();gae();uo();gDe.exports=Us.des=Us.des||{};Us.des.startEncrypting=function(e,t,r,n){var i=DW({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Us.des.createEncryptionCipher=function(e,t){return DW({key:e,output:null,decrypt:!1,mode:t})};Us.des.startDecrypting=function(e,t,r,n){var i=DW({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Us.des.createDecryptionCipher=function(e,t){return DW({key:e,output:null,decrypt:!0,mode:t})};Us.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:s(function(n,i){return pDe(r._keys,n,i,!1)},"encrypt"),decrypt:s(function(n,i){return pDe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Us.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Us.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=yIt(t),this._init=!0}};Bg("DES-ECB",Us.cipher.modes.ecb);Bg("DES-CBC",Us.cipher.modes.cbc);Bg("DES-CFB",Us.cipher.modes.cfb);Bg("DES-OFB",Us.cipher.modes.ofb);Bg("DES-CTR",Us.cipher.modes.ctr);Bg("3DES-ECB",Us.cipher.modes.ecb);Bg("3DES-CBC",Us.cipher.modes.cbc);Bg("3DES-CFB",Us.cipher.modes.cfb);Bg("3DES-OFB",Us.cipher.modes.ofb);Bg("3DES-CTR",Us.cipher.modes.ctr);function Bg(e,t){var r=s(function(){return new Us.des.Algorithm(e,t)},"factory");Us.cipher.registerAlgorithm(e,r)}s(Bg,"registerAlgorithm");var uIt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],fIt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],dIt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],mIt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],hIt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],pIt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],gIt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],AIt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function yIt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,v=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,_,k=0;k<y;k++){var B=e.getInt32(),N=e.getInt32();_=(B>>>4^N)&252645135,N^=_,B^=_<<4,_=(N>>>-16^B)&65535,B^=_,N^=_<<-16,_=(B>>>2^N)&858993459,N^=_,B^=_<<2,_=(N>>>-16^B)&65535,B^=_,N^=_<<-16,_=(B>>>1^N)&1431655765,N^=_,B^=_<<1,_=(N>>>8^B)&16711935,B^=_,N^=_<<8,_=(B>>>1^N)&1431655765,N^=_,B^=_<<1,_=B<<8|N>>>20&240,B=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=_;for(var M=0;M<b.length;++M){b[M]?(B=B<<2|B>>>26,N=N<<2|N>>>26):(B=B<<1|B>>>27,N=N<<1|N>>>27),B&=-15,N&=-15;var re=t[B>>>28]|r[B>>>24&15]|n[B>>>20&15]|i[B>>>16&15]|o[B>>>12&15]|a[B>>>8&15]|l[B>>>4&15],pe=c[N>>>28]|u[N>>>24&15]|f[N>>>20&15]|m[N>>>16&15]|h[N>>>12&15]|p[N>>>8&15]|g[N>>>4&15];_=(pe>>>16^re)&65535,v[E++]=re^_,v[E++]=pe^_<<16}}return v}s(yIt,"_createKeys");function pDe(e,t,r,n){var i=e.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=o[u+1],m=o[u+2],h=o[u];h!=f;h+=m){var p=c^e[h],g=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(fIt[p>>>24&63]|mIt[p>>>16&63]|pIt[p>>>8&63]|AIt[p&63]|uIt[g>>>24&63]|dIt[g>>>16&63]|hIt[g>>>8&63]|gIt[g&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}s(pDe,"_updateBlock");function DW(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Us.cipher.createDecipher(r,e.key):n=Us.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof Us.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(DW,"_createCipher")});var PW=j((oKr,ADe)=>{d();var T0=fi();l9();Rg();uo();var CIt=T0.pkcs5=T0.pkcs5||{},jA;T0.util.isNodejs&&!T0.options.usePureJavaScript&&(jA=require("crypto"));ADe.exports=T0.pbkdf2=CIt.pbkdf2=function(e,t,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),T0.util.isNodejs&&!T0.options.usePureJavaScript&&jA.pbkdf2&&(i===null||typeof i!="object")&&(jA.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?jA.pbkdf2Sync.length===4?jA.pbkdf2(e,t,r,n,function(_,k){if(_)return o(_);o(null,k.toString("binary"))}):jA.pbkdf2(e,t,r,n,i,function(_,k){if(_)return o(_);o(null,k.toString("binary"))}):jA.pbkdf2Sync.length===4?jA.pbkdf2Sync(e,t,r,n).toString("binary"):jA.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in T0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=T0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(o)return o(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=T0.hmac.create();f.start(i,e);var m="",h,p,g;if(!o){for(var y=1;y<=c;++y){f.start(null,null),f.update(t),f.update(T0.util.int32ToBytes(y)),h=g=f.digest().getBytes();for(var v=2;v<=r;++v)f.start(null,null),f.update(g),p=f.digest().getBytes(),h=T0.util.xorBytes(h,p,a),g=p;m+=y<c?h:h.substr(0,u)}return m}var y=1,v;function b(){if(y>c)return o(null,m);f.start(null,null),f.update(t),f.update(T0.util.int32ToBytes(y)),h=g=f.digest().getBytes(),v=2,E()}s(b,"outer");function E(){if(v<=r)return f.start(null,null),f.update(g),p=f.digest().getBytes(),h=T0.util.xorBytes(h,p,a),g=p,++v,T0.util.setImmediate(E);m+=y<c?h:h.substr(0,u),++y,b()}s(E,"inner"),b()}});var Eae=j((lKr,bDe)=>{d();var Dg=fi();Rg();uo();var CDe=bDe.exports=Dg.sha256=Dg.sha256||{};Dg.md.sha256=Dg.md.algorithms.sha256=CDe;CDe.create=function(){xDe||xIt();var e=null,t=Dg.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Dg.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Dg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),yDe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Dg.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(bae.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};yDe(m,r,i);var h=Dg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var bae=null,xDe=!1,vDe=null;function xIt(){bae="\x80",bae+=Dg.util.fillString("\0",64),vDe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],xDe=!0}s(xIt,"_init");function yDe(e,t,r){for(var n,i,o,a,l,c,u,f,m,h,p,g,y,v,b,E=r.length();E>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,g=e.h4,y=e.h5,v=e.h6,b=e.h7,u=0;u<64;++u)a=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),l=v^g&(y^v),o=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=b+a+l+vDe[u]+t[u],i=o+c,b=v,v=y,y=g,g=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+g|0,e.h5=e.h5+y|0,e.h6=e.h6+v|0,e.h7=e.h7+b|0,E-=64}}s(yDe,"_update")});var Iae=j((fKr,EDe)=>{d();var Pg=fi();uo();var NW=null;Pg.util.isNodejs&&!Pg.options.usePureJavaScript&&!process.versions["node-webkit"]&&(NW=require("crypto"));var vIt=EDe.exports=Pg.prng=Pg.prng||{};vIt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,g=t.plugin.formatSeed,y=Pg.util.createBuffer();t.key=null,v();function v(b){if(b)return f(b);if(y.length()>=u)return f(null,y.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Pg.util.nextTick(function(){o(v)});var E=m(t.key,t.seed);t.generated+=E.length,y.putBytes(E),t.key=p(m(t.key,h(t.seed))),t.seed=g(m(t.key,t.seed)),Pg.util.setImmediate(v)}s(v,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var g=Pg.util.createBuffer();g.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var y=f(t.key,t.seed);t.generated+=y.length,g.putBytes(y),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return g.getBytes(u)};function o(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}s(o,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}s(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}s(l,"_seed");function c(u){var f=null,m=Pg.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=s(function(B){return h.getRandomValues(B)},"getRandomValues"));var p=Pg.util.createBuffer();if(f)for(;p.length()<u;){var g=Math.max(1,Math.min(u-p.length(),65536)/4),y=new Uint32Array(Math.floor(g));try{f(y);for(var v=0;v<y.length;++v)p.putInt32(y[v])}catch(B){if(!(typeof QuotaExceededError<"u"&&B instanceof QuotaExceededError))throw B}}if(p.length()<u)for(var b,E,_,k=Math.floor(Math.random()*65536);p.length()<u;){E=16807*(k&65535),b=16807*(k>>16),E+=(b&32767)<<16,E+=b>>15,E=(E&2147483647)+(E>>31),k=E&4294967295;for(var v=0;v<3;++v)_=k>>>(v<<3),_^=Math.floor(Math.random()*256),p.putByte(_&255)}return p.getBytes(u)}return s(c,"defaultSeedFile"),NW?(t.seedFile=function(u,f){NW.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return NW.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(g){var y=g.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",p),h(y.forge.prng.err,y.forge.prng.bytes))}s(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=s(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,g){u.postMessage({forge:{prng:{err:p,bytes:g}}})})},"listener");u.addEventListener("message",f)}},t}});var rm=j((hKr,Tae)=>{d();var ql=fi();xC();Eae();Iae();uo();(function(){if(ql.random&&ql.random.getBytes){Tae.exports=ql.random;return}(function(e){var t={},r=new Array(4),n=ql.util.createBuffer();t.formatKey=function(m){var h=ql.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),ql.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=ql.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return ql.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=ql.md.sha256;function i(){var m=ql.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}s(i,"spawnPrng");var o=i(),a=null,l=ql.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=s(function(m){return c.getRandomValues(m)},"getRandomValues")),ql.options.usePureJavaScript||!ql.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}o.collect(u),u=null}e&&(e().mousemove(function(m){o.collectInt(m.clientX,16),o.collectInt(m.clientY,16)}),e().keypress(function(m){o.collectInt(m.charCode,8)}))}if(!ql.random)ql.random=o;else for(var f in o)ql.random[f]=o[f];ql.random.createInstance=i,Tae.exports=ql.random})(typeof jQuery<"u"?jQuery:null)})()});var _ae=j((AKr,wDe)=>{d();var vu=fi();uo();var wae=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],IDe=[1,2,3,5],bIt=s(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),EIt=s(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");wDe.exports=vu.rc2=vu.rc2||{};vu.rc2.expandKey=function(e,t){typeof e=="string"&&(e=vu.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,o=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(wae[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-o,wae[r.at(128-o)&a]),l=127-o;l>=0;l--)r.setAt(l,wae[r.at(l+1)^r.at(l+o)]);return r};var TDe=s(function(e,t,r){var n=!1,i=null,o=null,a=null,l,c,u,f,m=[];for(e=vu.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=s(function(g){for(u=0;u<4;u++)g[u]+=m[f]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),g[u]=bIt(g[u],IDe[u]),f++},"mixRound"),c=s(function(g){for(u=0;u<4;u++)g[u]+=m[g[(u+3)%4]&63]},"mashRound")):(l=s(function(g){for(u=3;u>=0;u--)g[u]=EIt(g[u],IDe[u]),g[u]-=m[f]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),f--},"mixRound"),c=s(function(g){for(u=3;u>=0;u--)g[u]-=m[g[(u+3)%4]&63]},"mashRound"));var h=s(function(g){var y=[];for(u=0;u<4;u++){var v=i.getInt16Le();a!==null&&(r?v^=a.getInt16Le():a.putInt16Le(v)),y.push(v&65535)}f=r?0:63;for(var b=0;b<g.length;b++)for(var E=0;E<g[b][0];E++)g[b][1](y);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(y[u]):y[u]^=a.getInt16Le()),o.putInt16Le(y[u])},"runPlan"),p=null;return p={start:s(function(g,y){g&&typeof g=="string"&&(g=vu.util.createBuffer(g)),n=!1,i=vu.util.createBuffer(),o=y||new vu.util.createBuffer,a=g,p.output=o},"start"),update:s(function(g){for(n||i.putBuffer(g);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:s(function(g){var y=!0;if(r)if(g)y=g(8,i,!r);else{var v=i.length()===8?8:8-i.length();i.fillWithByte(v,v)}if(y&&(n=!0,p.update()),!r&&(y=i.length()===0,y))if(g)y=g(8,o,!r);else{var b=o.length(),E=o.at(b-1);E>b?y=!1:o.truncate(E)}return y},"finish")},p},"createCipher");vu.rc2.startEncrypting=function(e,t,r){var n=vu.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};vu.rc2.createEncryptionCipher=function(e,t){return TDe(e,t,!0)};vu.rc2.startDecrypting=function(e,t,r){var n=vu.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};vu.rc2.createDecryptionCipher=function(e,t){return TDe(e,t,!1)}});var KR=j((xKr,NDe)=>{d();var Sae=fi();NDe.exports=Sae.jsbn=Sae.jsbn||{};var VA,IIt=0xdeadbeefcafe,_De=(IIt&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}s(Bt,"BigInteger");Sae.jsbn.BigInteger=Bt;function fo(){return new Bt(null)}s(fo,"nbi");function TIt(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}s(TIt,"am1");function wIt(e,t,r,n,i,o){for(var a=t&32767,l=t>>15;--o>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}s(wIt,"am2");function SDe(e,t,r,n,i,o){for(var a=t&16383,l=t>>14;--o>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}s(SDe,"am3");typeof navigator>"u"?(Bt.prototype.am=SDe,VA=28):_De&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=wIt,VA=30):_De&&navigator.appName!="Netscape"?(Bt.prototype.am=TIt,VA=26):(Bt.prototype.am=SDe,VA=28);Bt.prototype.DB=VA;Bt.prototype.DM=(1<<VA)-1;Bt.prototype.DV=1<<VA;var Rae=52;Bt.prototype.FV=Math.pow(2,Rae);Bt.prototype.F1=Rae-VA;Bt.prototype.F2=2*VA-Rae;var _It="0123456789abcdefghijklmnopqrstuvwxyz",LW=new Array,u9,nm;u9=48;for(nm=0;nm<=9;++nm)LW[u9++]=nm;u9=97;for(nm=10;nm<36;++nm)LW[u9++]=nm;u9=65;for(nm=10;nm<36;++nm)LW[u9++]=nm;function RDe(e){return _It.charAt(e)}s(RDe,"int2char");function kDe(e,t){var r=LW[e.charCodeAt(t)];return r??-1}s(kDe,"intAt");function SIt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}s(SIt,"bnpCopyTo");function RIt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}s(RIt,"bnpFromInt");function bC(e){var t=fo();return t.fromInt(e),t}s(bC,"nbv");function kIt(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=r==8?e[n]&255:kDe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}s(kIt,"bnpFromString");function BIt(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}s(BIt,"bnpClamp");function DIt(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,o="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,o=RDe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(o+=RDe(n));return i?o:"0"}s(DIt,"bnToString");function PIt(){var e=fo();return Bt.ZERO.subTo(this,e),e}s(PIt,"bnNegate");function NIt(){return this.s<0?this.negate():this}s(NIt,"bnAbs");function LIt(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}s(LIt,"bnCompareTo");function FW(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}s(FW,"nbits");function FIt(){return this.t<=0?0:this.DB*(this.t-1)+FW(this.data[this.t-1]^this.s&this.DM)}s(FIt,"bnBitLength");function MIt(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}s(MIt,"bnpDLShiftTo");function QIt(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}s(QIt,"bnpDRShiftTo");function OIt(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+o+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=o-1;l>=0;--l)t.data[l]=0;t.data[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}s(OIt,"bnpLShiftTo");function UIt(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}s(UIt,"bnpRShiftTo");function qIt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}s(qIt,"bnpSubTo");function WIt(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}s(WIt,"bnpMultiplyTo");function GIt(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}s(GIt,"bnpSquareTo");function HIt(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=fo());var o=fo(),a=this.s,l=e.s,c=this.DB-FW(n.data[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,f=o.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?o.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,g=1<<this.F2,y=r.t,v=y-u,b=t??fo();for(o.dlShiftTo(v,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),Bt.ONE.dlShiftTo(u,b),b.subTo(o,o);o.t<u;)o.data[o.t++]=0;for(;--v>=0;){var E=r.data[--y]==f?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+g)*p);if((r.data[y]+=o.am(0,E,r,v,0,u))<E)for(o.dlShiftTo(v,b),r.subTo(b,r);r.data[y]<--E;)r.subTo(b,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}s(HIt,"bnpDivRemTo");function jIt(e){var t=fo();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}s(jIt,"bnMod");function yb(e){this.m=e}s(yb,"Classic");function VIt(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}s(VIt,"cConvert");function $It(e){return e}s($It,"cRevert");function zIt(e){e.divRemTo(this.m,null,e)}s(zIt,"cReduce");function YIt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(YIt,"cMulTo");function KIt(e,t){e.squareTo(t),this.reduce(t)}s(KIt,"cSqrTo");yb.prototype.convert=VIt;yb.prototype.revert=$It;yb.prototype.reduce=zIt;yb.prototype.mulTo=YIt;yb.prototype.sqrTo=KIt;function JIt(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}s(JIt,"bnpInvDigit");function Cb(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}s(Cb,"Montgomery");function XIt(e){var t=fo();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}s(XIt,"montConvert");function ZIt(e){var t=fo();return e.copyTo(t),this.reduce(t),t}s(ZIt,"montRevert");function e8t(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}s(e8t,"montReduce");function t8t(e,t){e.squareTo(t),this.reduce(t)}s(t8t,"montSqrTo");function r8t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(r8t,"montMulTo");Cb.prototype.convert=XIt;Cb.prototype.revert=ZIt;Cb.prototype.reduce=e8t;Cb.prototype.mulTo=r8t;Cb.prototype.sqrTo=t8t;function n8t(){return(this.t>0?this.data[0]&1:this.s)==0}s(n8t,"bnpIsEven");function i8t(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=fo(),n=fo(),i=t.convert(this),o=FW(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}s(i8t,"bnpExp");function o8t(e,t){var r;return e<256||t.isEven()?r=new yb(t):r=new Cb(t),this.exp(e,r)}s(o8t,"bnModPowInt");Bt.prototype.copyTo=SIt;Bt.prototype.fromInt=RIt;Bt.prototype.fromString=kIt;Bt.prototype.clamp=BIt;Bt.prototype.dlShiftTo=MIt;Bt.prototype.drShiftTo=QIt;Bt.prototype.lShiftTo=OIt;Bt.prototype.rShiftTo=UIt;Bt.prototype.subTo=qIt;Bt.prototype.multiplyTo=WIt;Bt.prototype.squareTo=GIt;Bt.prototype.divRemTo=HIt;Bt.prototype.invDigit=JIt;Bt.prototype.isEven=n8t;Bt.prototype.exp=i8t;Bt.prototype.toString=DIt;Bt.prototype.negate=PIt;Bt.prototype.abs=NIt;Bt.prototype.compareTo=LIt;Bt.prototype.bitLength=FIt;Bt.prototype.mod=jIt;Bt.prototype.modPowInt=o8t;Bt.ZERO=bC(0);Bt.ONE=bC(1);function s8t(){var e=fo();return this.copyTo(e),e}s(s8t,"bnClone");function a8t(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(a8t,"bnIntValue");function l8t(){return this.t==0?this.s:this.data[0]<<24>>24}s(l8t,"bnByteValue");function c8t(){return this.t==0?this.s:this.data[0]<<16>>16}s(c8t,"bnShortValue");function u8t(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}s(u8t,"bnpChunkSize");function f8t(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(f8t,"bnSigNum");function d8t(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=bC(r),i=fo(),o=fo(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a}s(d8t,"bnpToRadix");function m8t(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,l=0;l<e.length;++l){var c=kDe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}s(m8t,"bnpFromRadix");function h8t(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),kae,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}s(h8t,"bnpFromNumber");function p8t(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}s(p8t,"bnToByteArray");function g8t(e){return this.compareTo(e)==0}s(g8t,"bnEquals");function A8t(e){return this.compareTo(e)<0?this:e}s(A8t,"bnMin");function y8t(e){return this.compareTo(e)>0?this:e}s(y8t,"bnMax");function C8t(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}s(C8t,"bnpBitwiseTo");function x8t(e,t){return e&t}s(x8t,"op_and");function v8t(e){var t=fo();return this.bitwiseTo(e,x8t,t),t}s(v8t,"bnAnd");function kae(e,t){return e|t}s(kae,"op_or");function b8t(e){var t=fo();return this.bitwiseTo(e,kae,t),t}s(b8t,"bnOr");function BDe(e,t){return e^t}s(BDe,"op_xor");function E8t(e){var t=fo();return this.bitwiseTo(e,BDe,t),t}s(E8t,"bnXor");function DDe(e,t){return e&~t}s(DDe,"op_andnot");function I8t(e){var t=fo();return this.bitwiseTo(e,DDe,t),t}s(I8t,"bnAndNot");function T8t(){for(var e=fo(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}s(T8t,"bnNot");function w8t(e){var t=fo();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}s(w8t,"bnShiftLeft");function _8t(e){var t=fo();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}s(_8t,"bnShiftRight");function S8t(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}s(S8t,"lbit");function R8t(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+S8t(this.data[e]);return this.s<0?this.t*this.DB:-1}s(R8t,"bnGetLowestSetBit");function k8t(e){for(var t=0;e!=0;)e&=e-1,++t;return t}s(k8t,"cbit");function B8t(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=k8t(this.data[r]^t);return e}s(B8t,"bnBitCount");function D8t(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}s(D8t,"bnTestBit");function P8t(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}s(P8t,"bnpChangeBit");function N8t(e){return this.changeBit(e,kae)}s(N8t,"bnSetBit");function L8t(e){return this.changeBit(e,DDe)}s(L8t,"bnClearBit");function F8t(e){return this.changeBit(e,BDe)}s(F8t,"bnFlipBit");function M8t(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}s(M8t,"bnpAddTo");function Q8t(e){var t=fo();return this.addTo(e,t),t}s(Q8t,"bnAdd");function O8t(e){var t=fo();return this.subTo(e,t),t}s(O8t,"bnSubtract");function U8t(e){var t=fo();return this.multiplyTo(e,t),t}s(U8t,"bnMultiply");function q8t(e){var t=fo();return this.divRemTo(e,t,null),t}s(q8t,"bnDivide");function W8t(e){var t=fo();return this.divRemTo(e,null,t),t}s(W8t,"bnRemainder");function G8t(e){var t=fo(),r=fo();return this.divRemTo(e,t,r),new Array(t,r)}s(G8t,"bnDivideAndRemainder");function H8t(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}s(H8t,"bnpDMultiply");function j8t(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}s(j8t,"bnpDAddOffset");function YR(){}s(YR,"NullExp");function PDe(e){return e}s(PDe,"nNop");function V8t(e,t,r){e.multiplyTo(t,r)}s(V8t,"nMulTo");function $8t(e,t){e.squareTo(t)}s($8t,"nSqrTo");YR.prototype.convert=PDe;YR.prototype.revert=PDe;YR.prototype.mulTo=V8t;YR.prototype.sqrTo=$8t;function z8t(e){return this.exp(e,new YR)}s(z8t,"bnPow");function Y8t(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}s(Y8t,"bnpMultiplyLowerTo");function K8t(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}s(K8t,"bnpMultiplyUpperTo");function f9(e){this.r2=fo(),this.q3=fo(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}s(f9,"Barrett");function J8t(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=fo();return e.copyTo(t),this.reduce(t),t}s(J8t,"barrettConvert");function X8t(e){return e}s(X8t,"barrettRevert");function Z8t(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}s(Z8t,"barrettReduce");function e6t(e,t){e.squareTo(t),this.reduce(t)}s(e6t,"barrettSqrTo");function t6t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(t6t,"barrettMulTo");f9.prototype.convert=J8t;f9.prototype.revert=X8t;f9.prototype.reduce=Z8t;f9.prototype.mulTo=t6t;f9.prototype.sqrTo=e6t;function r6t(e,t){var r=e.bitLength(),n,i=bC(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new yb(t):t.isEven()?o=new f9(t):o=new Cb(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=o.convert(this),n>1){var f=fo();for(o.sqrTo(a[1],f);l<=u;)a[l]=fo(),o.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,g=fo(),y;for(r=FW(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)o.sqrTo(i,g),o.sqrTo(g,i),l-=2;l>0?o.sqrTo(i,g):(y=i,i=g,g=y),o.mulTo(g,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)o.sqrTo(i,g),y=i,i=g,g=y,--r<0&&(r=this.DB-1,--m)}return o.revert(i)}s(r6t,"bnModPow");function n6t(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}s(n6t,"bnGCD");function i6t(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}s(i6t,"bnpModInt");function o6t(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=bC(1),o=bC(0),a=bC(0),l=bC(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(l,o)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(o,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}s(o6t,"bnModInverse");var Qh=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],s6t=(1<<26)/Qh[Qh.length-1];function a6t(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Qh[Qh.length-1]){for(t=0;t<Qh.length;++t)if(r.data[0]==Qh[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Qh.length;){for(var n=Qh[t],i=t+1;i<Qh.length&&n<s6t;)n*=Qh[i++];for(n=r.modInt(n);t<i;)if(n%Qh[t++]==0)return!1}return r.millerRabin(e)}s(a6t,"bnIsProbablePrime");function l6t(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=c6t(),o,a=0;a<e;++a){do o=new Bt(this.bitLength(),i);while(o.compareTo(Bt.ONE)<=0||o.compareTo(t)>=0);var l=o.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}s(l6t,"bnpMillerRabin");function c6t(){return{nextBytes:s(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}s(c6t,"bnGetPrng");Bt.prototype.chunkSize=u8t;Bt.prototype.toRadix=d8t;Bt.prototype.fromRadix=m8t;Bt.prototype.fromNumber=h8t;Bt.prototype.bitwiseTo=C8t;Bt.prototype.changeBit=P8t;Bt.prototype.addTo=M8t;Bt.prototype.dMultiply=H8t;Bt.prototype.dAddOffset=j8t;Bt.prototype.multiplyLowerTo=Y8t;Bt.prototype.multiplyUpperTo=K8t;Bt.prototype.modInt=i6t;Bt.prototype.millerRabin=l6t;Bt.prototype.clone=s8t;Bt.prototype.intValue=a8t;Bt.prototype.byteValue=l8t;Bt.prototype.shortValue=c8t;Bt.prototype.signum=f8t;Bt.prototype.toByteArray=p8t;Bt.prototype.equals=g8t;Bt.prototype.min=A8t;Bt.prototype.max=y8t;Bt.prototype.and=v8t;Bt.prototype.or=b8t;Bt.prototype.xor=E8t;Bt.prototype.andNot=I8t;Bt.prototype.not=T8t;Bt.prototype.shiftLeft=w8t;Bt.prototype.shiftRight=_8t;Bt.prototype.getLowestSetBit=R8t;Bt.prototype.bitCount=B8t;Bt.prototype.testBit=D8t;Bt.prototype.setBit=N8t;Bt.prototype.clearBit=L8t;Bt.prototype.flipBit=F8t;Bt.prototype.add=Q8t;Bt.prototype.subtract=O8t;Bt.prototype.multiply=U8t;Bt.prototype.divide=q8t;Bt.prototype.remainder=W8t;Bt.prototype.divideAndRemainder=G8t;Bt.prototype.modPow=r6t;Bt.prototype.modInverse=o6t;Bt.prototype.pow=z8t;Bt.prototype.gcd=n6t;Bt.prototype.isProbablePrime=a6t});var d9=j((EKr,QDe)=>{d();var Ng=fi();Rg();uo();var FDe=QDe.exports=Ng.sha1=Ng.sha1||{};Ng.md.sha1=Ng.md.algorithms.sha1=FDe;FDe.create=function(){MDe||u6t();var e=null,t=Ng.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Ng.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ng.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),LDe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ng.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Bae.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};LDe(m,r,i);var h=Ng.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var Bae=null,MDe=!1;function u6t(){Bae="\x80",Bae+=Ng.util.fillString("\0",64),MDe=!0}s(u6t,"_init");function LDe(e,t,r){for(var n,i,o,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^o&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^o&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=o^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o&a|l&(o^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}s(LDe,"_update")});var Dae=j((wKr,UDe)=>{d();var Lg=fi();uo();rm();d9();var ODe=UDe.exports=Lg.pkcs1=Lg.pkcs1||{};ODe.encode_rsa_oaep=function(e,t,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=Lg.md.sha1.create(),a||(a=o);var l=Math.ceil(e.n.bitLength()/8),c=l-2*o.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),o.update(n,"raw");for(var f=o.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var g=f.getBytes()+m+""+t;if(!i)i=Lg.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=o.digestLength,u}var y=MW(i,l-o.digestLength-1,a),v=Lg.util.xorBytes(g,y,g.length),b=MW(v,o.digestLength,a),E=Lg.util.xorBytes(i,b,i.length);return"\0"+E+v};ODe.decode_rsa_oaep=function(e,t,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var v=new Error("RSAES-OAEP encoded message length is invalid.");throw v.length=t.length,v.expectedLength=a,v}if(i===void 0?i=Lg.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=MW(f,i.digestLength,o),h=Lg.util.xorBytes(u,m,u.length),p=MW(h,a-i.digestLength-1,o),g=Lg.util.xorBytes(f,p,f.length),y=g.substring(0,i.digestLength),v=c!=="\0",b=0;b<i.digestLength;++b)v|=l.charAt(b)!==y.charAt(b);for(var E=1,_=i.digestLength,k=i.digestLength;k<g.length;k++){var B=g.charCodeAt(k),N=B&1^1,M=E?65534:0;v|=B&M,E=E&N,_+=E}if(v||g.charCodeAt(_)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(_+1)};function MW(e,t,r){r||(r=Lg.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}s(MW,"rsa_mgf1")});var Nae=j((RKr,Pae)=>{d();var EC=fi();uo();KR();rm();(function(){if(EC.prime){Pae.exports=EC.prime;return}var e=Pae.exports=EC.prime=EC.prime||{},t=EC.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=s(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var g=h.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var y=h.prng||EC.random,v={nextBytes:s(function(b){for(var E=y.getBytesSync(b.length),_=0;_<b.length;++_)b[_]=E.charCodeAt(_)},"nextBytes")};if(g.name==="PRIMEINC")return o(m,v,g.options,p);throw new Error("Invalid prime generation algorithm: "+g.name)};function o(m,h,p,g){return"workers"in p?c(m,h,p,g):a(m,h,p,g)}s(o,"primeincFindPrime");function a(m,h,p,g){var y=u(m,h),v=0,b=f(y.bitLength());"millerRabinTests"in p&&(b=p.millerRabinTests);var E=10;"maxBlockTime"in p&&(E=p.maxBlockTime),l(y,m,h,v,b,E,g)}s(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,g,y,v,b){var E=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(y))return b(null,m);m.dAddOffset(r[g++%8],0)}while(v<0||+new Date-E<v);EC.util.setImmediate(function(){l(m,h,p,g,y,v,b)})}s(l,"_primeinc");function c(m,h,p,g){if(typeof Worker>"u")return a(m,h,p,g);var y=u(m,h),v=p.workers,b=p.workLoad||100,E=b*30/8,_=p.workerScript||"forge/prime.worker.js";if(v===-1)return EC.util.estimateCores(function(B,N){B&&(N=2),v=N-1,k()});k();function k(){v=Math.max(1,v);for(var B=[],N=0;N<v;++N)B[N]=new Worker(_);for(var M=v,N=0;N<v;++N)B[N].addEventListener("message",pe);var re=!1;function pe(Z){if(!re){--M;var G=Z.data;if(G.found){for(var q=0;q<B.length;++q)B[q].terminate();return re=!0,g(null,new t(G.prime,16))}y.bitLength()>m&&(y=u(m,h));var ie=y.toString(16);Z.target.postMessage({hex:ie,workLoad:b}),y.dAddOffset(E,0)}}s(pe,"workerMessage")}s(k,"generate")}s(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),g=m-1;return p.testBit(g)||p.bitwiseTo(t.ONE.shiftLeft(g),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}s(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}s(f,"getMillerRabinTests")})()});var JR=j((DKr,$De)=>{d();var an=fi();Mh();KR();vC();Dae();Nae();rm();uo();typeof eo>"u"&&(eo=an.jsbn.BigInteger);var eo,Lae=an.util.isNodejs?require("crypto"):null,ze=an.asn1,im=an.util;an.pki=an.pki||{};$De.exports=an.pki.rsa=an.rsa=an.rsa||{};var Jn=an.pki,f6t=[6,4,2,4,2,4,6,2],d6t={name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},m6t={name:"RSAPrivateKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h6t={name:"RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},p6t=an.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},g6t={name:"DigestInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ze.Class.UNIVERSAL,type:ze.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},A6t=s(function(e){var t;if(e.algorithm in Jn.oids)t=Jn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=ze.oidToDer(t).getBytes(),i=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]),o=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]);o.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,n)),o.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,""));var a=ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),ze.toDer(i).getBytes()},"emsaPkcs1v15encode"),jDe=s(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(eo.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(eo.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new eo(an.util.bytesToHex(an.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(eo.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var a=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Jn.rsa.encrypt=function(e,t,r){var n=r,i,o=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=VDe(e,t,r)):(i=an.util.createBuffer(),i.putBytes(e));for(var a=new eo(i.toHex(),16),l=jDe(a,t,n),c=l.toString(16),u=an.util.createBuffer(),f=o-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(an.util.hexToBytes(c)),u.getBytes()};Jn.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new eo(an.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=jDe(a,t,r),c=l.toString(16),u=an.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(an.util.hexToBytes(c)),n!==!1?QW(u.getBytes(),t,r):u.getBytes()};Jn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||an.random,i={nextBytes:s(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new eo(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};Jn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new eo(null);r.fromInt(30);for(var n=0,i=s(function(m,h){return m|h},"op_or"),o=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new eo(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(eo.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(C6t(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(f6t[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(eo.ONE).gcd(e.e).compareTo(eo.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(eo.ONE),e.q1=e.q.subtract(eo.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(eo.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Jn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Jn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-o,o=a}return e.keys!==null};Jn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!an.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(qDe("generateKeyPair"))return Lae.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Jn.privateKeyFromPem(u),publicKey:Jn.publicKeyFromPem(c)})});if(WDe("generateKey")&&WDe("exportKey"))return im.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:HDe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return im.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Jn.privateKeyFromAsn1(ze.fromDer(an.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Jn.setRsaPublicKey(c.n,c.e)})}});if(GDe("generateKey")&&GDe("exportKey")){var i=im.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:HDe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=im.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Jn.privateKeyFromAsn1(ze.fromDer(an.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Jn.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(qDe("generateKeyPairSync")){var o=Lae.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Jn.privateKeyFromPem(o.privateKey),publicKey:Jn.publicKeyFromPem(o.publicKey)}}}var a=Jn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Jn.rsa.stepKeyPairGenerationState(a,0),a.keys;y6t(a,r,n)};Jn.setRsaPublicKey=Jn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:s(function(l,c,u){return VDe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:s(function(l,c){return an.pkcs1.encode_rsa_oaep(c,l,o)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:s(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Jn.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:s(function(c,u){u=QW(u,r,!0);var f=ze.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!ze.validate(f,g6t,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var g=ze.derToOid(m.algorithmIdentifier);if(!(g===an.oids.md2||g===an.oids.md5||g===an.oids.sha1||g===an.oids.sha224||g===an.oids.sha256||g===an.oids.sha384||g===an.oids.sha512||g===an.oids["sha512-224"]||g===an.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=g,p}if((g===an.oids.md2||g===an.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:s(function(c,u){return u=QW(u,r,!0),c===u},"verify")});var l=Jn.rsa.decrypt(i,r,!0,!1);return o.verify(n,l,r.n.bitLength())},r};Jn.setRsaPrivateKey=Jn.rsa.setPrivateKey=function(e,t,r,n,i,o,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Jn.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:QW};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:s(function(p,g){return an.pkcs1.decode_rsa_oaep(g,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:s(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:A6t},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:s(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Jn.rsa.encrypt(h,c,m)},c};Jn.wrapRsaPrivateKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(Jn.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,ze.toDer(e).getBytes())])};Jn.privateKeyFromAsn1=function(e){var t={},r=[];if(ze.validate(e,d6t,t,r)&&(e=ze.fromDer(an.util.createBuffer(t.privateKey))),t={},r=[],!ze.validate(e,m6t,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,l,c,u,f,m;return i=an.util.createBuffer(t.privateKeyModulus).toHex(),o=an.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=an.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=an.util.createBuffer(t.privateKeyPrime1).toHex(),c=an.util.createBuffer(t.privateKeyPrime2).toHex(),u=an.util.createBuffer(t.privateKeyExponent1).toHex(),f=an.util.createBuffer(t.privateKeyExponent2).toHex(),m=an.util.createBuffer(t.privateKeyCoefficient).toHex(),Jn.setRsaPrivateKey(new eo(i,16),new eo(o,16),new eo(a,16),new eo(l,16),new eo(c,16),new eo(u,16),new eo(f,16),new eo(m,16))};Jn.privateKeyToAsn1=Jn.privateKeyToRSAPrivateKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.e)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.d)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.p)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.q)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.dP)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.dQ)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.qInv))])};Jn.publicKeyFromAsn1=function(e){var t={},r=[];if(ze.validate(e,p6t,t,r)){var n=ze.derToOid(t.publicKeyOid);if(n!==Jn.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!ze.validate(e,h6t,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=an.util.createBuffer(t.publicKeyModulus).toHex(),a=an.util.createBuffer(t.publicKeyExponent).toHex();return Jn.setRsaPublicKey(new eo(o,16),new eo(a,16))};Jn.publicKeyToAsn1=Jn.publicKeyToSubjectPublicKeyInfo=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(Jn.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.BITSTRING,!1,[Jn.publicKeyToRSAPublicKey(e)])])};Jn.publicKeyToRSAPublicKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Fg(e.e))])};function VDe(e,t,r){var n=an.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=an.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}s(VDe,"_encodePkcs1_v1_5");function QW(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=an.util.createBuffer(e),a=o.getByte(),l=o.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++c}else if(l===2)for(c=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++c}var f=o.getByte();if(f!==0||c!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}s(QW,"_decodePkcs1_v1_5");function y6t(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){o(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);o(e.qBits,a)})}s(i,"generate");function o(l,c){an.prime.generateProbablePrime(l,n,c)}s(o,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(eo.ONE).gcd(e.e).compareTo(eo.ONE)!==0){e.p=null,i();return}if(e.q.subtract(eo.ONE).gcd(e.e).compareTo(eo.ONE)!==0){e.q=null,o(e.qBits,a);return}if(e.p1=e.p.subtract(eo.ONE),e.q1=e.q.subtract(eo.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(eo.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Jn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Jn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}s(a,"finish")}s(y6t,"_generateKeyPair");function Fg(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=an.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(Fg,"_bnToBytes");function C6t(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}s(C6t,"_getMillerRabinTests");function qDe(e){return an.util.isNodejs&&typeof Lae[e]=="function"}s(qDe,"_detectNodeCrypto");function WDe(e){return typeof im.globalScope<"u"&&typeof im.globalScope.crypto=="object"&&typeof im.globalScope.crypto.subtle=="object"&&typeof im.globalScope.crypto.subtle[e]=="function"}s(WDe,"_detectSubtleCrypto");function GDe(e){return typeof im.globalScope<"u"&&typeof im.globalScope.msCrypto=="object"&&typeof im.globalScope.msCrypto.subtle=="object"&&typeof im.globalScope.msCrypto.subtle[e]=="function"}s(GDe,"_detectSubtleMsCrypto");function HDe(e){for(var t=an.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}s(HDe,"_intToUint8Array")});var Fae=j((LKr,XDe)=>{d();var kr=fi();xC();Mh();zR();Rg();vC();PW();Ab();rm();_ae();JR();uo();typeof zDe>"u"&&(zDe=kr.jsbn.BigInteger);var zDe,ht=kr.asn1,si=kr.pki=kr.pki||{};XDe.exports=si.pbe=kr.pbe=kr.pbe||{};var xb=si.oids,x6t={name:"EncryptedPrivateKeyInfo",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},v6t={name:"PBES2Algorithms",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},b6t={name:"pkcs-12PbeParams",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"iterations"}]};si.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=kr.random.getBytesSync(r.saltSize),i=r.count,o=ht.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=xb["aes128-CBC"],m=kr.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=xb["aes192-CBC"],m=kr.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=xb["aes256-CBC"],m=kr.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=xb.desCBC,m=kr.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),g=JDe(p),y=kr.pkcs5.pbkdf2(t,n,i,a,g),v=kr.random.getBytesSync(u),b=m(y);b.start(v),b.update(ht.toDer(e)),b.finish(),c=b.output.getBytes();var E=E6t(n,o,a,p);l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(xb.pkcs5PBES2).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(xb.pkcs5PBKDF2).getBytes()),E]),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(f).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,v)])])])}else if(r.algorithm==="3des"){a=24;var _=new kr.util.ByteBuffer(n),y=si.pbe.generatePkcs12Key(t,_,1,i,a),v=si.pbe.generatePkcs12Key(t,_,2,i,a),b=kr.des.createEncryptionCipher(y);b.start(v),b.update(ht.toDer(e)),b.finish(),c=b.output.getBytes(),l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(xb["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,n),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var k=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[l,ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,c)]);return k};si.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!ht.validate(e,x6t,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=ht.derToOid(n.encryptionOid),l=si.pbe.getCipher(a,n.encryptionParams,t),c=kr.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=ht.fromDer(l.output)),r};si.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:ht.toDer(e).getBytes()};return kr.pem.encode(r,{maxline:t})};si.encryptedPrivateKeyFromPem=function(e){var t=kr.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ht.fromDer(t.body)};si.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=si.wrapRsaPrivateKey(si.privateKeyToAsn1(e));return n=si.encryptPrivateKeyInfo(n,t,r),si.encryptedPrivateKeyToPem(n)}var i,o,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=kr.random.getBytesSync(16),l=kr.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=kr.random.getBytesSync(16),l=kr.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=kr.random.getBytesSync(16),l=kr.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=kr.random.getBytesSync(8),l=kr.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=kr.random.getBytesSync(8),l=kr.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=kr.pbe.opensslDeriveBytes(t,o.substr(0,8),a),f=l(u);f.start(o),f.update(ht.toDer(si.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:kr.util.bytesToHex(o).toUpperCase()},body:f.output.getBytes()};return kr.pem.encode(m)};si.decryptRsaPrivateKey=function(e,t){var r=null,n=kr.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=kr.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=kr.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=kr.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=kr.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=kr.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=s(function(m){return kr.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":o=8,a=s(function(m){return kr.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":o=16,a=s(function(m){return kr.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=kr.util.hexToBytes(n.dekInfo.parameters),c=kr.pbe.opensslDeriveBytes(t,l.substr(0,8),o),u=a(c);if(u.start(l),u.update(kr.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=si.decryptPrivateKeyInfo(ht.fromDer(r),t):r=ht.fromDer(r),r!==null&&(r=si.privateKeyFromAsn1(r)),r};si.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,l;if(typeof o>"u"||o===null){if(!("sha1"in kr.md))throw new Error('"sha1" hash algorithm unavailable.');o=kr.md.sha1.create()}var c=o.digestLength,u=o.blockLength,f=new kr.util.ByteBuffer,m=new kr.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),g=new kr.util.ByteBuffer;g.fillWithByte(r,u);var y=u*Math.ceil(p/u),v=new kr.util.ByteBuffer;for(l=0;l<y;l++)v.putByte(t.at(l%p));var b=u*Math.ceil(h/u),E=new kr.util.ByteBuffer;for(l=0;l<b;l++)E.putByte(m.at(l%h));var _=v;_.putBuffer(E);for(var k=Math.ceil(i/c),B=1;B<=k;B++){var N=new kr.util.ByteBuffer;N.putBytes(g.bytes()),N.putBytes(_.bytes());for(var M=0;M<n;M++)o.start(),o.update(N.getBytes()),N=o.digest();var re=new kr.util.ByteBuffer;for(l=0;l<u;l++)re.putByte(N.at(l%c));var pe=Math.ceil(p/u)+Math.ceil(h/u),Z=new kr.util.ByteBuffer;for(a=0;a<pe;a++){var G=new kr.util.ByteBuffer(_.getBytes(u)),q=511;for(l=re.length()-1;l>=0;l--)q=q>>8,q+=re.at(l)+G.at(l),G.setAt(l,q&255);Z.putBuffer(G)}_=Z,f.putBuffer(N)}return f.truncate(f.length()-i),f};si.pbe.getCipher=function(e,t,r){switch(e){case si.oids.pkcs5PBES2:return si.pbe.getCipherForPBES2(e,t,r);case si.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case si.oids["pbewithSHAAnd40BitRC2-CBC"]:return si.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};si.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!ht.validate(t,v6t,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=ht.derToOid(n.kdfOid),e!==si.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=ht.derToOid(n.encOid),e!==si.oids["aes128-CBC"]&&e!==si.oids["aes192-CBC"]&&e!==si.oids["aes256-CBC"]&&e!==si.oids["des-EDE3-CBC"]&&e!==si.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,l=kr.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(si.oids[e]){case"aes128-CBC":c=16,u=kr.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=kr.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=kr.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=kr.des.createDecryptionCipher;break;case"desCBC":c=8,u=kr.des.createDecryptionCipher;break}var f=KDe(n.prfOid),m=kr.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};si.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!ht.validate(t,b6t,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=kr.util.createBuffer(n.salt),l=kr.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case si.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=kr.des.startDecrypting;break;case si.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=s(function(y,v){var b=kr.rc2.createDecryptionCipher(y,40);return b.start(v,null),b},"cipherFn");break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var m=KDe(n.prfOid),h=si.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=si.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};si.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in kr.md))throw new Error('"md5" hash algorithm unavailable.');n=kr.md.md5.create()}t===null&&(t="");for(var i=[YDe(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(YDe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function YDe(e,t){return e.start().update(t).digest().getBytes()}s(YDe,"hash");function KDe(e){var t;if(!e)t="hmacWithSHA1";else if(t=si.oids[ht.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return JDe(t)}s(KDe,"prfOidToMessageDigest");function JDe(e){var t=kr.md;switch(e){case"hmacWithSHA224":t=kr.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}s(JDe,"prfAlgorithmToMessageDigest");function E6t(e,t,r,n){var i=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,e),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,kr.util.hexToBytes(r.toString(16))),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(si.oids[n]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.NULL,!1,"")])),i}s(E6t,"createPbkdf2Params")});var Mae=j((QKr,tPe)=>{d();var m9=fi();Mh();uo();var wr=m9.asn1,h9=tPe.exports=m9.pkcs7asn1=m9.pkcs7asn1||{};m9.pkcs7=m9.pkcs7||{};m9.pkcs7.asn1=h9;var ZDe={name:"ContentInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};h9.contentInfoValidator=ZDe;var ePe={name:"EncryptedContentInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:wr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};h9.envelopedDataValidator={name:"EnvelopedData",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(ePe)};h9.encryptedDataValidator={name:"EncryptedData",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"}].concat(ePe)};var I6t={name:"SignerInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:wr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:wr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};h9.signedDataValidator={name:"SignedData",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},ZDe,{name:"SignedData.Certificates",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:wr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SET,capture:"signerInfos",optional:!0,value:[I6t]}]};h9.recipientInfoValidator={name:"RecipientInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:wr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var Qae=j((UKr,rPe)=>{d();var vb=fi();uo();vb.mgf=vb.mgf||{};var T6t=rPe.exports=vb.mgf.mgf1=vb.mgf1=vb.mgf1||{};T6t.create=function(e){var t={generate:s(function(r,n){for(var i=new vb.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var l=new vb.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var iPe=j((GKr,nPe)=>{d();var OW=fi();Qae();nPe.exports=OW.mgf=OW.mgf||{};OW.mgf.mgf1=OW.mgf1});var UW=j((jKr,oPe)=>{d();var bb=fi();rm();uo();var w6t=oPe.exports=bb.pss=bb.pss||{};w6t.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=bb.util.createBuffer(i));var o;if("saltLength"in e)o=e.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||bb.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+o+2)throw new Error("Message is too long to encrypt.");var g;i===null?g=a.getBytesSync(o):g=i.bytes();var y=new bb.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(p),y.putBytes(g),t.start(),t.update(y.getBytes());var v=t.digest().getBytes(),b=new bb.util.ByteBuffer;b.fillWithByte(0,h-o-n-2),b.putByte(1),b.putBytes(g);var E=b.getBytes(),_=h-n-1,k=r.generate(v,_),B="";for(f=0;f<_;f++)B+=String.fromCharCode(E.charCodeAt(f)^k.charCodeAt(f));var N=65280>>8*h-m&255;return B=String.fromCharCode(B.charCodeAt(0)&~N)+B.substr(1),B+v+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=p-n-1,y=u.substr(0,g),v=u.substr(g,n),b=65280>>8*p-h&255;if((y.charCodeAt(0)&b)!==0)throw new Error("Bits beyond keysize not zero as expected.");var E=r.generate(v,g),_="";for(m=0;m<g;m++)_+=String.fromCharCode(y.charCodeAt(m)^E.charCodeAt(m));_=String.fromCharCode(_.charCodeAt(0)&~b)+_.substr(1);var k=p-n-o-2;for(m=0;m<k;m++)if(_.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(_.charCodeAt(k)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var B=_.substr(-o),N=new bb.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(c),N.putBytes(B),t.start(),t.update(N.getBytes());var M=t.digest().getBytes();return v===M},l}});var GW=j(($Kr,uPe)=>{d();var ln=fi();xC();Mh();zR();Rg();iPe();vC();Ab();UW();JR();uo();var $=ln.asn1,sr=uPe.exports=ln.pki=ln.pki||{},to=sr.oids,da={};da.CN=to.commonName;da.commonName="CN";da.C=to.countryName;da.countryName="C";da.L=to.localityName;da.localityName="L";da.ST=to.stateOrProvinceName;da.stateOrProvinceName="ST";da.O=to.organizationName;da.organizationName="O";da.OU=to.organizationalUnitName;da.organizationalUnitName="OU";da.E=to.emailAddress;da.emailAddress="E";var aPe=ln.pki.rsa.publicKeyValidator,_6t={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},aPe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},S6t={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},R6t={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},aPe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},k6t={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[R6t,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};sr.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,o,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)o={},i=n.value[l],o.type=$.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in to&&(o.name=to[o.type],o.name in da&&(o.shortName=da[o.name])),t&&(t.update(o.type),t.update(o.value)),r.push(o)}return r};sr.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),o=n.value[1].value,a=0;a<o.length;++a){var l={};if(l.type=i,l.value=o[a].value,l.valueTagClass=o[a].type,l.type in to&&(l.name=to[l.type],l.name in da&&(l.shortName=da[l.name])),l.type===to.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(sr.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function IC(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s(IC,"_getAttribute");var qW=s(function(e,t,r){var n={};if(e!==to["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:to.sha1},mgf:{algorithmOid:to.mgf1,hash:{algorithmOid:to.sha1}},saltLength:20});var i={},o=[];if(!$.validate(t,S6t,i,o)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=o,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),WW=s(function(e){switch(to[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return ln.md.sha1.create();case"md5WithRSAEncryption":return ln.md.md5.create();case"sha256WithRSAEncryption":return ln.md.sha256.create();case"sha384WithRSAEncryption":return ln.md.sha384.create();case"sha512WithRSAEncryption":return ln.md.sha512.create();case"RSASSA-PSS":return ln.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),lPe=s(function(e){var t=e.certificate,r;switch(t.signatureOid){case to.sha1WithRSAEncryption:case to.sha1WithRSASignature:break;case to["RSASSA-PSS"]:var n,i;if(n=to[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||ln.md[n]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=t.signatureParameters.mgf.hash.algorithmOid,o.name=n,o}if(i=to[t.signatureParameters.mgf.algorithmOid],i===void 0||ln.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=t.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=ln.mgf[i].create(ln.md[n].create()),n=to[t.signatureParameters.hash.algorithmOid],n===void 0||ln.md[n]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=t.signatureParameters.hash.algorithmOid,o.name=n,o}r=ln.pss.create(ln.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");sr.certificateFromPem=function(e,t,r){var n=ln.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=$.fromDer(n.body,r);return sr.certificateFromAsn1(o,t)};sr.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(sr.certificateToAsn1(e)).getBytes()};return ln.pem.encode(r,{maxline:t})};sr.publicKeyFromPem=function(e){var t=ln.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return sr.publicKeyFromAsn1(n)};sr.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(sr.publicKeyToAsn1(e)).getBytes()};return ln.pem.encode(r,{maxline:t})};sr.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(sr.publicKeyToRSAPublicKey(e)).getBytes()};return ln.pem.encode(r,{maxline:t})};sr.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||ln.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(sr.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(sr.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};sr.certificationRequestFromPem=function(e,t,r){var n=ln.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=$.fromDer(n.body,r);return sr.certificationRequestFromAsn1(o,t)};sr.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(sr.certificationRequestToAsn1(e)).getBytes()};return ln.pem.encode(r,{maxline:t})};sr.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return IC(e.issuer,t)},e.issuer.addField=function(t){om([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return IC(e.subject,t)},e.subject.addField=function(t){om([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){om(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){om(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)cPe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||ln.md.sha1.create();var n=to[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=sr.getTBSCertificate(e);var o=$.toDer(e.tbsCertificate);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=n.attributes,o}var a=t.md;if(a===null){a=WW({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||sr.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=lPe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var o,a,l=0;r&&l<n.attributes.length;++l)o=n.attributes[l],a=i.attributes[l],(o.type!==a.type||o.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return sr.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=to.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return ln.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};sr.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,_6t,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var o=$.derToOid(r.publicKeyOid);if(o!==sr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=sr.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=ln.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=ln.asn1.derToOid(r.certSignatureOid),a.signatureParameters=qW(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=ln.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=qW(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=WW({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=ln.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(g){return IC(a.issuer,g)},a.issuer.addField=function(g){om([g]),a.issuer.attributes.push(g)},a.issuer.attributes=sr.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=ln.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(g){return IC(a.subject,g)},a.subject.addField=function(g){om([g]),a.subject.attributes.push(g)},a.subject.attributes=sr.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=sr.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=sr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};sr.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(sr.certificateExtensionFromAsn1(n.value[i]));return t};sr.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in to){if(t.name=to[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var o=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?o=r.value[0].value:r.value.length>1&&(o=r.value[1].value),o!==null&&(t.pathLenConstraint=$.derToInteger(o))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in to?t[to[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=ln.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=ln.util.bytesToHex(r.value)}}return t};sr.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,k6t,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var o=$.derToOid(r.publicKeyOid);if(o!==sr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=sr.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=ln.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=qW(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=ln.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=qW(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=WW({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=ln.md.sha1.create();return a.subject.getField=function(u){return IC(a.subject,u)},a.subject.addField=function(u){om([u]),a.subject.attributes.push(u)},a.subject.attributes=sr.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=sr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return IC(a,u)},a.addAttribute=function(u){om([u]),a.attributes.push(u)},a.attributes=sr.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};sr.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return IC(e.subject,t)},e.subject.addField=function(t){om([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return IC(e,t)},e.addAttribute=function(t){om([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){om(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){om(t),e.attributes=t},e.sign=function(t,r){e.md=r||ln.md.sha1.create();var n=to[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=sr.getCertificationRequestInfo(e);var o=$.toDer(e.certificationRequestInfo);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=WW({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||sr.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=lPe({certificate:e,md:r,signature:e.signature})),t},e};function p9(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,o=0;o<i.length;++o){r=i[o];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=ln.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}s(p9,"_dnToAsn1");function om(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in sr.oids?t.name=sr.oids[t.type]:t.shortName&&t.shortName in da&&(t.name=sr.oids[da[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in sr.oids)t.type=sr.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in da&&(t.shortName=da[t.name]),t.type===to.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(sr.certificateExtensionToAsn1(cPe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}s(om,"_fillMissingFields");function cPe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in sr.oids&&(e.name=sr.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in sr.oids)e.id=sr.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,o=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(o|=128,n=7);var a=String.fromCharCode(n);o!==0?a+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in to?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(to[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=ln.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[p9(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var g=ln.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,y=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),v=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=ln.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));v.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}y.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[v])),l.push(y)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}s(cPe,"_fillMissingExtensionFields");function Oae(e,t){switch(e){case to["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}s(Oae,"_signatureParametersToAsn1");function B6t(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],o=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(o=ln.util.encodeUtf8(o));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,o)])]);t.value.push(c)}return t}s(B6t,"_CRIAttributesToAsn1");var D6t=new Date("1950-01-01T00:00:00Z"),P6t=new Date("2050-01-01T00:00:00Z");function sPe(e){return e>=D6t&&e<P6t?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}s(sPe,"_dateToAsn1");sr.getTBSCertificate=function(e){var t=sPe(e.validity.notBefore),r=sPe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,ln.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),Oae(e.siginfo.algorithmOid,e.siginfo.parameters)]),p9(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),p9(e.subject),sr.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(sr.certificateExtensionsToAsn1(e.extensions)),n};sr.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),p9(e.subject),sr.publicKeyToAsn1(e.publicKey),B6t(e)]);return t};sr.distinguishedNameToAsn1=function(e){return p9(e)};sr.certificateToAsn1=function(e){var t=e.tbsCertificate||sr.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Oae(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};sr.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(sr.certificateExtensionToAsn1(e[n]));return t};sr.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};sr.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||sr.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Oae(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};sr.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=ln.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];ln.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=ln.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;ln.util.isArray(l)||(l=[l]);for(var c=$.toDer(sr.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(sr.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!ln.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=ln.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!ln.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(sr.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(sr.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}s(r,"getBySubject");function n(a){if(!a.hash){var l=ln.md.sha1.create();a.attributes=sr.RDNAttributesAsArray(p9(a),l),a.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var o=e[i];t.addCertificate(o)}return t};sr.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};sr.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:sr.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;ln.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:sr.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:sr.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:sr.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},g=0;a===null&&g<c.extensions.length;++g){var y=c.extensions[g];y.critical&&!(y.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:sr.certificateError.unsupported_certificate})}if(a===null&&(!o||t.length===0&&(!u||f))){var v=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");if(b!==null&&(!b.keyCertSign||v===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:sr.certificateError.bad_certificate}),a===null&&v!==null&&!v.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:sr.certificateError.bad_certificate}),a===null&&b!==null&&"pathLenConstraint"in v){var E=l-1;E>v.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:sr.certificateError.bad_certificate})}}var _=a===null?!0:a.error,k=r.verify?r.verify(_,l,n):_;if(k===!0)a=null;else throw _===!0&&(a={message:"The application rejected the certificate.",error:sr.certificateError.bad_certificate}),(k||k===0)&&(typeof k=="object"&&!ln.util.isArray(k)?(k.message&&(a.message=k.message),k.error&&(a.error=k.error)):typeof k=="string"&&(a.error=k)),a;o=!1,++l}while(t.length>0);return!0}});var qae=j((KKr,dPe)=>{d();var rs=fi();Mh();l9();vC();Mae();Fae();rm();JR();d9();uo();GW();var _e=rs.asn1,wi=rs.pki,ZR=dPe.exports=rs.pkcs12=rs.pkcs12||{},fPe={name:"ContentInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},N6t={name:"PFX",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},fPe,{name:"PFX.macData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:_e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},L6t={name:"SafeBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},F6t={name:"Attribute",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,capture:"values"}]},M6t={name:"CertBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:_e.Class.UNIVERSAL,type:_e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function XR(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var l=e[o].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}s(XR,"_getBagsByAttribute");ZR.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!_e.validate(e,N6t,n,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:s(function(v){var b={},E;return"localKeyId"in v?E=v.localKeyId:"localKeyIdHex"in v&&(E=rs.util.hexToBytes(v.localKeyIdHex)),E===void 0&&!("friendlyName"in v)&&"bagType"in v&&(b[v.bagType]=XR(a.safeContents,null,null,v.bagType)),E!==void 0&&(b.localKeyId=XR(a.safeContents,"localKeyId",E,v.bagType)),"friendlyName"in v&&(b.friendlyName=XR(a.safeContents,"friendlyName",v.friendlyName,v.bagType)),b},"getBags"),getBagsByFriendlyName:s(function(v,b){return XR(a.safeContents,"friendlyName",v,b)},"getBagsByFriendlyName"),getBagsByLocalKeyId:s(function(v,b){return XR(a.safeContents,"localKeyId",v,b)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(_e.derToOid(n.contentType)!==wi.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=_e.derToOid(n.contentType),o}var l=n.content.value[0];if(l.tagClass!==_e.Class.UNIVERSAL||l.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=Uae(l),n.mac){var c=null,u=0,f=_e.derToOid(n.macAlgorithm);switch(f){case wi.oids.sha1:c=rs.md.sha1.create(),u=20;break;case wi.oids.sha256:c=rs.md.sha256.create(),u=32;break;case wi.oids.sha384:c=rs.md.sha384.create(),u=48;break;case wi.oids.sha512:c=rs.md.sha512.create(),u=64;break;case wi.oids.md5:c=rs.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new rs.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(rs.util.bytesToHex(n.macIterations),16):1,p=ZR.generateKey(r,m,3,h,u,c),g=rs.hmac.create();g.start(c,p),g.update(l.value);var y=g.getMac();if(y.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return Q6t(a,l.value,t,r),a};function Uae(e){if(e.composed||e.constructed){for(var t=rs.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}s(Uae,"_decodePkcs7Data");function Q6t(e,t,r,n){if(t=_e.fromDer(t,r),t.tagClass!==_e.Class.UNIVERSAL||t.type!==_e.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var o=t.value[i],a={},l=[];if(!_e.validate(o,fPe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(_e.derToOid(a.contentType)){case wi.oids.data:if(m.tagClass!==_e.Class.UNIVERSAL||m.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=Uae(m).value;break;case wi.oids.encryptedData:f=O6t(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=_e.derToOid(a.contentType),c}u.safeBags=U6t(f,r,n),e.safeContents.push(u)}}s(Q6t,"_decodeAuthenticatedSafe");function O6t(e,t){var r={},n=[];if(!_e.validate(e,rs.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var o=_e.derToOid(r.contentType);if(o!==wi.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=_e.derToOid(r.encAlgorithm);var a=wi.pbe.getCipher(o,r.encParameter,t),l=Uae(r.encryptedContentAsn1),c=rs.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}s(O6t,"_decryptSafeContents");function U6t(e,t,r){if(!t&&e.length===0)return[];if(e=_e.fromDer(e,t),e.tagClass!==_e.Class.UNIVERSAL||e.type!==_e.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var o=e.value[i],a={},l=[];if(!_e.validate(o,L6t,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:_e.derToOid(a.bagId),attributes:q6t(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case wi.oids.pkcs8ShroudedKeyBag:if(h=wi.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case wi.oids.keyBag:try{u.key=wi.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case wi.oids.certBag:f=M6t,m=s(function(){if(_e.derToOid(a.certId)!==wi.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=_e.derToOid(a.certId),g}var y=_e.fromDer(a.cert,t);try{u.cert=wi.certificateFromAsn1(y,!0)}catch{u.cert=null,u.asn1=y}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!_e.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}s(U6t,"_decodeSafeContents");function q6t(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!_e.validate(e[r],F6t,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var a=_e.derToOid(n.oid);if(wi.oids[a]!==void 0){t[wi.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[wi.oids[a]].push(n.values[l].value)}}return t}s(q6t,"_decodeBagAttributes");ZR.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,o;if(i!==null)i=rs.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=rs.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=wi.certificateFromPem(a));var l=rs.md.sha1.create();l.update(_e.toDer(wi.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=rs.random.getBytes(20);var c=[];i!==null&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.localKeyId).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.friendlyName).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(o=_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,c));var u=[],f=[];t!==null&&(rs.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=wi.certificateFromPem(t));var p=h===0?o:void 0,g=wi.certificateToAsn1(t),y=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.certBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.x509Certificate).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(g).getBytes())])])]),p]);m.push(y)}if(m.length>0){var v=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,m),b=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(v).getBytes())])]);u.push(b)}var E=null;if(e!==null){var _=wi.wrapRsaPrivateKey(wi.privateKeyToAsn1(e));r===null?E=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.keyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_]),o]):E=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.pkcs8ShroudedKeyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[wi.encryptPrivateKeyInfo(_,r,n)]),o]);var k=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[E]),B=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(k).getBytes())])]);u.push(B)}var N=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,u),M;if(n.useMac){var l=rs.md.sha1.create(),re=new rs.util.ByteBuffer(rs.random.getBytes(n.saltSize)),pe=n.count,e=ZR.generateKey(r,re,3,pe,20),Z=rs.hmac.create();Z.start(l,e),Z.update(_e.toDer(N).getBytes());var G=Z.getMac();M=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.sha1).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.NULL,!1,"")]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,G.getBytes())]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,re.getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(pe).getBytes())])}return _e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(3).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(N).getBytes())])]),M])};ZR.generateKey=rs.pbe.generatePkcs12Key});var Gae=j((ZKr,mPe)=>{d();var TC=fi();Mh();vC();Fae();Ab();PW();qae();UW();JR();uo();GW();var Wae=TC.asn1,g9=mPe.exports=TC.pki=TC.pki||{};g9.pemToDer=function(e){var t=TC.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return TC.util.createBuffer(t.body)};g9.privateKeyFromPem=function(e){var t=TC.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Wae.fromDer(t.body);return g9.privateKeyFromAsn1(n)};g9.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Wae.toDer(g9.privateKeyToAsn1(e)).getBytes()};return TC.pem.encode(r,{maxline:t})};g9.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Wae.toDer(e).getBytes()};return TC.pem.encode(r,{maxline:t})}});var Yae=j((tJr,vPe)=>{d();var Dt=fi();Mh();l9();RW();Ab();Gae();rm();d9();uo();var $W=s(function(e,t,r,n){var i=Dt.util.createBuffer(),o=e.length>>1,a=o+(e.length&1),l=e.substr(0,a),c=e.substr(o,a),u=Dt.util.createBuffer(),f=Dt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Dt.util.createBuffer();u.putBytes(r);for(var g=0;g<m;++g)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var y=Dt.util.createBuffer();u.clear(),u.putBytes(r);for(var g=0;g<h;++g)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),y.putBuffer(f.digest());return i.putBytes(Dt.util.xorBytes(p.getBytes(),y.getBytes(),n)),i},"prf_TLS1"),W6t=s(function(e,t,r){var n=Dt.hmac.create();n.start("SHA1",e);var i=Dt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),G6t=s(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),H6t=s(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),Bf=s(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Dt.util.createBuffer(e.getBytes(r))},"readVector"),sm=s(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),ee={};ee.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};ee.SupportedVersions=[ee.Versions.TLS_1_1,ee.Versions.TLS_1_0];ee.Version=ee.SupportedVersions[0];ee.MaxFragment=15360;ee.ConnectionEnd={server:0,client:1};ee.PRFAlgorithm={tls_prf_sha256:0};ee.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};ee.CipherType={stream:0,block:1,aead:2};ee.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};ee.CompressionMethod={none:0,deflate:1};ee.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};ee.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};ee.Alert={};ee.Alert.Level={warning:1,fatal:2};ee.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};ee.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};ee.CipherSuites={};ee.getCipherSuite=function(e){var t=null;for(var r in ee.CipherSuites){var n=ee.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};ee.handleUnexpected=function(e,t){var r=!e.open&&e.entity===ee.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unexpected_message}})};ee.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(ee.queue(e,ee.createAlert(e,{level:ee.Alert.Level.warning,description:ee.Alert.Description.no_renegotiation})),ee.flush(e)),e.process()};ee.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===ee.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});else{var o=t.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:Dt.util.createBuffer(o.getBytes(32)),session_id:Bf(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=Bf(o,2),n.compression_methods=Bf(o,1)),a=r-(a-o.length()),a>0){for(var l=Bf(o,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:Bf(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=Bf(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(Bf(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=ee.getCipherSuite(n.cipher_suite);else for(var h=Dt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=ee.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.handshake_failure},cipherSuite:Dt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=ee.CompressionMethod.none}return n};ee.createSecurityParameters=function(e,t){var r=e.entity===ee.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:ee.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:ee.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};ee.handleServerHello=function(e,t,r){var n=ee.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=gPe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=V6t,e.session.resuming=!1,ee.createSecurityParameters(e,n)),e.session.id=i,e.process()}};ee.handleClientHello=function(e,t,r){var n=ee.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),o=null;if(e.sessionCache&&(o=e.sessionCache.getSession(i),o===null?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),i.length===0&&(i=Dt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var a,l=1;l<ee.SupportedVersions.length&&(a=ee.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}o!==null?(e.expect=$ae,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?Z6t:Vae,e.session.resuming=!1,ee.createSecurityParameters(e,n)),e.open=!0,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerHello(e)})),e.session.resuming?(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),e.state.pending=ee.createConnectionState(e),e.state.current.write=e.state.pending.write,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createFinished(e)}))):(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificate(e)})),e.fail||(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerKeyExchange(e)})),e.verifyClient!==!1&&ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificateRequest(e)})),ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerHelloDone(e)})))),ee.flush(e),e.process()}};ee.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Bf(n,3)},o,a,l=[];try{for(;i.certificate_list.length()>0;)o=Bf(i.certificate_list,3),a=Dt.asn1.fromDer(o),o=Dt.pki.certificateFromAsn1(a,!0),l.push(o)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate}})}var c=e.entity===ee.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?hPe:Vae:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],ee.verifyCertificateChain(e,l)&&(e.expect=c?hPe:Vae)),e.process()};ee.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unsupported_certificate}});e.expect=$6t,e.process()};ee.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Bf(n,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=Dt.pki.privateKeyFromPem(o)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}})}if(o===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Dt.random.getBytes(48)}e.expect=$ae,e.session.clientCertificate!==null&&(e.expect=e9t),e.process()};ee.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Bf(n,1),certificate_authorities:Bf(n,2)};e.session.certificateRequest=i,e.expect=z6t,e.process()};ee.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:Bf(n,2).getBytes()},a=Dt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.handshake_failure}})}e.expect=$ae,e.process()};ee.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.insufficient_security}},i=0,o=e.verify(e,n.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!Dt.util.isArray(o)?(o.message&&(n.message=o.message),o.alert&&(n.alert.description=o.alert)):typeof o=="number"&&(n.alert.description=o)),e.error(e,n)}e.session.certificateRequest!==null&&(t=ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificate(e)}),ee.queue(e,t)),t=ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createClientKeyExchange(e)}),ee.queue(e,t),e.expect=J6t;var a=s(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&ee.queue(l,ee.createRecord(l,{type:ee.ContentType.handshake,data:ee.createCertificateVerify(l,c)})),ee.queue(l,ee.createRecord(l,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),l.state.pending=ee.createConnectionState(l),l.state.current.write=l.state.pending.write,ee.queue(l,ee.createRecord(l,{type:ee.ContentType.handshake,data:ee.createFinished(l)})),l.expect=gPe,ee.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);ee.getClientSignature(e,a)};ee.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var r=e.entity===ee.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=ee.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?Y6t:t9t,e.process()};ee.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=t.fragment.getBytes();n=Dt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===ee.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=$W;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createFinished(e)}))),e.expect=a?K6t:r9t,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,ee.flush(e),e.isConnected=!0,e.connected(e),e.process()};ee.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case ee.Alert.Description.close_notify:i="Connection closed.";break;case ee.Alert.Description.unexpected_message:i="Unexpected message.";break;case ee.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case ee.Alert.Description.decryption_failed:i="Decryption failed.";break;case ee.Alert.Description.record_overflow:i="Record overflow.";break;case ee.Alert.Description.decompression_failure:i="Decompression failed.";break;case ee.Alert.Description.handshake_failure:i="Handshake failure.";break;case ee.Alert.Description.bad_certificate:i="Bad certificate.";break;case ee.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case ee.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case ee.Alert.Description.certificate_expired:i="Certificate expired.";break;case ee.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case ee.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case ee.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case ee.Alert.Description.access_denied:i="Access denied.";break;case ee.Alert.Description.decode_error:i="Decode error.";break;case ee.Alert.Description.decrypt_error:i="Decrypt error.";break;case ee.Alert.Description.export_restriction:i="Export restriction.";break;case ee.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case ee.Alert.Description.insufficient_security:i="Insufficient security.";break;case ee.Alert.Description.internal_error:i="Internal error.";break;case ee.Alert.Description.user_canceled:i="User canceled.";break;case ee.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===ee.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===ee.ConnectionEnd.client?"server":"client",alert:n}),e.process()};ee.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Dt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in VW[e.entity][e.expect]?(e.entity===ee.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()}),n!==ee.HandshakeType.hello_request&&n!==ee.HandshakeType.certificate_verify&&n!==ee.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),VW[e.entity][e.expect][n](e,t,i)):ee.handleUnexpected(e,t)};ee.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};ee.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===ee.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();ee.queue(e,ee.createRecord(e,{type:ee.ContentType.heartbeat,data:ee.createHeartbeat(ee.HeartbeatMessageType.heartbeat_response,o)})),ee.flush(e)}else if(n===ee.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Dt.util.createBuffer(o))}e.process()};var j6t=0,V6t=1,hPe=2,$6t=3,z6t=4,gPe=5,Y6t=6,K6t=7,J6t=8,X6t=0,Z6t=1,Vae=2,e9t=3,$ae=4,t9t=5,r9t=6,X=ee.handleUnexpected,APe=ee.handleChangeCipherSpec,dc=ee.handleAlert,w0=ee.handleHandshake,yPe=ee.handleApplicationData,mc=ee.handleHeartbeat,zae=[];zae[ee.ConnectionEnd.client]=[[X,dc,w0,X,mc],[X,dc,w0,X,mc],[X,dc,w0,X,mc],[X,dc,w0,X,mc],[X,dc,w0,X,mc],[APe,dc,X,X,mc],[X,dc,w0,X,mc],[X,dc,w0,yPe,mc],[X,dc,w0,X,mc]];zae[ee.ConnectionEnd.server]=[[X,dc,w0,X,mc],[X,dc,w0,X,mc],[X,dc,w0,X,mc],[X,dc,w0,X,mc],[APe,dc,X,X,mc],[X,dc,w0,X,mc],[X,dc,w0,yPe,mc],[X,dc,w0,X,mc]];var wC=ee.handleHelloRequest,n9t=ee.handleServerHello,CPe=ee.handleCertificate,pPe=ee.handleServerKeyExchange,Hae=ee.handleCertificateRequest,HW=ee.handleServerHelloDone,xPe=ee.handleFinished,VW=[];VW[ee.ConnectionEnd.client]=[[X,X,n9t,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,CPe,pPe,Hae,HW,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,X,pPe,Hae,HW,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,X,X,Hae,HW,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,X,X,X,HW,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,xPe],[wC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[wC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]];var i9t=ee.handleClientHello,o9t=ee.handleClientKeyExchange,s9t=ee.handleCertificateVerify;VW[ee.ConnectionEnd.server]=[[X,i9t,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,CPe,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,o9t,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,s9t,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,xPe],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]];ee.generateKeys=function(e,t){var r=$W,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===ee.Versions.TLS_1_0.major&&e.version.minor===ee.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return o&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};ee.createConnectionState=function(e){var t=e.entity===ee.ConnectionEnd.client,r=s(function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:s(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:s(function(a){return!0},"compressFunction"),updateSequenceNumber:s(function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]},"updateSequenceNumber")};return o},"createMode"),n={read:r(),write:r()};if(n.read.update=function(o,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(o,a,n.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_record_mac}}),!o.fail},n.write.update=function(o,a){return n.write.compressFunction(o,a,n.write)?n.write.cipherFunction(a,n.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}),!o.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=ee.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case ee.CompressionMethod.none:break;case ee.CompressionMethod.deflate:n.read.compressFunction=H6t,n.write.compressFunction=G6t;break;default:throw new Error("Unsupported compression algorithm.")}}return n};ee.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Dt.util.createBuffer();return r.putInt32(t),r.putBytes(Dt.random.getBytes(28)),r};ee.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};ee.createAlert=function(e,t){var r=Dt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),ee.createRecord(e,{type:ee.ContentType.alert,data:r})};ee.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Dt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),o=Dt.util.createBuffer();o.putByte(ee.CompressionMethod.none);var a=o.length(),l=Dt.util.createBuffer();if(e.virtualHost){var c=Dt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Dt.util.createBuffer();u.putByte(0),sm(u,2,Dt.util.createBuffer(e.virtualHost));var f=Dt.util.createBuffer();sm(f,2,u),sm(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,g=Dt.util.createBuffer();return g.putByte(ee.HandshakeType.client_hello),g.putInt24(p),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),sm(g,1,Dt.util.createBuffer(h)),sm(g,2,t),sm(g,1,o),m>0&&sm(g,2,l),g};ee.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Dt.util.createBuffer();return n.putByte(ee.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),sm(n,1,Dt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};ee.createCertificate=function(e){var t=e.entity===ee.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Dt.util.createBuffer();if(r!==null)try{Dt.util.isArray(r)||(r=[r]);for(var o=null,a=0;a<r.length;++a){var l=Dt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Dt.util.createBuffer(l.body);o===null&&(o=Dt.asn1.fromDer(u.bytes(),!1));var f=Dt.util.createBuffer();sm(f,3,u),i.putBuffer(f)}r=Dt.pki.certificateFromAsn1(o),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Dt.util.createBuffer();return h.putByte(ee.HandshakeType.certificate),h.putInt24(m),sm(h,3,i),h};ee.createClientKeyExchange=function(e){var t=Dt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Dt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,o=Dt.util.createBuffer();return o.putByte(ee.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o};ee.createServerKeyExchange=function(e){var t=0,r=Dt.util.createBuffer();return t>0&&(r.putByte(ee.HandshakeType.server_key_exchange),r.putInt24(t)),r};ee.getClientSignature=function(e,t){var r=Dt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,o){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Dt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}):i=a.sign(i,null),o(n,i)},e.getSignature(e,r,t)};ee.createCertificateVerify=function(e,t){var r=t.length+2,n=Dt.util.createBuffer();return n.putByte(ee.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};ee.createCertificateRequest=function(e){var t=Dt.util.createBuffer();t.putByte(1);var r=Dt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],o=Dt.pki.distinguishedNameToAsn1(i.subject),a=Dt.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Dt.util.createBuffer();return c.putByte(ee.HandshakeType.certificate_request),c.putInt24(l),sm(c,1,t),sm(c,2,r),c};ee.createServerHelloDone=function(e){var t=Dt.util.createBuffer();return t.putByte(ee.HandshakeType.server_hello_done),t.putInt24(0),t};ee.createChangeCipherSpec=function(){var e=Dt.util.createBuffer();return e.putByte(1),e};ee.createFinished=function(e){var t=Dt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===ee.ConnectionEnd.client,n=e.session.sp,i=12,o=$W,a=r?"client finished":"server finished";t=o(n.master_secret,a,t.getBytes(),i);var l=Dt.util.createBuffer();return l.putByte(ee.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};ee.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Dt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(Dt.random.getBytes(o)),n};ee.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===ee.ContentType.handshake||t.type===ee.ContentType.alert||t.type===ee.ContentType.change_cipher_spec))){if(t.type===ee.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=ee.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>ee.MaxFragment;)n.push(ee.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i.slice(0,ee.MaxFragment))})),i=i.slice(ee.MaxFragment);i.length>0&&n.push(ee.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i)}))}for(var o=0;o<n.length&&!e.fail;++o){var a=n[o],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};ee.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var jae=s(function(e){switch(e){case!0:return!0;case Dt.pki.certificateError.bad_certificate:return ee.Alert.Description.bad_certificate;case Dt.pki.certificateError.unsupported_certificate:return ee.Alert.Description.unsupported_certificate;case Dt.pki.certificateError.certificate_revoked:return ee.Alert.Description.certificate_revoked;case Dt.pki.certificateError.certificate_expired:return ee.Alert.Description.certificate_expired;case Dt.pki.certificateError.certificate_unknown:return ee.Alert.Description.certificate_unknown;case Dt.pki.certificateError.unknown_ca:return ee.Alert.Description.unknown_ca;default:return ee.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),a9t=s(function(e){switch(e){case!0:return!0;case ee.Alert.Description.bad_certificate:return Dt.pki.certificateError.bad_certificate;case ee.Alert.Description.unsupported_certificate:return Dt.pki.certificateError.unsupported_certificate;case ee.Alert.Description.certificate_revoked:return Dt.pki.certificateError.certificate_revoked;case ee.Alert.Description.certificate_expired:return Dt.pki.certificateError.certificate_expired;case ee.Alert.Description.certificate_unknown:return Dt.pki.certificateError.certificate_unknown;case ee.Alert.Description.unknown_ca:return Dt.pki.certificateError.unknown_ca;default:return Dt.pki.certificateError.bad_certificate}},"_alertDescToCertError");ee.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(o,a,l){var c=jae(o),u=e.verify(e,o,a,l);if(u!==!0){if(typeof u=="object"&&!Dt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==o&&(u=a9t(u))}return u},Dt.pki.verifyCertificateChain(e.caStore,t,r)}catch(o){var i=o;(typeof i!="object"||Dt.util.isArray(i))&&(i={send:!0,alert:{level:ee.Alert.Level.fatal,description:jae(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:ee.Alert.Level.fatal,description:jae(i.error)}),e.error(e,i)}return!e.fail};ee.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var o=null,a=null;if(i?a=Dt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){o=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return o},r.setSession=function(i,o){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Dt.util.bytesToHex(i);r.order.push(a),r.cache[a]=o}}return r};ee.createConnection=function(e){var t=null;e.caStore?Dt.util.isArray(e.caStore)?t=Dt.pki.createCaStore(e.caStore):t=e.caStore:t=Dt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in ee.CipherSuites)r.push(ee.CipherSuites[n])}var i=e.server?ee.ConnectionEnd.server:ee.ConnectionEnd.client,o=e.sessionCache?ee.createSessionCache(e.sessionCache):null,a={version:{major:ee.Version.major,minor:ee.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Dt.util.createBuffer(),tlsData:Dt.util.createBuffer(),data:Dt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:s(function(f,m){m.origin=m.origin||(f.entity===ee.ConnectionEnd.client?"client":"server"),m.send&&(ee.queue(f,ee.createAlert(f,m.alert)),ee.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:ee.Version.major,minor:ee.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===ee.ConnectionEnd.client?j6t:X6t,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=ee.createConnectionState(a)},a.reset();var l=s(function(f,m){var h=m.type-ee.ContentType.change_cipher_spec,p=zae[f.entity][f.expect];h in p?p[h](f,m):ee.handleUnexpected(f,m)},"_update"),c=s(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Dt.util.createBuffer(),ready:!1};var g=f.record.version.major===f.version.major;g&&f.session&&f.session.version&&(g=f.record.version.minor===f.version.minor),g||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=s(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var g=f.state.current.read;g.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==ee.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=ee.createRandom().getBytes(),a.open=!0,ee.queue(a,ee.createRecord(a,{type:ee.ContentType.handshake,data:ee.createClientHello(a)})),ee.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return ee.queue(a,ee.createRecord(a,{type:ee.ContentType.application_data,data:Dt.util.createBuffer(f)})),ee.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Dt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,ee.queue(a,ee.createRecord(a,{type:ee.ContentType.heartbeat,data:ee.createHeartbeat(ee.HeartbeatMessageType.heartbeat_request,f,m)})),ee.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,ee.queue(a,ee.createAlert(a,{level:ee.Alert.Level.warning,description:ee.Alert.Description.close_notify})),ee.flush(a)),a.closed(a)),a.reset(f)},a};vPe.exports=Dt.tls=Dt.tls||{};for(jW in ee)typeof ee[jW]!="function"&&(Dt.tls[jW]=ee[jW]);var jW;Dt.tls.prf_tls1=$W;Dt.tls.hmac_sha1=W6t;Dt.tls.createSessionCache=ee.createSessionCache;Dt.tls.createConnection=ee.createConnection});var IPe=j((iJr,EPe)=>{d();var _C=fi();xC();Yae();var am=EPe.exports=_C.tls;am.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:s(function(e){e.bulk_cipher_algorithm=am.BulkCipherAlgorithm.aes,e.cipher_type=am.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=am.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:bPe};am.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:s(function(e){e.bulk_cipher_algorithm=am.BulkCipherAlgorithm.aes,e.cipher_type=am.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=am.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:bPe};function bPe(e,t,r){var n=t.entity===_C.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:_C.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:_C.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=f9t,e.write.cipherFunction=l9t,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=am.hmac_sha1}s(bPe,"initConnectionState");function l9t(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===am.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=_C.random.getBytesSync(16),t.cipherState.init=!0;var o=t.cipherState.cipher;return o.start({iv:i}),e.version.minor>=am.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(e.fragment),o.finish(c9t)&&(e.fragment=o.output,e.length=e.fragment.length(),r=!0),r}s(l9t,"encrypt_aes_cbc_sha1");function c9t(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}s(c9t,"encrypt_aes_cbc_sha1_padding");function u9t(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}s(u9t,"decrypt_aes_cbc_sha1_padding");function f9t(e,t){var r=!1,n;e.version.minor===am.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(u9t);var o=t.macLength,a=_C.random.getBytesSync(o),l=i.output.length();l>=o?(e.fragment=i.output.getBytes(l-o),a=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=_C.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=d9t(t.macKey,a,c)&&r,r}s(f9t,"decrypt_aes_cbc_sha1");function d9t(e,t,r){var n=_C.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}s(d9t,"compareMacs")});var Xae=j((aJr,SPe)=>{d();var Es=fi();Rg();uo();var ek=SPe.exports=Es.sha512=Es.sha512||{};Es.md.sha512=Es.md.algorithms.sha512=ek;var wPe=Es.sha384=Es.sha512.sha384=Es.sha512.sha384||{};wPe.create=function(){return ek.create("SHA-384")};Es.md.sha384=Es.md.algorithms.sha384=wPe;Es.sha512.sha256=Es.sha512.sha256||{create:s(function(){return ek.create("SHA-512/256")},"create")};Es.md["sha512/256"]=Es.md.algorithms["sha512/256"]=Es.sha512.sha256;Es.sha512.sha224=Es.sha512.sha224||{create:s(function(){return ek.create("SHA-512/224")},"create")};Es.md["sha512/224"]=Es.md.algorithms["sha512/224"]=Es.sha512.sha224;ek.create=function(e){if(_Pe||m9t(),typeof e>"u"&&(e="SHA-512"),!(e in Eb))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Eb[e],r=null,n=Es.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=Es.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=Es.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),TPe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=Es.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(Kae.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,g=0;g<l.fullMessageLength.length-1;++g)m=l.fullMessageLength[g+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var y=new Array(r.length),g=0;g<r.length;++g)y[g]=r[g].slice(0);TPe(y,i,c);var v=Es.util.createBuffer(),b;e==="SHA-512"?b=y.length:e==="SHA-384"?b=y.length-2:b=y.length-4;for(var g=0;g<b;++g)v.putInt32(y[g][0]),(g!==b-1||e!=="SHA-512/224")&&v.putInt32(y[g][1]);return v},l};var Kae=null,_Pe=!1,Jae=null,Eb=null;function m9t(){Kae="\x80",Kae+=Es.util.fillString("\0",128),Jae=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Eb={},Eb["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Eb["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Eb["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Eb["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],_Pe=!0}s(m9t,"_init");function TPe(e,t,r){for(var n,i,o,a,l,c,u,f,m,h,p,g,y,v,b,E,_,k,B,N,M,re,pe,Z,G,q,ie,z,H,U,V,Y,ae,te,le,ce=r.length();ce>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)Y=t[H-2],U=Y[0],V=Y[1],n=((U>>>19|V<<13)^(V>>>29|U<<3)^U>>>6)>>>0,i=((U<<13|V>>>19)^(V<<3|U>>>29)^(U<<26|V>>>6))>>>0,te=t[H-15],U=te[0],V=te[1],o=((U>>>1|V<<31)^(U>>>8|V<<24)^U>>>7)>>>0,a=((U<<31|V>>>1)^(U<<24|V>>>8)^(U<<25|V>>>7))>>>0,ae=t[H-7],le=t[H-16],V=i+ae[1]+a+le[1],t[H][0]=n+ae[0]+o+le[0]+(V/4294967296>>>0)>>>0,t[H][1]=V>>>0;for(y=e[0][0],v=e[0][1],b=e[1][0],E=e[1][1],_=e[2][0],k=e[2][1],B=e[3][0],N=e[3][1],M=e[4][0],re=e[4][1],pe=e[5][0],Z=e[5][1],G=e[6][0],q=e[6][1],ie=e[7][0],z=e[7][1],H=0;H<80;++H)u=((M>>>14|re<<18)^(M>>>18|re<<14)^(re>>>9|M<<23))>>>0,f=((M<<18|re>>>14)^(M<<14|re>>>18)^(re<<23|M>>>9))>>>0,m=(G^M&(pe^G))>>>0,h=(q^re&(Z^q))>>>0,l=((y>>>28|v<<4)^(v>>>2|y<<30)^(v>>>7|y<<25))>>>0,c=((y<<4|v>>>28)^(v<<30|y>>>2)^(v<<25|y>>>7))>>>0,p=(y&b|_&(y^b))>>>0,g=(v&E|k&(v^E))>>>0,V=z+f+h+Jae[H][1]+t[H][1],n=ie+u+m+Jae[H][0]+t[H][0]+(V/4294967296>>>0)>>>0,i=V>>>0,V=c+g,o=l+p+(V/4294967296>>>0)>>>0,a=V>>>0,ie=G,z=q,G=pe,q=Z,pe=M,Z=re,V=N+i,M=B+n+(V/4294967296>>>0)>>>0,re=V>>>0,B=_,N=k,_=b,k=E,b=y,E=v,V=i+a,y=n+o+(V/4294967296>>>0)>>>0,v=V>>>0;V=e[0][1]+v,e[0][0]=e[0][0]+y+(V/4294967296>>>0)>>>0,e[0][1]=V>>>0,V=e[1][1]+E,e[1][0]=e[1][0]+b+(V/4294967296>>>0)>>>0,e[1][1]=V>>>0,V=e[2][1]+k,e[2][0]=e[2][0]+_+(V/4294967296>>>0)>>>0,e[2][1]=V>>>0,V=e[3][1]+N,e[3][0]=e[3][0]+B+(V/4294967296>>>0)>>>0,e[3][1]=V>>>0,V=e[4][1]+re,e[4][0]=e[4][0]+M+(V/4294967296>>>0)>>>0,e[4][1]=V>>>0,V=e[5][1]+Z,e[5][0]=e[5][0]+pe+(V/4294967296>>>0)>>>0,e[5][1]=V>>>0,V=e[6][1]+q,e[6][0]=e[6][0]+G+(V/4294967296>>>0)>>>0,e[6][1]=V>>>0,V=e[7][1]+z,e[7][0]=e[7][0]+ie+(V/4294967296>>>0)>>>0,e[7][1]=V>>>0,ce-=128}}s(TPe,"_update")});var RPe=j(Zae=>{d();var h9t=fi();Mh();var Wl=h9t.asn1;Zae.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Zae.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Wl.Class.UNIVERSAL,type:Wl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var WPe=j((dJr,qPe)=>{d();var hc=fi();KR();rm();Xae();uo();var LPe=RPe(),p9t=LPe.publicKeyValidator,g9t=LPe.privateKeyValidator;typeof kPe>"u"&&(kPe=hc.jsbn.BigInteger);var kPe,rle=hc.util.ByteBuffer,bu=typeof Buffer>"u"?Uint8Array:Buffer;hc.pki=hc.pki||{};qPe.exports=hc.pki.ed25519=hc.ed25519=hc.ed25519||{};var _i=hc.ed25519;_i.constants={};_i.constants.PUBLIC_KEY_BYTE_LENGTH=32;_i.constants.PRIVATE_KEY_BYTE_LENGTH=64;_i.constants.SEED_BYTE_LENGTH=32;_i.constants.SIGN_BYTE_LENGTH=64;_i.constants.HASH_BYTE_LENGTH=64;_i.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=hc.random.getBytesSync(_i.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==_i.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+_i.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=$A({message:t,encoding:"binary"});for(var r=new bu(_i.constants.PUBLIC_KEY_BYTE_LENGTH),n=new bu(_i.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return x9t(r,n),{publicKey:r,privateKey:n}};_i.privateKeyFromAsn1=function(e){var t={},r=[],n=hc.asn1.validate(e,g9t,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=hc.asn1.derToOid(t.privateKeyOid),a=hc.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.privateKey,c=$A({message:hc.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};_i.publicKeyFromAsn1=function(e){var t={},r=[],n=hc.asn1.validate(e,p9t,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=hc.asn1.derToOid(t.publicKeyOid),a=hc.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==_i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return $A({message:l,encoding:"binary"})};_i.publicKeyFromPrivateKey=function(e){e=e||{};var t=$A({message:e.privateKey,encoding:"binary"});if(t.length!==_i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+_i.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new bu(_i.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};_i.sign=function(e){e=e||{};var t=$A(e),r=$A({message:e.privateKey,encoding:"binary"});if(r.length===_i.constants.SEED_BYTE_LENGTH){var n=_i.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==_i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+_i.constants.SEED_BYTE_LENGTH+" or "+_i.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new bu(_i.constants.SIGN_BYTE_LENGTH+t.length);v9t(i,t,t.length,r);for(var o=new bu(_i.constants.SIGN_BYTE_LENGTH),a=0;a<o.length;++a)o[a]=i[a];return o};_i.verify=function(e){e=e||{};var t=$A(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=$A({message:e.signature,encoding:"binary"});if(r.length!==_i.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+_i.constants.SIGN_BYTE_LENGTH);var n=$A({message:e.publicKey,encoding:"binary"});if(n.length!==_i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+_i.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new bu(_i.constants.SIGN_BYTE_LENGTH+t.length),o=new bu(_i.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<_i.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+_i.constants.SIGN_BYTE_LENGTH]=t[a];return b9t(o,i,i.length,n)>=0};function $A(e){var t=e.message;if(t instanceof Uint8Array||t instanceof bu)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new rle(t,r)}else if(!(t instanceof rle))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new bu(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}s($A,"messageToNativeBuffer");var nle=En(),zW=En([1]),A9t=En([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y9t=En([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),BPe=En([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),DPe=En([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ele=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),C9t=En([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function tk(e,t){var r=hc.md.sha512.create(),n=new rle(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new bu(_i.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)o[a]=i.charCodeAt(a);return o}s(tk,"sha512");function x9t(e,t){var r=[En(),En(),En(),En()],n,i=tk(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,ale(r,i),sle(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}s(x9t,"crypto_sign_keypair");function v9t(e,t,r,n){var i,o,a=new Float64Array(64),l=[En(),En(),En(),En()],c=tk(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=tk(e.subarray(32),r+32);for(ile(f),ale(l,f),sle(e,l),i=32;i<64;++i)e[i]=n[i];var m=tk(e,r+64);for(ile(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=m[i]*c[o];return FPe(e.subarray(32),a),u}s(v9t,"crypto_sign");function b9t(e,t,r,n){var i,o,a=new bu(32),l=[En(),En(),En(),En()],c=[En(),En(),En(),En()];if(o=-1,r<64||E9t(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=tk(e,r);if(ile(u),OPe(l,c,u),ale(c,t.subarray(32)),ole(l,c),sle(a,l),r-=64,MPe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return o=r,o}s(b9t,"crypto_sign_open");function FPe(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ele[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*ele[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*ele[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}s(FPe,"modL");function ile(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;FPe(e,t)}s(ile,"reduce");function ole(e,t){var r=En(),n=En(),i=En(),o=En(),a=En(),l=En(),c=En(),u=En(),f=En();y9(r,e[1],e[0]),y9(f,t[1],t[0]),jo(r,r,f),A9(n,e[0],e[1]),A9(f,t[0],t[1]),jo(n,n,f),jo(i,e[3],t[3]),jo(i,i,y9t),jo(o,e[2],t[2]),A9(o,o,o),y9(a,n,r),y9(l,o,i),A9(c,o,i),A9(u,n,r),jo(e[0],a,l),jo(e[1],u,c),jo(e[2],c,l),jo(e[3],a,u)}s(ole,"add");function PPe(e,t,r){for(var n=0;n<4;++n)UPe(e[n],t[n],r)}s(PPe,"cswap");function sle(e,t){var r=En(),n=En(),i=En();_9t(i,t[2]),jo(r,t[0],i),jo(n,t[1],i),YW(e,n),e[31]^=QPe(r)<<7}s(sle,"pack");function YW(e,t){var r,n,i,o=En(),a=En();for(r=0;r<16;++r)a[r]=t[r];for(tle(a),tle(a),tle(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,UPe(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}s(YW,"pack25519");function E9t(e,t){var r=En(),n=En(),i=En(),o=En(),a=En(),l=En(),c=En();return SC(e[2],zW),I9t(e[1],t),Ib(i,e[1]),jo(o,i,A9t),y9(i,i,e[2]),A9(o,e[2],o),Ib(a,o),Ib(l,a),jo(c,l,a),jo(r,c,i),jo(r,r,o),T9t(r,r),jo(r,r,i),jo(r,r,o),jo(r,r,o),jo(e[0],r,o),Ib(n,e[0]),jo(n,n,o),NPe(n,i)&&jo(e[0],e[0],C9t),Ib(n,e[0]),jo(n,n,o),NPe(n,i)?-1:(QPe(e[0])===t[31]>>7&&y9(e[0],nle,e[0]),jo(e[3],e[0],e[1]),0)}s(E9t,"unpackneg");function I9t(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}s(I9t,"unpack25519");function T9t(e,t){var r=En(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Ib(r,r),n!==1&&jo(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(T9t,"pow2523");function NPe(e,t){var r=new bu(32),n=new bu(32);return YW(r,e),YW(n,t),MPe(r,0,n,0)}s(NPe,"neq25519");function MPe(e,t,r,n){return w9t(e,t,r,n,32)}s(MPe,"crypto_verify_32");function w9t(e,t,r,n,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}s(w9t,"vn");function QPe(e){var t=new bu(32);return YW(t,e),t[0]&1}s(QPe,"par25519");function OPe(e,t,r){var n,i;for(SC(e[0],nle),SC(e[1],zW),SC(e[2],zW),SC(e[3],nle),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,PPe(e,t,n),ole(t,e),ole(e,e),PPe(e,t,n)}s(OPe,"scalarmult");function ale(e,t){var r=[En(),En(),En(),En()];SC(r[0],BPe),SC(r[1],DPe),SC(r[2],zW),jo(r[3],BPe,DPe),OPe(e,r,t)}s(ale,"scalarbase");function SC(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}s(SC,"set25519");function _9t(e,t){var r=En(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Ib(r,r),n!==2&&n!==4&&jo(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(_9t,"inv25519");function tle(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}s(tle,"car25519");function UPe(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}s(UPe,"sel25519");function En(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}s(En,"gf");function A9(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}s(A9,"A");function y9(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}s(y9,"Z");function Ib(e,t){jo(e,t,t)}s(Ib,"S");function jo(e,t,r){var n,i,o=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,g=0,y=0,v=0,b=0,E=0,_=0,k=0,B=0,N=0,M=0,re=0,pe=0,Z=0,G=0,q=0,ie=0,z=0,H=0,U=0,V=0,Y=0,ae=0,te=r[0],le=r[1],ce=r[2],De=r[3],be=r[4],qe=r[5],Re=r[6],Xe=r[7],ft=r[8],at=r[9],lt=r[10],oe=r[11],Ne=r[12],Ae=r[13],Ge=r[14],K=r[15];n=t[0],o+=n*te,a+=n*le,l+=n*ce,c+=n*De,u+=n*be,f+=n*qe,m+=n*Re,h+=n*Xe,p+=n*ft,g+=n*at,y+=n*lt,v+=n*oe,b+=n*Ne,E+=n*Ae,_+=n*Ge,k+=n*K,n=t[1],a+=n*te,l+=n*le,c+=n*ce,u+=n*De,f+=n*be,m+=n*qe,h+=n*Re,p+=n*Xe,g+=n*ft,y+=n*at,v+=n*lt,b+=n*oe,E+=n*Ne,_+=n*Ae,k+=n*Ge,B+=n*K,n=t[2],l+=n*te,c+=n*le,u+=n*ce,f+=n*De,m+=n*be,h+=n*qe,p+=n*Re,g+=n*Xe,y+=n*ft,v+=n*at,b+=n*lt,E+=n*oe,_+=n*Ne,k+=n*Ae,B+=n*Ge,N+=n*K,n=t[3],c+=n*te,u+=n*le,f+=n*ce,m+=n*De,h+=n*be,p+=n*qe,g+=n*Re,y+=n*Xe,v+=n*ft,b+=n*at,E+=n*lt,_+=n*oe,k+=n*Ne,B+=n*Ae,N+=n*Ge,M+=n*K,n=t[4],u+=n*te,f+=n*le,m+=n*ce,h+=n*De,p+=n*be,g+=n*qe,y+=n*Re,v+=n*Xe,b+=n*ft,E+=n*at,_+=n*lt,k+=n*oe,B+=n*Ne,N+=n*Ae,M+=n*Ge,re+=n*K,n=t[5],f+=n*te,m+=n*le,h+=n*ce,p+=n*De,g+=n*be,y+=n*qe,v+=n*Re,b+=n*Xe,E+=n*ft,_+=n*at,k+=n*lt,B+=n*oe,N+=n*Ne,M+=n*Ae,re+=n*Ge,pe+=n*K,n=t[6],m+=n*te,h+=n*le,p+=n*ce,g+=n*De,y+=n*be,v+=n*qe,b+=n*Re,E+=n*Xe,_+=n*ft,k+=n*at,B+=n*lt,N+=n*oe,M+=n*Ne,re+=n*Ae,pe+=n*Ge,Z+=n*K,n=t[7],h+=n*te,p+=n*le,g+=n*ce,y+=n*De,v+=n*be,b+=n*qe,E+=n*Re,_+=n*Xe,k+=n*ft,B+=n*at,N+=n*lt,M+=n*oe,re+=n*Ne,pe+=n*Ae,Z+=n*Ge,G+=n*K,n=t[8],p+=n*te,g+=n*le,y+=n*ce,v+=n*De,b+=n*be,E+=n*qe,_+=n*Re,k+=n*Xe,B+=n*ft,N+=n*at,M+=n*lt,re+=n*oe,pe+=n*Ne,Z+=n*Ae,G+=n*Ge,q+=n*K,n=t[9],g+=n*te,y+=n*le,v+=n*ce,b+=n*De,E+=n*be,_+=n*qe,k+=n*Re,B+=n*Xe,N+=n*ft,M+=n*at,re+=n*lt,pe+=n*oe,Z+=n*Ne,G+=n*Ae,q+=n*Ge,ie+=n*K,n=t[10],y+=n*te,v+=n*le,b+=n*ce,E+=n*De,_+=n*be,k+=n*qe,B+=n*Re,N+=n*Xe,M+=n*ft,re+=n*at,pe+=n*lt,Z+=n*oe,G+=n*Ne,q+=n*Ae,ie+=n*Ge,z+=n*K,n=t[11],v+=n*te,b+=n*le,E+=n*ce,_+=n*De,k+=n*be,B+=n*qe,N+=n*Re,M+=n*Xe,re+=n*ft,pe+=n*at,Z+=n*lt,G+=n*oe,q+=n*Ne,ie+=n*Ae,z+=n*Ge,H+=n*K,n=t[12],b+=n*te,E+=n*le,_+=n*ce,k+=n*De,B+=n*be,N+=n*qe,M+=n*Re,re+=n*Xe,pe+=n*ft,Z+=n*at,G+=n*lt,q+=n*oe,ie+=n*Ne,z+=n*Ae,H+=n*Ge,U+=n*K,n=t[13],E+=n*te,_+=n*le,k+=n*ce,B+=n*De,N+=n*be,M+=n*qe,re+=n*Re,pe+=n*Xe,Z+=n*ft,G+=n*at,q+=n*lt,ie+=n*oe,z+=n*Ne,H+=n*Ae,U+=n*Ge,V+=n*K,n=t[14],_+=n*te,k+=n*le,B+=n*ce,N+=n*De,M+=n*be,re+=n*qe,pe+=n*Re,Z+=n*Xe,G+=n*ft,q+=n*at,ie+=n*lt,z+=n*oe,H+=n*Ne,U+=n*Ae,V+=n*Ge,Y+=n*K,n=t[15],k+=n*te,B+=n*le,N+=n*ce,M+=n*De,re+=n*be,pe+=n*qe,Z+=n*Re,G+=n*Xe,q+=n*ft,ie+=n*at,z+=n*lt,H+=n*oe,U+=n*Ne,V+=n*Ae,Y+=n*Ge,ae+=n*K,o+=38*B,a+=38*N,l+=38*M,c+=38*re,u+=38*pe,f+=38*Z,m+=38*G,h+=38*q,p+=38*ie,g+=38*z,y+=38*H,v+=38*U,b+=38*V,E+=38*Y,_+=38*ae,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=g,e[10]=y,e[11]=v,e[12]=b,e[13]=E,e[14]=_,e[15]=k}s(jo,"M")});var VPe=j((pJr,jPe)=>{d();var Df=fi();uo();rm();KR();jPe.exports=Df.kem=Df.kem||{};var GPe=Df.jsbn.BigInteger;Df.kem.rsa={};Df.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Df.random,n={};return n.encrypt=function(i,o){var a=Math.ceil(i.n.bitLength()/8),l;do l=new GPe(Df.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(GPe.ONE)<=0);l=Df.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=Df.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,o);return{encapsulation:u,key:f}},n.decrypt=function(i,o,a){var l=i.decrypt(o,"NONE");return e.generate(l,a)},n};Df.kem.kdf1=function(e,t){HPe(this,e,0,t||e.digestLength)};Df.kem.kdf2=function(e,t){HPe(this,e,1,t||e.digestLength)};function HPe(e,t,r,n){e.generate=function(i,o){for(var a=new Df.util.ByteBuffer,l=Math.ceil(o/n)+r,c=new Df.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-o),a.getBytes()}}s(HPe,"_createKDF")});var KPe=j((yJr,YPe)=>{d();var Qi=fi();uo();YPe.exports=Qi.log=Qi.log||{};Qi.log.levels=["none","error","warning","info","debug","verbose","max"];var KW={},ule=[],nk=null;Qi.log.LEVEL_LOCKED=2;Qi.log.NO_LEVEL_CHECK=4;Qi.log.INTERPOLATE=8;for(Mg=0;Mg<Qi.log.levels.length;++Mg)lle=Qi.log.levels[Mg],KW[lle]={index:Mg,name:lle.toUpperCase()};var lle,Mg;Qi.log.logMessage=function(e){for(var t=KW[e.level].index,r=0;r<ule.length;++r){var n=ule[r];if(n.flags&Qi.log.NO_LEVEL_CHECK)n.f(e);else{var i=KW[n.level].index;t<=i&&n.f(n,e)}}};Qi.log.prepareStandard=function(e){"standard"in e||(e.standard=KW[e.level].name+" ["+e.category+"] "+e.message)};Qi.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Qi.util.format.apply(this,t)}};Qi.log.prepareStandardFull=function(e){"standardFull"in e||(Qi.log.prepareStandard(e),e.standardFull=e.standard)};for(cle=["error","warning","info","debug","verbose"],Mg=0;Mg<cle.length;++Mg)(function(t){Qi.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:r,message:n,arguments:i};Qi.log.logMessage(o)}})(cle[Mg]);var cle,Mg;Qi.log.makeLogger=function(e){var t={flags:0,f:e};return Qi.log.setLevel(t,"none"),t};Qi.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Qi.log.LEVEL_LOCKED))for(var n=0;n<Qi.log.levels.length;++n){var i=Qi.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Qi.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Qi.log.LEVEL_LOCKED:e.flags&=~Qi.log.LEVEL_LOCKED};Qi.log.addLogger=function(e){ule.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?($Pe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},ik=s(function(e,t){Qi.log.prepareStandard(t);var r=$Pe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),C9=Qi.log.makeLogger(ik)):(ik=s(function(t,r){Qi.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),C9=Qi.log.makeLogger(ik)),Qi.log.setLevel(C9,"debug"),Qi.log.addLogger(C9),nk=C9):console={log:s(function(){},"log")};var C9,$Pe,ik;nk!==null&&typeof window<"u"&&window.location&&(rk=new URL(window.location.href).searchParams,rk.has("console.level")&&Qi.log.setLevel(nk,rk.get("console.level").slice(-1)[0]),rk.has("console.lock")&&(zPe=rk.get("console.lock").slice(-1)[0],zPe=="true"&&Qi.log.lock(nk)));var rk,zPe;Qi.log.consoleLogger=nk});var XPe=j((vJr,JPe)=>{d();JPe.exports=Rg();RW();d9();Eae();Xae()});var tNe=j((EJr,eNe)=>{d();var Cr=fi();xC();Mh();zR();vC();Ab();Mae();rm();uo();GW();var Pe=Cr.asn1,_0=eNe.exports=Cr.pkcs7=Cr.pkcs7||{};_0.messageFromPem=function(e){var t=Cr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Pe.fromDer(t.body);return _0.messageFromAsn1(n)};_0.messageToPem=function(e,t){var r={type:"PKCS7",body:Pe.toDer(e.toAsn1()).getBytes()};return Cr.pem.encode(r,{maxline:t})};_0.messageFromAsn1=function(e){var t={},r=[];if(!Pe.validate(e,_0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=Pe.derToOid(t.contentType),o;switch(i){case Cr.pki.oids.envelopedData:o=_0.createEnvelopedData();break;case Cr.pki.oids.encryptedData:o=_0.createEncryptedData();break;case Cr.pki.oids.signedData:o=_0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o};_0.createSignedData=function(){var e=null;return e={type:Cr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:s(function(n){if(dle(e,n,_0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,o=0;o<i.length;++o)e.certificates.push(Cr.pki.certificateFromAsn1(i[o]))},"fromAsn1"),toAsn1:s(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(Cr.pki.certificateToAsn1(e.certificates[i]));var o=[],a=Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,n)),o.length>0&&a.value[0].value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,e.signerInfos)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:s(function(n){var i=n.issuer,o=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=Cr.pki.certificateFromPem(a)),i=a.issuer.attributes,o=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=Cr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||Cr.pki.oids.sha1;switch(c){case Cr.pki.oids.sha1:case Cr.pki.oids.sha256:case Cr.pki.oids.sha384:case Cr.pki.oids.sha512:case Cr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===Cr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===Cr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:o,digestAlgorithm:c,signatureAlgorithm:Cr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:s(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(Cr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof Cr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=Cr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var o=t();r(o)}},"sign"),verify:s(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:s(function(n){typeof n=="string"&&(n=Cr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:s(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var o=e.signers[i],a=o.digestAlgorithm;a in n||(n[a]=Cr.md[Cr.pki.oids[a]].create()),o.authenticatedAttributes.length===0?o.md=n[a]:o.md=Cr.md[Cr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(a).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]));return n}s(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=Pe.derToOid(e.contentInfo.value[0].value),a=Pe.toDer(i);a.getByte(),Pe.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(o!==Cr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===Cr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===Cr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(fle(p)),f.authenticatedAttributesAsn1.value.push(fle(p))}a=Pe.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=P9t(e.signers)}s(r,"addSignerInfos")};_0.createEncryptedData=function(){var e=null;return e={type:Cr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Cr.pki.oids["aes256-CBC"]},fromAsn1:s(function(t){dle(e,t,_0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:s(function(t){t!==void 0&&(e.encryptedContent.key=t),ZPe(e)},"decrypt")},e};_0.createEnvelopedData=function(){var e=null;return e={type:Cr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Cr.pki.oids["aes256-CBC"]},fromAsn1:s(function(t){var r=dle(e,t,_0.asn1.envelopedDataValidator);e.recipients=k9t(r.recipientInfos.value)},"fromAsn1"),toAsn1:s(function(){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,B9t(e.recipients)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,N9t(e.encryptedContent))])])])},"toAsn1"),findRecipient:s(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(o[l].type!==r[l].type||o[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:s(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Cr.pki.oids.rsaEncryption:case Cr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Cr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}ZPe(e)},"decrypt"),addRecipient:s(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Cr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:s(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,o;switch(r){case Cr.pki.oids["aes128-CBC"]:n=16,i=16,o=Cr.aes.createEncryptionCipher;break;case Cr.pki.oids["aes192-CBC"]:n=24,i=16,o=Cr.aes.createEncryptionCipher;break;case Cr.pki.oids["aes256-CBC"]:n=32,i=16,o=Cr.aes.createEncryptionCipher;break;case Cr.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=Cr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Cr.util.createBuffer(Cr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Cr.util.createBuffer(Cr.random.getBytes(i));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Cr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function S9t(e){var t={},r=[];if(!Pe.validate(e,_0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Cr.pki.RDNAttributesAsArray(t.issuer),serialNumber:Cr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:Pe.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}s(S9t,"_recipientFromAsn1");function R9t(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Cr.pki.distinguishedNameToAsn1({attributes:e.issuer}),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Cr.util.hexToBytes(e.serialNumber))]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.encryptedContent.algorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.encryptedContent.content)])}s(R9t,"_recipientToAsn1");function k9t(e){for(var t=[],r=0;r<e.length;++r)t.push(S9t(e[r]));return t}s(k9t,"_recipientsFromAsn1");function B9t(e){for(var t=[],r=0;r<e.length;++r)t.push(R9t(e[r]));return t}s(B9t,"_recipientsToAsn1");function D9t(e){var t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Cr.pki.distinguishedNameToAsn1({attributes:e.issuer}),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Cr.util.hexToBytes(e.serialNumber))]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.digestAlgorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.signatureAlgorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")])),t.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=Pe.create(Pe.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(fle(i))}t.value.push(r)}return t}s(D9t,"_signerToAsn1");function P9t(e){for(var t=[],r=0;r<e.length;++r)t.push(D9t(e[r]));return t}s(P9t,"_signersToAsn1");function fle(e){var t;if(e.type===Cr.pki.oids.contentType)t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.value).getBytes());else if(e.type===Cr.pki.oids.messageDigest)t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Cr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=Pe.utcTimeToDate(i):i=Pe.generalizedTimeToDate(i):i=new Date(o)}i>=r&&i<n?t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.UTCTIME,!1,Pe.dateToUtcTime(i)):t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.GENERALIZEDTIME,!1,Pe.dateToGeneralizedTime(i))}return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,[t])])}s(fle,"_attributeToAsn1");function N9t(e){return[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(Cr.pki.oids.data).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.algorithm).getBytes()),e.parameter?Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.content.getBytes())])]}s(N9t,"_encryptedContentToAsn1");function dle(e,t,r){var n={},i=[];if(!Pe.validate(t,r,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var a=Pe.derToOid(n.contentType);if(a!==Cr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(Cr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==Pe.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:Pe.derToOid(n.encAlgorithm),parameter:Cr.util.createBuffer(n.encParameter.value),content:Cr.util.createBuffer(l)}}if(n.content){var l="";if(Cr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==Pe.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=Cr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}s(dle,"_fromAsn1");function ZPe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Cr.pki.oids["aes128-CBC"]:case Cr.pki.oids["aes192-CBC"]:case Cr.pki.oids["aes256-CBC"]:t=Cr.aes.createDecryptionCipher(e.encryptedContent.key);break;case Cr.pki.oids.desCBC:case Cr.pki.oids["des-EDE3-CBC"]:t=Cr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s(ZPe,"_decryptContent")});var nNe=j((wJr,rNe)=>{d();var Za=fi();xC();l9();RW();d9();uo();var XW=rNe.exports=Za.ssh=Za.ssh||{};XW.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+n+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+r+`\r
`;var a=Za.util.createBuffer();x9(a,n),Qg(a,e.e),Qg(a,e.n);var l=Za.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;o+="Public-Lines: "+c+`\r
`,o+=l;var u=Za.util.createBuffer();Qg(u,e.d),Qg(u,e.p),Qg(u,e.q),Qg(u,e.qInv);var f;if(!t)f=Za.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=JW(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Za.util.createBuffer();p.putBuffer(JW("\0\0\0\0",t)),p.putBuffer(JW("\0\0\0",t));var g=Za.aes.createEncryptionCipher(p.truncate(8),"CBC");g.start(Za.util.createBuffer().fillWithByte(0,16)),g.update(u.copy()),g.finish();var y=g.output;y.truncate(16),f=Za.util.encode64(y.bytes(),64)}c=Math.floor(f.length/66)+1,o+=`\r
Private-Lines: `+c+`\r
`,o+=f;var v=JW("putty-private-key-file-mac-key",t),b=Za.util.createBuffer();x9(b,n),x9(b,i),x9(b,r),b.putInt32(a.length()),b.putBuffer(a),b.putInt32(u.length()),b.putBuffer(u);var E=Za.hmac.create();return E.start("sha1",v),E.update(b.bytes()),o+=`\r
Private-MAC: `+E.digest().toHex()+`\r
`,o};XW.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Za.util.createBuffer();return x9(n,r),Qg(n,e.e),Qg(n,e.n),r+" "+Za.util.encode64(n.bytes())+" "+t};XW.privateKeyToOpenSSH=function(e,t){return t?Za.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Za.pki.privateKeyToPem(e)};XW.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Za.md.md5.create(),n="ssh-rsa",i=Za.util.createBuffer();x9(i,n),Qg(i,e.e),Qg(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};function Qg(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Za.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}s(Qg,"_addBigIntegerToBuffer");function x9(e,t){e.putInt32(t.length),e.putString(t)}s(x9,"_addStringToBuffer");function JW(){for(var e=Za.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}s(JW,"_sha1")});var oNe=j((RJr,iNe)=>{d();iNe.exports=fi();xC();IPe();Mh();bW();zR();WPe();l9();VPe();KPe();XPe();Qae();PW();Ab();Dae();qae();tNe();Gae();Nae();Iae();UW();rm();_ae();nNe();Yae();uo()});var lNe=j(Tb=>{"use strict";d();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.convert=Tb.Format=void 0;var ok=oNe(),RC;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(RC=Tb.Format||(Tb.Format={}));function sNe(e){var t=ok.pki.pemToDer(e),r=ok.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],o=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(o);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}s(sNe,"myASN");function L9t(e){var t=sNe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}s(L9t,"txtFormat");function aNe(e,t){switch(t){case RC.der:return ok.pki.pemToDer(e);case RC.pem:return e;case RC.txt:return L9t(e);case RC.asn1:return sNe(e);case RC.fingerprint:var r=ok.md.sha1.create(),n=aNe(e,RC.der);return r.update(n.getBytes()),r.digest().toHex();case RC.x509:return ok.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}s(aNe,"convert");Tb.convert=aNe});var hNe=j(Eu=>{"use strict";d();var kC=Eu&&Eu.__assign||function(){return kC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},kC.apply(this,arguments)},ZW=Eu&&Eu.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.convert=Eu.Format=Eu.addToGlobalAgent=Eu.get=void 0;var mle=require("https"),F9t=require("tls"),cNe=require("child_process"),uNe=GBe(),zA=lNe();Object.defineProperty(Eu,"Format",{enumerable:!0,get:s(function(){return zA.Format},"get")});Object.defineProperty(Eu,"convert",{enumerable:!0,get:s(function(){return zA.convert},"get")});var fNe=process.platform==="darwin",dNe=mle.globalAgent,tG={keychain:"all",unique:!0,excludeBundled:!0,format:zA.Format.pem};function mNe(e){if(e===void 0&&(e=tG),!fNe)return[];e=kC(kC({},tG),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",o=(0,cNe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=ZW(ZW([],n,!0),o,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,cNe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=ZW(ZW([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,zA.convert)(u,zA.Format.fingerprint)}),c=e.excludeBundled?F9t.rootCertificates.map(function(u){return(0,zA.convert)(u,zA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,zA.convert)(u,e.format)})}s(mNe,"get");Eu.get=mNe;var eG=dNe.options.ca,M9t=s(function(e){if(e===void 0&&(e=tG),!!fNe){var t;Array.isArray(eG)?t=Array.from(eG):t=typeof eG<"u"?[eG]:[],mNe(kC(kC(kC({},tG),e),{format:zA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),dNe.options.ca=t,mle.Agent=function(r){return function(n){var i=typeof n<"u"?kC({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(mle.Agent),(0,uNe.setGlobalDispatcher)(new uNe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");Eu.addToGlobalAgent=M9t});var pNe=j((MJr,hle)=>{d();function Q9t(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],o=new n.Crypt32;try{let a;for(;a=o.next();){let l=new e(a);i.push(l.toString())}}finally{o.done()}return Array.from(new Set(i))}s(Q9t,"all");process.platform!=="win32"?hle.exports.all=()=>[]:hle.exports.all=Q9t});var INe=j((HJr,ENe)=>{"use strict";d();function bNe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(o=>o.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}s(bNe,"validateParameter");function U9t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(U9t,"hasOwnProperty");function q9t(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let o=0,a=0;o<t.length;++o,++a){let l=t[o],c=r[a];U9t(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),bNe(c,t,o)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((o,a)=>{n.push((l,c)=>{if(l)return a(l);o(c)}),e.apply(this,n)});e.apply(this,n)}}s(q9t,"defineOperation");ENe.exports={defineOperation:q9t,validateParameter:bNe}});var Ele=j(($Jr,_Ne)=>{"use strict";d();var E9=Gee()("kerberos"),b9=E9.KerberosClient,TNe=E9.KerberosServer,BC=INe().defineOperation,W9t=1,G9t=2,H9t=4,j9t=8,V9t=16,$9t=32,z9t=64,Y9t=128,K9t=256,wNe=0,J9t=9,X9t=6;b9.prototype.step=BC(b9.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);b9.prototype.wrap=BC(b9.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);b9.prototype.unwrap=BC(b9.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);TNe.prototype.step=BC(TNe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Z9t=BC(E9.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),eTt=BC(E9.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),tTt=BC(E9.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:wNe}},{name:"callback",type:"function",required:!1}]),rTt=BC(E9.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);_Ne.exports={initializeClient:tTt,initializeServer:rTt,principalDetails:eTt,checkPassword:Z9t,GSS_C_DELEG_FLAG:W9t,GSS_C_MUTUAL_FLAG:G9t,GSS_C_REPLAY_FLAG:H9t,GSS_C_SEQUENCE_FLAG:j9t,GSS_C_CONF_FLAG:V9t,GSS_C_INTEG_FLAG:$9t,GSS_C_ANON_FLAG:z9t,GSS_C_PROT_READY_FLAG:Y9t,GSS_C_TRANS_FLAG:K9t,GSS_C_NO_OID:wNe,GSS_MECH_OID_KRB5:J9t,GSS_MECH_OID_SPNEGO:X9t}});var SNe=j((YJr,nTt)=>{nTt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var kNe=j((KJr,RNe)=>{"use strict";d();var iTt=require("dns"),oTt=Ele(),Ile=class{static{s(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=sTt(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function o(a,l,c){if(!a)return c();iTt.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}s(o,"performGssapiCanonicalizeHostName"),o(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;oTt.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function sTt(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=aTt(e),r(null,i)})}}s(sTt,"firstTransition");function aTt(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=lTt(e),r(null,i||"")})}}s(aTt,"secondTransition");function lTt(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(o,a)=>{if(o)return r(o,!1);e._transition=cTt(e),r(null,a)})})}}s(lTt,"thirdTransition");function cTt(e){return(t,r)=>{e._transition=null,r(null,!0)}}s(cTt,"fourthTransition");RNe.exports={MongoAuthProcess:Ile}});var DNe=j((ZJr,sk)=>{"use strict";d();var BNe=Ele();sk.exports=BNe;sk.exports.Kerberos=BNe;sk.exports.version=SNe().version;sk.exports.processes={MongoAuthProcess:kNe().MongoAuthProcess}});var oLe=j(Ule=>{"use strict";d();Object.defineProperty(Ule,"__esModule",{value:!0});Ule.assertNever=LTt;function LTt(e,t=`unexpected value ${e}`){throw new Error(`Unreachable: ${t}`)}s(LTt,"assertNever")});var hk=j(JA=>{"use strict";d();Object.defineProperty(JA,"__esModule",{value:!0});JA.ChatCompletionContentPartOpaque=JA.ChatCompletionContentPartKind=JA.ChatRole=void 0;var FTt=oLe(),xG;(function(e){e[e.System=0]="System",e[e.User=1]="User",e[e.Assistant=2]="Assistant",e[e.Tool=3]="Tool"})(xG||(JA.ChatRole=xG={}));(function(e){function t(r){switch(r){case e.System:return"system";case e.User:return"user";case e.Assistant:return"assistant";case e.Tool:return"tool";default:(0,FTt.assertNever)(r,`unknown chat role ${r}}`)}}s(t,"display"),e.display=t})(xG||(JA.ChatRole=xG={}));var sLe;(function(e){e[e.Image=0]="Image",e[e.Text=1]="Text",e[e.Opaque=2]="Opaque",e[e.CacheBreakpoint=3]="CacheBreakpoint"})(sLe||(JA.ChatCompletionContentPartKind=sLe={}));var aLe;(function(e){function t(r,n){return!r.scope||(r.scope&n)!==0}s(t,"usableIn"),e.usableIn=t})(aLe||(JA.ChatCompletionContentPartOpaque=aLe={}))});var qle=j(Wg=>{"use strict";d();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.BaseTokensPerName=Wg.BaseTokensPerMessage=Wg.BaseTokensPerCompletion=Wg.ChatRole=void 0;var lLe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(lLe||(Wg.ChatRole=lLe={}));Wg.BaseTokensPerCompletion=3;Wg.BaseTokensPerMessage=3;Wg.BaseTokensPerName=1});var uLe=j(bG=>{"use strict";d();Object.defineProperty(bG,"__esModule",{value:!0});bG.toOpenAiChatMessage=cLe;bG.toOpenAIChatMessages=OTt;var XA=hk(),vG=qle(),MTt=OC();function Wle(e){return e.filter(t=>t.type===XA.ChatCompletionContentPartKind.Text).map(t=>t.text).join("")}s(Wle,"onlyStringContent");function QTt(e){let t=e.map(r=>{if(r.type===XA.ChatCompletionContentPartKind.Text)return{type:"text",text:r.text};if(r.type===XA.ChatCompletionContentPartKind.Image)return{image_url:r.imageUrl,type:"image_url"};if(r.type===XA.ChatCompletionContentPartKind.Opaque&&XA.ChatCompletionContentPartOpaque.usableIn(r,MTt.OutputMode.OpenAI))return r}).filter(r=>!!r);return t.every(r=>r.type==="text")?t.map(r=>r.text).join(""):t}s(QTt,"stringAndImageContent");function cLe(e){switch(e.role){case XA.ChatRole.System:return{role:vG.ChatRole.System,content:Wle(e.content),name:e.name};case XA.ChatRole.User:return{role:vG.ChatRole.User,content:QTt(e.content),name:e.name};case XA.ChatRole.Assistant:return{role:vG.ChatRole.Assistant,content:Wle(e.content),name:e.name,tool_calls:e.toolCalls?.map(t=>({id:t.id,function:t.function,type:"function"}))};case XA.ChatRole.Tool:return{role:vG.ChatRole.Tool,content:Wle(e.content),tool_call_id:e.toolCallId};default:return}}s(cLe,"toOpenAiChatMessage");function OTt(e){return e.map(cLe).filter(t=>!!t)}s(OTt,"toOpenAIChatMessages")});var dLe=j(TG=>{"use strict";d();Object.defineProperty(TG,"__esModule",{value:!0});TG.toVsCodeChatMessage=fLe;TG.toVsCodeChatMessages=UTt;var IG=hk();function EG(e){return e.filter(t=>t.type===IG.ChatCompletionContentPartKind.Text).map(t=>t.text).join("")}s(EG,"onlyStringContent");var UC;function fLe(e){switch(UC??=require("vscode"),e.role){case IG.ChatRole.Assistant:let t=UC.LanguageModelChatMessage.Assistant(EG(e.content),e.name);return e.toolCalls&&(t.content=[new UC.LanguageModelTextPart(EG(e.content)),...e.toolCalls.map(r=>{let n;try{n=JSON.parse(r.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+r.id)}return new UC.LanguageModelToolCallPart(r.id,r.function.name,n)})]),t;case IG.ChatRole.User:return UC.LanguageModelChatMessage.User(EG(e.content),e.name);case IG.ChatRole.Tool:{let r=UC.LanguageModelChatMessage.User("");return r.content=[new UC.LanguageModelToolResultPart(e.toolCallId,[new UC.LanguageModelTextPart(EG(e.content))])],r}default:return}}s(fLe,"toVsCodeChatMessage");function UTt(e){return e.map(fLe).filter(t=>!!t)}s(UTt,"toVsCodeChatMessages")});var OC=j(Uh=>{"use strict";d();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.OutputMode=Uh.Raw=Uh.OpenAI=void 0;Uh.toMode=Gle;Uh.toVSCode=qTt;Uh.toOpenAI=WTt;var mLe=uLe(),hLe=dLe();Uh.OpenAI=qle();Uh.Raw=hk();var Rb;(function(e){e[e.Raw=1]="Raw",e[e.OpenAI=2]="OpenAI",e[e.VSCode=4]="VSCode"})(Rb||(Uh.OutputMode=Rb={}));function Gle(e,t){switch(e){case Rb.Raw:return t;case Rb.VSCode:return t instanceof Array?(0,hLe.toVsCodeChatMessages)(t):(0,hLe.toVsCodeChatMessage)(t);case Rb.OpenAI:return t instanceof Array?(0,mLe.toOpenAIChatMessages)(t):(0,mLe.toOpenAiChatMessage)(t);default:throw new Error(`Unknown output mode: ${e}`)}}s(Gle,"toMode");function qTt(e){return Gle(Rb.VSCode,e)}s(qTt,"toVSCode");function WTt(e){return Gle(Rb.OpenAI,e)}s(WTt,"toOpenAI")});var Hle=j(pk=>{"use strict";d();Object.defineProperty(pk,"__esModule",{value:!0});pk.jsonRetainedProps=void 0;pk.forEachNode=pLe;pk.jsonRetainedProps=Object.keys({flexBasis:1,flexGrow:1,flexReserve:1,passPriority:1,priority:1});function pLe(e,t){if(t(e),e.type===1)for(let r of e.children)pLe(r,t)}s(pLe,"forEachNode")});var gLe=j(jle=>{"use strict";d();Object.defineProperty(jle,"__esModule",{value:!0});jle.once=GTt;function GTt(e){let t,r=!1,n=s((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}s(GTt,"once")});var Yle=j(Vc=>{"use strict";d();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.BudgetExceededError=Vc.MaterializedChatMessageImage=Vc.MaterializedChatMessageBreakpoint=Vc.MaterializedChatMessageOpaque=Vc.MaterializedChatMessage=Vc.MaterializedChatMessageTextChunk=Vc.GenericMaterializedContainer=void 0;var _9=gLe(),Mf=OC(),ZA=class e{static{s(this,"GenericMaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,o,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=o(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=WC(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return TLe(t,this.children,r)}allMetadata(){return ILe(this)}findById(t){return zle(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)HTt(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof Wh&&(yield t.toChatMessage())}async baseMessageTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{if(n instanceof Wh||n instanceof e){let i=await n.baseMessageTokenCount(t);r+=i}})),r}removeLowestPriorityChild(){let t=[];return $le(this,t),t}};Vc.GenericMaterializedContainer=ZA;var gk=class{static{s(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],o){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=o}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,_9.once)(async t=>await t.tokenLength({type:Mf.Raw.ChatCompletionContentPartKind.Text,text:this.text})+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};Vc.MaterializedChatMessageTextChunk=gk;var Wh=class{static{s(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,o,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=o,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=TLe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return $le(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return zle(t,this)}_tokenCount=(0,_9.once)(async t=>{let r=this.toChatMessage();return t.countMessageTokens((0,Mf.toMode)(t.mode,r))});_upperBound=(0,_9.once)(async t=>{let r=await this.baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});baseMessageTokenCount=(0,_9.once)(t=>{let r=this.toChatMessage();return r.content=r.content.map(n=>n.type===Mf.Raw.ChatCompletionContentPartKind.Text?{...n,text:""}:n.type===Mf.Raw.ChatCompletionContentPartKind.Image?void 0:n).filter(n=>!!n),t.countMessageTokens((0,Mf.toMode)(t.mode,r))});_text=(0,_9.once)(()=>{let t=[];for(let{content:r,isTextSibling:n}of bLe(this)){if(r instanceof kb||r instanceof qC){t.push(r);continue}if(r instanceof qh){t.at(-1)instanceof qh?t[t.length-1]=r:t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&i&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.map(r=>{if(typeof r=="string")return{type:Mf.Raw.ChatCompletionContentPartKind.Text,text:r};if(r instanceof kb)return{type:Mf.Raw.ChatCompletionContentPartKind.Image,imageUrl:{url:wLe(r.src),detail:r.detail}};if(r instanceof qC)return r.value;if(r instanceof qh)return r.part;throw new Error("Unexpected element type")});if(this.role===Mf.Raw.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===Mf.Raw.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.toolCalls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===Mf.Raw.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===Mf.Raw.ChatRole.Tool?{role:this.role,content:t,toolCallId:this.toolCallId}:{role:this.role,content:t,name:this.name}}};Vc.MaterializedChatMessage=Wh;var qC=class{static{s(this,"MaterializedChatMessageOpaque")}parent;part;metadata=[];priority=Number.MAX_SAFE_INTEGER;get value(){return this.part.value}constructor(t,r){this.parent=t,this.part=r}upperBoundTokenCount(t){return this.part.tokenUsage&&Mf.Raw.ChatCompletionContentPartOpaque.usableIn(this.part,t.mode)?this.part.tokenUsage:0}isEmpty=!1};Vc.MaterializedChatMessageOpaque=qC;var qh=class{static{s(this,"MaterializedChatMessageBreakpoint")}parent;part;metadata=[];priority=Number.MAX_SAFE_INTEGER;constructor(t,r){this.parent=t,this.part=r}upperBoundTokenCount(t){return 0}isEmpty=!1};Vc.MaterializedChatMessageBreakpoint=qh;var kb=class{static{s(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,o=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=o,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,_9.once)(async t=>t.tokenLength({type:Mf.Raw.ChatCompletionContentPartKind.Image,imageUrl:{url:wLe(this.src),detail:this.detail}}));isEmpty=!1};Vc.MaterializedChatMessageImage=kb;function WC(e){return e instanceof ZA||e instanceof Wh}s(WC,"isContainerType");function vLe(e){return e instanceof gk||e instanceof kb||e instanceof qC||e instanceof qh}s(vLe,"isContentType");function HTt(e){if(!WC(e))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}s(HTt,"assertContainerOrChatMessage");function*bLe(e,t=!1){for(let r of e.children)r instanceof gk?(yield{content:r,isTextSibling:t},t=!0):r instanceof kb||r instanceof qC||r instanceof qh?yield{content:r,isTextSibling:!1}:r instanceof qC?yield{content:r,isTextSibling:!0}:(r&&(yield*bLe(r,t)),t=!1)}s(bLe,"contentChunks");function jTt(e,t){let r;function n(i,o){if(vLe(i))(!r||i.priority<r.node.priority)&&(r={chain:o.slice(),node:i});else{o.push(i);for(let a of i.children)n(a,o);o.pop()}}if(s(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");Ak(r.node,t)}s(jTt,"removeLowestPriorityLegacy");var ALe=new WeakMap;function ELe(e){let t=ALe.get(e);if(t!==void 0)return t;let r=!1;return e instanceof qh?r=!0:e instanceof Wh?r=e.children.some(n=>n instanceof qh):e instanceof ZA&&(r=e.children.some(ELe)),ALe.set(e,r),r}s(ELe,"hasCachePoint");function VTt(e){if(e instanceof Wh)return!0;for(let t=e.parent;t;t=t.parent)if(t instanceof Wh)return!1;return!0}s(VTt,"shouldLookForCachePointInNode");function $le(e,t){let r;if(e instanceof ZA&&e.has(1)){jTt(e,t);return}let n=VTt(e),i=e.children.map((o,a)=>({chain:[e],index:a}));for(let o=0;o<i.length;o++){let{chain:a,index:l}=i[o],c=a[a.length-1].children[l];if(!(n&&ELe(c)&&(r=void 0,c instanceof qh))){if(c instanceof ZA&&c.has(4)){let u=[...a,c];i.splice(o+1,0,...c.children.map((f,m)=>({chain:u,index:m})))}else if(!r||c.priority<r.value.priority)r={chain:a,index:l,value:c};else if(c.priority===r.value.priority){r.lowestNested??=yLe(r.value);let u=yLe(c);u<r.lowestNested&&(r={chain:a,index:l,value:c,lowestNested:u})}}}if(!r)throw new wG(e);vLe(r.value)||r.value instanceof ZA&&r.value.has(2)||WC(r.value)&&!r.value.children.length?Ak(r.value,t):$le(r.value,t)}s($le,"removeLowestPriorityChild");var wG=class extends Error{static{s(this,"BudgetExceededError")}constructor(t){let r=[t];for(;r[0].parent;)r.unshift(r[0].parent);let n=r.map(i=>i instanceof Wh?i.role:i.name||"(anonymous)");super(`No lowest priority node found (path: ${n.join(" -> ")})`)}};Vc.BudgetExceededError=wG;function yLe(e){if(!WC(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}s(yLe,"getLowestPriorityAmongChildren");function*ILe(e){yield*e.metadata;for(let t of e.children)WC(t)?yield*ILe(t):yield*t.metadata}s(ILe,"allMetadata");function TLe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(WC(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let o=i.replaceNode(e,r);if(o)return o}}}s(TLe,"replaceNode");function*CLe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,WC(r)&&t.push(...r.children)}}s(CLe,"forEachNode");function $Tt(e){let t=e;for(;t.parent;)t=t.parent;return t}s($Tt,"getRoot");function xLe(e){return e instanceof ZA&&e.keepWithId!==void 0}s(xLe,"isKeepWith");var Vle=new Set;function zTt(e,t){let r=new Set;for(let n of CLe(e))xLe(n)&&!Vle.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)Vle.add(n);try{let n=$Tt(e);for(let i of CLe(n))xLe(i)&&r.has(i.keepWithId)?Ak(i,t):i instanceof Wh&&i.toolCalls&&(i.toolCalls=YTt(i.toolCalls,o=>!(o.keepWith&&r.has(o.keepWith.id))),i.isEmpty&&Ak(i,t))}finally{for(let n of r)Vle.delete(n)}}s(zTt,"removeOtherKeepWiths");function zle(e,t){if(t.id===e)return t;for(let r of t.children)if(WC(r)){let n=zle(e,r);if(n)return n}}s(zle,"findNodeById");function Ak(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),zTt(e,t),r.isEmpty?Ak(r,t):r.onChunksChange())}s(Ak,"removeNode");function wLe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}s(wLe,"getEncodedBase64");function YTt(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}s(YTt,"filterIfDifferent")});var SLe=j(()=>{"use strict";d();function KTt(e,t,...r){return{ctor:e,props:t,children:r.flat()}}s(KTt,"_vscpp");function _Le(){throw new Error("This should not be invoked!")}s(_Le,"_vscppf");_Le.isFragment=!0;globalThis.vscpp=KTt;globalThis.vscppf=_Le});var Jle=j(_G=>{"use strict";d();Object.defineProperty(_G,"__esModule",{value:!0});_G.PromptElement=void 0;SLe();var Kle=class{static{s(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};_G.PromptElement=Kle});var ace=j(Oi=>{"use strict";d();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.LogicalWrapper=Oi.IfEmpty=Oi.AbstractKeepWith=Oi.TokenLimit=Oi.Expandable=Oi.Chunk=Oi.LegacyPrioritization=Oi.ToolResult=Oi.PrioritizedList=Oi.Image=Oi.TextChunk=Oi.ToolMessage=Oi.AssistantMessage=Oi.UserMessage=Oi.SystemMessage=Oi.BaseChatMessage=void 0;Oi.isChatMessagePromptElement=JTt;Oi.useKeepWith=twt;var Ck=Gh(),cm=Jle();function JTt(e){return e instanceof SG||e instanceof RG||e instanceof kG}s(JTt,"isChatMessagePromptElement");var Bb=class extends cm.PromptElement{static{s(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Oi.BaseChatMessage=Bb;var SG=class extends Bb{static{s(this,"SystemMessage")}constructor(t){t.role=Ck.Raw.ChatRole.System,super(t)}};Oi.SystemMessage=SG;var RG=class extends Bb{static{s(this,"UserMessage")}constructor(t){t.role=Ck.Raw.ChatRole.User,super(t)}};Oi.UserMessage=RG;var kG=class extends Bb{static{s(this,"AssistantMessage")}constructor(t){t.role=Ck.Raw.ChatRole.Assistant,super(t)}};Oi.AssistantMessage=kG;var XTt=/\s+/g,Xle=class extends Bb{static{s(this,"ToolMessage")}constructor(t){t.role=Ck.Raw.ChatRole.Tool,super(t)}};Oi.ToolMessage=Xle;var BG=class extends cm.PromptElement{static{s(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?XTt:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let o="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?o+=`
`:a.push(c)}else c!=null&&(o+=c);let l=await ZTt(t,i,o,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Oi.TextChunk=BG;async function ZTt(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",o=-1;for(;o<r.length;){let a;typeof t=="string"?a=r.indexOf(t,o===-1?0:o+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,o),a);if(await e.countTokens({type:Ck.Raw.ChatCompletionContentPartKind.Text,text:l},n)>e.tokenBudget)return i;i=l,o=a}return i}s(ZTt,"getTextContentBelowBudget");var Zle=class extends cm.PromptElement{static{s(this,"Image")}constructor(t){super(t)}render(){return vscpp(vscppf,null,this.props.children)}};Oi.Image=Zle;var ece=class extends cm.PromptElement{static{s(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,o)=>{if(!i)return;let a=n?r-o:r-t.length+o;return typeof i!="object"?vscpp(BG,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Oi.PrioritizedList=ece;var tce=class extends cm.PromptElement{static{s(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Oi.ToolResult=tce;var rce=class extends cm.PromptElement{static{s(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Oi.LegacyPrioritization=rce;var nce=class extends cm.PromptElement{static{s(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Oi.Chunk=nce;var ice=class extends cm.PromptElement{static{s(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Oi.Expandable=ice;var oce=class extends cm.PromptElement{static{s(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Oi.TokenLimit=oce;var DG=class extends cm.PromptElement{static{s(this,"AbstractKeepWith")}};Oi.AbstractKeepWith=DG;var ewt=0;function twt(){let e=ewt++;return class extends DG{static{s(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}s(twt,"useKeepWith");var sce=class extends cm.PromptElement{static{s(this,"IfEmpty")}render(){return vscpp(vscppf,null,vscpp(yk,null,this.props.alt),vscpp(yk,{flexGrow:1},this.props.children))}};Oi.IfEmpty=sce;var yk=class extends cm.PromptElement{static{s(this,"LogicalWrapper")}render(){return vscpp(vscppf,null,this.props.children)}};Oi.LogicalWrapper=yk});var kLe=j(xk=>{"use strict";d();Object.defineProperty(xk,"__esModule",{value:!0});xk.localize=rwt;xk.localize2=nwt;xk.getConfiguredDefaultLocale=iwt;function RLe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let o=i[0];return typeof t[o]<"u"?t[o]:n}),r}s(RLe,"_format");function rwt(e,t,...r){return RLe(t,r)}s(rwt,"localize");function nwt(e,t,...r){let n=RLe(t,r);return{original:n,value:n}}s(nwt,"localize2");function iwt(e){}s(iwt,"getConfiguredDefaultLocale")});var fce=j(rr=>{"use strict";d();Object.defineProperty(rr,"__esModule",{value:!0});rr.isAndroid=rr.isEdge=rr.isSafari=rr.isFirefox=rr.isChrome=rr.OS=rr.setTimeout0=rr.setTimeout0IsFaster=rr.translationsConfigFile=rr.platformLocale=rr.locale=rr.Language=rr.language=rr.userAgent=rr.platform=rr.isCI=rr.isMobile=rr.isIOS=rr.webWorkerOrigin=rr.isWebWorker=rr.isWeb=rr.isElectron=rr.isNative=rr.isLinuxSnap=rr.isLinux=rr.isMacintosh=rr.isWindows=rr.LANGUAGE_DEFAULT=void 0;rr.PlatformToString=swt;rr.isLittleEndian=awt;rr.isBigSurOrNewer=lwt;var BLe=kLe();rr.LANGUAGE_DEFAULT="en";var Ek=!1,Ik=!1,bk=!1,LLe=!1,FLe=!1,cce=!1,MLe=!1,uce=!1,QLe=!1,OLe=!1,vk,PG=rr.LANGUAGE_DEFAULT,lce=rr.LANGUAGE_DEFAULT,ULe,e2,t2=globalThis,Qf;typeof t2.vscode<"u"&&typeof t2.vscode.process<"u"?Qf=t2.vscode.process:typeof process<"u"&&(Qf=process);var qLe=typeof Qf?.versions?.electron=="string",owt=qLe&&Qf?.type==="renderer";if(typeof Qf=="object"){Ek=Qf.platform==="win32",Ik=Qf.platform==="darwin",bk=Qf.platform==="linux",LLe=bk&&!!Qf.env.SNAP&&!!Qf.env.SNAP_REVISION,MLe=qLe,QLe=!!Qf.env.CI||!!Qf.env.BUILD_ARTIFACTSTAGINGDIRECTORY,vk=rr.LANGUAGE_DEFAULT,PG=rr.LANGUAGE_DEFAULT;let e=Qf.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];vk=t.locale,lce=t.osLocale,PG=r||rr.LANGUAGE_DEFAULT,ULe=t._translationsConfigFile}catch{}FLe=!0}else typeof navigator=="object"&&!owt?(e2=navigator.userAgent,Ek=e2.indexOf("Windows")>=0,Ik=e2.indexOf("Macintosh")>=0,uce=(e2.indexOf("Macintosh")>=0||e2.indexOf("iPad")>=0||e2.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,bk=e2.indexOf("Linux")>=0,OLe=e2?.indexOf("Mobi")>=0,cce=!0,vk=BLe.getConfiguredDefaultLocale(BLe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||rr.LANGUAGE_DEFAULT,PG=vk,lce=navigator.language):console.error("Unable to resolve platform.");function swt(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}s(swt,"PlatformToString");var NG=0;Ik?NG=1:Ek?NG=3:bk&&(NG=2);rr.isWindows=Ek;rr.isMacintosh=Ik;rr.isLinux=bk;rr.isLinuxSnap=LLe;rr.isNative=FLe;rr.isElectron=MLe;rr.isWeb=cce;rr.isWebWorker=cce&&typeof t2.importScripts=="function";rr.webWorkerOrigin=rr.isWebWorker?t2.origin:void 0;rr.isIOS=uce;rr.isMobile=OLe;rr.isCI=QLe;rr.platform=NG;rr.userAgent=e2;rr.language=PG;var DLe;(function(e){function t(){return rr.language}s(t,"value"),e.value=t;function r(){return rr.language.length===2?rr.language==="en":rr.language.length>=3?rr.language[0]==="e"&&rr.language[1]==="n"&&rr.language[2]==="-":!1}s(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return rr.language==="en"}s(n,"isDefault"),e.isDefault=n})(DLe||(rr.Language=DLe={}));rr.locale=vk;rr.platformLocale=lce;rr.translationsConfigFile=ULe;rr.setTimeout0IsFaster=typeof t2.postMessage=="function"&&!t2.importScripts;rr.setTimeout0=(()=>{if(rr.setTimeout0IsFaster){let e=[];t2.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let o=e[n];if(o.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),o.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),t2.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();rr.OS=Ik||uce?2:Ek?1:3;var PLe=!0,NLe=!1;function awt(){if(!NLe){NLe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,PLe=new Uint16Array(e.buffer)[0]===513}return PLe}s(awt,"isLittleEndian");rr.isChrome=!!(rr.userAgent&&rr.userAgent.indexOf("Chrome")>=0);rr.isFirefox=!!(rr.userAgent&&rr.userAgent.indexOf("Firefox")>=0);rr.isSafari=!!(!rr.isChrome&&rr.userAgent&&rr.userAgent.indexOf("Safari")>=0);rr.isEdge=!!(rr.userAgent&&rr.userAgent.indexOf("Edg/")>=0);rr.isAndroid=!!(rr.userAgent&&rr.userAgent.indexOf("Android")>=0);function lwt(e){return parseFloat(e)>=20}s(lwt,"isBigSurOrNewer")});var GLe=j(Gg=>{"use strict";d();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.arch=Gg.platform=Gg.env=Gg.cwd=void 0;var WLe=fce(),Db,dce=globalThis.vscode;if(typeof dce<"u"&&typeof dce.process<"u"){let e=dce.process;Db={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?Db={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Db={get platform(){return WLe.isWindows?"win32":WLe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Gg.cwd=Db.cwd;Gg.env=Db.env;Gg.platform=Db.platform;Gg.arch=Db.arch});var jLe=j(Sr=>{"use strict";d();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.delimiter=Sr.sep=Sr.toNamespacedPath=Sr.parse=Sr.format=Sr.extname=Sr.basename=Sr.dirname=Sr.relative=Sr.resolve=Sr.join=Sr.isAbsolute=Sr.normalize=Sr.posix=Sr.win32=void 0;var S9=GLe(),cwt=65,uwt=97,fwt=90,dwt=122,jC=46,Hl=47,Iu=92,GC=58,mwt=63,LG=class extends Error{static{s(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let o=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${o} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function hwt(e,t){if(e===null||typeof e!="object")throw new LG(t,"Object",e)}s(hwt,"validateObject");function ma(e,t){if(typeof e!="string")throw new LG(t,"string",e)}s(ma,"validateString");var Tu=S9.platform==="win32";function ai(e){return e===Hl||e===Iu}s(ai,"isPathSeparator");function mce(e){return e===Hl}s(mce,"isPosixPathSeparator");function HC(e){return e>=cwt&&e<=fwt||e>=uwt&&e<=dwt}s(HC,"isWindowsDeviceRoot");function FG(e,t,r,n){let i="",o=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Hl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==jC||i.charCodeAt(i.length-2)!==jC){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",o=0):(i=i.slice(0,f),o=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",o=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",o=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),o=u-a-1;a=u,l=0}else c===jC&&l!==-1?++l:l=-1}return i}s(FG,"normalizeString");function HLe(e,t){hwt(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}s(HLe,"_format");Sr.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let o;if(i>=0){if(o=e[i],ma(o,"path"),o.length===0)continue}else t.length===0?o=S9.cwd():(o=S9.env[`=${t}`]||S9.cwd(),(o===void 0||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===Iu)&&(o=`${t}\\`));let a=o.length,l=0,c="",u=!1,f=o.charCodeAt(0);if(a===1)ai(f)&&(l=1,u=!0);else if(ai(f))if(u=!0,ai(o.charCodeAt(1))){let m=2,h=m;for(;m<a&&!ai(o.charCodeAt(m));)m++;if(m<a&&m!==h){let p=o.slice(h,m);for(h=m;m<a&&ai(o.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!ai(o.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${o.slice(h,m)}`,l=m)}}}else l=1;else HC(f)&&o.charCodeAt(1)===GC&&(c=o.slice(0,2),l=2,a>2&&ai(o.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${o.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=FG(r,!n,"\\",ai),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){ma(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,o=e.charCodeAt(0);if(t===1)return mce(o)?"\\":e;if(ai(o))if(i=!0,ai(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ai(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else HC(o)&&e.charCodeAt(1)===GC&&(n=e.slice(0,2),r=2,t>2&&ai(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?FG(e.slice(r),!i,"\\",ai):"";return a.length===0&&!i&&(a="."),a.length>0&&ai(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){ma(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return ai(r)||t>2&&HC(r)&&e.charCodeAt(1)===GC&&ai(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let o=0;o<e.length;++o){let a=e[o];ma(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&ai(r.charCodeAt(0))){++i;let o=r.length;o>1&&ai(r.charCodeAt(1))&&(++i,o>2&&(ai(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&ai(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Sr.win32.normalize(t)},relative(e,t){if(ma(e,"from"),ma(t,"to"),e===t)return"";let r=Sr.win32.resolve(e),n=Sr.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Iu;)i++;let o=e.length;for(;o-1>i&&e.charCodeAt(o-1)===Iu;)o--;let a=o-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Iu;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Iu;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let g=e.charCodeAt(i+h);if(g!==t.charCodeAt(l+h))break;g===Iu&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Iu)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Iu?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=o;++h)(h===o||e.charCodeAt(h)===Iu)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Iu&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Sr.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Iu){if(t.charCodeAt(1)===Iu){let r=t.charCodeAt(2);if(r!==mwt&&r!==jC)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(HC(t.charCodeAt(0))&&t.charCodeAt(1)===GC&&t.charCodeAt(2)===Iu)return`\\\\?\\${t}`;return e},dirname(e){ma(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return ai(i)?e:".";if(ai(i)){if(r=n=1,ai(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ai(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else HC(i)&&e.charCodeAt(1)===GC&&(r=t>2&&ai(e.charCodeAt(2))?3:2,n=r);let o=-1,a=!0;for(let l=t-1;l>=n;--l)if(ai(e.charCodeAt(l))){if(!a){o=l;break}}else a=!1;if(o===-1){if(r===-1)return".";o=r}return e.slice(0,o)},basename(e,t){t!==void 0&&ma(t,"ext"),ma(e,"path");let r=0,n=-1,i=!0,o;if(e.length>=2&&HC(e.charCodeAt(0))&&e.charCodeAt(1)===GC&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=r;--o){let c=e.charCodeAt(o);if(ai(c)){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=r;--o)if(ai(e.charCodeAt(o))){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){ma(e,"path");let t=0,r=-1,n=0,i=-1,o=!0,a=0;e.length>=2&&e.charCodeAt(1)===GC&&HC(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(ai(c)){if(!o){n=l+1;break}continue}i===-1&&(o=!1,i=l+1),c===jC?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:HLe.bind(null,"\\"),parse(e){ma(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return ai(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ai(i)){if(n=1,ai(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!ai(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&ai(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!ai(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(HC(i)&&e.charCodeAt(1)===GC){if(r<=2)return t.root=t.dir=e,t;if(n=2,ai(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let o=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),ai(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===jC?o===-1?o=u:f!==1&&(f=1):o!==-1&&(f=-1)}return l!==-1&&(o===-1||f===0||f===1&&o===l-1&&o===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,o),t.base=e.slice(a,l),t.ext=e.slice(o,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var pwt=(()=>{if(Tu){let e=/\\/g;return()=>{let t=S9.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>S9.cwd()})();Sr.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:pwt();ma(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Hl)}return t=FG(t,!r,"/",mce),r?`/${t}`:t.length>0?t:"."},normalize(e){if(ma(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Hl,r=e.charCodeAt(e.length-1)===Hl;return e=FG(e,!t,"/",mce),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return ma(e,"path"),e.length>0&&e.charCodeAt(0)===Hl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];ma(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Sr.posix.normalize(t)},relative(e,t){if(ma(e,"from"),ma(t,"to"),e===t||(e=Sr.posix.resolve(e),t=Sr.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,o=1,a=t.length-o,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(o+u))break;m===Hl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(o+u)===Hl)return t.slice(o+u+1);if(u===0)return t.slice(o+u)}else i>l&&(e.charCodeAt(r+u)===Hl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Hl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(o+c)}`},toNamespacedPath(e){return e},dirname(e){if(ma(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Hl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Hl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&ma(t,"ext"),ma(e,"path");let r=0,n=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=0;--o){let c=e.charCodeAt(o);if(c===Hl){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===Hl){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){ma(e,"path");let t=-1,r=0,n=-1,i=!0,o=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Hl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===jC?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:HLe.bind(null,"/"),parse(e){ma(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Hl,n;r?(t.root="/",n=1):n=0;let i=-1,o=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Hl){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===jC?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=o===0&&r?1:o;i===-1||u===0||u===1&&i===a-1&&i===o+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return o>0?t.dir=e.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Sr.posix.win32=Sr.win32.win32=Sr.win32;Sr.posix.posix=Sr.win32.posix=Sr.posix;Sr.normalize=Tu?Sr.win32.normalize:Sr.posix.normalize;Sr.isAbsolute=Tu?Sr.win32.isAbsolute:Sr.posix.isAbsolute;Sr.join=Tu?Sr.win32.join:Sr.posix.join;Sr.resolve=Tu?Sr.win32.resolve:Sr.posix.resolve;Sr.relative=Tu?Sr.win32.relative:Sr.posix.relative;Sr.dirname=Tu?Sr.win32.dirname:Sr.posix.dirname;Sr.basename=Tu?Sr.win32.basename:Sr.posix.basename;Sr.extname=Tu?Sr.win32.extname:Sr.posix.extname;Sr.format=Tu?Sr.win32.format:Sr.posix.format;Sr.parse=Tu?Sr.win32.parse:Sr.posix.parse;Sr.toNamespacedPath=Tu?Sr.win32.toNamespacedPath:Sr.posix.toNamespacedPath;Sr.sep=Tu?Sr.win32.sep:Sr.posix.sep;Sr.delimiter=Tu?Sr.win32.delimiter:Sr.posix.delimiter});var XLe=j(R9=>{"use strict";d();Object.defineProperty(R9,"__esModule",{value:!0});R9.URI=void 0;R9.isUriComponents=Ewt;R9.uriToFsPath=UG;var VLe=jLe(),QG=fce(),gwt=/^\w[\w\d+.-]*$/,Awt=/^\//,ywt=/^\/\//;function Cwt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!gwt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Awt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(ywt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(Cwt,"_validateUri");function xwt(e,t){return!e&&!t?"file":e}s(xwt,"_schemeFix");function vwt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Hh&&(t=Hh+t):t=Hh;break}return t}s(vwt,"_referenceResolution");var Vo="",Hh="/",bwt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,OG=class e{static{s(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,o,a=!1){typeof t=="object"?(this.scheme=t.scheme||Vo,this.authority=t.authority||Vo,this.path=t.path||Vo,this.query=t.query||Vo,this.fragment=t.fragment||Vo):(this.scheme=xwt(t,a),this.authority=r||Vo,this.path=vwt(this.scheme,n||Vo),this.query=i||Vo,this.fragment=o||Vo,Cwt(this,a))}get fsPath(){return UG(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:o,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Vo),n===void 0?n=this.authority:n===null&&(n=Vo),i===void 0?i=this.path:i===null&&(i=Vo),o===void 0?o=this.query:o===null&&(o=Vo),a===void 0?a=this.fragment:a===null&&(a=Vo),r===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&a===this.fragment?this:new VC(r,n,i,o,a)}static parse(t,r=!1){let n=bwt.exec(t);return n?new VC(n[2]||Vo,MG(n[4]||Vo),MG(n[5]||Vo),MG(n[7]||Vo),MG(n[9]||Vo),r):new VC(Vo,Vo,Vo,Vo,Vo)}static file(t){let r=Vo;if(QG.isWindows&&(t=t.replace(/\\/g,Hh)),t[0]===Hh&&t[1]===Hh){let n=t.indexOf(Hh,2);n===-1?(r=t.substring(2),t=Hh):(r=t.substring(2,n),t=t.substring(n)||Hh)}return new VC("file",r,t,Vo,Vo)}static from(t,r){return new VC(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return QG.isWindows&&t.scheme==="file"?n=e.file(VLe.win32.join(UG(t,!0),...r)).path:n=VLe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return hce(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new VC(t);return r._formatted=t.external??null,r._fsPath=t._sep===YLe?t.fsPath??null:null,r}}else return t}};R9.URI=OG;function Ewt(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}s(Ewt,"isUriComponents");var YLe=QG.isWindows?1:void 0,VC=class extends OG{static{s(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=UG(this,!1)),this._fsPath}toString(t=!1){return t?hce(this,!0):(this._formatted||(this._formatted=hce(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=YLe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},KLe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function $Le(e,t,r){let n,i=-1;for(let o=0;o<e.length;o++){let a=e.charCodeAt(o);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n!==void 0&&(n+=e.charAt(o));else{n===void 0&&(n=e.substr(0,o));let l=KLe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n+=l):i===-1&&(i=o)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}s($Le,"encodeURIComponentFast");function Iwt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=KLe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}s(Iwt,"encodeURIComponentMinimal");function UG(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,QG.isWindows&&(r=r.replace(/\//g,"\\")),r}s(UG,"uriToFsPath");function hce(e,t){let r=t?Iwt:$Le,n="",{scheme:i,authority:o,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(o||i==="file")&&(n+=Hh,n+=Hh),o){let u=o.indexOf("@");if(u!==-1){let f=o.substr(0,u);o=o.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}o=o.toLowerCase(),u=o.lastIndexOf(":"),u===-1?n+=r(o,!1,!0):(n+=r(o.substr(0,u),!1,!0),n+=o.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:$Le(c,!1,!1)),n}s(hce,"_asFormatted");function JLe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+JLe(e.substr(3)):e}}s(JLe,"decodeURIComponentGraceful");var zLe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function MG(e){return e.match(zLe)?e.replace(zLe,t=>JLe(t)):e}s(MG,"percentDecode")});var Ace=j($C=>{"use strict";d();Object.defineProperty($C,"__esModule",{value:!0});$C.PromptReference=$C.ChatResponseReferencePartStatusKind=$C.PromptMetadata=void 0;var Tk=XLe(),pce=class{static{s(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};$C.PromptMetadata=pce;var ZLe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(ZLe||($C.ChatResponseReferencePartStatusKind=ZLe={}));var gce=class e{static{s(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=s(n=>"scheme"in n?Tk.URI.from(n):{uri:Tk.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Tk.URI.from(t.iconPath):"light"in t.iconPath?{light:Tk.URI.from(t.iconPath.light),dark:Tk.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};$C.PromptReference=gce});var wce=j(B9=>{"use strict";d();Object.defineProperty(B9,"__esModule",{value:!0});B9.PromptRenderer=B9.MetadataMap=void 0;var Twt=Hle(),wk=Yle(),k9=OC(),Pa=ace(),Tce=Ace(),eFe;(function(e){e.empty={get:s(()=>{},"get"),getAll:s(()=>[],"getAll")}})(eFe||(B9.MetadataMap=eFe={}));var Cce=class{static{s(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new WG(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let o=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor){let g=iFe(u.path);throw new Error(`Invalid ChatMessage child! Child must be a TSX component that extends PromptElement at ${g}`)}let f=this.createElement(u),m;f instanceof Pa.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=o.get(h);p||(p=[],o.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(o.size===0)return;let a=[...o.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=s(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:v}of u)m+=v.props.flexBasis??1;let h=0,p=u.map(v=>{if(v.tokenLimit===void 0)return!1;let b=v.element.props.flexBasis??1,E=b/m;return Math.floor(t.remainingTokenBudget*E)<v.tokenLimit?!1:(m-=b,h+=v.tokenLimit,!0)}),g=u.map((v,b)=>{let E=(v.element.props.flexBasis??1)/m;return{tokenBudget:p[b]?v.tokenLimit:Math.floor((t.remainingTokenBudget-h)*E),endpoint:t.endpoint,countTokens:s((_,k)=>this._tokenizer.tokenLength(typeof _=="string"?{type:k9.Raw.ChatCompletionContentPartKind.Text,text:_}:_,k),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((v,b)=>({id:v.element.node.id,tokenBudget:g[b].tokenBudget}))}),await Promise.all(u.map(async({element:v,promptElementInstance:b},E)=>{let _=await rFe(v,()=>b.prepare?.(g[E],n,i));v.node.setState(_)}));let y=await Promise.all(u.map(async({element:v,promptElementInstance:b},E)=>{let _=g[E];return await rFe(v,()=>b.render(v.node.getState(),_,n,i))}));for(let[v,{element:b,promptElementInstance:E}]of u.entries()){let _=g[v],k=y[v];if(!k)continue;let B=await this._processPromptRenderPiece(new Pb(_.tokenBudget,this._endpoint),b,E,k,n,i);E instanceof Pa.Expandable&&this._growables.push({initialConsume:B,elem:b.node}),t.consume(B)}}}async _processPromptRenderPiece(t,r,n,i,o,a){let l=nFe(i),c=new Pb(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await wwt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,o,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new Pb(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[],path:[this._ctor]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){let n=await this.renderRaw(t,r);return{...n,messages:(0,k9.toMode)(this._tokenizer.mode,n.messages)}}async renderRaw(t,r){await this._processPromptPieces(new Pb(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[],path:[this._ctor]}],t,r);let{container:n,allMetadata:i,removed:o}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:o,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:s(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof Hg))return;let p=h.reference,g="variableName"in p.anchor;if(g&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!g)return p}).filter(GG),m=i.map(h=>{if(!(h instanceof Hg)||c.includes(h))return;let p=h.reference,g="variableName"in p.anchor;if(g&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!g)return p}).filter(GG);return{metadata:{get:s(h=>c.find(p=>p instanceof h),"get"),getAll:s(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],o=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=o.length-1;l>=0;l--){let c=o[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){let h=await u.baseMessageTokenCount(this._tokenizer);do for(let p of u.removeLowestPriorityChild()){a++;let g=p.upperBoundTokenCount(this._tokenizer);m-=typeof g=="number"?g:await g}while(m-h>c.limit);m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let o of this._growables){if(!t.findById(o.elem.id))continue;let a=o.elem.getObj();if(!(a instanceof Pa.Expandable))throw new Error("unreachable: expected growable");let l=new WG(null,0,o.elem.id),c=new Pb(n-r+o.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[],path:[this._ctor]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:s((h,p)=>this._tokenizer.tokenLength(typeof h=="string"?{type:k9.Raw.ChatCompletionContentPartKind.Text,text:h}:h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(o.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=o.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,o){if(t.ctor===Pa.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},qG(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children,path:[...t.path,l.ctor]})}return this._processPromptPieces(n,a,i,o)}_handleIntrinsic(t,r,n,i,o){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,o);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data);case"cacheBreakpoint":return this._handleIntrinsicCacheBreakpoint(t,n,i,o)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicCacheBreakpoint(t,r,n,i){if(n.length>0)throw new Error("<cacheBreakpoint /> must not have children!");t.addCacheBreakpoint(r,i)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,o){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,o)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new Hg(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let o=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&o.push(l.value),l.kind==="intrinsic")if(l.name==="br")o.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new Hg(c));else this._handleIntrinsic(t,l.name,l.props,qG(l.children),r.childIndex)}t.appendStringChild(o.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};B9.PromptRenderer=Cce;async function wwt(e,t,r,n){let i=0;if((0,Pa.isChatMessagePromptElement)(r)){let o={role:t.props.role,content:[],...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{toolCalls:t.props.toolCalls}:void 0,...t.props.toolCallId?{toolCallId:t.props.toolCallId}:void 0};i+=await e.countMessageTokens((0,k9.toMode)(e.mode,o))}for(let o of n)o.kind==="literal"&&(i+=await e.tokenLength({type:k9.Raw.ChatCompletionContentPartKind.Text,text:o.value}));return{tokensConsumed:i}}s(wwt,"computeTokensConsumedByLiterals");function nFe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new bce(String(e))):_wt(e)?qG(e.children,t):Swt(e)?qG(e,t):typeof e.ctor=="string"?t.push(new xce(e.ctor,e.props,e.children)):t.push(new vce(e.ctor,e.props,e.children)),t)}s(nFe,"flattenAndReduce");function qG(e,t=[]){for(let r of e)nFe(r,t);return t}s(qG,"flattenAndReduceArr");var xce=class{static{s(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},vce=class{static{s(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},bce=class{static{s(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},Pb=class{static{s(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},WG=class e{static{s(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r,n){let i=new e(null,t);switch(i._metadata=r.references?.map(o=>new Hg(Tce.PromptReference.fromJSON(o)))??[],i._children=r.children.map((o,a)=>{switch(o.type){case 1:return e.fromJSON(a,o,n);case 2:return _k.fromJSON(i,a,o);default:}}).filter(GG),r.ctor){case 1:i._objFlags=r.flags??0,i._obj=new Pa.BaseChatMessage(r.props);break;case 2:{if(r.keepWithId!==void 0){let o=n.get(r.keepWithId);o||(o=(0,Pa.useKeepWith)(),n.set(r.keepWithId,o)),i._obj=new o(r.props||{})}else i._obj=new Pa.LogicalWrapper(r.props||{});i._objFlags=r.flags??0;break}case 3:i._obj=new Pa.Image(r.props);break;default:}return i}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];_objFlags=0;constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t,this._obj instanceof Pa.LegacyPrioritization&&(this._objFlags|=1),this._obj instanceof Pa.Chunk&&(this._objFlags|=2),this._obj instanceof Pa.IfEmpty&&(this._objFlags|=8),this._obj.props.passPriority&&(this._objFlags|=4)}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t,new Map);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,o=!1){this._children.push(new _k(this,i,t,r,n,o))}appendLineBreak(t,r=this._children.length){this._children.push(new _k(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,ctorName:this._obj?.constructor.name,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()).filter(GG),props:{},references:this._metadata.filter(r=>r instanceof Hg).map(r=>r.reference.toJSON())};if(this._obj&&(t.props=yce(this._obj.props,Twt.jsonRetainedProps)),this._obj instanceof Pa.BaseChatMessage)t.ctor=1,Object.assign(t.props,yce(this._obj.props,["role","name","toolCalls","toolCallId"]));else{if(this._obj instanceof Pa.Image)return{...t,ctor:3,props:{...t.props,...yce(this._obj.props,["src","detail"])}};this._obj instanceof Pa.AbstractKeepWith&&(t.keepWithId=this._obj.id)}return this._objFlags!==0&&(t.flags=this._objFlags),t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof Pa.Image)return new wk.MaterializedChatMessageImage(t,this.id,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof Pa.BaseChatMessage){if(this._obj.props.role===void 0||typeof this._obj.props.role!="number")throw new Error("Invalid ChatMessage!");return new wk.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof Pa.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof Pa.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=new wk.GenericMaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),n=>this._children.map(i=>i.materialize(n)),this._metadata,this._objFlags);return this._obj instanceof Pa.AbstractKeepWith&&(r.keepWithId=this._obj.id),r}}addMetadata(t){this._metadata.push(t)}addCacheBreakpoint(t,r=this._children.length){if(!(this._obj instanceof Pa.BaseChatMessage))throw new Error("Cache breakpoints may only be direct children of chat messages");this._children.push(new Ece({type:k9.Raw.ChatCompletionContentPartKind.CacheBreakpoint,cacheType:t.type},r))}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},Ece=class{static{s(this,"PromptCacheBreakpoint")}part;childIndex;constructor(t,r){this.part=t,this.childIndex=r}toJSON(){}materialize(t){return new wk.MaterializedChatMessageBreakpoint(t,this.part)}},_k=class e{static{s(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new Hg(Tce.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,o,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=o,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new wk.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof Hg).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function _wt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}s(_wt,"isFragmentCtor");function GG(e){return e!==void 0}s(GG,"isDefined");var Ice=class extends Tce.PromptMetadata{static{s(this,"InternalMetadata")}},Hg=class extends Ice{static{s(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function Swt(e){return!!e&&typeof e[Symbol.iterator]=="function"}s(Swt,"isIterable");function yce(e,t){let r={};for(let n of t)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}s(yce,"pickProps");function iFe(e){return e.map(t=>typeof t=="string"?t:t?t.name||"<anonymous>":String(t)).join(" > ")}s(iFe,"atPath");var tFe=new WeakSet;async function rFe(e,t){try{return await t()}catch(r){throw r instanceof Error&&!tFe.has(r)&&r.constructor.name!=="CancellationError"&&(tFe.add(r),r.message+=` (at tsx element ${iFe(e.path)})`),r}}s(rFe,"annotateError")});var oFe=j(HG=>{"use strict";d();Object.defineProperty(HG,"__esModule",{value:!0});HG.VSCodeTokenizer=void 0;var _ce=OC(),Sce=class{static{s(this,"VSCodeTokenizer")}countTokens;mode=_ce.OutputMode.VSCode;constructor(t,r){if(this.countTokens=t,r!==_ce.OutputMode.VSCode)throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return t.type===_ce.Raw.ChatCompletionContentPartKind.Text?this.countTokens(t.text,r):Promise.resolve(0)}async countMessageTokens(t){return this.countTokens(t)}};HG.VSCodeTokenizer=Sce});var sFe=j(D9=>{"use strict";d();Object.defineProperty(D9,"__esModule",{value:!0});D9.tracerCss=D9.tracerSrc=void 0;D9.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';D9.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var fFe=j(VG=>{"use strict";d();Object.defineProperty(VG,"__esModule",{value:!0});VG.HTMLTracer=void 0;var aFe=sFe(),Nb=Yle(),Rwt=OC(),Rce=class{static{s(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return kce.create({epochs:this.epochs,traceData:cFe(this.traceData)})}serveRouter(t){return new jG({baseAddress:t,epochs:this.epochs,traceData:cFe(this.traceData)})}};VG.HTMLTracer=Rce;var jG=class{static{s(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,o=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(o.pathname){case a:case`${a}/`:this.onRoot(o,n,i);break;case`${a}/regen`:this.onRegen(o,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${aFe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await lFe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${aFe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,o=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(o),l=await lFe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},kce=class e extends jG{static{s(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{o.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),o=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return o}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function lFe(e,t){return{container:await uFe(e,t.container,!1),removed:t.removed,budget:t.budget}}s(lFe,"serializeRenderData");async function uFe(e,t,r){let n={metadata:t.metadata.map(Bwt),priority:t.priority};if(t instanceof Nb.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Nb.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Nb.MaterializedChatMessageOpaque||t instanceof Nb.MaterializedChatMessageBreakpoint)return;{let i={...n,id:t.id,name:t.name,children:(await Promise.all(t.children.map(o=>uFe(e,o,r||t instanceof Nb.MaterializedChatMessage)))).filter(o=>!!o),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof Nb.GenericMaterializedContainer)return{...i,type:0};if(t instanceof Nb.MaterializedChatMessage){let o=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:Rwt.Raw.ChatRole.display(t.role),text:o}}}kwt(t)}s(uFe,"serializeMaterialized");function kwt(e){throw new Error("unreachable")}s(kwt,"assertNever");function Bwt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}s(Bwt,"serializeMetadata");var cFe=s(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var mFe=j(dFe=>{"use strict";d();Object.defineProperty(dFe,"__esModule",{value:!0})});var pFe=j(hFe=>{"use strict";d();Object.defineProperty(hFe,"__esModule",{value:!0})});var AFe=j(gFe=>{"use strict";d();Object.defineProperty(gFe,"__esModule",{value:!0})});var Gh=j(Is=>{"use strict";d();var Dwt=Is&&Is.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lb=Is&&Is.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dwt(t,e,r)};Object.defineProperty(Is,"__esModule",{value:!0});Is.contentType=Is.PromptRenderer=Is.MetadataMap=Is.PromptElement=Is.JSONTree=void 0;Is.renderPrompt=Lwt;Is.renderElementJSON=Fwt;var Bce=OC(),yFe=wce(),Pwt=oFe();Lb(fFe(),Is);Is.JSONTree=Hle();Lb(OC(),Is);Lb(ace(),Is);Lb(Ace(),Is);Lb(mFe(),Is);Lb(pFe(),Is);Lb(AFe(),Is);var Nwt=Jle();Object.defineProperty(Is,"PromptElement",{enumerable:!0,get:s(function(){return Nwt.PromptElement},"get")});var CFe=wce();Object.defineProperty(Is,"MetadataMap",{enumerable:!0,get:s(function(){return CFe.MetadataMap},"get")});Object.defineProperty(Is,"PromptRenderer",{enumerable:!0,get:s(function(){return CFe.PromptRenderer},"get")});async function Lwt(e,t,r,n,i,o,a=Bce.OutputMode.VSCode){let l="countTokens"in n?new Pwt.VSCodeTokenizer((m,h)=>n.countTokens(m,h),a):n,c=new yFe.PromptRenderer(r,e,t,l),u=await c.render(i,o),f=c.getUsedContext();return{...u,usedContext:f}}s(Lwt,"renderPrompt");Is.contentType="application/vnd.codechat.prompt+json.1";function Fwt(e,t,r,n){return new yFe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{mode:Bce.OutputMode.Raw,countMessageTokens(o){throw new Error("Tools may only return text, not messages.")},tokenLength(o,a){return o.type===Bce.Raw.ChatCompletionContentPartKind.Text?Promise.resolve(r?.countTokens(o.text,a)??Promise.resolve(1)):Promise.resolve(1)}}).renderElementJSON(n)}s(Fwt,"renderElementJSON")});var Zk=j((h2n,JMe)=>{d();var h_t="2.0.0",p_t=Number.MAX_SAFE_INTEGER||9007199254740991,g_t=16,A_t=250,y_t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];JMe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:g_t,MAX_SAFE_BUILD_LENGTH:A_t,MAX_SAFE_INTEGER:p_t,RELEASE_TYPES:y_t,SEMVER_SPEC_VERSION:h_t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var eB=j((g2n,XMe)=>{d();var C_t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};XMe.exports=C_t});var sT=j((t1,ZMe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:W0e,MAX_SAFE_BUILD_LENGTH:x_t,MAX_LENGTH:v_t}=Zk(),b_t=eB();t1=ZMe.exports={};var E_t=t1.re=[],I_t=t1.safeRe=[],Nr=t1.src=[],T_t=t1.safeSrc=[],Lr=t1.t={},w_t=0,G0e="[a-zA-Z0-9-]",__t=[["\\s",1],["\\d",v_t],[G0e,x_t]],S_t=s(e=>{for(let[t,r]of __t)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Xn=s((e,t,r)=>{let n=S_t(t),i=w_t++;b_t(e,i,t),Lr[e]=i,Nr[i]=t,T_t[i]=n,E_t[i]=new RegExp(t,r?"g":void 0),I_t[i]=new RegExp(n,r?"g":void 0)},"createToken");Xn("NUMERICIDENTIFIER","0|[1-9]\\d*");Xn("NUMERICIDENTIFIERLOOSE","\\d+");Xn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${G0e}*`);Xn("MAINVERSION",`(${Nr[Lr.NUMERICIDENTIFIER]})\\.(${Nr[Lr.NUMERICIDENTIFIER]})\\.(${Nr[Lr.NUMERICIDENTIFIER]})`);Xn("MAINVERSIONLOOSE",`(${Nr[Lr.NUMERICIDENTIFIERLOOSE]})\\.(${Nr[Lr.NUMERICIDENTIFIERLOOSE]})\\.(${Nr[Lr.NUMERICIDENTIFIERLOOSE]})`);Xn("PRERELEASEIDENTIFIER",`(?:${Nr[Lr.NUMERICIDENTIFIER]}|${Nr[Lr.NONNUMERICIDENTIFIER]})`);Xn("PRERELEASEIDENTIFIERLOOSE",`(?:${Nr[Lr.NUMERICIDENTIFIERLOOSE]}|${Nr[Lr.NONNUMERICIDENTIFIER]})`);Xn("PRERELEASE",`(?:-(${Nr[Lr.PRERELEASEIDENTIFIER]}(?:\\.${Nr[Lr.PRERELEASEIDENTIFIER]})*))`);Xn("PRERELEASELOOSE",`(?:-?(${Nr[Lr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Nr[Lr.PRERELEASEIDENTIFIERLOOSE]})*))`);Xn("BUILDIDENTIFIER",`${G0e}+`);Xn("BUILD",`(?:\\+(${Nr[Lr.BUILDIDENTIFIER]}(?:\\.${Nr[Lr.BUILDIDENTIFIER]})*))`);Xn("FULLPLAIN",`v?${Nr[Lr.MAINVERSION]}${Nr[Lr.PRERELEASE]}?${Nr[Lr.BUILD]}?`);Xn("FULL",`^${Nr[Lr.FULLPLAIN]}$`);Xn("LOOSEPLAIN",`[v=\\s]*${Nr[Lr.MAINVERSIONLOOSE]}${Nr[Lr.PRERELEASELOOSE]}?${Nr[Lr.BUILD]}?`);Xn("LOOSE",`^${Nr[Lr.LOOSEPLAIN]}$`);Xn("GTLT","((?:<|>)?=?)");Xn("XRANGEIDENTIFIERLOOSE",`${Nr[Lr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Xn("XRANGEIDENTIFIER",`${Nr[Lr.NUMERICIDENTIFIER]}|x|X|\\*`);Xn("XRANGEPLAIN",`[v=\\s]*(${Nr[Lr.XRANGEIDENTIFIER]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIER]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIER]})(?:${Nr[Lr.PRERELEASE]})?${Nr[Lr.BUILD]}?)?)?`);Xn("XRANGEPLAINLOOSE",`[v=\\s]*(${Nr[Lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIERLOOSE]})(?:${Nr[Lr.PRERELEASELOOSE]})?${Nr[Lr.BUILD]}?)?)?`);Xn("XRANGE",`^${Nr[Lr.GTLT]}\\s*${Nr[Lr.XRANGEPLAIN]}$`);Xn("XRANGELOOSE",`^${Nr[Lr.GTLT]}\\s*${Nr[Lr.XRANGEPLAINLOOSE]}$`);Xn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${W0e}})(?:\\.(\\d{1,${W0e}}))?(?:\\.(\\d{1,${W0e}}))?`);Xn("COERCE",`${Nr[Lr.COERCEPLAIN]}(?:$|[^\\d])`);Xn("COERCEFULL",Nr[Lr.COERCEPLAIN]+`(?:${Nr[Lr.PRERELEASE]})?(?:${Nr[Lr.BUILD]})?(?:$|[^\\d])`);Xn("COERCERTL",Nr[Lr.COERCE],!0);Xn("COERCERTLFULL",Nr[Lr.COERCEFULL],!0);Xn("LONETILDE","(?:~>?)");Xn("TILDETRIM",`(\\s*)${Nr[Lr.LONETILDE]}\\s+`,!0);t1.tildeTrimReplace="$1~";Xn("TILDE",`^${Nr[Lr.LONETILDE]}${Nr[Lr.XRANGEPLAIN]}$`);Xn("TILDELOOSE",`^${Nr[Lr.LONETILDE]}${Nr[Lr.XRANGEPLAINLOOSE]}$`);Xn("LONECARET","(?:\\^)");Xn("CARETTRIM",`(\\s*)${Nr[Lr.LONECARET]}\\s+`,!0);t1.caretTrimReplace="$1^";Xn("CARET",`^${Nr[Lr.LONECARET]}${Nr[Lr.XRANGEPLAIN]}$`);Xn("CARETLOOSE",`^${Nr[Lr.LONECARET]}${Nr[Lr.XRANGEPLAINLOOSE]}$`);Xn("COMPARATORLOOSE",`^${Nr[Lr.GTLT]}\\s*(${Nr[Lr.LOOSEPLAIN]})$|^$`);Xn("COMPARATOR",`^${Nr[Lr.GTLT]}\\s*(${Nr[Lr.FULLPLAIN]})$|^$`);Xn("COMPARATORTRIM",`(\\s*)${Nr[Lr.GTLT]}\\s*(${Nr[Lr.LOOSEPLAIN]}|${Nr[Lr.XRANGEPLAIN]})`,!0);t1.comparatorTrimReplace="$1$2$3";Xn("HYPHENRANGE",`^\\s*(${Nr[Lr.XRANGEPLAIN]})\\s+-\\s+(${Nr[Lr.XRANGEPLAIN]})\\s*$`);Xn("HYPHENRANGELOOSE",`^\\s*(${Nr[Lr.XRANGEPLAINLOOSE]})\\s+-\\s+(${Nr[Lr.XRANGEPLAINLOOSE]})\\s*$`);Xn("STAR","(<|>)?=?\\s*\\*");Xn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Xn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var nj=j((x2n,eQe)=>{d();var R_t=Object.freeze({loose:!0}),k_t=Object.freeze({}),B_t=s(e=>e?typeof e!="object"?R_t:e:k_t,"parseOptions");eQe.exports=B_t});var H0e=j((E2n,nQe)=>{d();var tQe=/^[0-9]+$/,rQe=s((e,t)=>{let r=tQe.test(e),n=tQe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),D_t=s((e,t)=>rQe(t,e),"rcompareIdentifiers");nQe.exports={compareIdentifiers:rQe,rcompareIdentifiers:D_t}});var Kc=j((w2n,aQe)=>{d();var ij=eB(),{MAX_LENGTH:iQe,MAX_SAFE_INTEGER:oj}=Zk(),{safeRe:oQe,safeSrc:sQe,t:sj}=sT(),P_t=nj(),{compareIdentifiers:aT}=H0e(),j0e=class e{static{s(this,"SemVer")}constructor(t,r){if(r=P_t(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>iQe)throw new TypeError(`version is longer than ${iQe} characters`);ij("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?oQe[sj.LOOSE]:oQe[sj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>oj||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oj||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oj||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<oj)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ij("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),aT(this.major,t.major)||aT(this.minor,t.minor)||aT(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(ij("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return aT(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(ij("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return aT(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?sQe[sj.PRERELEASELOOSE]:sQe[sj.PRERELEASE]}$`),o=`-${r}`.match(i);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),aT(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};aQe.exports=j0e});var Kb=j((R2n,cQe)=>{d();var lQe=Kc(),N_t=s((e,t,r=!1)=>{if(e instanceof lQe)return e;try{return new lQe(e,t)}catch(n){if(!r)return null;throw n}},"parse");cQe.exports=N_t});var fQe=j((D2n,uQe)=>{d();var L_t=Kb(),F_t=s((e,t)=>{let r=L_t(e,t);return r?r.version:null},"valid");uQe.exports=F_t});var mQe=j((L2n,dQe)=>{d();var M_t=Kb(),Q_t=s((e,t)=>{let r=M_t(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");dQe.exports=Q_t});var gQe=j((Q2n,pQe)=>{d();var hQe=Kc(),O_t=s((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new hQe(e instanceof hQe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");pQe.exports=O_t});var CQe=j((q2n,yQe)=>{d();var AQe=Kb(),U_t=s((e,t)=>{let r=AQe(e,null,!0),n=AQe(t,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,a=o?r:n,l=o?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");yQe.exports=U_t});var vQe=j((H2n,xQe)=>{d();var q_t=Kc(),W_t=s((e,t)=>new q_t(e,t).major,"major");xQe.exports=W_t});var EQe=j(($2n,bQe)=>{d();var G_t=Kc(),H_t=s((e,t)=>new G_t(e,t).minor,"minor");bQe.exports=H_t});var TQe=j((K2n,IQe)=>{d();var j_t=Kc(),V_t=s((e,t)=>new j_t(e,t).patch,"patch");IQe.exports=V_t});var _Qe=j((Z2n,wQe)=>{d();var $_t=Kb(),z_t=s((e,t)=>{let r=$_t(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");wQe.exports=z_t});var dm=j((ryn,RQe)=>{d();var SQe=Kc(),Y_t=s((e,t,r)=>new SQe(e,r).compare(new SQe(t,r)),"compare");RQe.exports=Y_t});var BQe=j((oyn,kQe)=>{d();var K_t=dm(),J_t=s((e,t,r)=>K_t(t,e,r),"rcompare");kQe.exports=J_t});var PQe=j((lyn,DQe)=>{d();var X_t=dm(),Z_t=s((e,t)=>X_t(e,t,!0),"compareLoose");DQe.exports=Z_t});var aj=j((fyn,LQe)=>{d();var NQe=Kc(),eSt=s((e,t,r)=>{let n=new NQe(e,r),i=new NQe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");LQe.exports=eSt});var MQe=j((hyn,FQe)=>{d();var tSt=aj(),rSt=s((e,t)=>e.sort((r,n)=>tSt(r,n,t)),"sort");FQe.exports=rSt});var OQe=j((Ayn,QQe)=>{d();var nSt=aj(),iSt=s((e,t)=>e.sort((r,n)=>nSt(n,r,t)),"rsort");QQe.exports=iSt});var tB=j((xyn,UQe)=>{d();var oSt=dm(),sSt=s((e,t,r)=>oSt(e,t,r)>0,"gt");UQe.exports=sSt});var lj=j((Eyn,qQe)=>{d();var aSt=dm(),lSt=s((e,t,r)=>aSt(e,t,r)<0,"lt");qQe.exports=lSt});var V0e=j((wyn,WQe)=>{d();var cSt=dm(),uSt=s((e,t,r)=>cSt(e,t,r)===0,"eq");WQe.exports=uSt});var $0e=j((Ryn,GQe)=>{d();var fSt=dm(),dSt=s((e,t,r)=>fSt(e,t,r)!==0,"neq");GQe.exports=dSt});var cj=j((Dyn,HQe)=>{d();var mSt=dm(),hSt=s((e,t,r)=>mSt(e,t,r)>=0,"gte");HQe.exports=hSt});var uj=j((Lyn,jQe)=>{d();var pSt=dm(),gSt=s((e,t,r)=>pSt(e,t,r)<=0,"lte");jQe.exports=gSt});var z0e=j((Qyn,VQe)=>{d();var ASt=V0e(),ySt=$0e(),CSt=tB(),xSt=cj(),vSt=lj(),bSt=uj(),ESt=s((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return ASt(e,r,n);case"!=":return ySt(e,r,n);case">":return CSt(e,r,n);case">=":return xSt(e,r,n);case"<":return vSt(e,r,n);case"<=":return bSt(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");VQe.exports=ESt});var zQe=j((qyn,$Qe)=>{d();var ISt=Kc(),TSt=Kb(),{safeRe:fj,t:dj}=sT(),wSt=s((e,t)=>{if(e instanceof ISt)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?fj[dj.COERCEFULL]:fj[dj.COERCE]);else{let c=t.includePrerelease?fj[dj.COERCERTLFULL]:fj[dj.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return TSt(`${n}.${i}.${o}${a}${l}`,t)},"coerce");$Qe.exports=wSt});var KQe=j((Hyn,YQe)=>{d();var Y0e=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};YQe.exports=Y0e});var mm=j(($yn,eOe)=>{d();var _St=/\s+/g,K0e=class e{static{s(this,"Range")}constructor(t,r){if(r=RSt(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof J0e)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(_St," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!XQe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&FSt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&NSt)|(this.options.loose&&LSt))+":"+t,i=JQe.get(n);if(i)return i;let o=this.options.loose,a=o?Su[R0.HYPHENRANGELOOSE]:Su[R0.HYPHENRANGE];t=t.replace(a,VSt(this.options.includePrerelease)),Ts("hyphen replace",t),t=t.replace(Su[R0.COMPARATORTRIM],BSt),Ts("comparator trim",t),t=t.replace(Su[R0.TILDETRIM],DSt),Ts("tilde trim",t),t=t.replace(Su[R0.CARETTRIM],PSt),Ts("caret trim",t);let l=t.split(" ").map(m=>MSt(m,this.options)).join(" ").split(/\s+/).map(m=>jSt(m,this.options));o&&(l=l.filter(m=>(Ts("loose invalid filter",m,this.options),!!m.match(Su[R0.COMPARATORLOOSE])))),Ts("range list",l);let c=new Map,u=l.map(m=>new J0e(m,this.options));for(let m of u){if(XQe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return JQe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>ZQe(n,r)&&t.set.some(i=>ZQe(i,r)&&n.every(o=>i.every(a=>o.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new kSt(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if($St(this.set[r],t,this.options))return!0;return!1}};eOe.exports=K0e;var SSt=KQe(),JQe=new SSt,RSt=nj(),J0e=rB(),Ts=eB(),kSt=Kc(),{safeRe:Su,t:R0,comparatorTrimReplace:BSt,tildeTrimReplace:DSt,caretTrimReplace:PSt}=sT(),{FLAG_INCLUDE_PRERELEASE:NSt,FLAG_LOOSE:LSt}=Zk(),XQe=s(e=>e.value==="<0.0.0-0","isNullSet"),FSt=s(e=>e.value==="","isAny"),ZQe=s((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,t)),i=n.pop();return r},"isSatisfiable"),MSt=s((e,t)=>(Ts("comp",e,t),e=USt(e,t),Ts("caret",e),e=QSt(e,t),Ts("tildes",e),e=WSt(e,t),Ts("xrange",e),e=HSt(e,t),Ts("stars",e),e),"parseComparator"),k0=s(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),QSt=s((e,t)=>e.trim().split(/\s+/).map(r=>OSt(r,t)).join(" "),"replaceTildes"),OSt=s((e,t)=>{let r=t.loose?Su[R0.TILDELOOSE]:Su[R0.TILDE];return e.replace(r,(n,i,o,a,l)=>{Ts("tilde",e,n,i,o,a,l);let c;return k0(i)?c="":k0(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:k0(a)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:l?(Ts("replaceTilde pr",l),c=`>=${i}.${o}.${a}-${l} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${a} <${i}.${+o+1}.0-0`,Ts("tilde return",c),c})},"replaceTilde"),USt=s((e,t)=>e.trim().split(/\s+/).map(r=>qSt(r,t)).join(" "),"replaceCarets"),qSt=s((e,t)=>{Ts("caret",e,t);let r=t.loose?Su[R0.CARETLOOSE]:Su[R0.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,o,a,l,c)=>{Ts("caret",e,i,o,a,l,c);let u;return k0(o)?u="":k0(a)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:k0(l)?o==="0"?u=`>=${o}.${a}.0${n} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.0${n} <${+o+1}.0.0-0`:c?(Ts("replaceCaret pr",c),o==="0"?a==="0"?u=`>=${o}.${a}.${l}-${c} <${o}.${a}.${+l+1}-0`:u=`>=${o}.${a}.${l}-${c} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.${l}-${c} <${+o+1}.0.0-0`):(Ts("no pr"),o==="0"?a==="0"?u=`>=${o}.${a}.${l}${n} <${o}.${a}.${+l+1}-0`:u=`>=${o}.${a}.${l}${n} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.${l} <${+o+1}.0.0-0`),Ts("caret return",u),u})},"replaceCaret"),WSt=s((e,t)=>(Ts("replaceXRanges",e,t),e.split(/\s+/).map(r=>GSt(r,t)).join(" ")),"replaceXRanges"),GSt=s((e,t)=>{e=e.trim();let r=t.loose?Su[R0.XRANGELOOSE]:Su[R0.XRANGE];return e.replace(r,(n,i,o,a,l,c)=>{Ts("xRange",e,n,i,o,a,l,c);let u=k0(o),f=u||k0(a),m=f||k0(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(o=+o+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?o=+o+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+o}.${a}.${l}${c}`):f?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:m&&(n=`>=${o}.${a}.0${c} <${o}.${+a+1}.0-0`),Ts("xRange return",n),n})},"replaceXRange"),HSt=s((e,t)=>(Ts("replaceStars",e,t),e.trim().replace(Su[R0.STAR],"")),"replaceStars"),jSt=s((e,t)=>(Ts("replaceGTE0",e,t),e.trim().replace(Su[t.includePrerelease?R0.GTE0PRE:R0.GTE0],"")),"replaceGTE0"),VSt=s(e=>(t,r,n,i,o,a,l,c,u,f,m,h)=>(k0(n)?r="":k0(i)?r=`>=${n}.0.0${e?"-0":""}`:k0(o)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,k0(u)?c="":k0(f)?c=`<${+u+1}.0.0-0`:k0(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),$St=s((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Ts(e[n].semver),e[n].semver!==J0e.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var rB=j((Kyn,sOe)=>{d();var nB=Symbol("SemVer ANY"),eue=class e{static{s(this,"Comparator")}static get ANY(){return nB}constructor(t,r){if(r=tOe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Z0e("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===nB?this.value="":this.value=this.operator+this.semver.version,Z0e("comp",this)}parse(t){let r=this.options.loose?rOe[nOe.COMPARATORLOOSE]:rOe[nOe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new iOe(n[2],this.options.loose):this.semver=nB}toString(){return this.value}test(t){if(Z0e("Comparator.test",t,this.options.loose),this.semver===nB||t===nB)return!0;if(typeof t=="string")try{t=new iOe(t,this.options)}catch{return!1}return X0e(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new oOe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new oOe(this.value,r).test(t.semver):(r=tOe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||X0e(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||X0e(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};sOe.exports=eue;var tOe=nj(),{safeRe:rOe,t:nOe}=sT(),X0e=z0e(),Z0e=eB(),iOe=Kc(),oOe=mm()});var iB=j((Zyn,aOe)=>{d();var zSt=mm(),YSt=s((e,t,r)=>{try{t=new zSt(t,r)}catch{return!1}return t.test(e)},"satisfies");aOe.exports=YSt});var cOe=j((r5n,lOe)=>{d();var KSt=mm(),JSt=s((e,t)=>new KSt(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");lOe.exports=JSt});var fOe=j((o5n,uOe)=>{d();var XSt=Kc(),ZSt=mm(),eRt=s((e,t,r)=>{let n=null,i=null,o=null;try{o=new ZSt(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new XSt(n,r))}),n},"maxSatisfying");uOe.exports=eRt});var mOe=j((l5n,dOe)=>{d();var tRt=Kc(),rRt=mm(),nRt=s((e,t,r)=>{let n=null,i=null,o=null;try{o=new rRt(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new tRt(n,r))}),n},"minSatisfying");dOe.exports=nRt});var gOe=j((f5n,pOe)=>{d();var tue=Kc(),iRt=mm(),hOe=tB(),oRt=s((e,t)=>{e=new iRt(e,t);let r=new tue("0.0.0");if(e.test(r)||(r=new tue("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],o=null;i.forEach(a=>{let l=new tue(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!o||hOe(l,o))&&(o=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||hOe(r,o))&&(r=o)}return r&&e.test(r)?r:null},"minVersion");pOe.exports=oRt});var yOe=j((h5n,AOe)=>{d();var sRt=mm(),aRt=s((e,t)=>{try{return new sRt(e,t).range||"*"}catch{return null}},"validRange");AOe.exports=aRt});var mj=j((A5n,bOe)=>{d();var lRt=Kc(),vOe=rB(),{ANY:cRt}=vOe,uRt=mm(),fRt=iB(),COe=tB(),xOe=lj(),dRt=uj(),mRt=cj(),hRt=s((e,t,r,n)=>{e=new lRt(e,n),t=new uRt(t,n);let i,o,a,l,c;switch(r){case">":i=COe,o=dRt,a=xOe,l=">",c=">=";break;case"<":i=xOe,o=mRt,a=COe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fRt(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===cRt&&(p=new vOe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&o(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");bOe.exports=hRt});var IOe=j((x5n,EOe)=>{d();var pRt=mj(),gRt=s((e,t,r)=>pRt(e,t,">",r),"gtr");EOe.exports=gRt});var wOe=j((E5n,TOe)=>{d();var ARt=mj(),yRt=s((e,t,r)=>ARt(e,t,"<",r),"ltr");TOe.exports=yRt});var ROe=j((w5n,SOe)=>{d();var _Oe=mm(),CRt=s((e,t,r)=>(e=new _Oe(e,r),t=new _Oe(t,r),e.intersects(t,r)),"intersects");SOe.exports=CRt});var BOe=j((R5n,kOe)=>{d();var xRt=iB(),vRt=dm();kOe.exports=(e,t,r)=>{let n=[],i=null,o=null,a=e.sort((f,m)=>vRt(f,m,r));for(let f of a)xRt(f,t,r)?(o=f,i||(i=f)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var MOe=j((B5n,FOe)=>{d();var DOe=mm(),nue=rB(),{ANY:rue}=nue,oB=iB(),iue=dm(),bRt=s((e,t,r={})=>{if(e===t)return!0;e=new DOe(e,r),t=new DOe(t,r);let n=!1;e:for(let i of e.set){for(let o of t.set){let a=IRt(i,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),ERt=[new nue(">=0.0.0-0")],POe=[new nue(">=0.0.0")],IRt=s((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===rue){if(t.length===1&&t[0].semver===rue)return!0;r.includePrerelease?e=ERt:e=POe}if(t.length===1&&t[0].semver===rue){if(r.includePrerelease)return!0;t=POe}let n=new Set,i,o;for(let p of e)p.operator===">"||p.operator===">="?i=NOe(i,p,r):p.operator==="<"||p.operator==="<="?o=LOe(o,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&o){if(a=iue(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!oB(p,String(i),r)||o&&!oB(p,String(o),r))return null;for(let g of t)if(!oB(p,String(g),r))return!1;return!0}let l,c,u,f,m=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&o.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=NOe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!oB(i.semver,String(p),r))return!1}if(o){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=LOe(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!oB(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&a!==0)return!1}return!(i&&u&&!o&&a!==0||o&&f&&!i&&a!==0||h||m)},"simpleSubset"),NOe=s((e,t,r)=>{if(!e)return t;let n=iue(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),LOe=s((e,t,r)=>{if(!e)return t;let n=iue(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");FOe.exports=bRt});var sue=j((N5n,UOe)=>{d();var oue=sT(),QOe=Zk(),TRt=Kc(),OOe=H0e(),wRt=Kb(),_Rt=fQe(),SRt=mQe(),RRt=gQe(),kRt=CQe(),BRt=vQe(),DRt=EQe(),PRt=TQe(),NRt=_Qe(),LRt=dm(),FRt=BQe(),MRt=PQe(),QRt=aj(),ORt=MQe(),URt=OQe(),qRt=tB(),WRt=lj(),GRt=V0e(),HRt=$0e(),jRt=cj(),VRt=uj(),$Rt=z0e(),zRt=zQe(),YRt=rB(),KRt=mm(),JRt=iB(),XRt=cOe(),ZRt=fOe(),ekt=mOe(),tkt=gOe(),rkt=yOe(),nkt=mj(),ikt=IOe(),okt=wOe(),skt=ROe(),akt=BOe(),lkt=MOe();UOe.exports={parse:wRt,valid:_Rt,clean:SRt,inc:RRt,diff:kRt,major:BRt,minor:DRt,patch:PRt,prerelease:NRt,compare:LRt,rcompare:FRt,compareLoose:MRt,compareBuild:QRt,sort:ORt,rsort:URt,gt:qRt,lt:WRt,eq:GRt,neq:HRt,gte:jRt,lte:VRt,cmp:$Rt,coerce:zRt,Comparator:YRt,Range:KRt,satisfies:JRt,toComparators:XRt,maxSatisfying:ZRt,minSatisfying:ekt,minVersion:tkt,validRange:rkt,outside:nkt,gtr:ikt,ltr:okt,intersects:skt,simplifyRange:akt,subset:lkt,SemVer:TRt,re:oue.re,src:oue.src,tokens:oue.t,SEMVER_SPEC_VERSION:QOe.SEMVER_SPEC_VERSION,RELEASE_TYPES:QOe.RELEASE_TYPES,compareIdentifiers:OOe.compareIdentifiers,rcompareIdentifiers:OOe.rcompareIdentifiers}});var Hf=j(lB=>{"use strict";d();Object.defineProperty(lB,"__esModule",{value:!0});lB.dedent=void 0;function sUe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(o,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}s(sUe,"dedent");lB.dedent=sUe;lB.default=sUe});var hUe=j(xue=>{"use strict";d();Object.defineProperty(xue,"__esModule",{value:!0});xue.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var xUe=j(bue=>{"use strict";d();Object.defineProperty(bue,"__esModule",{value:!0});var pUe=require("worker_threads"),_kt=require("v8"),Skt=require("os"),gUe=hUe(),bj="ready",AUe="spawning",Rkt="busy",Ej="off",yUe=Skt.cpus().length,CUe=process.version.replace("v","").split("."),kkt=parseInt(CUe[0]),Bkt=parseInt(CUe[1]),vue=class{static{s(this,"WorkerPool")}constructor(){this.maxWorkers=yUe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new pUe.Worker(gUe.workerFile,{eval:!0});t.status=AUe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=bj,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=Ej,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===Ej).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===bj){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=Rkt;let{worker:n}=t,{handler:i,config:o,resolve:a,reject:l}=r;try{let c="";for(let h in o.ctx){if(!o.ctx.hasOwnProperty(h))continue;let p;switch(typeof o.ctx[h]){case"string":p=`'${o.ctx[h]}'`;break;case"object":p=JSON.stringify(o.ctx[h]);break;default:p=o.ctx[h]}c+=`let ${h} = ${p}
`}let u=_kt.serialize(o.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=Ej,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=bj,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:yUe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,o=0;for(let a=0;a<this.maxWorkers;a++){let l=new pUe.Worker(gUe.workerFile,{eval:!0});this.workers.push({status:AUe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=bj,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+o===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=Ej,this.workers[c].worker.removeAllListeners(),o++,o===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(kkt>=12&&Bkt>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};bue.default=new vue});var Ij=j(Jb=>{"use strict";d();var Dkt=Jb&&Jb.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jb,"__esModule",{value:!0});var cB=Dkt(xUe()),Pkt=`job needs a function.
Try with:
> job(() => {...}, config)`,Nkt=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function Lkt(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(Pkt));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(Nkt));cB.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}s(Lkt,"job");Jb.job=Lkt;Jb.stop=cB.default.teardown.bind(cB.default);Jb.start=cB.default.setup.bind(cB.default)});var MUe=j(Xb=>{"use strict";d();var s1=Xb&&Xb.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Due=Xb&&Xb.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},p2,c3;Object.defineProperty(Xb,"__esModule",{value:!0});var Pue=class{static{s(this,"AwaitLock")}constructor(){p2.set(this,!1),c3.set(this,new Set)}get acquired(){return s1(this,p2,"f")}acquireAsync({timeout:t}={}){if(!s1(this,p2,"f"))return Due(this,p2,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{s1(this,c3,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=s(()=>{clearTimeout(n),i()},"resolver"),s1(this,c3,"f").add(r)}),new Promise((i,o)=>{n=setTimeout(()=>{s1(this,c3,"f").delete(r),o(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return s1(this,p2,"f")?!1:(Due(this,p2,!0,"f"),!0)}release(){if(!s1(this,p2,"f"))throw new Error("Cannot release an unacquired lock");if(s1(this,c3,"f").size>0){let[t]=s1(this,c3,"f");s1(this,c3,"f").delete(t),t()}else Due(this,p2,!1,"f")}};Xb.default=Pue;p2=new WeakMap,c3=new WeakMap});var zGe=j((DWn,$Ge)=>{d();var BT=1e3,DT=BT*60,PT=DT*60,aE=PT*24,fMt=aE*7,dMt=aE*365.25;$Ge.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return mMt(e);if(r==="number"&&isFinite(e))return t.long?pMt(e):hMt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function mMt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*dMt;case"weeks":case"week":case"w":return r*fMt;case"days":case"day":case"d":return r*aE;case"hours":case"hour":case"hrs":case"hr":case"h":return r*PT;case"minutes":case"minute":case"mins":case"min":case"m":return r*DT;case"seconds":case"second":case"secs":case"sec":case"s":return r*BT;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(mMt,"parse");function hMt(e){var t=Math.abs(e);return t>=aE?Math.round(e/aE)+"d":t>=PT?Math.round(e/PT)+"h":t>=DT?Math.round(e/DT)+"m":t>=BT?Math.round(e/BT)+"s":e+"ms"}s(hMt,"fmtShort");function pMt(e){var t=Math.abs(e);return t>=aE?i$(e,t,aE,"day"):t>=PT?i$(e,t,PT,"hour"):t>=DT?i$(e,t,DT,"minute"):t>=BT?i$(e,t,BT,"second"):e+" ms"}s(pMt,"fmtLong");function i$(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}s(i$,"plural")});var fde=j((LWn,YGe)=>{d();function gMt(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=a,r.humanize=zGe(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}s(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,g;function y(...v){if(!y.enabled)return;let b=y,E=Number(new Date),_=E-(m||E);b.diff=_,b.prev=m,b.curr=E,m=E,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(N,M)=>{if(N==="%%")return"%";k++;let re=r.formatters[M];if(typeof re=="function"){let pe=v[k];N=re.call(b,pe),v.splice(k,1),k--}return N}),r.formatArgs.call(b,v),(b.log||r.log).apply(b,v)}return s(y,"debug"),y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:s(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,g=r.enabled(f)),g),"get"),set:s(v=>{h=v},"set")}),typeof r.init=="function"&&r.init(y),y}s(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}s(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}s(i,"enable");function o(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}s(o,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}s(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}s(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(u,"destroy"),r.enable(r.load()),r}s(gMt,"setup");YGe.exports=gMt});var KGe=j((Vf,o$)=>{d();Vf.formatArgs=yMt;Vf.save=CMt;Vf.load=xMt;Vf.useColors=AMt;Vf.storage=vMt();Vf.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Vf.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function AMt(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(AMt,"useColors");function yMt(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+o$.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}s(yMt,"formatArgs");Vf.log=console.debug||console.log||(()=>{});function CMt(e){try{e?Vf.storage.setItem("debug",e):Vf.storage.removeItem("debug")}catch{}}s(CMt,"save");function xMt(){let e;try{e=Vf.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}s(xMt,"load");function vMt(){try{return localStorage}catch{}}s(vMt,"localstorage");o$.exports=fde()(Vf);var{formatters:bMt}=o$.exports;bMt.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var XGe=j((UWn,JGe)=>{"use strict";d();JGe.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var tHe=j((WWn,eHe)=>{"use strict";d();var EMt=require("os"),ZGe=require("tty"),ym=XGe(),{env:zl}=process,A3;ym("no-color")||ym("no-colors")||ym("color=false")||ym("color=never")?A3=0:(ym("color")||ym("colors")||ym("color=true")||ym("color=always"))&&(A3=1);"FORCE_COLOR"in zl&&(zl.FORCE_COLOR==="true"?A3=1:zl.FORCE_COLOR==="false"?A3=0:A3=zl.FORCE_COLOR.length===0?1:Math.min(parseInt(zl.FORCE_COLOR,10),3));function dde(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}s(dde,"translateLevel");function mde(e,t){if(A3===0)return 0;if(ym("color=16m")||ym("color=full")||ym("color=truecolor"))return 3;if(ym("color=256"))return 2;if(e&&!t&&A3===void 0)return 0;let r=A3||0;if(zl.TERM==="dumb")return r;if(process.platform==="win32"){let n=EMt.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in zl)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in zl)||zl.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in zl)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(zl.TEAMCITY_VERSION)?1:0;if(zl.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in zl){let n=parseInt((zl.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(zl.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(zl.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(zl.TERM)||"COLORTERM"in zl?1:r}s(mde,"supportsColor");function IMt(e){let t=mde(e,e&&e.isTTY);return dde(t)}s(IMt,"getSupportLevel");eHe.exports={supportsColor:IMt,stdout:dde(mde(!0,ZGe.isatty(1))),stderr:dde(mde(!0,ZGe.isatty(2)))}});var nHe=j((vc,a$)=>{d();var TMt=require("tty"),s$=require("util");vc.init=DMt;vc.log=RMt;vc.formatArgs=_Mt;vc.save=kMt;vc.load=BMt;vc.useColors=wMt;vc.destroy=s$.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");vc.colors=[6,2,3,4,5,1];try{let e=tHe();e&&(e.stderr||e).level>=2&&(vc.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}vc.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function wMt(){return"colors"in vc.inspectOpts?!!vc.inspectOpts.colors:TMt.isatty(process.stderr.fd)}s(wMt,"useColors");function _Mt(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+a$.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=SMt()+t+" "+e[0]}s(_Mt,"formatArgs");function SMt(){return vc.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(SMt,"getDate");function RMt(...e){return process.stderr.write(s$.format(...e)+`
`)}s(RMt,"log");function kMt(e){e?process.env.DEBUG=e:delete process.env.DEBUG}s(kMt,"save");function BMt(){return process.env.DEBUG}s(BMt,"load");function DMt(e){e.inspectOpts={};let t=Object.keys(vc.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=vc.inspectOpts[t[r]]}s(DMt,"init");a$.exports=fde()(vc);var{formatters:rHe}=a$.exports;rHe.o=function(e){return this.inspectOpts.colors=this.useColors,s$.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};rHe.O=function(e){return this.inspectOpts.colors=this.useColors,s$.inspect(e,this.inspectOpts)}});var lE=j(($Wn,hde)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?hde.exports=KGe():hde.exports=nHe()});var xde=j((JWn,aHe)=>{d();var LB=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,PMt=typeof AbortController=="function",l$=PMt?AbortController:class{static{s(this,"AbortController")}constructor(){this.signal=new iHe}abort(){this.signal.dispatchEvent("abort")}},NMt=typeof AbortSignal=="function",LMt=typeof l$.AbortSignal=="function",iHe=NMt?AbortSignal:LMt?l$.AbortController:class{static{s(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},yde=new Set,pde=s((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;c$(r)&&Cde(r,`${e} option`,`options.${t}`,LT)},"deprecatedOption"),gde=s((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(c$(r)){let{prototype:n}=LT,{get:i}=Object.getOwnPropertyDescriptor(n,e);Cde(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),FMt=s((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(c$(r)){let{prototype:n}=LT,{get:i}=Object.getOwnPropertyDescriptor(n,e);Cde(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),oHe=s((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),c$=s(e=>!yde.has(e),"shouldWarn"),Cde=s((e,t,r,n)=>{yde.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;oHe(i,"DeprecationWarning",e,n)},"warn"),cE=s(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),sHe=s(e=>cE(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?NT:null:null,"getUintArray"),NT=class extends Array{static{s(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},Ade=class{static{s(this,"Stack")}constructor(t){if(t===0)return[];let r=sHe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},LT=class e{static{s(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:g,fetchMethod:y,fetchContext:v,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:E}=t,{length:_,maxAge:k,stale:B}=t instanceof e?{}:t;if(r!==0&&!cE(r))throw new TypeError("max option must be a nonnegative integer");let N=r?sHe(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=g||_,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=y||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=v,!this.fetchMethod&&v!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new N(r),this.prev=new N(r),this.head=0,this.tail=0,this.free=new Ade(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!b,this.maxSize!==0){if(!cE(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!B,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=cE(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||k||0,this.ttl){if(!cE(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let M="LRU_CACHE_UNBOUNDED";c$(M)&&(yde.add(M),oHe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",M,e))}B&&pde("stale","allowStale"),k&&pde("maxAge","ttl"),_&&pde("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new NT(this.max),this.starts=new NT(this.max),this.setItemTTL=(n,i,o=LB.now())=>{if(this.starts[n]=i!==0?o:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?LB.now():0};let t=0,r=s(()=>{let n=LB.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new NT(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!cE(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!cE(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return gde("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=LB.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=LB.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():o||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let a=new l$,l={signal:a.signal,options:n,context:i},c=s(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=s(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=s(h=>h(this.fetchMethod(t,o,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=o,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},g=this.keyMap.get(t);if(g===void 0){let y=this.backgroundFetch(t,g,p,m);return y.__returned=y}else{let y=this.valList[g];if(this.isBackgroundFetch(y))return r&&y.__staleWhileFetching!==void 0?y.__staleWhileFetching:y.__returned=y;if(!h&&!this.isStale(g))return this.moveToTail(g),n&&this.updateItemAge(g),y;let v=this.backgroundFetch(t,g,p,m);return r&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(t);if(o!==void 0){let a=this.valList[o],l=this.isBackgroundFetch(a);return this.isStale(o)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(o),n&&this.updateItemAge(o),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return gde("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return gde("reset","clear"),this.clear}get length(){return FMt("length","size"),this.size}static get AbortController(){return l$}static get AbortSignal(){return iHe}};aHe.exports=LT});var Ede=j((eGn,lHe)=>{"use strict";d();var FB=class extends Error{static{s(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},vde=class extends FB{static{s(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},bde=class extends FB{static{s(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};lHe.exports={FetchBaseError:FB,FetchError:vde,AbortError:bde}});var E2=j((nGn,uHe)=>{"use strict";d();var{constants:{MAX_LENGTH:MMt}}=require("buffer"),{pipeline:u$,PassThrough:QMt}=require("stream"),{promisify:OMt}=require("util"),{createGunzip:UMt,createInflate:qMt,createBrotliDecompress:WMt,constants:{Z_SYNC_FLUSH:cHe}}=require("zlib"),GMt=lE()("helix-fetch:utils"),HMt=OMt(u$),jMt=s((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),VMt=s((e,t,r,n)=>{if(!jMt(e,t))return r;let i=s(o=>{o&&(GMt(`encountered error while decoding stream: ${o}`),n(o))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return u$(r,UMt({flush:cHe,finishFlush:cHe}),i);case"deflate":case"x-deflate":return u$(r,qMt(),i);case"br":return u$(r,WMt(),i);default:return r}},"decodeStream"),$Mt=s(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),f$=s((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?zMt(e,t):YMt(e,t);default:return 0}},"calcSize"),zMt=s((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:f$(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),YMt=s((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=f$(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=f$(e[i],t)}),r},"calcObjectSize"),KMt=s(e=>f$(e,new WeakSet),"sizeof"),JMt=s(async e=>{let t=new QMt,r=0,n=[];return t.on("data",i=>{if(r+i.length>MMt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await HMt(e,t),Buffer.concat(n,r)},"streamToBuffer");uHe.exports={decodeStream:VMt,isPlainObject:$Mt,sizeof:KMt,streamToBuffer:JMt}});var m$=j((sGn,hHe)=>{"use strict";d();var{PassThrough:fHe,Readable:I2}=require("stream"),{types:{isAnyArrayBuffer:mHe}}=require("util"),{FetchError:XMt,FetchBaseError:ZMt}=Ede(),{streamToBuffer:eQt}=E2(),tQt=Buffer.alloc(0),Cm=Symbol("Body internals"),rQt=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),dHe=s(async e=>{if(e[Cm].disturbed)throw new TypeError("Already read");if(e[Cm].error)throw new TypeError(`Stream had error: ${e[Cm].error.message}`);e[Cm].disturbed=!0;let{stream:t}=e[Cm];return t===null?tQt:eQt(t)},"consume"),d$=class{static{s(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=I2.from(t.toString()):t instanceof I2?r=t:Buffer.isBuffer(t)?r=I2.from(t):mHe(t)?r=I2.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=I2.from(t):r=I2.from(String(t)),this[Cm]={stream:r,disturbed:!1,error:null},t instanceof I2&&r.on("error",n=>{let i=n instanceof ZMt?n:new XMt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Cm].error=i})}get body(){return this[Cm].stream}get bodyUsed(){return this[Cm].disturbed}async buffer(){return dHe(this)}async arrayBuffer(){return rQt(await this.buffer())}async text(){return(await dHe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(d$.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var nQt=s(e=>{if(e[Cm].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Cm],r=t;if(t instanceof I2){r=new fHe;let n=new fHe;t.pipe(r),t.pipe(n),e[Cm].stream=n}return r},"cloneStream"),iQt=s(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||mHe(e)||e instanceof I2?null:"text/plain; charset=utf-8","guessContentType");hHe.exports={Body:d$,cloneStream:nQt,guessContentType:iQt}});var FT=j((cGn,yHe)=>{"use strict";d();var{validateHeaderName:pHe,validateHeaderValue:gHe}=require("http"),{isPlainObject:oQt}=E2(),T2=Symbol("Headers internals"),MB=s(e=>{let t=typeof e!="string"?String(e):e;if(typeof pHe=="function")pHe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),AHe=s((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof gHe=="function")gHe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),h$=class e{static{s(this,"Headers")}constructor(t={}){if(this[T2]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(oQt(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[T2].map.set(MB(t),AHe(r,t))}has(t){return this[T2].map.has(MB(t))}get(t){let r=this[T2].map.get(MB(t));return r===void 0?null:r}append(t,r){let n=MB(t),i=AHe(r,t),o=this[T2].map.get(n);this[T2].map.set(n,o?`${o}, ${i}`:i)}delete(t){this[T2].map.delete(MB(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[T2].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[T2].map)}};Object.defineProperties(h$.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));yHe.exports={Headers:h$}});var Ide=j((dGn,CHe)=>{"use strict";d();var{EventEmitter:sQt}=require("events"),np=Symbol("AbortSignal internals"),MT=class{static{s(this,"AbortSignal")}constructor(){this[np]={eventEmitter:new sQt,onabort:null,aborted:!1}}get aborted(){return this[np].aborted}get onabort(){return this[np].onabort}set onabort(t){this[np].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[np].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[np].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[np][n]=="function"&&this[n](r),this[np].eventEmitter.emit(t,r)}fire(){this[np].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(MT.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var g$=class extends MT{static{s(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[np].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[np].timerId)}};Object.defineProperties(g$.prototype,{clear:{enumerable:!0}});var p$=Symbol("AbortController internals"),A$=class{static{s(this,"AbortController")}constructor(){this[p$]={signal:new MT}}get signal(){return this[p$].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[p$].signal.aborted||this[p$].signal.fire()}};Object.defineProperties(A$.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});CHe.exports={AbortController:A$,AbortSignal:MT,TimeoutSignal:g$}});var QB=j((pGn,bHe)=>{"use strict";d();var{randomBytes:aQt}=require("crypto"),{Readable:lQt}=require("stream"),wde=s(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),cQt=s(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),xHe=s(e=>`--${e}--\r
\r
`,"getFooter"),vHe=s((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,wde(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*uQt(e,t){for(let[r,n]of e)yield vHe(t,r,n),wde(n)?yield*n.stream():yield n,yield`\r
`;yield xHe(t)}s(uQt,"formDataIterator");var fQt=s((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(vHe(t,n,i)),r+=wde(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(xHe(t)),r},"getFormDataLength"),Tde=class{static{s(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=aQt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=fQt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return lQt.from(uQt(this.fd,this.boundary))}};bHe.exports={isFormData:cQt,FormDataSerializer:Tde}});var IHe=j((yGn,EHe)=>{"use strict";d();var{AbortSignal:dQt}=Ide(),{Body:mQt,cloneStream:hQt,guessContentType:pQt}=m$(),{Headers:gQt}=FT(),{isPlainObject:AQt}=E2(),{isFormData:yQt,FormDataSerializer:CQt}=QB(),xQt=20,y3=Symbol("Request internals"),y$=class e extends mQt{static{s(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),o=r.method||n&&n.method||"GET";if(o=o.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(o))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?hQt(n):null),l=new gQt(r.headers||n&&n.headers||{});if(yQt(a)&&!l.has("content-type")){let m=new CQt(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(AQt(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=pQt(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof dQt))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[y3]={init:{...r},method:o,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=xQt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[y3].method}get url(){return this[y3].parsedURL.toString()}get headers(){return this[y3].headers}get redirect(){return this[y3].redirect}get cache(){return this[y3].cache}get signal(){return this[y3].signal}clone(){return new e(this)}get init(){return this[y3].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(y$.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});EHe.exports={Request:y$}});var _de=j((vGn,THe)=>{"use strict";d();var{Body:vQt,cloneStream:bQt,guessContentType:EQt}=m$(),{Headers:IQt}=FT(),{isPlainObject:TQt}=E2(),{isFormData:wQt,FormDataSerializer:_Qt}=QB(),ip=Symbol("Response internals"),C$=class e extends vQt{static{s(this,"Response")}constructor(t=null,r={}){let n=new IQt(r.headers),i=t;if(wQt(i)&&!n.has("content-type")){let o=new _Qt(i);i=o.stream(),n.set("content-type",o.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",o.length())}if(i!==null&&!n.has("content-type"))if(TQt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let o=EQt(i);o&&n.set("content-type",o)}super(i),this[ip]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[ip].url||""}get status(){return this[ip].status}get statusText(){return this[ip].statusText}get ok(){return this[ip].status>=200&&this[ip].status<300}get redirected(){return this[ip].counter>0}get headers(){return this[ip].headers}get httpVersion(){return this[ip].httpVersion}get decoded(){return this[ip].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(bQt(this),{...this[ip]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(C$.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});THe.exports={Response:C$}});var _He=j((TGn,wHe)=>{"use strict";d();var SQt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),RQt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),kQt=new Set([500,502,503,504]),BQt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},DQt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function uE(e){let t=parseInt(e,10);return isFinite(t)?t:0}s(uE,"toNumberOrZero");function PQt(e){return e?kQt.has(e.status):!0}s(PQt,"isErrorResponse");function Sde(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);t[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return t}s(Sde,"parseCacheControl");function NQt(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}s(NQt,"formatCacheControl");wHe.exports=class{static{s(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Sde(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Sde(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":NQt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&RQt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||SQt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Sde(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)BQt[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return uE(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return uE(this._rescc["s-maxage"])}if(this._rescc["max-age"])return uE(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+uE(this._rescc["stale-if-error"]),n=t+uE(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+uE(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+uE(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&PQt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!DQt[a]?r.headers[a]:this._resHeaders[a];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var BHe=j((SGn,kHe)=>{"use strict";d();var LQt=_He(),{Headers:FQt}=FT(),SHe=s(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),RHe=s(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),Rde=class{static{s(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new LQt(SHe(t),RHe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(SHe(t))}responseHeaders(t){return new FQt(this.policy.responseHeaders(RHe(t)))}timeToLive(){return this.policy.timeToLive()}};kHe.exports=Rde});var NHe=j((BGn,PHe)=>{"use strict";d();var{Readable:MQt}=require("stream"),{Headers:DHe}=FT(),{Response:QQt}=_de(),C3=Symbol("CacheableResponse internals"),OQt=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),kde=class e extends QQt{static{s(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new DHe(r.headers);this[C3]={headers:n,bufferedBody:t}}get headers(){return this[C3].headers}set headers(t){if(t instanceof DHe)this[C3].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return MQt.from(this[C3].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[C3].bufferedBody}async arrayBuffer(){return OQt(this[C3].bufferedBody)}async text(){return this[C3].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l}=this;return new e(this[C3].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},UQt=s(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:c}=e;return new kde(t,{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");PHe.exports={cacheableResponse:UQt}});var x$=j((NGn,LHe)=>{"use strict";d();var Bde=class extends Error{static{s(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};LHe.exports={RequestAbortedError:Bde}});var UHe=j((MGn,OHe)=>{"use strict";d();var MHe=require("http"),QHe=require("https"),{Readable:qQt}=require("stream"),w2=lE()("helix-fetch:h1"),{RequestAbortedError:FHe}=x$(),{decodeStream:WQt}=E2(),GQt=s((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new QHe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new MHe.Agent(n),r.httpAgent):void 0},"getAgent"),HQt=s(e=>{e.h1={}},"setupContext"),jQt=s(async({h1:e})=>{e.httpAgent&&(w2("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(w2("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),VQt=s((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?WQt(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),$Qt=s(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?QHe:MHe,i=GQt(e,t.protocol),o={...r,agent:i},{socket:a,body:l}=o;return a&&(delete o.socket,a.assigned||(a.assigned=!0,i?o.agent=new Proxy(i,{get:s((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{w2(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):o.createConnection=(c,u)=>{w2(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{w2(`${o.method} ${t.href}`);let f,{signal:m}=o,h=s(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(w2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new FHe),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new FHe);return}m.addEventListener("abort",h)}f=n(t,o),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(w2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(VQt(p,o.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(w2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(w2(`${o.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof qQt?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");OHe.exports={request:$Qt,setupContext:HQt,resetContext:jQt}});var HHe=j((UGn,GHe)=>{"use strict";d();var{connect:zQt,constants:YQt}=require("http2"),{Readable:KQt}=require("stream"),_s=lE()("helix-fetch:h2"),{RequestAbortedError:qHe}=x$(),{decodeStream:JQt}=E2(),{NGHTTP2_CANCEL:OB}=YQt,XQt=5*60*1e3,ZQt=5e3,eOt=s(e=>{e.h2={sessionCache:{}}},"setupContext"),tOt=s(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),_s(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),WHe=s((e,t,r,n=()=>{})=>{let i={...e},o=i[":status"];delete i[":status"];let a=r?JQt(o,e,t,n):t;return{statusCode:o,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),rOt=s((e,t,r,n,i,o)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=ZQt}}}=e,u=i[":path"],f=`${t}${u}`;_s(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${o}`),a&&a(f,i,s(()=>{n.close(OB)},"rejectPush")),n.on("push",(m,h)=>{_s(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{_s(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(OB)}),l&&l(f,i,WHe(m,n,r))}),n.on("aborted",()=>{_s(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{_s(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{_s(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),nOt=s(async(e,t,r)=>{let{origin:n,pathname:i,search:o,hash:a}=t,l=`${i}${o}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=XQt,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:g,headers:y,socket:v,body:b,decode:E}=p;return v&&delete p.socket,y.host&&(y[":authority"]=y.host,delete y.host),new Promise((_,k)=>{let B=u[n];if(!B||B.closed||B.destroyed){let Z=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:Z};v&&!v.inUse&&(G.createConnection=()=>(_s(`reusing socket #${v.id} (${v.servername})`),v.inUse=!0,v)),B=zQt(n,{...G,settings:{enablePush:!!(m||h)}}),B.setMaxListeners(1e3),B.setTimeout(f,()=>{_s(`closing session ${n} after ${f} ms of inactivity`),B.close()}),B.once("connect",()=>{_s(`session ${n} established`),_s(`caching session ${n}`),u[n]=B}),B.on("localSettings",ie=>{_s(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),B.on("remoteSettings",ie=>{_s(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),B.once("close",()=>{_s(`session ${n} closed`),u[n]===B&&(_s(`discarding cached session ${n}`),delete u[n])}),B.once("error",ie=>{_s(`session ${n} encountered error: ${ie}`),u[n]===B&&(_s(`discarding cached session ${n}`),delete u[n])}),B.on("frameError",(ie,z,H)=>{_s(`session ${n} encountered frameError: type: ${ie}, code: ${z}, id: ${H}`)}),B.once("goaway",(ie,z,H)=>{_s(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${z}, opaqueData: ${H?H.toString():void 0}`)}),B.on("stream",(ie,z,H)=>{rOt(e,n,E,ie,z,H)})}else v&&v.id!==B.socket.id&&!v.inUse&&(_s(`discarding redundant socket used for ALPN: #${v.id} ${v.servername}`),v.destroy());_s(`${g} ${t.host}${l}`);let N,{signal:M}=p,re=s(()=>{M.removeEventListener("abort",re),k(new qHe),N&&N.close(OB)},"onAbortSignal");if(M){if(M.aborted){k(new qHe);return}M.addEventListener("abort",re)}let pe=s(Z=>{_s(`session ${n} encountered error during ${p.method} ${t.href}: ${Z}`),k(Z)},"onSessionError");B.once("error",pe),N=B.request({":method":g,":path":l,...y}),N.once("response",Z=>{B.off("error",pe),M&&M.removeEventListener("abort",re),_(WHe(Z,N,p.decode,k))}),N.once("error",Z=>{B.off("error",pe),M&&M.removeEventListener("abort",re),N.rstCode!==OB&&(_s(`${p.method} ${t.href} failed with: ${Z.message}`),N.close(OB),k(Z))}),N.once("frameError",(Z,G,q)=>{B.off("error",pe),_s(`encountered frameError during ${p.method} ${t.href}: type: ${Z}, code: ${G}, id: ${q}`)}),N.on("push",(Z,G)=>{_s(`received 'push' event: headers: ${JSON.stringify(Z)}, flags: ${G}`)}),b instanceof KQt?b.pipe(N):(b&&N.write(b),N.end())})},"request");GHe.exports={request:nOt,setupContext:eOt,resetContext:tOt}});var VHe=j((GGn,jHe)=>{"use strict";d();var{EventEmitter:iOt}=require("events"),oOt=s(()=>{let e={},t=new iOt;return t.setMaxListeners(0),{acquire:s(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=s(o=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(o))},"tryAcquire");t.on(r,i)}),"acquire"),release:s((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");jHe.exports=oOt});var $He=j((VGn,sOt)=>{sOt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var XHe=j(($Gn,JHe)=>{"use strict";d();var{Readable:aOt}=require("stream"),lOt=require("tls"),{types:{isAnyArrayBuffer:cOt}}=require("util"),uOt=xde(),Dde=lE()("helix-fetch:core"),{RequestAbortedError:v$}=x$(),Pde=UHe(),b$=HHe(),fOt=VHe(),{isPlainObject:dOt}=E2(),{isFormData:mOt,FormDataSerializer:hOt}=QB(),{version:pOt}=$He(),Nde="h2",Lde="h2c",Fde="http/1.0",fE="http/1.1",gOt=100,AOt=60*60*1e3,yOt=[Nde,fE,Fde],COt=`helix-fetch/${pOt}`,xOt={method:"GET",compress:!0,decode:!0},zHe=0,YHe=fOt(),KHe=s((e,t)=>new Promise((r,n)=>{let{signal:i}=t,o,a=s(()=>{i.removeEventListener("abort",a);let u=new v$;n(u),o&&o.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new v$);return}i.addEventListener("abort",a)}let l=+e.port||443,c=s(u=>{i&&i.removeEventListener("abort",a),u instanceof v$||(Dde(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");o=lOt.connect(l,e.hostname,t),o.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),o.off("error",c),zHe+=1,o.id=zHe,o.secureConnecting=!1,Dde(`established TLS connection: #${o.id} (${o.servername})`),r(o)}),o.once("error",c)}),"connectTLS"),vOt=s(async(e,t)=>{let r=await YHe.acquire(e.origin);try{return r||(r=await KHe(e,t)),r}finally{YHe.release(e.origin,r)}},"connect"),bOt=s(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=fE,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=Lde,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:o,h1:a={},h2:l={}}}=e,c=!(o===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await vOt(t,u);return i=f.alpnProtocol,i||(i=fE),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),EOt=s(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),IOt=s(async(e,t,r,n)=>{let i=t.protocol==="https:",o;t.port?o=t.port:i?o=443:o=80;let a={...r,host:t.host,hostname:t.hostname,port:o},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await KHe(t,u);return{protocol:f.alpnProtocol||fE,socket:f}}return{protocol:l.alpnProtocol||fE,socket:l}},"getProtocolAndSocketFromFactory"),TOt=s(async(e,t,r)=>{let n=new URL(t),i={...xOt,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=EOt(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let o;if(i.body instanceof URLSearchParams)o="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(mOt(i.body)){let u=new hOt(i.body);o=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?o="text/plain; charset=utf-8":dOt(i.body)?(i.body=JSON.stringify(i.body),o="application/json"):cOt(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&o!==void 0&&(i.headers["content-type"]=o),i.body!=null&&(i.body instanceof aOt||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await IOt(e.socketFactory,n,i,e.alpnProtocols):await bOt(e,n,a);switch(Dde(`${n.host} -> ${l}`),l){case Nde:try{return await b$.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case Lde:return b$.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case Fde:case fE:return Pde.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),wOt=s(async e=>(e.alpnCache.clear(),Promise.all([Pde.resetContext(e),b$.resetContext(e)])),"resetContext"),_Ot=s(e=>{let{options:{alpnProtocols:t=yOt,alpnCacheTTL:r=AOt,alpnCacheSize:n=gOt,userAgent:i=COt,socketFactory:o}}=e;e.alpnProtocols=t,e.alpnCache=new uOt({max:n,ttl:r}),e.userAgent=i,e.socketFactory=o,Pde.setupContext(e),b$.setupContext(e)},"setupContext");JHe.exports={request:TOt,setupContext:_Ot,resetContext:wOt,RequestAbortedError:v$,ALPN_HTTP2:Nde,ALPN_HTTP2C:Lde,ALPN_HTTP1_1:fE,ALPN_HTTP1_0:Fde}});var eje=j((KGn,ZHe)=>{"use strict";d();var SOt=lE()("helix-fetch:core"),{request:ROt,setupContext:kOt,resetContext:BOt,RequestAbortedError:DOt,ALPN_HTTP2:POt,ALPN_HTTP2C:NOt,ALPN_HTTP1_1:LOt,ALPN_HTTP1_0:FOt}=XHe(),Mde=class e{static{s(this,"RequestContext")}constructor(t){this.options={...t||{}},kOt(this)}api(){return{request:s(async(t,r)=>this.request(t,r),"request"),context:s((t={})=>new e(t).api(),"context"),setCA:s(t=>this.setCA(t),"setCA"),reset:s(async()=>this.reset(),"reset"),RequestAbortedError:DOt,ALPN_HTTP2:POt,ALPN_HTTP2C:NOt,ALPN_HTTP1_1:LOt,ALPN_HTTP1_0:FOt}}async request(t,r){return ROt(this,t,r)}setCA(t){this.options.ca=t}async reset(){return SOt("resetting context"),BOt(this)}};ZHe.exports=new Mde().api()});var oje=j((ZGn,ije)=>{"use strict";d();var{EventEmitter:MOt}=require("events"),{Readable:UB}=require("stream"),Qde=lE()("helix-fetch"),QOt=xde(),{Body:OOt}=m$(),{Headers:Wde}=FT(),{Request:dE}=IHe(),{Response:Ude}=_de(),{FetchBaseError:UOt,FetchError:qB,AbortError:E$}=Ede(),{AbortController:qOt,AbortSignal:WOt,TimeoutSignal:GOt}=Ide(),HOt=BHe(),{cacheableResponse:jOt}=NHe(),{sizeof:VOt}=E2(),{isFormData:$Ot}=QB(),{context:zOt,RequestAbortedError:YOt}=eje(),tje=["GET","HEAD"],KOt=500,JOt=100*1024*1024,Ode="push",rje=s(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof dE&&typeof r>"u"?t:new dE(t,r),{method:o,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let B=new E$("The operation was aborted.");throw i.init.body instanceof UB&&i.init.body.destroy(B),B}try{p=await n(i.url,{...r,method:o,headers:i.headers.plain(),body:h&&!(h instanceof UB)&&!$Ot(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(B){throw h instanceof UB&&h.destroy(B),B instanceof TypeError?B:B instanceof YOt?new E$("The operation was aborted."):new qB(B.message,"system",B)}let g=s(()=>{l.removeEventListener("abort",g);let B=new E$("The operation was aborted.");i.init.body instanceof UB&&i.init.body.destroy(B),p.readable.emit("error",B)},"abortHandler");l&&l.addEventListener("abort",g);let{statusCode:y,statusText:v,httpVersion:b,headers:E,readable:_,decoded:k}=p;if([301,302,303,307,308].includes(y)){let{location:B}=E,N=B==null?null:new URL(B,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",g),new qB(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(N===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",g),new qB(`maximum redirect reached at: ${i.url}`,"max-redirect");let M={headers:new Wde(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(y!==303&&i.body&&i.init.body instanceof UB)throw l&&l.removeEventListener("abort",g),new qB("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(y===303||(y===301||y===302)&&i.method==="POST")&&(M.method="GET",M.body=void 0,M.headers.delete("content-length")),l&&l.removeEventListener("abort",g),rje(e,new dE(N,M))}default:}}return l&&(_.once("end",()=>{l.removeEventListener("abort",g)}),_.once("error",()=>{l.removeEventListener("abort",g)})),new Ude(_,{url:i.url,status:y,statusText:v,headers:E,httpVersion:b,decoded:k,counter:i.counter})},"fetch"),nje=s(async(e,t,r)=>{if(e.options.maxCacheSize===0||!tje.includes(t.method))return r;let n=new HOt(t,r,{shared:!1});if(n.storable()){let i=await jOt(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),XOt=s(async(e,t,r)=>{let n=new dE(t,r);if(e.options.maxCacheSize!==0&&tje.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new Wde(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let o=await rje(e,n);return n.cache!=="no-store"?nje(e,n,o):o},"cachingFetch"),ZOt=s((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(o=>r.searchParams.append(n,o)):r.searchParams.append(n,i)}),r.href},"createUrl"),eUt=s(e=>new GOt(e),"timeoutSignal"),qde=class e{static{s(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:JOt,i=KOt;n===0&&(n=1,i=1);let o=s(({response:l},c)=>VOt(l),"sizeCalculation");this.cache=new QOt({max:i,maxSize:n,sizeCalculation:o}),this.eventEmitter=new MOt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(b=>b.startsWith(":")).forEach(b=>delete f[b]);let{statusCode:m,statusText:h,httpVersion:p,headers:g,readable:y,decoded:v}=u;this.pushHandler(l,f,new Ude(y,{url:l,status:m,statusText:h,headers:g,httpVersion:p,decoded:v}))}),this.context=zOt(this.options)}api(){return{fetch:s(async(t,r)=>this.fetch(t,r),"fetch"),Body:OOt,Headers:Wde,Request:dE,Response:Ude,AbortController:qOt,AbortSignal:WOt,FetchBaseError:UOt,FetchError:qB,AbortError:E$,context:s((t={})=>new e(t).api(),"context"),setCA:s(t=>this.setCA(t),"setCA"),noCache:s((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:s((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:s((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:s((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:s((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:s(async()=>this.context.reset(),"reset"),onPush:s(t=>this.onPush(t),"onPush"),offPush:s(t=>this.offPush(t),"offPush"),createUrl:ZOt,timeoutSignal:eUt,clearCache:s(()=>this.clearCache(),"clearCache"),cacheStats:s(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return XOt(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(Ode,t)}offPush(t){return this.eventEmitter.off(Ode,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){Qde(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new dE(t,{headers:r}),{policy:o}=this.cache.get(t)||{};o&&o.satisfiesWithoutRevalidation(i)&&(Qde(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){Qde(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await nje(this,new dE(t,{headers:r}),n);this.eventEmitter.emit(Ode,t,i)}};ije.exports=new qde().api()});var aje=j((rHn,sje)=>{"use strict";d();sje.exports=oje()});var zVe=j((Xni,$Ve)=>{d();$Ve.exports=VVe;VVe.sync=oGt;var HVe=require("fs");function iGt(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}s(iGt,"checkPathExt");function jVe(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:iGt(t,r)}s(jVe,"checkStat");function VVe(e,t,r){HVe.stat(e,function(n,i){r(n,n?!1:jVe(i,e,t))})}s(VVe,"isexe");function oGt(e,t){return jVe(HVe.statSync(e),e,t)}s(oGt,"sync")});var ZVe=j((tii,XVe)=>{d();XVe.exports=KVe;KVe.sync=sGt;var YVe=require("fs");function KVe(e,t,r){YVe.stat(e,function(n,i){r(n,n?!1:JVe(i,t))})}s(KVe,"isexe");function sGt(e,t){return JVe(YVe.statSync(e),t)}s(sGt,"sync");function JVe(e,t){return e.isFile()&&aGt(e,t)}s(JVe,"checkStat");function aGt(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),l=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),f=l|c,m=r&u||r&c&&i===a||r&l&&n===o||r&f&&o===0;return m}s(aGt,"checkMode")});var t$e=j((oii,e$e)=>{d();var iii=require("fs"),xz;process.platform==="win32"||global.TESTING_WINDOWS?xz=zVe():xz=ZVe();e$e.exports=Tme;Tme.sync=lGt;function Tme(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Tme(e,t||{},function(o,a){o?i(o):n(a)})})}xz(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}s(Tme,"isexe");function lGt(e,t){try{return xz.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}s(lGt,"sync")});var l$e=j((lii,a$e)=>{d();var ZT=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",r$e=require("path"),cGt=ZT?";":":",n$e=t$e(),i$e=s(e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),"getNotFoundError"),o$e=s((e,t)=>{let r=t.colon||cGt,n=e.match(/\//)||ZT&&e.match(/\\/)?[""]:[...ZT?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ZT?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=ZT?i.split(r):[""];return ZT&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},"getPathInfo"),s$e=s((e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=o$e(e,t),a=[],l=s(u=>new Promise((f,m)=>{if(u===n.length)return t.all&&a.length?f(a):m(i$e(e));let h=n[u],p=/^".*"$/.test(h)?h.slice(1,-1):h,g=r$e.join(p,e),y=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;f(c(y,u,0))}),"step"),c=s((u,f,m)=>new Promise((h,p)=>{if(m===i.length)return h(l(f+1));let g=i[m];n$e(u+g,{pathExt:o},(y,v)=>{if(!y&&v)if(t.all)a.push(u+g);else return h(u+g);return h(c(u,f,m+1))})}),"subStep");return r?l(0).then(u=>r(null,u),r):l(0)},"which"),uGt=s((e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=o$e(e,t),o=[];for(let a=0;a<r.length;a++){let l=r[a],c=/^".*"$/.test(l)?l.slice(1,-1):l,u=r$e.join(c,e),f=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let m=0;m<n.length;m++){let h=f+n[m];try{if(n$e.sync(h,{pathExt:i}))if(t.all)o.push(h);else return h}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw i$e(e)},"whichSync");a$e.exports=s$e;s$e.sync=uGt});var u$e=j((fii,wme)=>{"use strict";d();var c$e=s((e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"},"pathKey");wme.exports=c$e;wme.exports.default=c$e});var h$e=j((hii,m$e)=>{"use strict";d();var f$e=require("path"),fGt=l$e(),dGt=u$e();function d$e(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=fGt.sync(e.command,{path:r[dGt({env:r})],pathExt:t?f$e.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=f$e.resolve(i?e.options.cwd:"",a)),a}s(d$e,"resolveCommandAttempt");function mGt(e){return d$e(e)||d$e(e,!0)}s(mGt,"resolveCommand");m$e.exports=mGt});var p$e=j((Aii,Sme)=>{"use strict";d();var _me=/([()\][%!^"`<>&|;, *?])/g;function hGt(e){return e=e.replace(_me,"^$1"),e}s(hGt,"escapeCommand");function pGt(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(_me,"^$1"),t&&(e=e.replace(_me,"^$1")),e}s(pGt,"escapeArgument");Sme.exports.command=hGt;Sme.exports.argument=pGt});var A$e=j((xii,g$e)=>{"use strict";d();g$e.exports=/^#!(.*)/});var C$e=j((bii,y$e)=>{"use strict";d();var gGt=A$e();y$e.exports=(e="")=>{let t=e.match(gGt);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var v$e=j((Iii,x$e)=>{"use strict";d();var Rme=require("fs"),AGt=C$e();function yGt(e){let r=Buffer.alloc(150),n;try{n=Rme.openSync(e,"r"),Rme.readSync(n,r,0,150,0),Rme.closeSync(n)}catch{}return AGt(r.toString())}s(yGt,"readShebang");x$e.exports=yGt});var T$e=j((_ii,I$e)=>{"use strict";d();var CGt=require("path"),b$e=h$e(),E$e=p$e(),xGt=v$e(),vGt=process.platform==="win32",bGt=/\.(?:com|exe)$/i,EGt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function IGt(e){e.file=b$e(e);let t=e.file&&xGt(e.file);return t?(e.args.unshift(e.file),e.command=t,b$e(e)):e.file}s(IGt,"detectShebang");function TGt(e){if(!vGt)return e;let t=IGt(e),r=!bGt.test(t);if(e.options.forceShell||r){let n=EGt.test(t);e.command=CGt.normalize(e.command),e.command=E$e.command(e.command),e.args=e.args.map(o=>E$e.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}s(TGt,"parseNonShell");function wGt(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:TGt(n)}s(wGt,"parse");I$e.exports=wGt});var S$e=j((kii,_$e)=>{"use strict";d();var kme=process.platform==="win32";function Bme(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}s(Bme,"notFoundError");function _Gt(e,t){if(!kme)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=w$e(i,t);if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}s(_Gt,"hookChildProcess");function w$e(e,t){return kme&&e===1&&!t.file?Bme(t.original,"spawn"):null}s(w$e,"verifyENOENT");function SGt(e,t){return kme&&e===1&&!t.file?Bme(t.original,"spawnSync"):null}s(SGt,"verifyENOENTSync");_$e.exports={hookChildProcess:_Gt,verifyENOENT:w$e,verifyENOENTSync:SGt,notFoundError:Bme}});var B$e=j((Pii,ew)=>{"use strict";d();var R$e=require("child_process"),Dme=T$e(),Pme=S$e();function k$e(e,t,r){let n=Dme(e,t,r),i=R$e.spawn(n.command,n.args,n.options);return Pme.hookChildProcess(i,n),i}s(k$e,"spawn");function RGt(e,t,r){let n=Dme(e,t,r),i=R$e.spawnSync(n.command,n.args,n.options);return i.error=i.error||Pme.verifyENOENTSync(i.status,n),i}s(RGt,"spawnSync");ew.exports=k$e;ew.exports.spawn=k$e;ew.exports.sync=RGt;ew.exports._parse=Dme;ew.exports._enoent=Pme});var eHt={};H1(eHt,{getTokenizer:()=>Xi,getTokenizerAsync:()=>tve,main:()=>gze});module.exports=qYe(eHt);d();d();Fpe().install();d();d();var N7="github.copilot";d();d();var Gp=class{static{s(this,"Clock")}now(){return new Date}};d();var wN=Ze(Xy());function jK(e){return(0,wN.SHA256)(wN.enc.Utf16.parse(e.prefix+e.suffix)).toString()}s(jK,"keyForPrompt");var Sn=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{s(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Vs=class extends Error{static{s(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var dd="X-Copilot-RelatedPluginVersion-",F7=(U=>(U.Market="X-MSEdge-Market",U.CorpNet="X-FD-Corpnet",U.Build="X-VSCode-Build",U.ApplicationVersion="X-VSCode-AppVersion",U.TargetPopulation="X-VSCode-TargetPopulation",U.ClientId="X-MSEdge-ClientId",U.ExtensionName="X-VSCode-ExtensionName",U.ExtensionVersion="X-VSCode-ExtensionVersion",U.ExtensionRelease="X-VSCode-ExtensionRelease",U.Language="X-VSCode-Language",U.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",U.CopilotEngine="X-Copilot-Engine",U.CopilotOverrideEngine="X-Copilot-OverrideEngine",U.CopilotRepository="X-Copilot-Repository",U.CopilotFileType="X-Copilot-FileType",U.CopilotUserKind="X-Copilot-UserKind",U.CopilotDogfood="X-Copilot-Dogfood",U.CopilotCustomModel="X-Copilot-CustomModel",U.CopilotOrgs="X-Copilot-Orgs",U.CopilotCustomModelNames="X-Copilot-CustomModelNames",U.CopilotTrackingId="X-Copilot-CopilotTrackingId",U.CopilotClientVersion="X-Copilot-ClientVersion",U.CopilotRelatedPluginVersionCppTools=dd+"msvscodecpptools",U.CopilotRelatedPluginVersionCMakeTools=dd+"msvscodecmaketools",U.CopilotRelatedPluginVersionMakefileTools=dd+"msvscodemakefiletools",U.CopilotRelatedPluginVersionCSharpDevKit=dd+"msdotnettoolscsdevkit",U.CopilotRelatedPluginVersionPython=dd+"mspythonpython",U.CopilotRelatedPluginVersionPylance=dd+"mspythonvscodepylance",U.CopilotRelatedPluginVersionJavaPack=dd+"vscjavavscodejavapack",U.CopilotRelatedPluginVersionTypescript=dd+"vscodetypescriptlanguagefeatures",U.CopilotRelatedPluginVersionTypescriptNext=dd+"msvscodevscodetypescriptnext",U.CopilotRelatedPluginVersionCSharp=dd+"msdotnettoolscsharp",U))(F7||{});var wKe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Sx=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{s(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=wKe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();var fn=class{static{s(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},M7=class extends Error{static{s(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function Sc(e){return!e||typeof e!="object"?!1:e instanceof M7||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}s(Sc,"isAbortError");var rI=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{s(this,"JsonParseError")}},Rx=class extends Error{static{s(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},_Ke=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function Q7(e,t=!0){return e instanceof Error?t&&"cause"in e&&Q7(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof rI||e instanceof Rx||e?.message?.startsWith("net::")||_Ke.has(e.code??""):!1}s(Q7,"isNetworkError");var Zy=class{constructor(t,r,n,i,o){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=o;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{s(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new rI(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let o=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new rI(`Response body truncated: actualLength=${o}`,"Truncated"):new rI(`Response body truncated: actualLength=${o}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function kx(e,t,r,n,i,o,a,l,c){let u={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(Bs).sessionId,"VScode-MachineId":e.get(Bs).machineId,...Gu(e),"X-GitHub-Api-Version":Gm};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:o,timeout:c},m=e.get(fn);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{jt(e,"networking.cancelRequest",dn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(SKe(p))return jt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}s(kx,"postRequest");function SKe(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}s(SKe,"isInterruptedNetworkError");d();d();d();d();d();d();d();var Rc={};H1(Rc,{HasPropertyKey:()=>_N,IsArray:()=>xa,IsAsyncIterator:()=>VK,IsBigInt:()=>O7,IsBoolean:()=>$1,IsDate:()=>Bx,IsFunction:()=>$K,IsIterator:()=>zK,IsNull:()=>YK,IsNumber:()=>Hu,IsObject:()=>So,IsRegExp:()=>U7,IsString:()=>qo,IsSymbol:()=>KK,IsUint8Array:()=>z1,IsUndefined:()=>va});d();function _N(e,t){return t in e}s(_N,"HasPropertyKey");function VK(e){return So(e)&&!xa(e)&&!z1(e)&&Symbol.asyncIterator in e}s(VK,"IsAsyncIterator");function xa(e){return Array.isArray(e)}s(xa,"IsArray");function O7(e){return typeof e=="bigint"}s(O7,"IsBigInt");function $1(e){return typeof e=="boolean"}s($1,"IsBoolean");function Bx(e){return e instanceof globalThis.Date}s(Bx,"IsDate");function $K(e){return typeof e=="function"}s($K,"IsFunction");function zK(e){return So(e)&&!xa(e)&&!z1(e)&&Symbol.iterator in e}s(zK,"IsIterator");function YK(e){return e===null}s(YK,"IsNull");function Hu(e){return typeof e=="number"}s(Hu,"IsNumber");function So(e){return typeof e=="object"&&e!==null}s(So,"IsObject");function U7(e){return e instanceof globalThis.RegExp}s(U7,"IsRegExp");function qo(e){return typeof e=="string"}s(qo,"IsString");function KK(e){return typeof e=="symbol"}s(KK,"IsSymbol");function z1(e){return e instanceof globalThis.Uint8Array}s(z1,"IsUint8Array");function va(e){return e===void 0}s(va,"IsUndefined");function RKe(e){return e.map(t=>SN(t))}s(RKe,"ArrayType");function kKe(e){return new Date(e.getTime())}s(kKe,"DateType");function BKe(e){return new Uint8Array(e)}s(BKe,"Uint8ArrayType");function DKe(e){return new RegExp(e.source,e.flags)}s(DKe,"RegExpType");function PKe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=SN(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=SN(e[r]);return t}s(PKe,"ObjectType");function SN(e){return xa(e)?RKe(e):Bx(e)?kKe(e):z1(e)?BKe(e):U7(e)?DKe(e):So(e)?PKe(e):e}s(SN,"Visit");function as(e){return SN(e)}s(as,"Clone");function nI(e,t){return t===void 0?as(e):as({...t,...e})}s(nI,"CloneType");d();d();d();function RN(e){return ci(e)&&globalThis.Symbol.asyncIterator in e}s(RN,"IsAsyncIterator");function kN(e){return ci(e)&&globalThis.Symbol.iterator in e}s(kN,"IsIterator");function JK(e){return ci(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}s(JK,"IsStandardObject");function BN(e){return e instanceof globalThis.Promise}s(BN,"IsPromise");function l0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}s(l0,"IsDate");function Hge(e){return e instanceof globalThis.Map}s(Hge,"IsMap");function jge(e){return e instanceof globalThis.Set}s(jge,"IsSet");function md(e){return globalThis.ArrayBuffer.isView(e)}s(md,"IsTypedArray");function iI(e){return e instanceof globalThis.Uint8Array}s(iI,"IsUint8Array");function An(e,t){return t in e}s(An,"HasPropertyKey");function ci(e){return e!==null&&typeof e=="object"}s(ci,"IsObject");function yn(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}s(yn,"IsArray");function ls(e){return e===void 0}s(ls,"IsUndefined");function Y1(e){return e===null}s(Y1,"IsNull");function Hp(e){return typeof e=="boolean"}s(Hp,"IsBoolean");function Xr(e){return typeof e=="number"}s(Xr,"IsNumber");function DN(e){return globalThis.Number.isInteger(e)}s(DN,"IsInteger");function tc(e){return typeof e=="bigint"}s(tc,"IsBigInt");function Ui(e){return typeof e=="string"}s(Ui,"IsString");function e5(e){return typeof e=="function"}s(e5,"IsFunction");function K1(e){return typeof e=="symbol"}s(K1,"IsSymbol");function ju(e){return tc(e)||Hp(e)||Y1(e)||Xr(e)||Ui(e)||K1(e)||ls(e)}s(ju,"IsValueType");var Yo;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=ci(a);return e.AllowArrayObject?l:l&&!yn(a)}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Xr(a):Number.isFinite(a)}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){let l=ls(a);return e.AllowNullVoid?l||a===null:l}s(o,"IsVoidLike"),e.IsVoidLike=o})(Yo||(Yo={}));d();function NKe(e){return globalThis.Object.freeze(e).map(t=>q7(t))}s(NKe,"ImmutableArray");function LKe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=q7(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=q7(e[r]);return globalThis.Object.freeze(t)}s(LKe,"ImmutableObject");function q7(e){return xa(e)?NKe(e):Bx(e)?e:z1(e)?e:U7(e)?e:So(e)?LKe(e):e}s(q7,"Immutable");function ut(e,t){let r=t!==void 0?{...t,...e}:e;switch(Yo.InstanceMode){case"freeze":return q7(r);case"clone":return as(r);default:return r}}s(ut,"CreateType");d();var Cn=class extends Error{static{s(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var Ds=Symbol.for("TypeBox.Transform"),Hm=Symbol.for("TypeBox.Readonly"),rc=Symbol.for("TypeBox.Optional"),hd=Symbol.for("TypeBox.Hint"),ot=Symbol.for("TypeBox.Kind");function oI(e){return So(e)&&e[Hm]==="Readonly"}s(oI,"IsReadonly");function j0(e){return So(e)&&e[rc]==="Optional"}s(j0,"IsOptional");function XK(e){return Bi(e,"Any")}s(XK,"IsAny");function ZK(e){return Bi(e,"Argument")}s(ZK,"IsArgument");function jm(e){return Bi(e,"Array")}s(jm,"IsArray");function Dx(e){return Bi(e,"AsyncIterator")}s(Dx,"IsAsyncIterator");function Px(e){return Bi(e,"BigInt")}s(Px,"IsBigInt");function J1(e){return Bi(e,"Boolean")}s(J1,"IsBoolean");function Vm(e){return Bi(e,"Computed")}s(Vm,"IsComputed");function $m(e){return Bi(e,"Constructor")}s($m,"IsConstructor");function FKe(e){return Bi(e,"Date")}s(FKe,"IsDate");function zm(e){return Bi(e,"Function")}s(zm,"IsFunction");function Ym(e){return Bi(e,"Integer")}s(Ym,"IsInteger");function $s(e){return Bi(e,"Intersect")}s($s,"IsIntersect");function Nx(e){return Bi(e,"Iterator")}s(Nx,"IsIterator");function Bi(e,t){return So(e)&&ot in e&&e[ot]===t}s(Bi,"IsKindOf");function PN(e){return $1(e)||Hu(e)||qo(e)}s(PN,"IsLiteralValue");function Vu(e){return Bi(e,"Literal")}s(Vu,"IsLiteral");function $u(e){return Bi(e,"MappedKey")}s($u,"IsMappedKey");function cs(e){return Bi(e,"MappedResult")}s(cs,"IsMappedResult");function t5(e){return Bi(e,"Never")}s(t5,"IsNever");function MKe(e){return Bi(e,"Not")}s(MKe,"IsNot");function W7(e){return Bi(e,"Null")}s(W7,"IsNull");function Km(e){return Bi(e,"Number")}s(Km,"IsNumber");function ba(e){return Bi(e,"Object")}s(ba,"IsObject");function Lx(e){return Bi(e,"Promise")}s(Lx,"IsPromise");function Fx(e){return Bi(e,"Record")}s(Fx,"IsRecord");function na(e){return Bi(e,"Ref")}s(na,"IsRef");function eJ(e){return Bi(e,"RegExp")}s(eJ,"IsRegExp");function X1(e){return Bi(e,"String")}s(X1,"IsString");function G7(e){return Bi(e,"Symbol")}s(G7,"IsSymbol");function zu(e){return Bi(e,"TemplateLiteral")}s(zu,"IsTemplateLiteral");function QKe(e){return Bi(e,"This")}s(QKe,"IsThis");function ao(e){return So(e)&&Ds in e}s(ao,"IsTransform");function Yu(e){return Bi(e,"Tuple")}s(Yu,"IsTuple");function Z1(e){return Bi(e,"Undefined")}s(Z1,"IsUndefined");function qi(e){return Bi(e,"Union")}s(qi,"IsUnion");function OKe(e){return Bi(e,"Uint8Array")}s(OKe,"IsUint8Array");function UKe(e){return Bi(e,"Unknown")}s(UKe,"IsUnknown");function qKe(e){return Bi(e,"Unsafe")}s(qKe,"IsUnsafe");function WKe(e){return Bi(e,"Void")}s(WKe,"IsVoid");function r5(e){return So(e)&&ot in e&&qo(e[ot])}s(r5,"IsKind");function Ps(e){return XK(e)||ZK(e)||jm(e)||J1(e)||Px(e)||Dx(e)||Vm(e)||$m(e)||FKe(e)||zm(e)||Ym(e)||$s(e)||Nx(e)||Vu(e)||$u(e)||cs(e)||t5(e)||MKe(e)||W7(e)||Km(e)||ba(e)||Lx(e)||Fx(e)||na(e)||eJ(e)||X1(e)||G7(e)||zu(e)||QKe(e)||Yu(e)||Z1(e)||qi(e)||OKe(e)||UKe(e)||qKe(e)||WKe(e)||r5(e)}s(Ps,"IsSchema");var Qe={};H1(Qe,{IsAny:()=>Yge,IsArgument:()=>Kge,IsArray:()=>Jge,IsAsyncIterator:()=>Xge,IsBigInt:()=>Zge,IsBoolean:()=>e1e,IsComputed:()=>t1e,IsConstructor:()=>r1e,IsDate:()=>n1e,IsFunction:()=>i1e,IsImport:()=>zKe,IsInteger:()=>o1e,IsIntersect:()=>s1e,IsIterator:()=>a1e,IsKind:()=>P1e,IsKindOf:()=>yi,IsLiteral:()=>j7,IsLiteralBoolean:()=>YKe,IsLiteralNumber:()=>c1e,IsLiteralString:()=>l1e,IsLiteralValue:()=>u1e,IsMappedKey:()=>f1e,IsMappedResult:()=>d1e,IsNever:()=>m1e,IsNot:()=>h1e,IsNull:()=>p1e,IsNumber:()=>g1e,IsObject:()=>A1e,IsOptional:()=>$Ke,IsPromise:()=>y1e,IsProperties:()=>NN,IsReadonly:()=>VKe,IsRecord:()=>C1e,IsRecursive:()=>KKe,IsRef:()=>x1e,IsRegExp:()=>v1e,IsSchema:()=>us,IsString:()=>b1e,IsSymbol:()=>E1e,IsTemplateLiteral:()=>I1e,IsThis:()=>T1e,IsTransform:()=>w1e,IsTuple:()=>_1e,IsUint8Array:()=>R1e,IsUndefined:()=>S1e,IsUnion:()=>iJ,IsUnionLiteral:()=>JKe,IsUnknown:()=>k1e,IsUnsafe:()=>B1e,IsVoid:()=>D1e,TypeGuardUnknownTypeError:()=>tJ});d();var tJ=class extends Cn{static{s(this,"TypeGuardUnknownTypeError")}},GKe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Vge(e){try{return new RegExp(e),!0}catch{return!1}}s(Vge,"IsPattern");function rJ(e){if(!qo(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}s(rJ,"IsControlCharacterFree");function $ge(e){return nJ(e)||us(e)}s($ge,"IsAdditionalProperties");function H7(e){return va(e)||O7(e)}s(H7,"IsOptionalBigInt");function Wo(e){return va(e)||Hu(e)}s(Wo,"IsOptionalNumber");function nJ(e){return va(e)||$1(e)}s(nJ,"IsOptionalBoolean");function Ro(e){return va(e)||qo(e)}s(Ro,"IsOptionalString");function HKe(e){return va(e)||qo(e)&&rJ(e)&&Vge(e)}s(HKe,"IsOptionalPattern");function jKe(e){return va(e)||qo(e)&&rJ(e)}s(jKe,"IsOptionalFormat");function zge(e){return va(e)||us(e)}s(zge,"IsOptionalSchema");function VKe(e){return So(e)&&e[Hm]==="Readonly"}s(VKe,"IsReadonly");function $Ke(e){return So(e)&&e[rc]==="Optional"}s($Ke,"IsOptional");function Yge(e){return yi(e,"Any")&&Ro(e.$id)}s(Yge,"IsAny");function Kge(e){return yi(e,"Argument")&&Hu(e.index)}s(Kge,"IsArgument");function Jge(e){return yi(e,"Array")&&e.type==="array"&&Ro(e.$id)&&us(e.items)&&Wo(e.minItems)&&Wo(e.maxItems)&&nJ(e.uniqueItems)&&zge(e.contains)&&Wo(e.minContains)&&Wo(e.maxContains)}s(Jge,"IsArray");function Xge(e){return yi(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Ro(e.$id)&&us(e.items)}s(Xge,"IsAsyncIterator");function Zge(e){return yi(e,"BigInt")&&e.type==="bigint"&&Ro(e.$id)&&H7(e.exclusiveMaximum)&&H7(e.exclusiveMinimum)&&H7(e.maximum)&&H7(e.minimum)&&H7(e.multipleOf)}s(Zge,"IsBigInt");function e1e(e){return yi(e,"Boolean")&&e.type==="boolean"&&Ro(e.$id)}s(e1e,"IsBoolean");function t1e(e){return yi(e,"Computed")&&qo(e.target)&&xa(e.parameters)&&e.parameters.every(t=>us(t))}s(t1e,"IsComputed");function r1e(e){return yi(e,"Constructor")&&e.type==="Constructor"&&Ro(e.$id)&&xa(e.parameters)&&e.parameters.every(t=>us(t))&&us(e.returns)}s(r1e,"IsConstructor");function n1e(e){return yi(e,"Date")&&e.type==="Date"&&Ro(e.$id)&&Wo(e.exclusiveMaximumTimestamp)&&Wo(e.exclusiveMinimumTimestamp)&&Wo(e.maximumTimestamp)&&Wo(e.minimumTimestamp)&&Wo(e.multipleOfTimestamp)}s(n1e,"IsDate");function i1e(e){return yi(e,"Function")&&e.type==="Function"&&Ro(e.$id)&&xa(e.parameters)&&e.parameters.every(t=>us(t))&&us(e.returns)}s(i1e,"IsFunction");function zKe(e){return yi(e,"Import")&&_N(e,"$defs")&&So(e.$defs)&&NN(e.$defs)&&_N(e,"$ref")&&qo(e.$ref)&&e.$ref in e.$defs}s(zKe,"IsImport");function o1e(e){return yi(e,"Integer")&&e.type==="integer"&&Ro(e.$id)&&Wo(e.exclusiveMaximum)&&Wo(e.exclusiveMinimum)&&Wo(e.maximum)&&Wo(e.minimum)&&Wo(e.multipleOf)}s(o1e,"IsInteger");function NN(e){return So(e)&&Object.entries(e).every(([t,r])=>rJ(t)&&us(r))}s(NN,"IsProperties");function s1e(e){return yi(e,"Intersect")&&!(qo(e.type)&&e.type!=="object")&&xa(e.allOf)&&e.allOf.every(t=>us(t)&&!w1e(t))&&Ro(e.type)&&(nJ(e.unevaluatedProperties)||zge(e.unevaluatedProperties))&&Ro(e.$id)}s(s1e,"IsIntersect");function a1e(e){return yi(e,"Iterator")&&e.type==="Iterator"&&Ro(e.$id)&&us(e.items)}s(a1e,"IsIterator");function yi(e,t){return So(e)&&ot in e&&e[ot]===t}s(yi,"IsKindOf");function l1e(e){return j7(e)&&qo(e.const)}s(l1e,"IsLiteralString");function c1e(e){return j7(e)&&Hu(e.const)}s(c1e,"IsLiteralNumber");function YKe(e){return j7(e)&&$1(e.const)}s(YKe,"IsLiteralBoolean");function j7(e){return yi(e,"Literal")&&Ro(e.$id)&&u1e(e.const)}s(j7,"IsLiteral");function u1e(e){return $1(e)||Hu(e)||qo(e)}s(u1e,"IsLiteralValue");function f1e(e){return yi(e,"MappedKey")&&xa(e.keys)&&e.keys.every(t=>Hu(t)||qo(t))}s(f1e,"IsMappedKey");function d1e(e){return yi(e,"MappedResult")&&NN(e.properties)}s(d1e,"IsMappedResult");function m1e(e){return yi(e,"Never")&&So(e.not)&&Object.getOwnPropertyNames(e.not).length===0}s(m1e,"IsNever");function h1e(e){return yi(e,"Not")&&us(e.not)}s(h1e,"IsNot");function p1e(e){return yi(e,"Null")&&e.type==="null"&&Ro(e.$id)}s(p1e,"IsNull");function g1e(e){return yi(e,"Number")&&e.type==="number"&&Ro(e.$id)&&Wo(e.exclusiveMaximum)&&Wo(e.exclusiveMinimum)&&Wo(e.maximum)&&Wo(e.minimum)&&Wo(e.multipleOf)}s(g1e,"IsNumber");function A1e(e){return yi(e,"Object")&&e.type==="object"&&Ro(e.$id)&&NN(e.properties)&&$ge(e.additionalProperties)&&Wo(e.minProperties)&&Wo(e.maxProperties)}s(A1e,"IsObject");function y1e(e){return yi(e,"Promise")&&e.type==="Promise"&&Ro(e.$id)&&us(e.item)}s(y1e,"IsPromise");function C1e(e){return yi(e,"Record")&&e.type==="object"&&Ro(e.$id)&&$ge(e.additionalProperties)&&So(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Vge(r[0])&&So(t.patternProperties)&&us(t.patternProperties[r[0]])})(e)}s(C1e,"IsRecord");function KKe(e){return So(e)&&hd in e&&e[hd]==="Recursive"}s(KKe,"IsRecursive");function x1e(e){return yi(e,"Ref")&&Ro(e.$id)&&qo(e.$ref)}s(x1e,"IsRef");function v1e(e){return yi(e,"RegExp")&&Ro(e.$id)&&qo(e.source)&&qo(e.flags)&&Wo(e.maxLength)&&Wo(e.minLength)}s(v1e,"IsRegExp");function b1e(e){return yi(e,"String")&&e.type==="string"&&Ro(e.$id)&&Wo(e.minLength)&&Wo(e.maxLength)&&HKe(e.pattern)&&jKe(e.format)}s(b1e,"IsString");function E1e(e){return yi(e,"Symbol")&&e.type==="symbol"&&Ro(e.$id)}s(E1e,"IsSymbol");function I1e(e){return yi(e,"TemplateLiteral")&&e.type==="string"&&qo(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}s(I1e,"IsTemplateLiteral");function T1e(e){return yi(e,"This")&&Ro(e.$id)&&qo(e.$ref)}s(T1e,"IsThis");function w1e(e){return So(e)&&Ds in e}s(w1e,"IsTransform");function _1e(e){return yi(e,"Tuple")&&e.type==="array"&&Ro(e.$id)&&Hu(e.minItems)&&Hu(e.maxItems)&&e.minItems===e.maxItems&&(va(e.items)&&va(e.additionalItems)&&e.minItems===0||xa(e.items)&&e.items.every(t=>us(t)))}s(_1e,"IsTuple");function S1e(e){return yi(e,"Undefined")&&e.type==="undefined"&&Ro(e.$id)}s(S1e,"IsUndefined");function JKe(e){return iJ(e)&&e.anyOf.every(t=>l1e(t)||c1e(t))}s(JKe,"IsUnionLiteral");function iJ(e){return yi(e,"Union")&&Ro(e.$id)&&So(e)&&xa(e.anyOf)&&e.anyOf.every(t=>us(t))}s(iJ,"IsUnion");function R1e(e){return yi(e,"Uint8Array")&&e.type==="Uint8Array"&&Ro(e.$id)&&Wo(e.minByteLength)&&Wo(e.maxByteLength)}s(R1e,"IsUint8Array");function k1e(e){return yi(e,"Unknown")&&Ro(e.$id)}s(k1e,"IsUnknown");function B1e(e){return yi(e,"Unsafe")}s(B1e,"IsUnsafe");function D1e(e){return yi(e,"Void")&&e.type==="void"&&Ro(e.$id)}s(D1e,"IsVoid");function P1e(e){return So(e)&&ot in e&&qo(e[ot])&&!GKe.includes(e[ot])}s(P1e,"IsKind");function us(e){return So(e)&&(Yge(e)||Kge(e)||Jge(e)||e1e(e)||Zge(e)||Xge(e)||t1e(e)||r1e(e)||n1e(e)||i1e(e)||o1e(e)||s1e(e)||a1e(e)||j7(e)||f1e(e)||d1e(e)||m1e(e)||h1e(e)||p1e(e)||g1e(e)||A1e(e)||y1e(e)||C1e(e)||x1e(e)||v1e(e)||b1e(e)||E1e(e)||I1e(e)||T1e(e)||_1e(e)||S1e(e)||iJ(e)||R1e(e)||k1e(e)||B1e(e)||D1e(e)||P1e(e))}s(us,"IsSchema");d();var oJ="(true|false)",V7="(0|[1-9][0-9]*)",sJ="(.*)",XKe="(?!.*)",l$t=`^${oJ}$`,jp=`^${V7}$`,Vp=`^${sJ}$`,N1e=`^${XKe}$`;d();var Jm={};H1(Jm,{Clear:()=>eJe,Delete:()=>tJe,Entries:()=>ZKe,Get:()=>iJe,Has:()=>rJe,Set:()=>nJe});d();var sI=new Map;function ZKe(){return new Map(sI)}s(ZKe,"Entries");function eJe(){return sI.clear()}s(eJe,"Clear");function tJe(e){return sI.delete(e)}s(tJe,"Delete");function rJe(e){return sI.has(e)}s(rJe,"Has");function nJe(e,t){sI.set(e,t)}s(nJe,"Set");function iJe(e){return sI.get(e)}s(iJe,"Get");var c0={};H1(c0,{Clear:()=>sJe,Delete:()=>aJe,Entries:()=>oJe,Get:()=>uJe,Has:()=>lJe,Set:()=>cJe});d();var aI=new Map;function oJe(){return new Map(aI)}s(oJe,"Entries");function sJe(){return aI.clear()}s(sJe,"Clear");function aJe(e){return aI.delete(e)}s(aJe,"Delete");function lJe(e){return aI.has(e)}s(lJe,"Has");function cJe(e,t){aI.set(e,t)}s(cJe,"Set");function uJe(e){return aI.get(e)}s(uJe,"Get");d();function L1e(e,t){return e.includes(t)}s(L1e,"SetIncludes");function F1e(e){return[...new Set(e)]}s(F1e,"SetDistinct");function fJe(e,t){return e.filter(r=>t.includes(r))}s(fJe,"SetIntersect");function dJe(e,t){return e.reduce((r,n)=>fJe(r,n),t)}s(dJe,"SetIntersectManyResolve");function M1e(e){return e.length===1?e[0]:e.length>1?dJe(e.slice(1),e[0]):[]}s(M1e,"SetIntersectMany");function Q1e(e){let t=[];for(let r of e)t.push(...r);return t}s(Q1e,"SetUnionMany");d();function n5(e){return ut({[ot]:"Any"},e)}s(n5,"Any");d();function lI(e,t){return ut({[ot]:"Array",type:"array",items:e},t)}s(lI,"Array");d();function O1e(e){return ut({[ot]:"Argument",index:e})}s(O1e,"Argument");d();function cI(e,t){return ut({[ot]:"AsyncIterator",type:"AsyncIterator",items:e},t)}s(cI,"AsyncIterator");d();d();function Ko(e,t,r){return ut({[ot]:"Computed",target:e,parameters:t},r)}s(Ko,"Computed");d();d();function mJe(e,t){let{[t]:r,...n}=e;return n}s(mJe,"DiscardKey");function zs(e,t){return t.reduce((r,n)=>mJe(r,n),e)}s(zs,"Discard");d();function ri(e){return ut({[ot]:"Never",not:{}},e)}s(ri,"Never");d();d();function $i(e){return ut({[ot]:"MappedResult",properties:e})}s($i,"MappedResult");d();d();function uI(e,t,r){return ut({[ot]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}s(uI,"Constructor");d();function $p(e,t,r){return ut({[ot]:"Function",type:"Function",parameters:e,returns:t},r)}s($p,"Function");d();d();d();d();function $7(e,t){return ut({[ot]:"Union",anyOf:e},t)}s($7,"UnionCreate");function hJe(e){return e.some(t=>j0(t))}s(hJe,"IsUnionOptional");function U1e(e){return e.map(t=>j0(t)?pJe(t):t)}s(U1e,"RemoveOptionalFromRest");function pJe(e){return zs(e,[rc])}s(pJe,"RemoveOptionalFromType");function gJe(e,t){return hJe(e)?kc($7(U1e(e),t)):$7(U1e(e),t)}s(gJe,"ResolveUnion");function zp(e,t){return e.length===1?ut(e[0],t):e.length===0?ri(t):gJe(e,t)}s(zp,"UnionEvaluated");d();function lo(e,t){return e.length===0?ri(t):e.length===1?ut(e[0],t):$7(e,t)}s(lo,"Union");d();d();d();var LN=class extends Cn{static{s(this,"TemplateLiteralParserError")}};function AJe(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}s(AJe,"Unescape");function aJ(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}s(aJ,"IsNonEscaped");function tA(e,t){return aJ(e,t,"(")}s(tA,"IsOpenParen");function z7(e,t){return aJ(e,t,")")}s(z7,"IsCloseParen");function q1e(e,t){return aJ(e,t,"|")}s(q1e,"IsSeparator");function yJe(e){if(!(tA(e,0)&&z7(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(tA(e,r)&&(t+=1),z7(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}s(yJe,"IsGroup");function CJe(e){return e.slice(1,e.length-1)}s(CJe,"InGroup");function xJe(e){let t=0;for(let r=0;r<e.length;r++)if(tA(e,r)&&(t+=1),z7(e,r)&&(t-=1),q1e(e,r)&&t===0)return!0;return!1}s(xJe,"IsPrecedenceOr");function vJe(e){for(let t=0;t<e.length;t++)if(tA(e,t))return!0;return!1}s(vJe,"IsPrecedenceAnd");function bJe(e){let[t,r]=[0,0],n=[];for(let o=0;o<e.length;o++)if(tA(e,o)&&(t+=1),z7(e,o)&&(t-=1),q1e(e,o)&&t===0){let a=e.slice(r,o);a.length>0&&n.push(fI(a)),r=o+1}let i=e.slice(r);return i.length>0&&n.push(fI(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}s(bJe,"Or");function EJe(e){function t(i,o){if(!tA(i,o))throw new LN("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=o;l<i.length;l++)if(tA(i,l)&&(a+=1),z7(i,l)&&(a-=1),a===0)return[o,l];throw new LN("TemplateLiteralParser: Unclosed group parens in expression")}s(t,"Group");function r(i,o){for(let a=o;a<i.length;a++)if(tA(i,a))return[o,a];return[o,i.length]}s(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(tA(e,i)){let[o,a]=t(e,i),l=e.slice(o,a+1);n.push(fI(l)),i=a}else{let[o,a]=r(e,i),l=e.slice(o,a);l.length>0&&n.push(fI(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}s(EJe,"And");function fI(e){return yJe(e)?fI(CJe(e)):xJe(e)?bJe(e):vJe(e)?EJe(e):{type:"const",const:AJe(e)}}s(fI,"TemplateLiteralParse");function dI(e){return fI(e.slice(1,e.length-1))}s(dI,"TemplateLiteralParseExact");var lJ=class extends Cn{static{s(this,"TemplateLiteralFiniteError")}};function IJe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}s(IJe,"IsNumberExpression");function TJe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}s(TJe,"IsBooleanExpression");function wJe(e){return e.type==="const"&&e.const===".*"}s(wJe,"IsStringExpression");function Mx(e){return IJe(e)||wJe(e)?!1:TJe(e)?!0:e.type==="and"?e.expr.every(t=>Mx(t)):e.type==="or"?e.expr.every(t=>Mx(t)):e.type==="const"?!0:(()=>{throw new lJ("Unknown expression type")})()}s(Mx,"IsTemplateLiteralExpressionFinite");function FN(e){let t=dI(e.pattern);return Mx(t)}s(FN,"IsTemplateLiteralFinite");d();var cJ=class extends Cn{static{s(this,"TemplateLiteralGenerateError")}};function*W1e(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of W1e(e.slice(1)))yield`${t}${r}`}s(W1e,"GenerateReduce");function*_Je(e){return yield*W1e(e.expr.map(t=>[...Y7(t)]))}s(_Je,"GenerateAnd");function*SJe(e){for(let t of e.expr)yield*Y7(t)}s(SJe,"GenerateOr");function*RJe(e){return yield e.const}s(RJe,"GenerateConst");function*Y7(e){return e.type==="and"?yield*_Je(e):e.type==="or"?yield*SJe(e):e.type==="const"?yield*RJe(e):(()=>{throw new cJ("Unknown expression")})()}s(Y7,"TemplateLiteralExpressionGenerate");function mI(e){let t=dI(e.pattern);return Mx(t)?[...Y7(t)]:[]}s(mI,"TemplateLiteralGenerate");d();d();function Di(e,t){return ut({[ot]:"Literal",const:e,type:typeof e},t)}s(Di,"Literal");d();function MN(e){return ut({[ot]:"Boolean",type:"boolean"},e)}s(MN,"Boolean");d();function hI(e){return ut({[ot]:"BigInt",type:"bigint"},e)}s(hI,"BigInt");d();function pd(e){return ut({[ot]:"Number",type:"number"},e)}s(pd,"Number");d();function u0(e){return ut({[ot]:"String",type:"string"},e)}s(u0,"String");function*kJe(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield MN():t==="number"?yield pd():t==="bigint"?yield hI():t==="string"?yield u0():yield(()=>{let r=t.split("|").map(n=>Di(n.trim()));return r.length===0?ri():r.length===1?r[0]:zp(r)})()}s(kJe,"FromUnion");function*BJe(e){if(e[1]!=="{"){let t=Di("$"),r=uJ(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=kJe(e.slice(2,t)),n=uJ(e.slice(t+1));return yield*[...r,...n]}yield Di(e)}s(BJe,"FromTerminal");function*uJ(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=Di(e.slice(0,t)),n=BJe(e.slice(t));return yield*[r,...n]}yield Di(e)}s(uJ,"FromSyntax");function G1e(e){return[...uJ(e)]}s(G1e,"TemplateLiteralSyntax");d();var fJ=class extends Cn{static{s(this,"TemplateLiteralPatternError")}};function DJe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(DJe,"Escape");function H1e(e,t){return zu(e)?e.pattern.slice(1,e.pattern.length-1):qi(e)?`(${e.anyOf.map(r=>H1e(r,t)).join("|")})`:Km(e)?`${t}${V7}`:Ym(e)?`${t}${V7}`:Px(e)?`${t}${V7}`:X1(e)?`${t}${sJ}`:Vu(e)?`${t}${DJe(e.const.toString())}`:J1(e)?`${t}${oJ}`:(()=>{throw new fJ(`Unexpected Kind '${e[ot]}'`)})()}s(H1e,"Visit");function dJ(e){return`^${e.map(t=>H1e(t,"")).join("")}$`}s(dJ,"TemplateLiteralPattern");d();function Qx(e){let r=mI(e).map(n=>Di(n));return zp(r)}s(Qx,"TemplateLiteralToUnion");d();function QN(e,t){let r=qo(e)?dJ(G1e(e)):dJ(e);return ut({[ot]:"TemplateLiteral",type:"string",pattern:r},t)}s(QN,"TemplateLiteral");function PJe(e){return mI(e).map(r=>r.toString())}s(PJe,"FromTemplateLiteral");function NJe(e){let t=[];for(let r of e)t.push(...V0(r));return t}s(NJe,"FromUnion");function LJe(e){return[e.toString()]}s(LJe,"FromLiteral");function V0(e){return[...new Set(zu(e)?PJe(e):qi(e)?NJe(e.anyOf):Vu(e)?LJe(e.const):Km(e)?["[number]"]:Ym(e)?["[number]"]:[])]}s(V0,"IndexPropertyKeys");d();function FJe(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=i5(e,V0(t[i]),r);return n}s(FJe,"FromProperties");function MJe(e,t,r){return FJe(e,t.properties,r)}s(MJe,"FromMappedResult");function j1e(e,t,r){let n=MJe(e,t,r);return $i(n)}s(j1e,"IndexFromMappedResult");function $1e(e,t){return e.map(r=>z1e(r,t))}s($1e,"FromRest");function QJe(e){return e.filter(t=>!t5(t))}s(QJe,"FromIntersectRest");function OJe(e,t){return ON(QJe($1e(e,t)))}s(OJe,"FromIntersect");function UJe(e){return e.some(t=>t5(t))?[]:e}s(UJe,"FromUnionRest");function qJe(e,t){return zp(UJe($1e(e,t)))}s(qJe,"FromUnion");function WJe(e,t){return t in e?e[t]:t==="[number]"?zp(e):ri()}s(WJe,"FromTuple");function GJe(e,t){return t==="[number]"?e:ri()}s(GJe,"FromArray");function HJe(e,t){return t in e?e[t]:ri()}s(HJe,"FromProperty");function z1e(e,t){return $s(e)?OJe(e.allOf,t):qi(e)?qJe(e.anyOf,t):Yu(e)?WJe(e.items??[],t):jm(e)?GJe(e.items,t):ba(e)?HJe(e.properties,t):ri()}s(z1e,"IndexFromPropertyKey");function K7(e,t){return t.map(r=>z1e(e,r))}s(K7,"IndexFromPropertyKeys");function V1e(e,t){return zp(K7(e,t))}s(V1e,"FromSchema");function i5(e,t,r){if(na(e)||na(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Ps(e)||!Ps(t))throw new Cn(n);return Ko("Index",[e,t])}return cs(t)?j1e(e,t,r):$u(t)?Y1e(e,t,r):ut(Ps(t)?V1e(e,V0(t)):V1e(e,t),r)}s(i5,"Index");function jJe(e,t,r){return{[t]:i5(e,[t],as(r))}}s(jJe,"MappedIndexPropertyKey");function VJe(e,t,r){return t.reduce((n,i)=>({...n,...jJe(e,i,r)}),{})}s(VJe,"MappedIndexPropertyKeys");function $Je(e,t,r){return VJe(e,t.keys,r)}s($Je,"MappedIndexProperties");function Y1e(e,t,r){let n=$Je(e,t,r);return $i(n)}s(Y1e,"IndexFromMappedKey");d();function pI(e,t){return ut({[ot]:"Iterator",type:"Iterator",items:e},t)}s(pI,"Iterator");d();function zJe(e){let t=[];for(let r in e)j0(e[r])||t.push(r);return t}s(zJe,"RequiredKeys");function YJe(e,t){let r=zJe(e),n=r.length>0?{[ot]:"Object",type:"object",properties:e,required:r}:{[ot]:"Object",type:"object",properties:e};return ut(n,t)}s(YJe,"_Object");var co=YJe;d();function UN(e,t){return ut({[ot]:"Promise",type:"Promise",item:e},t)}s(UN,"Promise");d();d();function KJe(e){return ut(zs(e,[Hm]))}s(KJe,"RemoveReadonly");function JJe(e){return ut({...e,[Hm]:"Readonly"})}s(JJe,"AddReadonly");function XJe(e,t){return t===!1?KJe(e):JJe(e)}s(XJe,"ReadonlyWithFlag");function $0(e,t){let r=t??!0;return cs(e)?K1e(e,r):XJe(e,r)}s($0,"Readonly");function ZJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=$0(e[n],t);return r}s(ZJe,"FromProperties");function eXe(e,t){return ZJe(e.properties,t)}s(eXe,"FromMappedResult");function K1e(e,t){let r=eXe(e,t);return $i(r)}s(K1e,"ReadonlyFromMappedResult");d();function gd(e,t){return ut(e.length>0?{[ot]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[ot]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}s(gd,"Tuple");function J1e(e,t){return e in t?Ad(e,t[e]):$i(t)}s(J1e,"FromMappedResult");function tXe(e){return{[e]:Di(e)}}s(tXe,"MappedKeyToKnownMappedResultProperties");function rXe(e){let t={};for(let r of e)t[r]=Di(r);return t}s(rXe,"MappedKeyToUnknownMappedResultProperties");function nXe(e,t){return L1e(t,e)?tXe(e):rXe(t)}s(nXe,"MappedKeyToMappedResultProperties");function iXe(e,t){let r=nXe(e,t);return J1e(e,r)}s(iXe,"FromMappedKey");function J7(e,t){return t.map(r=>Ad(e,r))}s(J7,"FromRest");function oXe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Ad(e,t[n]);return r}s(oXe,"FromProperties");function Ad(e,t){let r={...t};return j0(t)?kc(Ad(e,zs(t,[rc]))):oI(t)?$0(Ad(e,zs(t,[Hm]))):cs(t)?J1e(e,t.properties):$u(t)?iXe(e,t.keys):$m(t)?uI(J7(e,t.parameters),Ad(e,t.returns),r):zm(t)?$p(J7(e,t.parameters),Ad(e,t.returns),r):Dx(t)?cI(Ad(e,t.items),r):Nx(t)?pI(Ad(e,t.items),r):$s(t)?Bc(J7(e,t.allOf),r):qi(t)?lo(J7(e,t.anyOf),r):Yu(t)?gd(J7(e,t.items??[]),r):ba(t)?co(oXe(e,t.properties),r):jm(t)?lI(Ad(e,t.items),r):Lx(t)?UN(Ad(e,t.item),r):t}s(Ad,"FromSchemaType");function sXe(e,t){let r={};for(let n of e)r[n]=Ad(n,t);return r}s(sXe,"MappedFunctionReturnType");function X1e(e,t,r){let n=Ps(e)?V0(e):e,i=t({[ot]:"MappedKey",keys:n}),o=sXe(n,i);return co(o,r)}s(X1e,"Mapped");d();function aXe(e){return ut(zs(e,[rc]))}s(aXe,"RemoveOptional");function lXe(e){return ut({...e,[rc]:"Optional"})}s(lXe,"AddOptional");function cXe(e,t){return t===!1?aXe(e):lXe(e)}s(cXe,"OptionalWithFlag");function kc(e,t){let r=t??!0;return cs(e)?Z1e(e,r):cXe(e,r)}s(kc,"Optional");function uXe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=kc(e[n],t);return r}s(uXe,"FromProperties");function fXe(e,t){return uXe(e.properties,t)}s(fXe,"FromMappedResult");function Z1e(e,t){let r=fXe(e,t);return $i(r)}s(Z1e,"OptionalFromMappedResult");d();function X7(e,t={}){let r=e.every(i=>ba(i)),n=Ps(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ut(t.unevaluatedProperties===!1||Ps(t.unevaluatedProperties)||r?{...n,[ot]:"Intersect",type:"object",allOf:e}:{...n,[ot]:"Intersect",allOf:e},t)}s(X7,"IntersectCreate");function dXe(e){return e.every(t=>j0(t))}s(dXe,"IsIntersectOptional");function mXe(e){return zs(e,[rc])}s(mXe,"RemoveOptionalFromType");function eAe(e){return e.map(t=>j0(t)?mXe(t):t)}s(eAe,"RemoveOptionalFromRest");function hXe(e,t){return dXe(e)?kc(X7(eAe(e),t)):X7(eAe(e),t)}s(hXe,"ResolveIntersect");function ON(e,t={}){if(e.length===1)return ut(e[0],t);if(e.length===0)return ri(t);if(e.some(r=>ao(r)))throw new Error("Cannot intersect transform types");return hXe(e,t)}s(ON,"IntersectEvaluated");d();function Bc(e,t){if(e.length===1)return ut(e[0],t);if(e.length===0)return ri(t);if(e.some(r=>ao(r)))throw new Error("Cannot intersect transform types");return X7(e,t)}s(Bc,"Intersect");d();function yd(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new Cn("Ref: $ref must be a string");return ut({[ot]:"Ref",$ref:t},r)}s(yd,"Ref");function pXe(e,t){return Ko("Awaited",[Ko(e,t)])}s(pXe,"FromComputed");function gXe(e){return Ko("Awaited",[yd(e)])}s(gXe,"FromRef");function AXe(e){return Bc(tAe(e))}s(AXe,"FromIntersect");function yXe(e){return lo(tAe(e))}s(yXe,"FromUnion");function CXe(e){return gI(e)}s(CXe,"FromPromise");function tAe(e){return e.map(t=>gI(t))}s(tAe,"FromRest");function gI(e,t){return ut(Vm(e)?pXe(e.target,e.parameters):$s(e)?AXe(e.allOf):qi(e)?yXe(e.anyOf):Lx(e)?CXe(e.item):na(e)?gXe(e.$ref):e,t)}s(gI,"Awaited");d();d();d();d();function rAe(e){let t=[];for(let r of e)t.push(z0(r));return t}s(rAe,"FromRest");function xXe(e){let t=rAe(e);return Q1e(t)}s(xXe,"FromIntersect");function vXe(e){let t=rAe(e);return M1e(t)}s(vXe,"FromUnion");function bXe(e){return e.map((t,r)=>r.toString())}s(bXe,"FromTuple");function EXe(e){return["[number]"]}s(EXe,"FromArray");function IXe(e){return globalThis.Object.getOwnPropertyNames(e)}s(IXe,"FromProperties");function TXe(e){return mJ?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}s(TXe,"FromPatternProperties");function z0(e){return $s(e)?xXe(e.allOf):qi(e)?vXe(e.anyOf):Yu(e)?bXe(e.items??[]):jm(e)?EXe(e.items):ba(e)?IXe(e.properties):Fx(e)?TXe(e.patternProperties):[]}s(z0,"KeyOfPropertyKeys");var mJ=!1;function rA(e){mJ=!0;let t=z0(e);return mJ=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}s(rA,"KeyOfPattern");function wXe(e,t){return Ko("KeyOf",[Ko(e,t)])}s(wXe,"FromComputed");function _Xe(e){return Ko("KeyOf",[yd(e)])}s(_Xe,"FromRef");function SXe(e,t){let r=z0(e),n=RXe(r),i=zp(n);return ut(i,t)}s(SXe,"KeyOfFromType");function RXe(e){return e.map(t=>t==="[number]"?pd():Di(t))}s(RXe,"KeyOfPropertyKeysToRest");function AI(e,t){return Vm(e)?wXe(e.target,e.parameters):na(e)?_Xe(e.$ref):cs(e)?nAe(e,t):SXe(e,t)}s(AI,"KeyOf");function kXe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=AI(e[n],as(t));return r}s(kXe,"FromProperties");function BXe(e,t){return kXe(e.properties,t)}s(BXe,"FromMappedResult");function nAe(e,t){let r=BXe(e,t);return $i(r)}s(nAe,"KeyOfFromMappedResult");d();function qN(e){let t=z0(e),r=K7(e,t);return t.map((n,i)=>[t[i],r[i]])}s(qN,"KeyOfPropertyEntries");function DXe(e){let t=[];for(let r of e)t.push(...z0(r));return F1e(t)}s(DXe,"CompositeKeys");function PXe(e){return e.filter(t=>!t5(t))}s(PXe,"FilterNever");function NXe(e,t){let r=[];for(let n of e)r.push(...K7(n,[t]));return PXe(r)}s(NXe,"CompositeProperty");function LXe(e,t){let r={};for(let n of t)r[n]=ON(NXe(e,n));return r}s(LXe,"CompositeProperties");function iAe(e,t){let r=DXe(e),n=LXe(e,r);return co(n,t)}s(iAe,"Composite");d();d();function WN(e){return ut({[ot]:"Date",type:"Date"},e)}s(WN,"Date");d();function GN(e){return ut({[ot]:"Null",type:"null"},e)}s(GN,"Null");d();function HN(e){return ut({[ot]:"Symbol",type:"symbol"},e)}s(HN,"Symbol");d();function jN(e){return ut({[ot]:"Undefined",type:"undefined"},e)}s(jN,"Undefined");d();function VN(e){return ut({[ot]:"Uint8Array",type:"Uint8Array"},e)}s(VN,"Uint8Array");d();function Xm(e){return ut({[ot]:"Unknown"},e)}s(Xm,"Unknown");function FXe(e){return e.map(t=>hJ(t,!1))}s(FXe,"FromArray");function MXe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=$0(hJ(e[r],!1));return t}s(MXe,"FromProperties");function $N(e,t){return t===!0?e:$0(e)}s($N,"ConditionalReadonly");function hJ(e,t){return VK(e)?$N(n5(),t):zK(e)?$N(n5(),t):xa(e)?$0(gd(FXe(e))):z1(e)?VN():Bx(e)?WN():So(e)?$N(co(MXe(e)),t):$K(e)?$N($p([],Xm()),t):va(e)?jN():YK(e)?GN():KK(e)?HN():O7(e)?hI():Hu(e)?Di(e):$1(e)?Di(e):qo(e)?Di(e):co({})}s(hJ,"FromValue");function oAe(e,t){return ut(hJ(e,!0),t)}s(oAe,"Const");d();function sAe(e,t){return $m(e)?gd(e.parameters,t):ri(t)}s(sAe,"ConstructorParameters");d();function aAe(e,t){if(va(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(o=>isNaN(o)).map(o=>e[o]),i=[...new Set(r)].map(o=>Di(o));return lo(i,{...t,[hd]:"Enum"})}s(aAe,"Enum");d();d();d();var gJ=class extends Cn{static{s(this,"ExtendsResolverError")}},dt;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(dt||(dt={}));function Cd(e){return e===dt.False?e:dt.True}s(Cd,"IntoBooleanResult");function yI(e){throw new gJ(e)}s(yI,"Throw");function Ua(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}s(Ua,"IsStructuralRight");function qa(e,t){return Qe.IsNever(t)?hAe(e,t):Qe.IsIntersect(t)?zN(e,t):Qe.IsUnion(t)?xJ(e,t):Qe.IsUnknown(t)?yAe(e,t):Qe.IsAny(t)?CJ(e,t):yI("StructuralRight")}s(qa,"StructuralRight");function CJ(e,t){return dt.True}s(CJ,"FromAnyRight");function QXe(e,t){return Qe.IsIntersect(t)?zN(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?dt.True:Qe.IsUnion(t)?dt.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?dt.True:dt.Union}s(QXe,"FromAny");function OXe(e,t){return Qe.IsUnknown(e)?dt.False:Qe.IsAny(e)?dt.Union:Qe.IsNever(e)?dt.True:dt.False}s(OXe,"FromArrayRight");function UXe(e,t){return Qe.IsObject(t)&&YN(t)?dt.True:Ua(t)?qa(e,t):Qe.IsArray(t)?Cd(ko(e.items,t.items)):dt.False}s(UXe,"FromArray");function qXe(e,t){return Ua(t)?qa(e,t):Qe.IsAsyncIterator(t)?Cd(ko(e.items,t.items)):dt.False}s(qXe,"FromAsyncIterator");function WXe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsBigInt(t)?dt.True:dt.False}s(WXe,"FromBigInt");function dAe(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?dt.True:dt.False}s(dAe,"FromBooleanRight");function GXe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsBoolean(t)?dt.True:dt.False}s(GXe,"FromBoolean");function HXe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>Cd(ko(t.parameters[n],r))===dt.True)?Cd(ko(e.returns,t.returns)):dt.False:dt.False}s(HXe,"FromConstructor");function jXe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsDate(t)?dt.True:dt.False}s(jXe,"FromDate");function VXe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>Cd(ko(t.parameters[n],r))===dt.True)?Cd(ko(e.returns,t.returns)):dt.False:dt.False}s(VXe,"FromFunction");function mAe(e,t){return Qe.IsLiteral(e)&&Rc.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?dt.True:dt.False}s(mAe,"FromIntegerRight");function $Xe(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?dt.True:Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):dt.False}s($Xe,"FromInteger");function zN(e,t){return t.allOf.every(r=>ko(e,r)===dt.True)?dt.True:dt.False}s(zN,"FromIntersectRight");function zXe(e,t){return e.allOf.some(r=>ko(r,t)===dt.True)?dt.True:dt.False}s(zXe,"FromIntersect");function YXe(e,t){return Ua(t)?qa(e,t):Qe.IsIterator(t)?Cd(ko(e.items,t.items)):dt.False}s(YXe,"FromIterator");function KXe(e,t){return Qe.IsLiteral(t)&&t.const===e.const?dt.True:Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsString(t)?AAe(e,t):Qe.IsNumber(t)?pAe(e,t):Qe.IsInteger(t)?mAe(e,t):Qe.IsBoolean(t)?dAe(e,t):dt.False}s(KXe,"FromLiteral");function hAe(e,t){return dt.False}s(hAe,"FromNeverRight");function JXe(e,t){return dt.True}s(JXe,"FromNever");function lAe(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Xm()}s(lAe,"UnwrapTNot");function XXe(e,t){return Qe.IsNot(e)?ko(lAe(e),t):Qe.IsNot(t)?ko(e,lAe(t)):yI("Invalid fallthrough for Not")}s(XXe,"FromNot");function ZXe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsNull(t)?dt.True:dt.False}s(ZXe,"FromNull");function pAe(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?dt.True:dt.False}s(pAe,"FromNumberRight");function eZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?dt.True:dt.False}s(eZe,"FromNumber");function Y0(e,t){return Object.getOwnPropertyNames(e.properties).length===t}s(Y0,"IsObjectPropertyCount");function cAe(e){return YN(e)}s(cAe,"IsObjectStringLike");function uAe(e){return Y0(e,0)||Y0(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}s(uAe,"IsObjectSymbolLike");function pJ(e){return Y0(e,0)}s(pJ,"IsObjectNumberLike");function fAe(e){return Y0(e,0)}s(fAe,"IsObjectBooleanLike");function tZe(e){return Y0(e,0)}s(tZe,"IsObjectBigIntLike");function rZe(e){return Y0(e,0)}s(rZe,"IsObjectDateLike");function nZe(e){return YN(e)}s(nZe,"IsObjectUint8ArrayLike");function iZe(e){let t=pd();return Y0(e,0)||Y0(e,1)&&"length"in e.properties&&Cd(ko(e.properties.length,t))===dt.True}s(iZe,"IsObjectFunctionLike");function oZe(e){return Y0(e,0)}s(oZe,"IsObjectConstructorLike");function YN(e){let t=pd();return Y0(e,0)||Y0(e,1)&&"length"in e.properties&&Cd(ko(e.properties.length,t))===dt.True}s(YN,"IsObjectArrayLike");function sZe(e){let t=$p([n5()],n5());return Y0(e,0)||Y0(e,1)&&"then"in e.properties&&Cd(ko(e.properties.then,t))===dt.True}s(sZe,"IsObjectPromiseLike");function gAe(e,t){return ko(e,t)===dt.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?dt.False:dt.True}s(gAe,"Property");function Dc(e,t){return Qe.IsUnknown(e)?dt.False:Qe.IsAny(e)?dt.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&cAe(t)||Qe.IsLiteralNumber(e)&&pJ(t)||Qe.IsLiteralBoolean(e)&&fAe(t)||Qe.IsSymbol(e)&&uAe(t)||Qe.IsBigInt(e)&&tZe(t)||Qe.IsString(e)&&cAe(t)||Qe.IsSymbol(e)&&uAe(t)||Qe.IsNumber(e)&&pJ(t)||Qe.IsInteger(e)&&pJ(t)||Qe.IsBoolean(e)&&fAe(t)||Qe.IsUint8Array(e)&&nZe(t)||Qe.IsDate(e)&&rZe(t)||Qe.IsConstructor(e)&&oZe(t)||Qe.IsFunction(e)&&iZe(t)?dt.True:Qe.IsRecord(e)&&Qe.IsString(AJ(e))?t[hd]==="Record"?dt.True:dt.False:Qe.IsRecord(e)&&Qe.IsNumber(AJ(e))?Y0(t,0)?dt.True:dt.False:dt.False}s(Dc,"FromObjectRight");function aZe(e,t){return Ua(t)?qa(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return dt.False;if(Qe.IsOptional(t.properties[r]))return dt.True;if(gAe(e.properties[r],t.properties[r])===dt.False)return dt.False}return dt.True})():dt.False}s(aZe,"FromObject");function lZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)&&sZe(t)?dt.True:Qe.IsPromise(t)?Cd(ko(e.item,t.item)):dt.False}s(lZe,"FromPromise");function AJ(e){return jp in e.patternProperties?pd():Vp in e.patternProperties?u0():yI("Unknown record key pattern")}s(AJ,"RecordKey");function yJ(e){return jp in e.patternProperties?e.patternProperties[jp]:Vp in e.patternProperties?e.patternProperties[Vp]:yI("Unable to get record value schema")}s(yJ,"RecordValue");function xd(e,t){let[r,n]=[AJ(t),yJ(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&Cd(ko(e,n))===dt.True?dt.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?ko(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(gAe(n,e.properties[i])===dt.False)return dt.False;return dt.True})():dt.False}s(xd,"FromRecordRight");function cZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?ko(yJ(e),yJ(t)):dt.False}s(cZe,"FromRecord");function uZe(e,t){let r=Qe.IsRegExp(e)?u0():e,n=Qe.IsRegExp(t)?u0():t;return ko(r,n)}s(uZe,"FromRegExp");function AAe(e,t){return Qe.IsLiteral(e)&&Rc.IsString(e.const)||Qe.IsString(e)?dt.True:dt.False}s(AAe,"FromStringRight");function fZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsString(t)?dt.True:dt.False}s(fZe,"FromString");function dZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsSymbol(t)?dt.True:dt.False}s(dZe,"FromSymbol");function mZe(e,t){return Qe.IsTemplateLiteral(e)?ko(Qx(e),t):Qe.IsTemplateLiteral(t)?ko(e,Qx(t)):yI("Invalid fallthrough for TemplateLiteral")}s(mZe,"FromTemplateLiteral");function hZe(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>ko(r,t.items)===dt.True)}s(hZe,"IsArrayOfTuple");function pZe(e,t){return Qe.IsNever(e)?dt.True:Qe.IsUnknown(e)?dt.False:Qe.IsAny(e)?dt.Union:dt.False}s(pZe,"FromTupleRight");function gZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)&&YN(t)||Qe.IsArray(t)&&hZe(e,t)?dt.True:Qe.IsTuple(t)?Rc.IsUndefined(e.items)&&!Rc.IsUndefined(t.items)||!Rc.IsUndefined(e.items)&&Rc.IsUndefined(t.items)?dt.False:Rc.IsUndefined(e.items)&&!Rc.IsUndefined(t.items)||e.items.every((r,n)=>ko(r,t.items[n])===dt.True)?dt.True:dt.False:dt.False}s(gZe,"FromTuple");function AZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsUint8Array(t)?dt.True:dt.False}s(AZe,"FromUint8Array");function yZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsRecord(t)?xd(e,t):Qe.IsVoid(t)?vZe(e,t):Qe.IsUndefined(t)?dt.True:dt.False}s(yZe,"FromUndefined");function xJ(e,t){return t.anyOf.some(r=>ko(e,r)===dt.True)?dt.True:dt.False}s(xJ,"FromUnionRight");function CZe(e,t){return e.anyOf.every(r=>ko(r,t)===dt.True)?dt.True:dt.False}s(CZe,"FromUnion");function yAe(e,t){return dt.True}s(yAe,"FromUnknownRight");function xZe(e,t){return Qe.IsNever(t)?hAe(e,t):Qe.IsIntersect(t)?zN(e,t):Qe.IsUnion(t)?xJ(e,t):Qe.IsAny(t)?CJ(e,t):Qe.IsString(t)?AAe(e,t):Qe.IsNumber(t)?pAe(e,t):Qe.IsInteger(t)?mAe(e,t):Qe.IsBoolean(t)?dAe(e,t):Qe.IsArray(t)?OXe(e,t):Qe.IsTuple(t)?pZe(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsUnknown(t)?dt.True:dt.False}s(xZe,"FromUnknown");function vZe(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?dt.True:dt.False}s(vZe,"FromVoidRight");function bZe(e,t){return Qe.IsIntersect(t)?zN(e,t):Qe.IsUnion(t)?xJ(e,t):Qe.IsUnknown(t)?yAe(e,t):Qe.IsAny(t)?CJ(e,t):Qe.IsObject(t)?Dc(e,t):Qe.IsVoid(t)?dt.True:dt.False}s(bZe,"FromVoid");function ko(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?mZe(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?uZe(e,t):Qe.IsNot(e)||Qe.IsNot(t)?XXe(e,t):Qe.IsAny(e)?QXe(e,t):Qe.IsArray(e)?UXe(e,t):Qe.IsBigInt(e)?WXe(e,t):Qe.IsBoolean(e)?GXe(e,t):Qe.IsAsyncIterator(e)?qXe(e,t):Qe.IsConstructor(e)?HXe(e,t):Qe.IsDate(e)?jXe(e,t):Qe.IsFunction(e)?VXe(e,t):Qe.IsInteger(e)?$Xe(e,t):Qe.IsIntersect(e)?zXe(e,t):Qe.IsIterator(e)?YXe(e,t):Qe.IsLiteral(e)?KXe(e,t):Qe.IsNever(e)?JXe(e,t):Qe.IsNull(e)?ZXe(e,t):Qe.IsNumber(e)?eZe(e,t):Qe.IsObject(e)?aZe(e,t):Qe.IsRecord(e)?cZe(e,t):Qe.IsString(e)?fZe(e,t):Qe.IsSymbol(e)?dZe(e,t):Qe.IsTuple(e)?gZe(e,t):Qe.IsPromise(e)?lZe(e,t):Qe.IsUint8Array(e)?AZe(e,t):Qe.IsUndefined(e)?yZe(e,t):Qe.IsUnion(e)?CZe(e,t):Qe.IsUnknown(e)?xZe(e,t):Qe.IsVoid(e)?bZe(e,t):yI(`Unknown left type operand '${e[ot]}'`)}s(ko,"Visit");function o5(e,t){return ko(e,t)}s(o5,"ExtendsCheck");d();d();d();function EZe(e,t,r,n,i){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=CI(e[a],t,r,n,as(i));return o}s(EZe,"FromProperties");function IZe(e,t,r,n,i){return EZe(e.properties,t,r,n,i)}s(IZe,"FromMappedResult");function CAe(e,t,r,n,i){let o=IZe(e,t,r,n,i);return $i(o)}s(CAe,"ExtendsFromMappedResult");function TZe(e,t,r,n){let i=o5(e,t);return i===dt.Union?lo([r,n]):i===dt.True?r:n}s(TZe,"ExtendsResolve");function CI(e,t,r,n,i){return cs(e)?CAe(e,t,r,n,i):$u(e)?ut(xAe(e,t,r,n,i)):ut(TZe(e,t,r,n),i)}s(CI,"Extends");function wZe(e,t,r,n,i){return{[e]:CI(Di(e),t,r,n,as(i))}}s(wZe,"FromPropertyKey");function _Ze(e,t,r,n,i){return e.reduce((o,a)=>({...o,...wZe(a,t,r,n,i)}),{})}s(_Ze,"FromPropertyKeys");function SZe(e,t,r,n,i){return _Ze(e.keys,t,r,n,i)}s(SZe,"FromMappedKey");function xAe(e,t,r,n,i){let o=SZe(e,t,r,n,i);return $i(o)}s(xAe,"ExtendsFromMappedKey");d();function RZe(e){return e.allOf.every(t=>nA(t))}s(RZe,"Intersect");function kZe(e){return e.anyOf.some(t=>nA(t))}s(kZe,"Union");function BZe(e){return!nA(e.not)}s(BZe,"Not");function nA(e){return e[ot]==="Intersect"?RZe(e):e[ot]==="Union"?kZe(e):e[ot]==="Not"?BZe(e):e[ot]==="Undefined"}s(nA,"ExtendsUndefinedCheck");d();function vAe(e,t){return xI(Qx(e),t)}s(vAe,"ExcludeFromTemplateLiteral");function DZe(e,t){let r=e.filter(n=>o5(n,t)===dt.False);return r.length===1?r[0]:lo(r)}s(DZe,"ExcludeRest");function xI(e,t,r={}){return zu(e)?ut(vAe(e,t),r):cs(e)?ut(bAe(e,t),r):ut(qi(e)?DZe(e.anyOf,t):o5(e,t)!==dt.False?ri():e,r)}s(xI,"Exclude");function PZe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=xI(e[n],t);return r}s(PZe,"FromProperties");function NZe(e,t){return PZe(e.properties,t)}s(NZe,"FromMappedResult");function bAe(e,t){let r=NZe(e,t);return $i(r)}s(bAe,"ExcludeFromMappedResult");d();d();d();function EAe(e,t){return vI(Qx(e),t)}s(EAe,"ExtractFromTemplateLiteral");function LZe(e,t){let r=e.filter(n=>o5(n,t)!==dt.False);return r.length===1?r[0]:lo(r)}s(LZe,"ExtractRest");function vI(e,t,r){return zu(e)?ut(EAe(e,t),r):cs(e)?ut(IAe(e,t),r):ut(qi(e)?LZe(e.anyOf,t):o5(e,t)!==dt.False?e:ri(),r)}s(vI,"Extract");function FZe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=vI(e[n],t);return r}s(FZe,"FromProperties");function MZe(e,t){return FZe(e.properties,t)}s(MZe,"FromMappedResult");function IAe(e,t){let r=MZe(e,t);return $i(r)}s(IAe,"ExtractFromMappedResult");d();function TAe(e,t){return $m(e)?ut(e.returns,t):ri(t)}s(TAe,"InstanceType");d();d();function KN(e){return $0(kc(e))}s(KN,"ReadonlyOptional");d();function Ox(e,t,r){return ut({[ot]:"Record",type:"object",patternProperties:{[e]:t}},r)}s(Ox,"RecordCreateFromPattern");function vJ(e,t,r){let n={};for(let i of e)n[i]=t;return co(n,{...r,[hd]:"Record"})}s(vJ,"RecordCreateFromKeys");function QZe(e,t,r){return FN(e)?vJ(V0(e),t,r):Ox(e.pattern,t,r)}s(QZe,"FromTemplateLiteralKey");function OZe(e,t,r){return vJ(V0(lo(e)),t,r)}s(OZe,"FromUnionKey");function UZe(e,t,r){return vJ([e.toString()],t,r)}s(UZe,"FromLiteralKey");function qZe(e,t,r){return Ox(e.source,t,r)}s(qZe,"FromRegExpKey");function WZe(e,t,r){let n=va(e.pattern)?Vp:e.pattern;return Ox(n,t,r)}s(WZe,"FromStringKey");function GZe(e,t,r){return Ox(Vp,t,r)}s(GZe,"FromAnyKey");function HZe(e,t,r){return Ox(N1e,t,r)}s(HZe,"FromNeverKey");function jZe(e,t,r){return co({true:t,false:t},r)}s(jZe,"FromBooleanKey");function VZe(e,t,r){return Ox(jp,t,r)}s(VZe,"FromIntegerKey");function $Ze(e,t,r){return Ox(jp,t,r)}s($Ze,"FromNumberKey");function JN(e,t,r={}){return qi(e)?OZe(e.anyOf,t,r):zu(e)?QZe(e,t,r):Vu(e)?UZe(e.const,t,r):J1(e)?jZe(e,t,r):Ym(e)?VZe(e,t,r):Km(e)?$Ze(e,t,r):eJ(e)?qZe(e,t,r):X1(e)?WZe(e,t,r):XK(e)?GZe(e,t,r):t5(e)?HZe(e,t,r):ri(r)}s(JN,"Record");function XN(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}s(XN,"RecordPattern");function wAe(e){let t=XN(e);return t===Vp?u0():t===jp?pd():u0({pattern:t})}s(wAe,"RecordKey");function ZN(e){return e.patternProperties[XN(e)]}s(ZN,"RecordValue");function zZe(e,t){return t.parameters=Z7(e,t.parameters),t.returns=Zm(e,t.returns),t}s(zZe,"FromConstructor");function YZe(e,t){return t.parameters=Z7(e,t.parameters),t.returns=Zm(e,t.returns),t}s(YZe,"FromFunction");function KZe(e,t){return t.allOf=Z7(e,t.allOf),t}s(KZe,"FromIntersect");function JZe(e,t){return t.anyOf=Z7(e,t.anyOf),t}s(JZe,"FromUnion");function XZe(e,t){return va(t.items)||(t.items=Z7(e,t.items)),t}s(XZe,"FromTuple");function ZZe(e,t){return t.items=Zm(e,t.items),t}s(ZZe,"FromArray");function eet(e,t){return t.items=Zm(e,t.items),t}s(eet,"FromAsyncIterator");function tet(e,t){return t.items=Zm(e,t.items),t}s(tet,"FromIterator");function ret(e,t){return t.item=Zm(e,t.item),t}s(ret,"FromPromise");function net(e,t){let r=aet(e,t.properties);return{...t,...co(r)}}s(net,"FromObject");function iet(e,t){let r=Zm(e,wAe(t)),n=Zm(e,ZN(t)),i=JN(r,n);return{...t,...i}}s(iet,"FromRecord");function oet(e,t){return t.index in e?e[t.index]:Xm()}s(oet,"FromArgument");function set(e,t){let r=oI(t),n=j0(t),i=Zm(e,t);return r&&n?KN(i):r&&!n?$0(i):!r&&n?kc(i):i}s(set,"FromProperty");function aet(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:set(e,t[n])}),{})}s(aet,"FromProperties");function Z7(e,t){return t.map(r=>Zm(e,r))}s(Z7,"FromTypes");function Zm(e,t){return $m(t)?zZe(e,t):zm(t)?YZe(e,t):$s(t)?KZe(e,t):qi(t)?JZe(e,t):Yu(t)?XZe(e,t):jm(t)?ZZe(e,t):Dx(t)?eet(e,t):Nx(t)?tet(e,t):Lx(t)?ret(e,t):ba(t)?net(e,t):Fx(t)?iet(e,t):ZK(t)?oet(e,t):t}s(Zm,"FromType");function _Ae(e,t){return Zm(t,nI(e))}s(_Ae,"Instantiate");d();function SAe(e){return ut({[ot]:"Integer",type:"integer"},e)}s(SAe,"Integer");d();d();d();function cet(e,t,r){return{[e]:eh(Di(e),t,as(r))}}s(cet,"MappedIntrinsicPropertyKey");function uet(e,t,r){return e.reduce((i,o)=>({...i,...cet(o,t,r)}),{})}s(uet,"MappedIntrinsicPropertyKeys");function fet(e,t,r){return uet(e.keys,t,r)}s(fet,"MappedIntrinsicProperties");function RAe(e,t,r){let n=fet(e,t,r);return $i(n)}s(RAe,"IntrinsicFromMappedKey");function det(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}s(det,"ApplyUncapitalize");function met(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}s(met,"ApplyCapitalize");function het(e){return e.toUpperCase()}s(het,"ApplyUppercase");function pet(e){return e.toLowerCase()}s(pet,"ApplyLowercase");function get(e,t,r){let n=dI(e.pattern);if(!Mx(n))return{...e,pattern:kAe(e.pattern,t)};let a=[...Y7(n)].map(u=>Di(u)),l=BAe(a,t),c=lo(l);return QN([c],r)}s(get,"FromTemplateLiteral");function kAe(e,t){return typeof e=="string"?t==="Uncapitalize"?det(e):t==="Capitalize"?met(e):t==="Uppercase"?het(e):t==="Lowercase"?pet(e):e:e.toString()}s(kAe,"FromLiteralValue");function BAe(e,t){return e.map(r=>eh(r,t))}s(BAe,"FromRest");function eh(e,t,r={}){return $u(e)?RAe(e,t,r):zu(e)?get(e,t,r):qi(e)?lo(BAe(e.anyOf,t),r):Vu(e)?Di(kAe(e.const,t),r):ut(e,r)}s(eh,"Intrinsic");function DAe(e,t={}){return eh(e,"Capitalize",t)}s(DAe,"Capitalize");d();function PAe(e,t={}){return eh(e,"Lowercase",t)}s(PAe,"Lowercase");d();function NAe(e,t={}){return eh(e,"Uncapitalize",t)}s(NAe,"Uncapitalize");d();function LAe(e,t={}){return eh(e,"Uppercase",t)}s(LAe,"Uppercase");d();d();d();d();d();function Aet(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=s5(e[i],t,as(r));return n}s(Aet,"FromProperties");function yet(e,t,r){return Aet(e.properties,t,r)}s(yet,"FromMappedResult");function FAe(e,t,r){let n=yet(e,t,r);return $i(n)}s(FAe,"OmitFromMappedResult");function Cet(e,t){return e.map(r=>bJ(r,t))}s(Cet,"FromIntersect");function xet(e,t){return e.map(r=>bJ(r,t))}s(xet,"FromUnion");function vet(e,t){let{[t]:r,...n}=e;return n}s(vet,"FromProperty");function bet(e,t){return t.reduce((r,n)=>vet(r,n),e)}s(bet,"FromProperties");function Eet(e,t){let r=zs(e,[Ds,"$id","required","properties"]),n=bet(e.properties,t);return co(n,r)}s(Eet,"FromObject");function Iet(e){let t=e.reduce((r,n)=>PN(n)?[...r,Di(n)]:r,[]);return lo(t)}s(Iet,"UnionFromPropertyKeys");function bJ(e,t){return $s(e)?Bc(Cet(e.allOf,t)):qi(e)?lo(xet(e.anyOf,t)):ba(e)?Eet(e,t):co({})}s(bJ,"OmitResolve");function s5(e,t,r){let n=xa(t)?Iet(t):t,i=Ps(t)?V0(t):t,o=na(e),a=na(t);return cs(e)?FAe(e,i,r):$u(t)?MAe(e,t,r):o&&a?Ko("Omit",[e,n],r):!o&&a?Ko("Omit",[e,n],r):o&&!a?Ko("Omit",[e,n],r):ut({...bJ(e,i),...r})}s(s5,"Omit");function Tet(e,t,r){return{[t]:s5(e,[t],as(r))}}s(Tet,"FromPropertyKey");function wet(e,t,r){return t.reduce((n,i)=>({...n,...Tet(e,i,r)}),{})}s(wet,"FromPropertyKeys");function _et(e,t,r){return wet(e,t.keys,r)}s(_et,"FromMappedKey");function MAe(e,t,r){let n=_et(e,t,r);return $i(n)}s(MAe,"OmitFromMappedKey");d();d();d();function Ret(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=a5(e[i],t,as(r));return n}s(Ret,"FromProperties");function ket(e,t,r){return Ret(e.properties,t,r)}s(ket,"FromMappedResult");function QAe(e,t,r){let n=ket(e,t,r);return $i(n)}s(QAe,"PickFromMappedResult");function Bet(e,t){return e.map(r=>EJ(r,t))}s(Bet,"FromIntersect");function Det(e,t){return e.map(r=>EJ(r,t))}s(Det,"FromUnion");function Pet(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}s(Pet,"FromProperties");function Net(e,t){let r=zs(e,[Ds,"$id","required","properties"]),n=Pet(e.properties,t);return co(n,r)}s(Net,"FromObject");function Let(e){let t=e.reduce((r,n)=>PN(n)?[...r,Di(n)]:r,[]);return lo(t)}s(Let,"UnionFromPropertyKeys");function EJ(e,t){return $s(e)?Bc(Bet(e.allOf,t)):qi(e)?lo(Det(e.anyOf,t)):ba(e)?Net(e,t):co({})}s(EJ,"PickResolve");function a5(e,t,r){let n=xa(t)?Let(t):t,i=Ps(t)?V0(t):t,o=na(e),a=na(t);return cs(e)?QAe(e,i,r):$u(t)?OAe(e,t,r):o&&a?Ko("Pick",[e,n],r):!o&&a?Ko("Pick",[e,n],r):o&&!a?Ko("Pick",[e,n],r):ut({...EJ(e,i),...r})}s(a5,"Pick");function Fet(e,t,r){return{[t]:a5(e,[t],as(r))}}s(Fet,"FromPropertyKey");function Met(e,t,r){return t.reduce((n,i)=>({...n,...Fet(e,i,r)}),{})}s(Met,"FromPropertyKeys");function Qet(e,t,r){return Met(e,t.keys,r)}s(Qet,"FromMappedKey");function OAe(e,t,r){let n=Qet(e,t,r);return $i(n)}s(OAe,"PickFromMappedKey");d();d();function Oet(e,t){return Ko("Partial",[Ko(e,t)])}s(Oet,"FromComputed");function Uet(e){return Ko("Partial",[yd(e)])}s(Uet,"FromRef");function qet(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=kc(e[r]);return t}s(qet,"FromProperties");function Wet(e){let t=zs(e,[Ds,"$id","required","properties"]),r=qet(e.properties);return co(r,t)}s(Wet,"FromObject");function UAe(e){return e.map(t=>qAe(t))}s(UAe,"FromRest");function qAe(e){return Vm(e)?Oet(e.target,e.parameters):na(e)?Uet(e.$ref):$s(e)?Bc(UAe(e.allOf)):qi(e)?lo(UAe(e.anyOf)):ba(e)?Wet(e):Px(e)||J1(e)||Ym(e)||Vu(e)||W7(e)||Km(e)||X1(e)||G7(e)||Z1(e)?e:co({})}s(qAe,"PartialResolve");function bI(e,t){return cs(e)?WAe(e,t):ut({...qAe(e),...t})}s(bI,"Partial");function Get(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=bI(e[n],as(t));return r}s(Get,"FromProperties");function Het(e,t){return Get(e.properties,t)}s(Het,"FromMappedResult");function WAe(e,t){let r=Het(e,t);return $i(r)}s(WAe,"PartialFromMappedResult");d();d();function jet(e,t){return Ko("Required",[Ko(e,t)])}s(jet,"FromComputed");function Vet(e){return Ko("Required",[yd(e)])}s(Vet,"FromRef");function $et(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=zs(e[r],[rc]);return t}s($et,"FromProperties");function zet(e){let t=zs(e,[Ds,"$id","required","properties"]),r=$et(e.properties);return co(r,t)}s(zet,"FromObject");function GAe(e){return e.map(t=>HAe(t))}s(GAe,"FromRest");function HAe(e){return Vm(e)?jet(e.target,e.parameters):na(e)?Vet(e.$ref):$s(e)?Bc(GAe(e.allOf)):qi(e)?lo(GAe(e.anyOf)):ba(e)?zet(e):Px(e)||J1(e)||Ym(e)||Vu(e)||W7(e)||Km(e)||X1(e)||G7(e)||Z1(e)?e:co({})}s(HAe,"RequiredResolve");function EI(e,t){return cs(e)?jAe(e,t):ut({...HAe(e),...t})}s(EI,"Required");function Yet(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=EI(e[n],t);return r}s(Yet,"FromProperties");function Ket(e,t){return Yet(e.properties,t)}s(Ket,"FromMappedResult");function jAe(e,t){let r=Ket(e,t);return $i(r)}s(jAe,"RequiredFromMappedResult");function Jet(e,t){return t.map(r=>na(r)?IJ(e,r.$ref):Ku(e,r))}s(Jet,"DereferenceParameters");function IJ(e,t){return t in e?na(e[t])?IJ(e,e[t].$ref):Ku(e,e[t]):ri()}s(IJ,"Dereference");function Xet(e){return gI(e[0])}s(Xet,"FromAwaited");function Zet(e){return i5(e[0],e[1])}s(Zet,"FromIndex");function ett(e){return AI(e[0])}s(ett,"FromKeyOf");function ttt(e){return bI(e[0])}s(ttt,"FromPartial");function rtt(e){return s5(e[0],e[1])}s(rtt,"FromOmit");function ntt(e){return a5(e[0],e[1])}s(ntt,"FromPick");function itt(e){return EI(e[0])}s(itt,"FromRequired");function ott(e,t,r){let n=Jet(e,r);return t==="Awaited"?Xet(n):t==="Index"?Zet(n):t==="KeyOf"?ett(n):t==="Partial"?ttt(n):t==="Omit"?rtt(n):t==="Pick"?ntt(n):t==="Required"?itt(n):ri()}s(ott,"FromComputed");function stt(e,t){return lI(Ku(e,t))}s(stt,"FromArray");function att(e,t){return cI(Ku(e,t))}s(att,"FromAsyncIterator");function ltt(e,t,r){return uI(e_(e,t),Ku(e,r))}s(ltt,"FromConstructor");function ctt(e,t,r){return $p(e_(e,t),Ku(e,r))}s(ctt,"FromFunction");function utt(e,t){return Bc(e_(e,t))}s(utt,"FromIntersect");function ftt(e,t){return pI(Ku(e,t))}s(ftt,"FromIterator");function dtt(e,t){return co(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Ku(e,t[n])}),{}))}s(dtt,"FromObject");function mtt(e,t){let[r,n]=[Ku(e,ZN(t)),XN(t)],i=nI(t);return i.patternProperties[n]=r,i}s(mtt,"FromRecord");function htt(e,t){return na(t)?{...IJ(e,t.$ref),[Ds]:t[Ds]}:t}s(htt,"FromTransform");function ptt(e,t){return gd(e_(e,t))}s(ptt,"FromTuple");function gtt(e,t){return lo(e_(e,t))}s(gtt,"FromUnion");function e_(e,t){return t.map(r=>Ku(e,r))}s(e_,"FromTypes");function Ku(e,t){return j0(t)?ut(Ku(e,zs(t,[rc])),t):oI(t)?ut(Ku(e,zs(t,[Hm])),t):ao(t)?ut(htt(e,t),t):jm(t)?ut(stt(e,t.items),t):Dx(t)?ut(att(e,t.items),t):Vm(t)?ut(ott(e,t.target,t.parameters)):$m(t)?ut(ltt(e,t.parameters,t.returns),t):zm(t)?ut(ctt(e,t.parameters,t.returns),t):$s(t)?ut(utt(e,t.allOf),t):Nx(t)?ut(ftt(e,t.items),t):ba(t)?ut(dtt(e,t.properties),t):Fx(t)?ut(mtt(e,t)):Yu(t)?ut(ptt(e,t.items||[]),t):qi(t)?ut(gtt(e,t.anyOf),t):t}s(Ku,"FromType");function Att(e,t){return t in e?Ku(e,e[t]):ri()}s(Att,"ComputeType");function VAe(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:Att(e,r)}),{})}s(VAe,"ComputeModuleProperties");var TJ=class{static{s(this,"TModule")}constructor(t){let r=VAe(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ut(this.$defs[t],r)};return ut({[ot]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function $Ae(e){return new TJ(e)}s($Ae,"Module");d();function zAe(e,t){return ut({[ot]:"Not",not:e},t)}s(zAe,"Not");d();function YAe(e,t){return zm(e)?gd(e.parameters,t):ri()}s(YAe,"Parameters");d();var ytt=0;function KAe(e,t={}){va(t.$id)&&(t.$id=`T${ytt++}`);let r=nI(e({[ot]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ut({[hd]:"Recursive",...r},t)}s(KAe,"Recursive");d();function JAe(e,t){let r=qo(e)?new globalThis.RegExp(e):e;return ut({[ot]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}s(JAe,"RegExp");d();function Ctt(e){return $s(e)?e.allOf:qi(e)?e.anyOf:Yu(e)?e.items??[]:[]}s(Ctt,"RestResolve");function XAe(e){return Ctt(e)}s(XAe,"Rest");d();function ZAe(e,t){return zm(e)?ut(e.returns,t):ri(t)}s(ZAe,"ReturnType");d();var wJ=class{static{s(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new _J(this.schema,t)}},_J=class{static{s(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let o={Encode:s(a=>r[Ds].Encode(t(a)),"Encode"),Decode:s(a=>this.decode(r[Ds].Decode(a)),"Decode")};return{...r,[Ds]:o}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[Ds]:n}}Encode(t){return ao(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function e2e(e){return new wJ(e)}s(e2e,"Transform");d();function t2e(e={}){return ut({[ot]:e[ot]??"Unsafe"},e)}s(t2e,"Unsafe");d();function r2e(e){return ut({[ot]:"Void",type:"void"},e)}s(r2e,"Void");d();var SJ={};H1(SJ,{Any:()=>n5,Argument:()=>O1e,Array:()=>lI,AsyncIterator:()=>cI,Awaited:()=>gI,BigInt:()=>hI,Boolean:()=>MN,Capitalize:()=>DAe,Composite:()=>iAe,Const:()=>oAe,Constructor:()=>uI,ConstructorParameters:()=>sAe,Date:()=>WN,Enum:()=>aAe,Exclude:()=>xI,Extends:()=>CI,Extract:()=>vI,Function:()=>$p,Index:()=>i5,InstanceType:()=>TAe,Instantiate:()=>_Ae,Integer:()=>SAe,Intersect:()=>Bc,Iterator:()=>pI,KeyOf:()=>AI,Literal:()=>Di,Lowercase:()=>PAe,Mapped:()=>X1e,Module:()=>$Ae,Never:()=>ri,Not:()=>zAe,Null:()=>GN,Number:()=>pd,Object:()=>co,Omit:()=>s5,Optional:()=>kc,Parameters:()=>YAe,Partial:()=>bI,Pick:()=>a5,Promise:()=>UN,Readonly:()=>$0,ReadonlyOptional:()=>KN,Record:()=>JN,Recursive:()=>KAe,Ref:()=>yd,RegExp:()=>JAe,Required:()=>EI,Rest:()=>XAe,ReturnType:()=>ZAe,String:()=>u0,Symbol:()=>HN,TemplateLiteral:()=>QN,Transform:()=>e2e,Tuple:()=>gd,Uint8Array:()=>VN,Uncapitalize:()=>NAe,Undefined:()=>jN,Union:()=>lo,Unknown:()=>Xm,Unsafe:()=>t2e,Uppercase:()=>LAe,Void:()=>r2e});d();var I=SJ;var DCe=Ze(ni()),PCe=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),rZ;(r=>(r.method="github/didChangeAuth",r.type=new DCe.ProtocolNotificationType(r.method)))(rZ||={});d();var NCe=Ze(ni()),nZ;(r=>(r.method="copilot/ipCodeCitation",r.type=new NCe.NotificationType(r.method)))(nZ||={});d();var LCe=Ze(ni()),UL;(r=>(r.method="context/update",r.type=new LCe.ProtocolRequestType(r.method)))(UL||={});d();d();var A5="Cancelled";d();var Fn=Ze(ni()),u_=I.String(),eu=I.Object({uri:u_}),jx=I.Intersect([eu,I.Object({version:I.Optional(I.Integer())})]),Vcr=I.Required(jx),_l=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),Ea=I.Object({start:_l,end:_l}),iZ=I.Union([I.Integer(),I.String()]),$cr=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var FCe=Ze(ni()),oZ;(r=>(r.method="textDocument/didFocus",r.type=new FCe.ProtocolNotificationType(r.method)))(oZ||={});d();var Ert=I.Object({didChangeFeatureFlags:I.Boolean(),fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),Irt=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),MCe=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),QCe=I.Object({editorInfo:I.Optional(MCe),editorPluginInfo:I.Optional(MCe),relatedPluginInfo:I.Optional(I.Array(Irt)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(Ert)),githubAppId:I.Optional(I.String())});d();var f_=Ze(ni());var qL=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(qL||{}),Trt=I.Enum(qL),wrt=I.Object({triggerKind:Trt,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:Ea,tooltipSignature:I.Optional(I.String())}))}),OCe=I.Object({textDocument:jx,position:_l,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:wrt,data:I.Optional(I.Unknown())}),sZ;(r=>(r.method="textDocument/inlineCompletion",r.type=new f_.ProtocolRequestType(r.method)))(sZ||={});var UCe=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),qCe=I.Object({item:UCe}),aZ;(r=>(r.method="textDocument/didShowCompletion",r.type=new f_.ProtocolNotificationType(r.method)))(aZ||={});var WCe=I.Object({item:UCe,acceptedLength:I.Integer({minimum:1})}),lZ;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new f_.ProtocolNotificationType(r.method)))(lZ||={});d();var GCe=Ze(ni()),cZ;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new GCe.ProtocolRequestType(r.method)))(cZ||={});d();var HCe=Ze(ni()),jCe=I.Object({textDocument:jx,position:_l}),_rt=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),VCe=I.Object({item:_rt}),uZ;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new HCe.ProtocolNotificationType(r.method)))(uZ||={});d();var WL=Ze(ni());var $Ce=I.Object({textDocument:jx,position:_l,partialResultToken:I.Optional(iZ),workDoneToken:I.Optional(iZ)}),GL;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new WL.ProtocolRequestType(n.method),n.partialResult=new WL.ProgressType))(GL||={});d();var zCe=Ze(ni()),fZ;(r=>(r.method="copilot/related",r.type=new zCe.ProtocolRequestType(r.method)))(fZ||={});d();var YCe=Ze(ni()),dZ;(r=>(r.method="statusNotification",r.type=new YCe.ProtocolNotificationType(r.method)))(dZ||={});var KCe=Ze(require("events"));var HL="CopilotToken",Xp=class{static{s(this,"CopilotTokenNotifier")}#e=new KCe.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(HL,t)}onToken(t){return this.#e.on(HL,t),Fn.Disposable.create(()=>this.#e.off(HL,t))}};function Ks(e,t){let r=Zu(e,t,`event.${HL}`);return e.get(Xp).onToken(r)}s(Ks,"onCopilotToken");function d_(e,t){return e.get(Xp).emitToken(t)}s(d_,"emitCopilotToken");var ic=class{static{s(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Ks(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",o=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");o!==void 0&&(this.trackingId=o,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var jL=Ze(Xy()),VL=Ze(require("os"));var Srt=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Rrt(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(Srt),o={filename:"",function:""};i&&(o.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??o.function,o.filename=(i[4]?.trim()??o.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(o.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(o.colno=i[6].slice(1)),o.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(o.filename)),t.stacktrace.push(o)}}return t}s(Rrt,"buildExceptionDetail");function mZ(e,t){let r=e.get(pn),n=r.getEditorInfo(),i=e.get(ic),o={"#editor":n.devName??n.name,"#editor_version":Zp({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":Zp(r.getEditorPluginInfo()),"#session_id":e.get(Bs).sessionId,"#machine_id":e.get(Bs).machineId,"#architecture":VL.arch(),"#os_platform":VL.platform(),...t};return i.trackingId&&(o.user=i.trackingId,o["#tracking_id"]=i.trackingId),o}s(mZ,"buildContext");function JCe(e,t){let r=e.get(Ao),n=e.get(pn).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",o={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:mZ(e,{"#node_version":i}),sensitive_context:{}},a=[];o.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let f=Rrt(c);o.exception_detail.unshift(f),a.unshift([c,f]),l+=1,c=c.cause}let u=[];for(let[f,m]of a)if(m.stacktrace&&m.stacktrace.length>0){u.push(`${m.type}: ${f.code??""}`);let h=[...m.stacktrace].reverse();for(let p of h)if(p.filename?.startsWith("/github-copilot/"))return o;for(let p of h)if(p.in_app){u.push(`${p.filename?.replace(/^\.\//,"")}:${p.lineno}:${p.colno}`);break}u.push(`${h[0].filename?.replace(/^\.\//,"")}`)}else return o;return o.exception_detail.length>0&&(o.rollup_id=(0,jL.SHA256)(jL.enc.Utf16.parse(u.join(`
`))).toString()),o}s(JCe,"buildPayload");d();var m_=class{static{s(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var eg=class{constructor(t=5){this.perTenMinutes=t;this.cache=new Sn}static{s(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var Ed=class e{constructor(t){this.flags=t}static{s(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:e3e(r,n),verboseLogging:Brt(r,n),testMode:t,simulation:krt(n)})}};function nh(e){return e.get(Ed).flags.testMode}s(nh,"isRunningInTest");function GI(e){return nh(e)}s(GI,"shouldFailForDebugPurposes");function h_(e){return e.get(Ed).flags.debug}s(h_,"isDebugEnabled");function ZCe(e){return e.get(Ed).flags.verboseLogging}s(ZCe,"isVerboseLoggingEnabled");function e3e(e,t){return e.includes("--debug")||hZ(t,"DEBUG")}s(e3e,"determineDebugFlag");function krt(e){return hZ(e,"SIMULATION")}s(krt,"determineSimulationFlag");function zL(e){return e.get(Ed).flags.simulation}s(zL,"isRunningInSimulation");function Brt(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||hZ(t,"VERBOSE")||e3e(e,t)}s(Brt,"determineVerboseLoggingEnabled");function hZ(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}s(hZ,"determineEnvFlagEnabled");d();var Bo=class{constructor(){this.promises=new Set}static{s(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};d();var n3e=require("os"),i3e=Ze(require("path"));function p_(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(p_,"redactPaths");var Drt=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Prt=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function gZ(e){if(Drt.has(e))return e;for(let t of Prt)if(t.test(e))return e;return p_(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(gZ,"redactMessage");function YL(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(YL,"escapeForRegExp");var Nrt=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+YL((0,n3e.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function pZ(e){return e.replace(Nrt,"~")}s(pZ,"redactHomeDir");var o3e="[\\\\/]?([^:)]*)(?=:\\d)",t3e=new RegExp(YL(i3e.sep),"g"),r3e=new RegExp(YL(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+o3e,"gi");function AZ(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let o=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(o?.startsWith(l+`
`)){a=o.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(r3e.test(l))i.stack+=`
${p_(l.replace(r3e,(c,u)=>"./"+u.replace(t3e,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${p_(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(YL(f.replace(/[\\/]$/,""))+o3e,"gi");if(m.test(l)){i.stack+=`
${p_(l.replace(m,(h,p)=>u+p.replace(t3e,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${pZ(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&o&&(i.stack=pZ(o));return e.cause instanceof Error&&(i.cause=AZ(e.cause,t,r,n)),i}s(AZ,"cloneError");function s3e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}s(s3e,"errorMessageWithoutPath");function a3e(e,t){return AZ(e,s(function(n){return pZ(s3e(n))},"prepareMessage"),!0,t)}s(a3e,"prepareErrorForRestrictedTelemetry");function yZ(e,t,r=!1){return AZ(e,s(function(i){if(r)return gZ(s3e(i));let o="[redacted]";return typeof i.code=="string"&&(o=i.code+" "+o),typeof i.syscall=="string"?o=p_(i.syscall)+" "+o:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(o=i.erroredSysCall+" "+o),o},"prepareMessage"),!1,t)}s(yZ,"redactError");d();d();function Lrt(e){switch(e.errorType){case nt.ArrayContains:return"Expected array to contain at least one matching value";case nt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case nt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case nt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case nt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case nt.ArrayUniqueItems:return"Expected array elements to be unique";case nt.Array:return"Expected array";case nt.AsyncIterator:return"Expected AsyncIterator";case nt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case nt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case nt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case nt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case nt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case nt.BigInt:return"Expected bigint";case nt.Boolean:return"Expected boolean";case nt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case nt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case nt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case nt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case nt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case nt.Date:return"Expected Date";case nt.Function:return"Expected function";case nt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case nt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case nt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case nt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case nt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case nt.Integer:return"Expected integer";case nt.IntersectUnevaluatedProperties:return"Unexpected property";case nt.Intersect:return"Expected all values to match";case nt.Iterator:return"Expected Iterator";case nt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case nt.Never:return"Never";case nt.Not:return"Value should not match";case nt.Null:return"Expected null";case nt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case nt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case nt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case nt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case nt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case nt.Number:return"Expected number";case nt.Object:return"Expected object";case nt.ObjectAdditionalProperties:return"Unexpected property";case nt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case nt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case nt.ObjectRequiredProperty:return"Expected required property";case nt.Promise:return"Expected Promise";case nt.RegExp:return"Expected string to match regular expression";case nt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case nt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case nt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case nt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case nt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case nt.String:return"Expected string";case nt.Symbol:return"Expected symbol";case nt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case nt.Tuple:return"Expected tuple";case nt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case nt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case nt.Uint8Array:return"Expected Uint8Array";case nt.Undefined:return"Expected undefined";case nt.Union:return"Expected union value";case nt.Void:return"Expected void";case nt.Kind:return`Expected kind '${e.schema[ot]}'`;default:return"Unknown error type"}}s(Lrt,"DefaultErrorFunction");var Frt=Lrt;function l3e(){return Frt}s(l3e,"GetErrorFunction");d();var CZ=class extends Cn{static{s(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function Mrt(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new CZ(e);return zi(r,t)}s(Mrt,"Resolve");function Sl(e,t){return!Ui(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}s(Sl,"Pushref");function zi(e,t){return e[ot]==="This"||e[ot]==="Ref"?Mrt(e,t):e}s(zi,"Deref");d();var xZ=class extends Cn{static{s(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},ef;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(ef||(ef={}));var HI=BigInt("14695981039346656037"),[Qrt,Ort]=[BigInt("1099511628211"),BigInt("18446744073709551616")],Urt=Array.from({length:256}).map((e,t)=>BigInt(t)),c3e=new Float64Array(1),u3e=new DataView(c3e.buffer),f3e=new Uint8Array(c3e.buffer);function*qrt(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}s(qrt,"NumberToBytes");function Wrt(e){Fc(ef.Array);for(let t of e)jI(t)}s(Wrt,"ArrayType");function Grt(e){Fc(ef.Boolean),Fc(e?1:0)}s(Grt,"BooleanType");function Hrt(e){Fc(ef.BigInt),u3e.setBigInt64(0,e);for(let t of f3e)Fc(t)}s(Hrt,"BigIntType");function jrt(e){Fc(ef.Date),jI(e.getTime())}s(jrt,"DateType");function Vrt(e){Fc(ef.Null)}s(Vrt,"NullType");function $rt(e){Fc(ef.Number),u3e.setFloat64(0,e);for(let t of f3e)Fc(t)}s($rt,"NumberType");function zrt(e){Fc(ef.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())jI(t),jI(e[t])}s(zrt,"ObjectType");function Yrt(e){Fc(ef.String);for(let t=0;t<e.length;t++)for(let r of qrt(e.charCodeAt(t)))Fc(r)}s(Yrt,"StringType");function Krt(e){Fc(ef.Symbol),jI(e.description)}s(Krt,"SymbolType");function Jrt(e){Fc(ef.Uint8Array);for(let t=0;t<e.length;t++)Fc(e[t])}s(Jrt,"Uint8ArrayType");function Xrt(e){return Fc(ef.Undefined)}s(Xrt,"UndefinedType");function jI(e){if(yn(e))return Wrt(e);if(Hp(e))return Grt(e);if(tc(e))return Hrt(e);if(l0(e))return jrt(e);if(Y1(e))return Vrt(e);if(Xr(e))return $rt(e);if(ci(e))return zrt(e);if(Ui(e))return Yrt(e);if(K1(e))return Krt(e);if(iI(e))return Jrt(e);if(ls(e))return Xrt(e);throw new xZ(e)}s(jI,"Visit");function Fc(e){HI=HI^Urt[e],HI=HI*Qrt%Ort}s(Fc,"FNV1A64");function y5(e){return HI=BigInt("14695981039346656037"),jI(e),HI}s(y5,"Hash");d();var vZ=class extends Cn{static{s(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function Zrt(e){return e[ot]==="Any"||e[ot]==="Unknown"}s(Zrt,"IsAnyOrUnknown");function Ei(e){return e!==void 0}s(Ei,"IsDefined");function ent(e,t,r){return!0}s(ent,"FromAny");function tnt(e,t,r){return!0}s(tnt,"FromArgument");function rnt(e,t,r){if(!yn(r)||Ei(e.minItems)&&!(r.length>=e.minItems)||Ei(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(o=>Rl(e.items,t,o))||e.uniqueItems===!0&&!function(){let o=new Set;for(let a of r){let l=y5(a);if(o.has(l))return!1;o.add(l)}return!0}())return!1;if(!(Ei(e.contains)||Xr(e.minContains)||Xr(e.maxContains)))return!0;let n=Ei(e.contains)?e.contains:ri(),i=r.reduce((o,a)=>Rl(n,t,a)?o+1:o,0);return!(i===0||Xr(e.minContains)&&i<e.minContains||Xr(e.maxContains)&&i>e.maxContains)}s(rnt,"FromArray");function nnt(e,t,r){return RN(r)}s(nnt,"FromAsyncIterator");function int(e,t,r){return!(!tc(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}s(int,"FromBigInt");function ont(e,t,r){return Hp(r)}s(ont,"FromBoolean");function snt(e,t,r){return Rl(e.returns,t,r.prototype)}s(snt,"FromConstructor");function ant(e,t,r){return!(!l0(r)||Ei(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Ei(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Ei(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Ei(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Ei(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}s(ant,"FromDate");function lnt(e,t,r){return e5(r)}s(lnt,"FromFunction");function cnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Rl(i,[...t,...n],r)}s(cnt,"FromImport");function unt(e,t,r){return!(!DN(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.multipleOf)&&r%e.multipleOf!==0)}s(unt,"FromInteger");function fnt(e,t,r){let n=e.allOf.every(i=>Rl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(rA(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&o}else if(Ps(e.unevaluatedProperties)){let i=new RegExp(rA(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Rl(e.unevaluatedProperties,t,r[a]));return n&&o}else return n}s(fnt,"FromIntersect");function dnt(e,t,r){return kN(r)}s(dnt,"FromIterator");function mnt(e,t,r){return r===e.const}s(mnt,"FromLiteral");function hnt(e,t,r){return!1}s(hnt,"FromNever");function pnt(e,t,r){return!Rl(e.not,t,r)}s(pnt,"FromNot");function gnt(e,t,r){return Y1(r)}s(gnt,"FromNull");function Ant(e,t,r){return!(!Yo.IsNumberLike(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.multipleOf)&&r%e.multipleOf!==0)}s(Ant,"FromNumber");function ynt(e,t,r){if(!Yo.IsObjectLike(r)||Ei(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let o=e.properties[i];if(e.required&&e.required.includes(i)){if(!Rl(o,t,r[i])||(nA(o)||Zrt(o))&&!(i in r))return!1}else if(Yo.IsExactOptionalProperty(r,i)&&!Rl(o,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(o=>n.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(o=>n.includes(o)||Rl(e.additionalProperties,t,r[o])):!0}s(ynt,"FromObject");function Cnt(e,t,r){return BN(r)}s(Cnt,"FromPromise");function xnt(e,t,r){if(!Yo.IsRecordLike(r)||Ei(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],o=new RegExp(n),a=Object.entries(r).every(([u,f])=>o.test(u)?Rl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>o.test(u)?!0:Rl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>o.test(u)):!0;return a&&l&&c}s(xnt,"FromRecord");function vnt(e,t,r){return Rl(zi(e,t),t,r)}s(vnt,"FromRef");function bnt(e,t,r){let n=new RegExp(e.source,e.flags);return Ei(e.minLength)&&!(r.length>=e.minLength)||Ei(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}s(bnt,"FromRegExp");function Ent(e,t,r){return!Ui(r)||Ei(e.minLength)&&!(r.length>=e.minLength)||Ei(e.maxLength)&&!(r.length<=e.maxLength)||Ei(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Ei(e.format)?Jm.Has(e.format)?Jm.Get(e.format)(r):!1:!0}s(Ent,"FromString");function Int(e,t,r){return K1(r)}s(Int,"FromSymbol");function Tnt(e,t,r){return Ui(r)&&new RegExp(e.pattern).test(r)}s(Tnt,"FromTemplateLiteral");function wnt(e,t,r){return Rl(zi(e,t),t,r)}s(wnt,"FromThis");function _nt(e,t,r){if(!yn(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Rl(e.items[n],t,r[n]))return!1;return!0}s(_nt,"FromTuple");function Snt(e,t,r){return ls(r)}s(Snt,"FromUndefined");function Rnt(e,t,r){return e.anyOf.some(n=>Rl(n,t,r))}s(Rnt,"FromUnion");function knt(e,t,r){return!(!iI(r)||Ei(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Ei(e.minByteLength)&&!(r.length>=e.minByteLength))}s(knt,"FromUint8Array");function Bnt(e,t,r){return!0}s(Bnt,"FromUnknown");function Dnt(e,t,r){return Yo.IsVoidLike(r)}s(Dnt,"FromVoid");function Pnt(e,t,r){return c0.Has(e[ot])?c0.Get(e[ot])(e,r):!1}s(Pnt,"FromKind");function Rl(e,t,r){let n=Ei(e.$id)?Sl(e,t):t,i=e;switch(i[ot]){case"Any":return ent(i,n,r);case"Argument":return tnt(i,n,r);case"Array":return rnt(i,n,r);case"AsyncIterator":return nnt(i,n,r);case"BigInt":return int(i,n,r);case"Boolean":return ont(i,n,r);case"Constructor":return snt(i,n,r);case"Date":return ant(i,n,r);case"Function":return lnt(i,n,r);case"Import":return cnt(i,n,r);case"Integer":return unt(i,n,r);case"Intersect":return fnt(i,n,r);case"Iterator":return dnt(i,n,r);case"Literal":return mnt(i,n,r);case"Never":return hnt(i,n,r);case"Not":return pnt(i,n,r);case"Null":return gnt(i,n,r);case"Number":return Ant(i,n,r);case"Object":return ynt(i,n,r);case"Promise":return Cnt(i,n,r);case"Record":return xnt(i,n,r);case"Ref":return vnt(i,n,r);case"RegExp":return bnt(i,n,r);case"String":return Ent(i,n,r);case"Symbol":return Int(i,n,r);case"TemplateLiteral":return Tnt(i,n,r);case"This":return wnt(i,n,r);case"Tuple":return _nt(i,n,r);case"Undefined":return Snt(i,n,r);case"Union":return Rnt(i,n,r);case"Uint8Array":return knt(i,n,r);case"Unknown":return Bnt(i,n,r);case"Void":return Dnt(i,n,r);default:if(!c0.Has(i[ot]))throw new vZ(i);return Pnt(i,n,r)}}s(Rl,"Visit");function hi(...e){return e.length===3?Rl(e[0],e[1],e[2]):Rl(e[0],[],e[1])}s(hi,"Check");var nt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(nt||(nt={}));var bZ=class extends Cn{static{s(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function sA(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}s(sA,"EscapeKey");function Ii(e){return e!==void 0}s(Ii,"IsDefined");var C5=class{static{s(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function br(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:l3e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}s(br,"Create");function*Nnt(e,t,r,n){}s(Nnt,"FromAny");function*Lnt(e,t,r,n){}s(Lnt,"FromArgument");function*Fnt(e,t,r,n){if(!yn(n))return yield br(nt.Array,e,r,n);Ii(e.minItems)&&!(n.length>=e.minItems)&&(yield br(nt.ArrayMinItems,e,r,n)),Ii(e.maxItems)&&!(n.length<=e.maxItems)&&(yield br(nt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*kl(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=y5(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield br(nt.ArrayUniqueItems,e,r,n)),!(Ii(e.contains)||Ii(e.minContains)||Ii(e.maxContains)))return;let i=Ii(e.contains)?e.contains:ri(),o=n.reduce((a,l,c)=>kl(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);o===0&&(yield br(nt.ArrayContains,e,r,n)),Xr(e.minContains)&&o<e.minContains&&(yield br(nt.ArrayMinContains,e,r,n)),Xr(e.maxContains)&&o>e.maxContains&&(yield br(nt.ArrayMaxContains,e,r,n))}s(Fnt,"FromArray");function*Mnt(e,t,r,n){RN(n)||(yield br(nt.AsyncIterator,e,r,n))}s(Mnt,"FromAsyncIterator");function*Qnt(e,t,r,n){if(!tc(n))return yield br(nt.BigInt,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(nt.BigIntExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(nt.BigIntExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield br(nt.BigIntMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield br(nt.BigIntMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield br(nt.BigIntMultipleOf,e,r,n))}s(Qnt,"FromBigInt");function*Ont(e,t,r,n){Hp(n)||(yield br(nt.Boolean,e,r,n))}s(Ont,"FromBoolean");function*Unt(e,t,r,n){yield*kl(e.returns,t,r,n.prototype)}s(Unt,"FromConstructor");function*qnt(e,t,r,n){if(!l0(n))return yield br(nt.Date,e,r,n);Ii(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield br(nt.DateExclusiveMaximumTimestamp,e,r,n)),Ii(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield br(nt.DateExclusiveMinimumTimestamp,e,r,n)),Ii(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield br(nt.DateMaximumTimestamp,e,r,n)),Ii(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield br(nt.DateMinimumTimestamp,e,r,n)),Ii(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield br(nt.DateMultipleOfTimestamp,e,r,n))}s(qnt,"FromDate");function*Wnt(e,t,r,n){e5(n)||(yield br(nt.Function,e,r,n))}s(Wnt,"FromFunction");function*Gnt(e,t,r,n){let i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];yield*kl(o,[...t,...i],r,n)}s(Gnt,"FromImport");function*Hnt(e,t,r,n){if(!DN(n))return yield br(nt.Integer,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(nt.IntegerExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(nt.IntegerExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield br(nt.IntegerMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield br(nt.IntegerMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==0&&(yield br(nt.IntegerMultipleOf,e,r,n))}s(Hnt,"FromInteger");function*jnt(e,t,r,n){let i=!1;for(let o of e.allOf)for(let a of kl(o,t,r,n))i=!0,yield a;if(i)return yield br(nt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let o=new RegExp(rA(e));for(let a of Object.getOwnPropertyNames(n))o.test(a)||(yield br(nt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let o=new RegExp(rA(e));for(let a of Object.getOwnPropertyNames(n))if(!o.test(a)){let l=kl(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}s(jnt,"FromIntersect");function*Vnt(e,t,r,n){kN(n)||(yield br(nt.Iterator,e,r,n))}s(Vnt,"FromIterator");function*$nt(e,t,r,n){n!==e.const&&(yield br(nt.Literal,e,r,n))}s($nt,"FromLiteral");function*znt(e,t,r,n){yield br(nt.Never,e,r,n)}s(znt,"FromNever");function*Ynt(e,t,r,n){kl(e.not,t,r,n).next().done===!0&&(yield br(nt.Not,e,r,n))}s(Ynt,"FromNot");function*Knt(e,t,r,n){Y1(n)||(yield br(nt.Null,e,r,n))}s(Knt,"FromNull");function*Jnt(e,t,r,n){if(!Yo.IsNumberLike(n))return yield br(nt.Number,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(nt.NumberExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(nt.NumberExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield br(nt.NumberMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield br(nt.NumberMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==0&&(yield br(nt.NumberMultipleOf,e,r,n))}s(Jnt,"FromNumber");function*Xnt(e,t,r,n){if(!Yo.IsObjectLike(n))return yield br(nt.Object,e,r,n);Ii(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield br(nt.ObjectMinProperties,e,r,n)),Ii(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield br(nt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield br(nt.ObjectRequiredProperty,e.properties[l],`${r}/${sA(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)o.includes(l)||(yield br(nt.ObjectAdditionalProperties,e,`${r}/${sA(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)o.includes(l)||(yield*kl(e.additionalProperties,t,`${r}/${sA(l)}`,n[l]));for(let l of o){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*kl(c,t,`${r}/${sA(l)}`,n[l]),nA(e)&&!(l in n)&&(yield br(nt.ObjectRequiredProperty,c,`${r}/${sA(l)}`,void 0))):Yo.IsExactOptionalProperty(n,l)&&(yield*kl(c,t,`${r}/${sA(l)}`,n[l]))}}s(Xnt,"FromObject");function*Znt(e,t,r,n){BN(n)||(yield br(nt.Promise,e,r,n))}s(Znt,"FromPromise");function*eit(e,t,r,n){if(!Yo.IsRecordLike(n))return yield br(nt.Object,e,r,n);Ii(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield br(nt.ObjectMinProperties,e,r,n)),Ii(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield br(nt.ObjectMaxProperties,e,r,n));let[i,o]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*kl(o,t,`${r}/${sA(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*kl(e.additionalProperties,t,`${r}/${sA(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield br(nt.ObjectAdditionalProperties,e,`${r}/${sA(l)}`,c)}}s(eit,"FromRecord");function*tit(e,t,r,n){yield*kl(zi(e,t),t,r,n)}s(tit,"FromRef");function*rit(e,t,r,n){if(!Ui(n))return yield br(nt.String,e,r,n);if(Ii(e.minLength)&&!(n.length>=e.minLength)&&(yield br(nt.StringMinLength,e,r,n)),Ii(e.maxLength)&&!(n.length<=e.maxLength)&&(yield br(nt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield br(nt.RegExp,e,r,n)}s(rit,"FromRegExp");function*nit(e,t,r,n){if(!Ui(n))return yield br(nt.String,e,r,n);Ii(e.minLength)&&!(n.length>=e.minLength)&&(yield br(nt.StringMinLength,e,r,n)),Ii(e.maxLength)&&!(n.length<=e.maxLength)&&(yield br(nt.StringMaxLength,e,r,n)),Ui(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield br(nt.StringPattern,e,r,n))),Ui(e.format)&&(Jm.Has(e.format)?Jm.Get(e.format)(n)||(yield br(nt.StringFormat,e,r,n)):yield br(nt.StringFormatUnknown,e,r,n))}s(nit,"FromString");function*iit(e,t,r,n){K1(n)||(yield br(nt.Symbol,e,r,n))}s(iit,"FromSymbol");function*oit(e,t,r,n){if(!Ui(n))return yield br(nt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield br(nt.StringPattern,e,r,n))}s(oit,"FromTemplateLiteral");function*sit(e,t,r,n){yield*kl(zi(e,t),t,r,n)}s(sit,"FromThis");function*ait(e,t,r,n){if(!yn(n))return yield br(nt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield br(nt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield br(nt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*kl(e.items[i],t,`${r}/${i}`,n[i])}s(ait,"FromTuple");function*lit(e,t,r,n){ls(n)||(yield br(nt.Undefined,e,r,n))}s(lit,"FromUndefined");function*cit(e,t,r,n){if(hi(e,t,n))return;let i=e.anyOf.map(o=>new C5(kl(o,t,r,n)));yield br(nt.Union,e,r,n,i)}s(cit,"FromUnion");function*uit(e,t,r,n){if(!iI(n))return yield br(nt.Uint8Array,e,r,n);Ii(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield br(nt.Uint8ArrayMaxByteLength,e,r,n)),Ii(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield br(nt.Uint8ArrayMinByteLength,e,r,n))}s(uit,"FromUint8Array");function*fit(e,t,r,n){}s(fit,"FromUnknown");function*dit(e,t,r,n){Yo.IsVoidLike(n)||(yield br(nt.Void,e,r,n))}s(dit,"FromVoid");function*mit(e,t,r,n){c0.Get(e[ot])(e,n)||(yield br(nt.Kind,e,r,n))}s(mit,"FromKind");function*kl(e,t,r,n){let i=Ii(e.$id)?[...t,e]:t,o=e;switch(o[ot]){case"Any":return yield*Nnt(o,i,r,n);case"Argument":return yield*Lnt(o,i,r,n);case"Array":return yield*Fnt(o,i,r,n);case"AsyncIterator":return yield*Mnt(o,i,r,n);case"BigInt":return yield*Qnt(o,i,r,n);case"Boolean":return yield*Ont(o,i,r,n);case"Constructor":return yield*Unt(o,i,r,n);case"Date":return yield*qnt(o,i,r,n);case"Function":return yield*Wnt(o,i,r,n);case"Import":return yield*Gnt(o,i,r,n);case"Integer":return yield*Hnt(o,i,r,n);case"Intersect":return yield*jnt(o,i,r,n);case"Iterator":return yield*Vnt(o,i,r,n);case"Literal":return yield*$nt(o,i,r,n);case"Never":return yield*znt(o,i,r,n);case"Not":return yield*Ynt(o,i,r,n);case"Null":return yield*Knt(o,i,r,n);case"Number":return yield*Jnt(o,i,r,n);case"Object":return yield*Xnt(o,i,r,n);case"Promise":return yield*Znt(o,i,r,n);case"Record":return yield*eit(o,i,r,n);case"Ref":return yield*tit(o,i,r,n);case"RegExp":return yield*rit(o,i,r,n);case"String":return yield*nit(o,i,r,n);case"Symbol":return yield*iit(o,i,r,n);case"TemplateLiteral":return yield*oit(o,i,r,n);case"This":return yield*sit(o,i,r,n);case"Tuple":return yield*ait(o,i,r,n);case"Undefined":return yield*lit(o,i,r,n);case"Union":return yield*cit(o,i,r,n);case"Uint8Array":return yield*uit(o,i,r,n);case"Unknown":return yield*fit(o,i,r,n);case"Void":return yield*dit(o,i,r,n);default:if(!c0.Has(o[ot]))throw new bZ(e);return yield*mit(o,i,r,n)}}s(kl,"Visit");function tg(...e){let t=e.length===3?kl(e[0],e[1],"",e[2]):kl(e[0],[],"",e[1]);return new C5(t)}s(tg,"Errors");d();d();var VI=class extends Cn{static{s(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},EZ=class extends Cn{static{s(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function Ls(e,t,r){try{return ao(e)?e[Ds].Decode(r):r}catch(n){throw new EZ(e,t,r,n)}}s(Ls,"Default");function hit(e,t,r,n){return yn(n)?Ls(e,r,n.map((i,o)=>ih(e.items,t,`${r}/${o}`,i))):Ls(e,r,n)}s(hit,"FromArray");function pit(e,t,r,n){if(!ci(n)||ju(n))return Ls(e,r,n);let i=qN(e),o=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=ih(m,t,`${r}/${f}`,a[f]));if(!ao(e.unevaluatedProperties))return Ls(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)o.includes(f)||(u[f]=Ls(c,`${r}/${f}`,u[f]));return Ls(e,r,u)}s(pit,"FromIntersect");function git(e,t,r,n){let i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref],a=ih(o,[...t,...i],r,n);return Ls(e,r,a)}s(git,"FromImport");function Ait(e,t,r,n){return Ls(e,r,ih(e.not,t,r,n))}s(Ait,"FromNot");function yit(e,t,r,n){if(!ci(n))return Ls(e,r,n);let i=z0(e),o={...n};for(let u of i)An(o,u)&&(ls(o[u])&&(!Z1(e.properties[u])||Yo.IsExactOptionalProperty(o,u))||(o[u]=ih(e.properties[u],t,`${r}/${u}`,o[u])));if(!Ps(e.additionalProperties))return Ls(e,r,o);let a=Object.getOwnPropertyNames(o),l=e.additionalProperties,c={...o};for(let u of a)i.includes(u)||(c[u]=Ls(l,`${r}/${u}`,c[u]));return Ls(e,r,c)}s(yit,"FromObject");function Cit(e,t,r,n){if(!ci(n))return Ls(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],o=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))o.test(f)&&(a[f]=ih(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!Ps(e.additionalProperties))return Ls(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)o.test(f)||(u[f]=Ls(c,`${r}/${f}`,u[f]));return Ls(e,r,u)}s(Cit,"FromRecord");function xit(e,t,r,n){let i=zi(e,t);return Ls(e,r,ih(i,t,r,n))}s(xit,"FromRef");function vit(e,t,r,n){let i=zi(e,t);return Ls(e,r,ih(i,t,r,n))}s(vit,"FromThis");function bit(e,t,r,n){return yn(n)&&yn(e.items)?Ls(e,r,e.items.map((i,o)=>ih(i,t,`${r}/${o}`,n[o]))):Ls(e,r,n)}s(bit,"FromTuple");function Eit(e,t,r,n){for(let i of e.anyOf){if(!hi(i,t,n))continue;let o=ih(i,t,r,n);return Ls(e,r,o)}return Ls(e,r,n)}s(Eit,"FromUnion");function ih(e,t,r,n){let i=Sl(e,t),o=e;switch(e[ot]){case"Array":return hit(o,i,r,n);case"Import":return git(o,i,r,n);case"Intersect":return pit(o,i,r,n);case"Not":return Ait(o,i,r,n);case"Object":return yit(o,i,r,n);case"Record":return Cit(o,i,r,n);case"Ref":return xit(o,i,r,n);case"Symbol":return Ls(o,r,n);case"This":return vit(o,i,r,n);case"Tuple":return bit(o,i,r,n);case"Union":return Eit(o,i,r,n);default:return Ls(o,r,n)}}s(ih,"Visit");function $I(e,t,r){return ih(e,t,"",r)}s($I,"TransformDecode");d();var zI=class extends Cn{static{s(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},IZ=class extends Cn{static{s(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function oc(e,t,r){try{return ao(e)?e[Ds].Encode(r):r}catch(n){throw new IZ(e,t,r,n)}}s(oc,"Default");function Iit(e,t,r,n){let i=oc(e,r,n);return yn(i)?i.map((o,a)=>oh(e.items,t,`${r}/${a}`,o)):i}s(Iit,"FromArray");function Tit(e,t,r,n){let i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref],a=oc(e,r,n);return oh(o,[...t,...i],r,a)}s(Tit,"FromImport");function wit(e,t,r,n){let i=oc(e,r,n);if(!ci(n)||ju(n))return i;let o=qN(e),a=o.map(m=>m[0]),l={...i};for(let[m,h]of o)m in l&&(l[m]=oh(h,t,`${r}/${m}`,l[m]));if(!ao(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=oc(u,`${r}/${m}`,f[m]));return f}s(wit,"FromIntersect");function _it(e,t,r,n){return oc(e.not,r,oc(e,r,n))}s(_it,"FromNot");function Sit(e,t,r,n){let i=oc(e,r,n);if(!ci(i))return i;let o=z0(e),a={...i};for(let f of o)An(a,f)&&(ls(a[f])&&(!Z1(e.properties[f])||Yo.IsExactOptionalProperty(a,f))||(a[f]=oh(e.properties[f],t,`${r}/${f}`,a[f])));if(!Ps(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)o.includes(f)||(u[f]=oc(c,`${r}/${f}`,u[f]));return u}s(Sit,"FromObject");function Rit(e,t,r,n){let i=oc(e,r,n);if(!ci(n))return i;let o=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(o),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=oh(e.patternProperties[o],t,`${r}/${m}`,l[m]));if(!Ps(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=oc(u,`${r}/${m}`,f[m]));return f}s(Rit,"FromRecord");function kit(e,t,r,n){let i=zi(e,t),o=oh(i,t,r,n);return oc(e,r,o)}s(kit,"FromRef");function Bit(e,t,r,n){let i=zi(e,t),o=oh(i,t,r,n);return oc(e,r,o)}s(Bit,"FromThis");function Dit(e,t,r,n){let i=oc(e,r,n);return yn(e.items)?e.items.map((o,a)=>oh(o,t,`${r}/${a}`,i[a])):[]}s(Dit,"FromTuple");function Pit(e,t,r,n){for(let i of e.anyOf){if(!hi(i,t,n))continue;let o=oh(i,t,r,n);return oc(e,r,o)}for(let i of e.anyOf){let o=oh(i,t,r,n);if(hi(e,t,o))return oc(e,r,o)}return oc(e,r,n)}s(Pit,"FromUnion");function oh(e,t,r,n){let i=Sl(e,t),o=e;switch(e[ot]){case"Array":return Iit(o,i,r,n);case"Import":return Tit(o,i,r,n);case"Intersect":return wit(o,i,r,n);case"Not":return _it(o,i,r,n);case"Object":return Sit(o,i,r,n);case"Record":return Rit(o,i,r,n);case"Ref":return kit(o,i,r,n);case"This":return Bit(o,i,r,n);case"Tuple":return Dit(o,i,r,n);case"Union":return Pit(o,i,r,n);default:return oc(o,r,n)}}s(oh,"Visit");function YI(e,t,r){return oh(e,t,"",r)}s(YI,"TransformEncode");d();function Nit(e,t){return ao(e)||cl(e.items,t)}s(Nit,"FromArray");function Lit(e,t){return ao(e)||cl(e.items,t)}s(Lit,"FromAsyncIterator");function Fit(e,t){return ao(e)||cl(e.returns,t)||e.parameters.some(r=>cl(r,t))}s(Fit,"FromConstructor");function Mit(e,t){return ao(e)||cl(e.returns,t)||e.parameters.some(r=>cl(r,t))}s(Mit,"FromFunction");function Qit(e,t){return ao(e)||ao(e.unevaluatedProperties)||e.allOf.some(r=>cl(r,t))}s(Qit,"FromIntersect");function Oit(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,o)=>[...i,e.$defs[o]],[]),n=e.$defs[e.$ref];return ao(e)||cl(n,[...r,...t])}s(Oit,"FromImport");function Uit(e,t){return ao(e)||cl(e.items,t)}s(Uit,"FromIterator");function qit(e,t){return ao(e)||cl(e.not,t)}s(qit,"FromNot");function Wit(e,t){return ao(e)||Object.values(e.properties).some(r=>cl(r,t))||Ps(e.additionalProperties)&&cl(e.additionalProperties,t)}s(Wit,"FromObject");function Git(e,t){return ao(e)||cl(e.item,t)}s(Git,"FromPromise");function Hit(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return ao(e)||cl(n,t)||Ps(e.additionalProperties)&&ao(e.additionalProperties)}s(Hit,"FromRecord");function jit(e,t){return ao(e)?!0:cl(zi(e,t),t)}s(jit,"FromRef");function Vit(e,t){return ao(e)?!0:cl(zi(e,t),t)}s(Vit,"FromThis");function $it(e,t){return ao(e)||!ls(e.items)&&e.items.some(r=>cl(r,t))}s($it,"FromTuple");function zit(e,t){return ao(e)||e.anyOf.some(r=>cl(r,t))}s(zit,"FromUnion");function cl(e,t){let r=Sl(e,t),n=e;if(e.$id&&TZ.has(e.$id))return!1;switch(e.$id&&TZ.add(e.$id),e[ot]){case"Array":return Nit(n,r);case"AsyncIterator":return Lit(n,r);case"Constructor":return Fit(n,r);case"Function":return Mit(n,r);case"Import":return Oit(n,r);case"Intersect":return Qit(n,r);case"Iterator":return Uit(n,r);case"Not":return qit(n,r);case"Object":return Wit(n,r);case"Promise":return Git(n,r);case"Record":return Hit(n,r);case"Ref":return jit(n,r);case"This":return Vit(n,r);case"Tuple":return $it(n,r);case"Union":return zit(n,r);default:return ao(e)}}s(cl,"Visit");var TZ=new Set;function aA(e,t){return TZ.clear(),cl(e,t)}s(aA,"HasTransform");var wZ=class{static{s(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=aA(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return tg(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new VI(this.schema,t,this.Errors(t).First());return this.hasTransform?$I(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?YI(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new zI(this.schema,t,this.Errors(t).First());return r}},lA;(function(e){function t(o){return o===36}s(t,"DollarSign"),e.DollarSign=t;function r(o){return o===95}s(r,"IsUnderscore"),e.IsUnderscore=r;function n(o){return o>=65&&o<=90||o>=97&&o<=122}s(n,"IsAlpha"),e.IsAlpha=n;function i(o){return o>=48&&o<=57}s(i,"IsNumeric"),e.IsNumeric=i})(lA||(lA={}));var KL;(function(e){function t(o){return o.length===0?!1:lA.IsNumeric(o.charCodeAt(0))}s(t,"IsFirstCharacterNumeric");function r(o){if(t(o))return!1;for(let a=0;a<o.length;a++){let l=o.charCodeAt(a);if(!(lA.IsAlpha(l)||lA.IsNumeric(l)||lA.DollarSign(l)||lA.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(o){return o.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function i(o,a){return r(a)?`${o}.${a}`:`${o}['${n(a)}']`}s(i,"Encode"),e.Encode=i})(KL||(KL={}));var _Z;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);lA.IsNumeric(o)||lA.IsAlpha(o)?n.push(r.charAt(i)):n.push(`_${o}_`)}return n.join("").replace(/__/g,"_")}s(t,"Encode"),e.Encode=t})(_Z||(_Z={}));var SZ;(function(e){function t(r){return r.replace(/'/g,"\\'")}s(t,"Escape"),e.Escape=t})(SZ||(SZ={}));var RZ=class extends Cn{static{s(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},JL=class extends Cn{static{s(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},Vx;(function(e){function t(a,l,c){return Yo.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${KL.Encode(a,l)} !== undefined ? ${c} : true)`}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Yo.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){return Yo.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}s(o,"IsVoidLike"),e.IsVoidLike=o})(Vx||(Vx={}));var ms;(function(e){function t(oe){return oe[ot]==="Any"||oe[ot]==="Unknown"}s(t,"IsAnyOrUnknown");function*r(oe,Ne,Ae){yield"true"}s(r,"FromAny");function*n(oe,Ne,Ae){yield"true"}s(n,"FromArgument");function*i(oe,Ne,Ae){yield`Array.isArray(${Ae})`;let[Ge,K]=[Re("value","any"),Re("acc","number")];Xr(oe.maxItems)&&(yield`${Ae}.length <= ${oe.maxItems}`),Xr(oe.minItems)&&(yield`${Ae}.length >= ${oe.minItems}`);let ne=ce(oe.items,Ne,"value");if(yield`${Ae}.every((${Ge}) => ${ne})`,us(oe.contains)||Xr(oe.minContains)||Xr(oe.maxContains)){let Fe=us(oe.contains)?oe.contains:ri(),Se=ce(Fe,Ne,"value"),Ce=Xr(oe.minContains)?[`(count >= ${oe.minContains})`]:[],Ue=Xr(oe.maxContains)?[`(count <= ${oe.maxContains})`]:[],Ve=`const count = value.reduce((${K}, ${Ge}) => ${Se} ? acc + 1 : acc, 0)`,tt=["(count > 0)",...Ce,...Ue].join(" && ");yield`((${Ge}) => { ${Ve}; return ${tt}})(${Ae})`}oe.uniqueItems===!0&&(yield`((${Ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}s(i,"FromArray");function*o(oe,Ne,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}s(o,"FromAsyncIterator");function*a(oe,Ne,Ae){yield`(typeof ${Ae} === 'bigint')`,tc(oe.exclusiveMaximum)&&(yield`${Ae} < BigInt(${oe.exclusiveMaximum})`),tc(oe.exclusiveMinimum)&&(yield`${Ae} > BigInt(${oe.exclusiveMinimum})`),tc(oe.maximum)&&(yield`${Ae} <= BigInt(${oe.maximum})`),tc(oe.minimum)&&(yield`${Ae} >= BigInt(${oe.minimum})`),tc(oe.multipleOf)&&(yield`(${Ae} % BigInt(${oe.multipleOf})) === 0`)}s(a,"FromBigInt");function*l(oe,Ne,Ae){yield`(typeof ${Ae} === 'boolean')`}s(l,"FromBoolean");function*c(oe,Ne,Ae){yield*te(oe.returns,Ne,`${Ae}.prototype`)}s(c,"FromConstructor");function*u(oe,Ne,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Xr(oe.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${oe.exclusiveMaximumTimestamp}`),Xr(oe.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${oe.exclusiveMinimumTimestamp}`),Xr(oe.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${oe.maximumTimestamp}`),Xr(oe.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${oe.minimumTimestamp}`),Xr(oe.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${oe.multipleOfTimestamp}) === 0`)}s(u,"FromDate");function*f(oe,Ne,Ae){yield`(typeof ${Ae} === 'function')`}s(f,"FromFunction");function*m(oe,Ne,Ae){let Ge=globalThis.Object.getOwnPropertyNames(oe.$defs).reduce((K,ne)=>[...K,oe.$defs[ne]],[]);yield*te(yd(oe.$ref),[...Ne,...Ge],Ae)}s(m,"FromImport");function*h(oe,Ne,Ae){yield`Number.isInteger(${Ae})`,Xr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Xr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Xr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Xr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Xr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}s(h,"FromInteger");function*p(oe,Ne,Ae){let Ge=oe.allOf.map(K=>ce(K,Ne,Ae)).join(" && ");if(oe.unevaluatedProperties===!1){let K=be(`${new RegExp(rA(oe))};`),ne=`Object.getOwnPropertyNames(${Ae}).every(key => ${K}.test(key))`;yield`(${Ge} && ${ne})`}else if(us(oe.unevaluatedProperties)){let K=be(`${new RegExp(rA(oe))};`),ne=`Object.getOwnPropertyNames(${Ae}).every(key => ${K}.test(key) || ${ce(oe.unevaluatedProperties,Ne,`${Ae}[key]`)})`;yield`(${Ge} && ${ne})`}else yield`(${Ge})`}s(p,"FromIntersect");function*g(oe,Ne,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}s(g,"FromIterator");function*y(oe,Ne,Ae){typeof oe.const=="number"||typeof oe.const=="boolean"?yield`(${Ae} === ${oe.const})`:yield`(${Ae} === '${SZ.Escape(oe.const)}')`}s(y,"FromLiteral");function*v(oe,Ne,Ae){yield"false"}s(v,"FromNever");function*b(oe,Ne,Ae){yield`(!${ce(oe.not,Ne,Ae)})`}s(b,"FromNot");function*E(oe,Ne,Ae){yield`(${Ae} === null)`}s(E,"FromNull");function*_(oe,Ne,Ae){yield Vx.IsNumberLike(Ae),Xr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Xr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Xr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Xr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Xr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}s(_,"FromNumber");function*k(oe,Ne,Ae){yield Vx.IsObjectLike(Ae),Xr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Xr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let Ge=Object.getOwnPropertyNames(oe.properties);for(let K of Ge){let ne=KL.Encode(Ae,K),Fe=oe.properties[K];if(oe.required&&oe.required.includes(K))yield*te(Fe,Ne,ne),(nA(Fe)||t(Fe))&&(yield`('${K}' in ${Ae})`);else{let Se=ce(Fe,Ne,ne);yield Vx.IsExactOptionalProperty(Ae,K,Se)}}if(oe.additionalProperties===!1)if(oe.required&&oe.required.length===Ge.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${Ge.length}`;else{let K=`[${Ge.map(ne=>`'${ne}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${K}.includes(key))`}if(typeof oe.additionalProperties=="object"){let K=ce(oe.additionalProperties,Ne,`${Ae}[key]`),ne=`[${Ge.map(Fe=>`'${Fe}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${ne}.includes(key) || ${K}))`}}s(k,"FromObject");function*B(oe,Ne,Ae){yield`${Ae} instanceof Promise`}s(B,"FromPromise");function*N(oe,Ne,Ae){yield Vx.IsRecordLike(Ae),Xr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Xr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let[Ge,K]=Object.entries(oe.patternProperties)[0],ne=be(`${new RegExp(Ge)}`),Fe=ce(K,Ne,"value"),Se=us(oe.additionalProperties)?ce(oe.additionalProperties,Ne,Ae):oe.additionalProperties===!1?"false":"true",Ce=`(${ne}.test(key) ? ${Fe} : ${Se})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}s(N,"FromRecord");function*M(oe,Ne,Ae){let Ge=zi(oe,Ne);if(le.functions.has(oe.$ref))return yield`${De(oe.$ref)}(${Ae})`;yield*te(Ge,Ne,Ae)}s(M,"FromRef");function*re(oe,Ne,Ae){let Ge=be(`${new RegExp(oe.source,oe.flags)};`);yield`(typeof ${Ae} === 'string')`,Xr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Xr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),yield`${Ge}.test(${Ae})`}s(re,"FromRegExp");function*pe(oe,Ne,Ae){yield`(typeof ${Ae} === 'string')`,Xr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Xr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),oe.pattern!==void 0&&(yield`${be(`${new RegExp(oe.pattern)};`)}.test(${Ae})`),oe.format!==void 0&&(yield`format('${oe.format}', ${Ae})`)}s(pe,"FromString");function*Z(oe,Ne,Ae){yield`(typeof ${Ae} === 'symbol')`}s(Z,"FromSymbol");function*G(oe,Ne,Ae){yield`(typeof ${Ae} === 'string')`,yield`${be(`${new RegExp(oe.pattern)};`)}.test(${Ae})`}s(G,"FromTemplateLiteral");function*q(oe,Ne,Ae){yield`${De(oe.$ref)}(${Ae})`}s(q,"FromThis");function*ie(oe,Ne,Ae){if(yield`Array.isArray(${Ae})`,oe.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${oe.maxItems})`;for(let Ge=0;Ge<oe.items.length;Ge++)yield`${ce(oe.items[Ge],Ne,`${Ae}[${Ge}]`)}`}s(ie,"FromTuple");function*z(oe,Ne,Ae){yield`${Ae} === undefined`}s(z,"FromUndefined");function*H(oe,Ne,Ae){yield`(${oe.anyOf.map(K=>ce(K,Ne,Ae)).join(" || ")})`}s(H,"FromUnion");function*U(oe,Ne,Ae){yield`${Ae} instanceof Uint8Array`,Xr(oe.maxByteLength)&&(yield`(${Ae}.length <= ${oe.maxByteLength})`),Xr(oe.minByteLength)&&(yield`(${Ae}.length >= ${oe.minByteLength})`)}s(U,"FromUint8Array");function*V(oe,Ne,Ae){yield"true"}s(V,"FromUnknown");function*Y(oe,Ne,Ae){yield Vx.IsVoidLike(Ae)}s(Y,"FromVoid");function*ae(oe,Ne,Ae){let Ge=le.instances.size;le.instances.set(Ge,oe),yield`kind('${oe[ot]}', ${Ge}, ${Ae})`}s(ae,"FromKind");function*te(oe,Ne,Ae,Ge=!0){let K=Ui(oe.$id)?[...Ne,oe]:Ne,ne=oe;if(Ge&&Ui(oe.$id)){let Fe=De(oe.$id);if(le.functions.has(Fe))return yield`${Fe}(${Ae})`;{le.functions.set(Fe,"<deferred>");let Se=qe(Fe,oe,Ne,"value",!1);return le.functions.set(Fe,Se),yield`${Fe}(${Ae})`}}switch(ne[ot]){case"Any":return yield*r(ne,K,Ae);case"Argument":return yield*n(ne,K,Ae);case"Array":return yield*i(ne,K,Ae);case"AsyncIterator":return yield*o(ne,K,Ae);case"BigInt":return yield*a(ne,K,Ae);case"Boolean":return yield*l(ne,K,Ae);case"Constructor":return yield*c(ne,K,Ae);case"Date":return yield*u(ne,K,Ae);case"Function":return yield*f(ne,K,Ae);case"Import":return yield*m(ne,K,Ae);case"Integer":return yield*h(ne,K,Ae);case"Intersect":return yield*p(ne,K,Ae);case"Iterator":return yield*g(ne,K,Ae);case"Literal":return yield*y(ne,K,Ae);case"Never":return yield*v(ne,K,Ae);case"Not":return yield*b(ne,K,Ae);case"Null":return yield*E(ne,K,Ae);case"Number":return yield*_(ne,K,Ae);case"Object":return yield*k(ne,K,Ae);case"Promise":return yield*B(ne,K,Ae);case"Record":return yield*N(ne,K,Ae);case"Ref":return yield*M(ne,K,Ae);case"RegExp":return yield*re(ne,K,Ae);case"String":return yield*pe(ne,K,Ae);case"Symbol":return yield*Z(ne,K,Ae);case"TemplateLiteral":return yield*G(ne,K,Ae);case"This":return yield*q(ne,K,Ae);case"Tuple":return yield*ie(ne,K,Ae);case"Undefined":return yield*z(ne,K,Ae);case"Union":return yield*H(ne,K,Ae);case"Uint8Array":return yield*U(ne,K,Ae);case"Unknown":return yield*V(ne,K,Ae);case"Void":return yield*Y(ne,K,Ae);default:if(!c0.Has(ne[ot]))throw new RZ(oe);return yield*ae(ne,K,Ae)}}s(te,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(oe,Ne,Ae,Ge=!0){return`(${[...te(oe,Ne,Ae,Ge)].join(" && ")})`}s(ce,"CreateExpression");function De(oe){return`check_${_Z.Encode(oe)}`}s(De,"CreateFunctionName");function be(oe){let Ne=`local_${le.variables.size}`;return le.variables.set(Ne,`const ${Ne} = ${oe}`),Ne}s(be,"CreateVariable");function qe(oe,Ne,Ae,Ge,K=!0){let[ne,Fe]=[`
`,Ve=>"".padStart(Ve," ")],Se=Re("value","any"),Ce=Xe("boolean"),Ue=[...te(Ne,Ae,Ge,K)].map(Ve=>`${Fe(4)}${Ve}`).join(` &&${ne}`);return`function ${oe}(${Se})${Ce} {${ne}${Fe(2)}return (${ne}${Ue}${ne}${Fe(2)})
}`}s(qe,"CreateFunction");function Re(oe,Ne){let Ae=le.language==="typescript"?`: ${Ne}`:"";return`${oe}${Ae}`}s(Re,"CreateParameter");function Xe(oe){return le.language==="typescript"?`: ${oe}`:""}s(Xe,"CreateReturns");function ft(oe,Ne,Ae){let Ge=qe("check",oe,Ne,"value"),K=Re("value","any"),ne=Xe("boolean"),Fe=[...le.functions.values()],Se=[...le.variables.values()],Ce=Ui(oe.$id)?`return function check(${K})${ne} {
  return ${De(oe.$id)}(value)
}`:`return ${Ge}`;return[...Se,...Fe,Ce].join(`
`)}s(ft,"Build");function at(...oe){let Ne={language:"javascript"},[Ae,Ge,K]=oe.length===2&&yn(oe[1])?[oe[0],oe[1],Ne]:oe.length===2&&!yn(oe[1])?[oe[0],[],oe[1]]:oe.length===3?[oe[0],oe[1],oe[2]]:oe.length===1?[oe[0],[],Ne]:[null,[],Ne];if(le.language=K.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!us(Ae))throw new JL(Ae);for(let ne of Ge)if(!us(ne))throw new JL(ne);return ft(Ae,Ge,K)}s(at,"Code"),e.Code=at;function lt(oe,Ne=[]){let Ae=at(oe,Ne,{language:"javascript"}),Ge=globalThis.Function("kind","format","hash",Ae),K=new Map(le.instances);function ne(Ue,Ve,tt){if(!c0.Has(Ue)||!K.has(Ve))return!1;let Ct=c0.Get(Ue),Pt=K.get(Ve);return Ct(Pt,tt)}s(ne,"typeRegistryFunction");function Fe(Ue,Ve){return Jm.Has(Ue)?Jm.Get(Ue)(Ve):!1}s(Fe,"formatRegistryFunction");function Se(Ue){return y5(Ue)}s(Se,"hashFunction");let Ce=Ge(ne,Fe,Se);return new wZ(oe,Ne,Ce,Ae)}s(lt,"Compile"),e.Compile=lt})(ms||(ms={}));var eF=Ze(Xy());d();d();var sc=[];for(let e=0;e<256;++e)sc.push((e+256).toString(16).slice(1));function d3e(e,t=0){return(sc[e[t+0]]+sc[e[t+1]]+sc[e[t+2]]+sc[e[t+3]]+"-"+sc[e[t+4]]+sc[e[t+5]]+"-"+sc[e[t+6]]+sc[e[t+7]]+"-"+sc[e[t+8]]+sc[e[t+9]]+"-"+sc[e[t+10]]+sc[e[t+11]]+sc[e[t+12]]+sc[e[t+13]]+sc[e[t+14]]+sc[e[t+15]]).toLowerCase()}s(d3e,"unsafeStringify");d();var m3e=require("crypto");var ZL=new Uint8Array(256),XL=ZL.length;function kZ(){return XL>ZL.length-16&&((0,m3e.randomFillSync)(ZL),XL=0),ZL.slice(XL,XL+=16)}s(kZ,"rng");d();d();var h3e=require("crypto"),BZ={randomUUID:h3e.randomUUID};function Yit(e,t,r){if(BZ.randomUUID&&!t&&!e)return BZ.randomUUID();e=e||{};let n=e.random??e.rng?.()??kZ();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return d3e(n)}s(Yit,"v4");var _r=Yit;var tF=Ze(ni());function KI(e){return e===1}s(KI,"isRestricted");var Kit=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],g_=8192,Jit=21;var Fs=class{static{s(this,"TelemetryReporters")}getReporter(t,r=0){return KI(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(rF(t))return this.reporterRestricted;if(GI(t))return new m_}getFTReporter(t){if(g3e(t))return this.reporterFT;if(GI(t))return new m_}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},Xit=I.Object({},{additionalProperties:I.String()}),Zit=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),eot=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function tot(e){return eot.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(tot,"isOomError");function rot(e){return Q7(e)?"network":tot(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(rot,"getErrorType");var dn=class e{static{s(this,"TelemetryData")}static{this.validateTelemetryProperties=ms.Compile(Xit)}static{this.validateTelemetryMeasurements=ms.Compile(Zit)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},oa())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new e(n,i,this.issuedTime);return o.displayedTime=this.displayedTime,o}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=oa())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(dr).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=Zp(t.get(pn).getEditorInfo()),this.properties.editor_plugin_version=Zp(t.get(pn).getEditorPluginInfo());let r=t.get(Bs);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${zx(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(pn);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=Zp(n.getEditorInfo());let i=t.get(fn);this.properties.fetcher=i.name;let o=i.proxySettings;this.properties.proxy_enabled=o?"true":"false",this.properties.proxy_auth=o?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=o?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=v3e(t);r["copilot.build"]=b3e(t),r["copilot.buildType"]=Td(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(KI(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],o=i?.length??0;if(o>g_){let a=0,l=0;for(;o>0&&l<Jit;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+g_;o<g_&&(u=a+o),r[c]=i.slice(a,u),o-=g_,a+=g_}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=oot(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(GI(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return $x(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),KI(r)&&$x(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,A3e(t))}},rg=class e extends dn{static{s(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new e(n,i,this.issuedTime,this.filtersAndExp);return o.displayedTime=this.displayedTime,o}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new Sx({}),exp:Id.createEmptyConfig()})}};function A_(e,t,r,n){e.get(Fs).getReporter(e,t)?.sendTelemetryEvent(r,dn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(A_,"sendTelemetryEvent");function not(e,t,r,n){e.get(Fs).getReporter(e,t)?.sendTelemetryErrorEvent(r,dn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(not,"sendTelemetryErrorEvent");function iot(e,t,r,n){e.get(Fs).getFTReporter(e)?.sendTelemetryEvent(r,dn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(iot,"sendFTTelemetryEvent");function JI(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}s(JI,"telemetrizePromptLength");function oa(){return performance.now()}s(oa,"now");function oot(e){return Math.floor(e/1e3)}s(oot,"nowSeconds");function rF(e){return e.get(ic).optedIn}s(rF,"shouldSendRestricted");function g3e(e){return e.get(ic).ftFlag!==""}s(g3e,"shouldSendFinetuningTelemetry");function jt(e,t,r,n){return e.get(Bo).register(sot(e,t,oa(),r?.extendedBy(),n))}s(jt,"telemetry");async function sot(e,t,r,n,i=0){let o=n||dn.createAndMarkAsIssued({},{});await o.makeReadyForSending(e,i??!1,"IncludeExp",r),(!KI(i)||rF(e))&&A_(e,i,t,o),KI(i)&&Kit.includes(t)&&g3e(e)&&iot(e,i,t,o)}s(sot,"_telemetry");function nF(e,t){return e.get(Bo).register(aot(e,t,oa()))}s(nF,"telemetryExpProblem");async function aot(e,t,r){let n="expProblem",i=dn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),A_(e,0,n,i)}s(aot,"_telemetryExpProblem");function PZ(e,t,r,n){return e.get(Bo).register(lot(e,t,r,n))}s(PZ,"telemetryRaw");async function lot(e,t,r,n){let i={...r,...A3e(e)};A_(e,0,t,{properties:i,measurements:n})}s(lot,"_telemetryRaw");function A3e(e){let t=e.get(pn),r={unique_id:_r(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:Zp(t.getEditorInfo())},n=e.get(ic);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}s(A3e,"createRequiredProperties");var DZ=class extends Error{static{s(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,eF.SHA256)(eF.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Ia(e,t,r,n,i){return e.get(Bo).register(y3e(e,t,oa(),r,{...n},i))}s(Ia,"telemetryException");async function y3e(e,t,r,n,i,o){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||Sc(a)||a instanceof Vs||a instanceof tF.ConnectionError||a instanceof tF.ResponseError)return}else{if(a=new DZ(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let y=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(y[0]??"")&&y.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(y[0]??"")&&y.shift(),a.stack=`${a}
${y.join(`
`)}`}}let l=e.get(pn).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=yZ(a,c),f=rF(e),m=rot(a),h=m==="exception",p=dn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),o?.exception_detail)for(let y of o.exception_detail)y.value&&(f?y.value=gZ(y.value):y.value="[redacted]");if(o??=JCe(e,yZ(a,c,f)),o.context={...o.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(o.context["#origin"]=n,o.transaction=n),o.rollup_id!=="auto"&&(p.properties.errno=o.rollup_id),o.created_at=new Date(p.issuedTime).toISOString(),f){let y=a3e(a,c),v=dn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:y.stack||y.toString(),message:y.message,...i});o.rollup_id!=="auto"&&(v.properties.errno=o.rollup_id),await v.makeReadyForSending(e,1,"IncludeExp",r),v.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=v.properties.unique_id,A_(e,1,`error.${m}`,v)}let g=o.rollup_id==="auto"?a.stack??"":o.rollup_id;h&&!e.get(eg).isThrottled(g)&&(p.properties.failbot_payload=JSON.stringify(o)),A_(e,0,`error.${m}`,p)}s(y3e,"_telemetryException");function Zu(e,t,r,n){let i=s(async(...o)=>{try{await t(...o)}catch(a){await y3e(e,a,oa(),r,n)}},"wrapped");return(...o)=>e.get(Bo).register(i(...o))}s(Zu,"telemetryCatch");function $x(e,t,r,n){return e.get(Bo).register(cot(e,t,oa(),r?.extendedBy(),n))}s($x,"telemetryError");async function cot(e,t,r,n,i=0){if(KI(i)&&!rF(e))return;let o=n||dn.createAndMarkAsIssued({},{});await o.makeReadyForSending(e,i,"IncludeExp",r),not(e,i,t,o)}s(cot,"_telemetryError");function C3e(e,t,r,n,i){let o=dn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))o.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return o.extendWithRequestId(n),jt(e,"engine.completion",o,1)}s(C3e,"logEngineCompletion");function x3e(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix)}:n={promptJson:JSON.stringify(t.prefix)};let i=r.extendedBy(n);return jt(e,"engine.prompt",i,1)}s(x3e,"logEnginePrompt");var Id=class e{static{s(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return nF(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();d();d();var T3e=require("os"),oF=require("path");d();var E3e;(()=>{"use strict";var e={975:G=>{function q(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}s(q,"e");function ie(H,U){for(var V,Y="",ae=0,te=-1,le=0,ce=0;ce<=H.length;++ce){if(ce<H.length)V=H.charCodeAt(ce);else{if(V===47)break;V=47}if(V===47){if(!(te===ce-1||le===1))if(te!==ce-1&&le===2){if(Y.length<2||ae!==2||Y.charCodeAt(Y.length-1)!==46||Y.charCodeAt(Y.length-2)!==46){if(Y.length>2){var De=Y.lastIndexOf("/");if(De!==Y.length-1){De===-1?(Y="",ae=0):ae=(Y=Y.slice(0,De)).length-1-Y.lastIndexOf("/"),te=ce,le=0;continue}}else if(Y.length===2||Y.length===1){Y="",ae=0,te=ce,le=0;continue}}U&&(Y.length>0?Y+="/..":Y="..",ae=2)}else Y.length>0?Y+="/"+H.slice(te+1,ce):Y=H.slice(te+1,ce),ae=ce-te-1;te=ce,le=0}else V===46&&le!==-1?++le:le=-1}return Y}s(ie,"r");var z={resolve:s(function(){for(var H,U="",V=!1,Y=arguments.length-1;Y>=-1&&!V;Y--){var ae;Y>=0?ae=arguments[Y]:(H===void 0&&(H=process.cwd()),ae=H),q(ae),ae.length!==0&&(U=ae+"/"+U,V=ae.charCodeAt(0)===47)}return U=ie(U,!V),V?U.length>0?"/"+U:"/":U.length>0?U:"."},"resolve"),normalize:s(function(H){if(q(H),H.length===0)return".";var U=H.charCodeAt(0)===47,V=H.charCodeAt(H.length-1)===47;return(H=ie(H,!U)).length!==0||U||(H="."),H.length>0&&V&&(H+="/"),U?"/"+H:H},"normalize"),isAbsolute:s(function(H){return q(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var H,U=0;U<arguments.length;++U){var V=arguments[U];q(V),V.length>0&&(H===void 0?H=V:H+="/"+V)}return H===void 0?".":z.normalize(H)},"join"),relative:s(function(H,U){if(q(H),q(U),H===U||(H=z.resolve(H))===(U=z.resolve(U)))return"";for(var V=1;V<H.length&&H.charCodeAt(V)===47;++V);for(var Y=H.length,ae=Y-V,te=1;te<U.length&&U.charCodeAt(te)===47;++te);for(var le=U.length-te,ce=ae<le?ae:le,De=-1,be=0;be<=ce;++be){if(be===ce){if(le>ce){if(U.charCodeAt(te+be)===47)return U.slice(te+be+1);if(be===0)return U.slice(te+be)}else ae>ce&&(H.charCodeAt(V+be)===47?De=be:be===0&&(De=0));break}var qe=H.charCodeAt(V+be);if(qe!==U.charCodeAt(te+be))break;qe===47&&(De=be)}var Re="";for(be=V+De+1;be<=Y;++be)be!==Y&&H.charCodeAt(be)!==47||(Re.length===0?Re+="..":Re+="/..");return Re.length>0?Re+U.slice(te+De):(te+=De,U.charCodeAt(te)===47&&++te,U.slice(te))},"relative"),_makeLong:s(function(H){return H},"_makeLong"),dirname:s(function(H){if(q(H),H.length===0)return".";for(var U=H.charCodeAt(0),V=U===47,Y=-1,ae=!0,te=H.length-1;te>=1;--te)if((U=H.charCodeAt(te))===47){if(!ae){Y=te;break}}else ae=!1;return Y===-1?V?"/":".":V&&Y===1?"//":H.slice(0,Y)},"dirname"),basename:s(function(H,U){if(U!==void 0&&typeof U!="string")throw new TypeError('"ext" argument must be a string');q(H);var V,Y=0,ae=-1,te=!0;if(U!==void 0&&U.length>0&&U.length<=H.length){if(U.length===H.length&&U===H)return"";var le=U.length-1,ce=-1;for(V=H.length-1;V>=0;--V){var De=H.charCodeAt(V);if(De===47){if(!te){Y=V+1;break}}else ce===-1&&(te=!1,ce=V+1),le>=0&&(De===U.charCodeAt(le)?--le==-1&&(ae=V):(le=-1,ae=ce))}return Y===ae?ae=ce:ae===-1&&(ae=H.length),H.slice(Y,ae)}for(V=H.length-1;V>=0;--V)if(H.charCodeAt(V)===47){if(!te){Y=V+1;break}}else ae===-1&&(te=!1,ae=V+1);return ae===-1?"":H.slice(Y,ae)},"basename"),extname:s(function(H){q(H);for(var U=-1,V=0,Y=-1,ae=!0,te=0,le=H.length-1;le>=0;--le){var ce=H.charCodeAt(le);if(ce!==47)Y===-1&&(ae=!1,Y=le+1),ce===46?U===-1?U=le:te!==1&&(te=1):U!==-1&&(te=-1);else if(!ae){V=le+1;break}}return U===-1||Y===-1||te===0||te===1&&U===Y-1&&U===V+1?"":H.slice(U,Y)},"extname"),format:s(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(U,V){var Y=V.dir||V.root,ae=V.base||(V.name||"")+(V.ext||"");return Y?Y===V.root?Y+ae:Y+"/"+ae:ae}(0,H)},"format"),parse:s(function(H){q(H);var U={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return U;var V,Y=H.charCodeAt(0),ae=Y===47;ae?(U.root="/",V=1):V=0;for(var te=-1,le=0,ce=-1,De=!0,be=H.length-1,qe=0;be>=V;--be)if((Y=H.charCodeAt(be))!==47)ce===-1&&(De=!1,ce=be+1),Y===46?te===-1?te=be:qe!==1&&(qe=1):te!==-1&&(qe=-1);else if(!De){le=be+1;break}return te===-1||ce===-1||qe===0||qe===1&&te===ce-1&&te===le+1?ce!==-1&&(U.base=U.name=le===0&&ae?H.slice(1,ce):H.slice(le,ce)):(le===0&&ae?(U.name=H.slice(1,te),U.base=H.slice(1,ce)):(U.name=H.slice(le,te),U.base=H.slice(le,ce)),U.ext=H.slice(te,ce)),le>0?U.dir=H.slice(0,le-1):ae&&(U.dir="/"),U},"parse"),sep:"/",delimiter:":",win32:null,posix:null};z.posix=z,G.exports=z}},t={};function r(G){var q=t[G];if(q!==void 0)return q.exports;var ie=t[G]={exports:{}};return e[G](ie,ie.exports,r),ie.exports}s(r,"r"),r.d=(G,q)=>{for(var ie in q)r.o(q,ie)&&!r.o(G,ie)&&Object.defineProperty(G,ie,{enumerable:!0,get:q[ie]})},r.o=(G,q)=>Object.prototype.hasOwnProperty.call(G,q),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:s(()=>h,"URI"),Utils:s(()=>Z,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,q){if(!G.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!o.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{s(this,"l")}static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,ie,z,H,U,V=!1){typeof q=="object"?(this.scheme=q.scheme||u,this.authority=q.authority||u,this.path=q.path||u,this.query=q.query||u,this.fragment=q.fragment||u):(this.scheme=function(Y,ae){return Y||ae?Y:"file"}(q,V),this.authority=ie||u,this.path=function(Y,ae){switch(Y){case"https":case"http":case"file":ae?ae[0]!==f&&(ae=f+ae):ae=f}return ae}(this.scheme,z||u),this.query=H||u,this.fragment=U||u,c(this,V))}get fsPath(){return E(this,!1)}with(q){if(!q)return this;let{scheme:ie,authority:z,path:H,query:U,fragment:V}=q;return ie===void 0?ie=this.scheme:ie===null&&(ie=u),z===void 0?z=this.authority:z===null&&(z=u),H===void 0?H=this.path:H===null&&(H=u),U===void 0?U=this.query:U===null&&(U=u),V===void 0?V=this.fragment:V===null&&(V=u),ie===this.scheme&&z===this.authority&&H===this.path&&U===this.query&&V===this.fragment?this:new g(ie,z,H,U,V)}static parse(q,ie=!1){let z=m.exec(q);return z?new g(z[2]||u,N(z[4]||u),N(z[5]||u),N(z[7]||u),N(z[9]||u),ie):new g(u,u,u,u,u)}static file(q){let ie=u;if(i&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let z=q.indexOf(f,2);z===-1?(ie=q.substring(2),q=f):(ie=q.substring(2,z),q=q.substring(z)||f)}return new g("file",ie,q,u,u)}static from(q){let ie=new g(q.scheme,q.authority,q.path,q.query,q.fragment);return c(ie,!0),ie}toString(q=!1){return _(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let ie=new g(q);return ie._formatted=q.external,ie._fsPath=q._sep===p?q.fsPath:null,ie}}return q}}let p=i?1:void 0;class g extends h{static{s(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=E(this,!1)),this._fsPath}toString(q=!1){return q?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=p),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(G,q,ie){let z,H=-1;for(let U=0;U<G.length;U++){let V=G.charCodeAt(U);if(V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||V===45||V===46||V===95||V===126||q&&V===47||ie&&V===91||ie&&V===93||ie&&V===58)H!==-1&&(z+=encodeURIComponent(G.substring(H,U)),H=-1),z!==void 0&&(z+=G.charAt(U));else{z===void 0&&(z=G.substr(0,U));let Y=y[V];Y!==void 0?(H!==-1&&(z+=encodeURIComponent(G.substring(H,U)),H=-1),z+=Y):H===-1&&(H=U)}}return H!==-1&&(z+=encodeURIComponent(G.substring(H))),z!==void 0?z:G}s(v,"m");function b(G){let q;for(let ie=0;ie<G.length;ie++){let z=G.charCodeAt(ie);z===35||z===63?(q===void 0&&(q=G.substr(0,ie)),q+=y[z]):q!==void 0&&(q+=G[ie])}return q!==void 0?q:G}s(b,"y");function E(G,q){let ie;return ie=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?q?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(ie=ie.replace(/\//g,"\\")),ie}s(E,"v");function _(G,q){let ie=q?b:v,z="",{scheme:H,authority:U,path:V,query:Y,fragment:ae}=G;if(H&&(z+=H,z+=":"),(U||H==="file")&&(z+=f,z+=f),U){let te=U.indexOf("@");if(te!==-1){let le=U.substr(0,te);U=U.substr(te+1),te=le.lastIndexOf(":"),te===-1?z+=ie(le,!1,!1):(z+=ie(le.substr(0,te),!1,!1),z+=":",z+=ie(le.substr(te+1),!1,!0)),z+="@"}U=U.toLowerCase(),te=U.lastIndexOf(":"),te===-1?z+=ie(U,!1,!0):(z+=ie(U.substr(0,te),!1,!0),z+=U.substr(te))}if(V){if(V.length>=3&&V.charCodeAt(0)===47&&V.charCodeAt(2)===58){let te=V.charCodeAt(1);te>=65&&te<=90&&(V=`/${String.fromCharCode(te+32)}:${V.substr(3)}`)}else if(V.length>=2&&V.charCodeAt(1)===58){let te=V.charCodeAt(0);te>=65&&te<=90&&(V=`${String.fromCharCode(te+32)}:${V.substr(2)}`)}z+=ie(V,!0,!1)}return Y&&(z+="?",z+=ie(Y,!1,!1)),ae&&(z+="#",z+=q?ae:v(ae,!1,!1)),z}s(_,"b");function k(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+k(G.substr(3)):G}}s(k,"C");let B=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(G){return G.match(B)?G.replace(B,q=>k(q)):G}s(N,"w");var M=r(975);let re=M.posix||M,pe="/";var Z;(function(G){G.joinPath=function(q,...ie){return q.with({path:re.join(q.path,...ie)})},G.resolvePath=function(q,...ie){let z=q.path,H=!1;z[0]!==pe&&(z=pe+z,H=!0);let U=re.resolve(z,...ie);return H&&U[0]===pe&&!q.authority&&(U=U.substring(1)),q.with({path:U})},G.dirname=function(q){if(q.path.length===0||q.path===pe)return q;let ie=re.dirname(q.path);return ie.length===1&&ie.charCodeAt(0)===46&&(ie=""),q.with({path:ie})},G.basename=function(q){return re.basename(q.path)},G.extname=function(q){return re.extname(q.path)}})(Z||(Z={})),E3e=n})();var{URI:x5,Utils:iF}=E3e;function w3e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+w3e(e.substring(3)):e}}s(w3e,"decodeURIComponentGraceful");var I3e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function NZ(e){return e.match(I3e)?e.replace(I3e,t=>w3e(t)):e}s(NZ,"percentDecode");function ul(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return x5.file(e).toString()}s(ul,"makeFsUri");function XI(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?x5.parse(t[1]+t[2],!0):x5.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}s(XI,"parseUri");function _3e(e){return XI(e),e}s(_3e,"validateUri");function ac(e){try{return XI(e).toString()}catch{return e}}s(ac,"normalizeUri");var S3e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Ga(e){let t=XI(e);if(!S3e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,T3e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,oF.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}s(Ga,"fsPath");function Xo(e){try{return Ga(e)}catch{return}}s(Xo,"getFsPath");function R3e(e){let t=Xo(e);if(t)return x5.file(t).toString()}s(R3e,"getFsUri");function Yx(e,...t){let r,n=Xo(e);return n?r=ul((0,oF.resolve)(n,...t)):r=iF.resolvePath(XI(e),...t.map(i=>k3e(i))).toString(),typeof e=="string"?r:{uri:r}}s(Yx,"resolveFilePath");function Po(e,...t){let r=iF.joinPath(XI(e),...t.map(k3e)).toString();return typeof e=="string"?r:{uri:r}}s(Po,"joinPath");function k3e(e){return uot(e)?e.replaceAll("\\","/"):e}s(k3e,"pathToURIPath");function uot(e){return/^[^/\\]*\\/.test(e)}s(uot,"isWinPath");function Pi(e){return NZ((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}s(Pi,"basename");function tf(e){let t=iF.dirname(XI(e)),r;return S3e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}s(tf,"dirname");var hs=class{static{s(this,"NetworkConfiguration")}},sF={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function LZ(e,t,r){if(r&&nh(e)){for(let n of r){let i=qn(e,n);if(i)return i}return}for(let n of t){let i=qn(e,n);if(i)return i}}s(LZ,"urlConfigOverride");function fot(e,t){switch(t){case"api":return LZ(e,[wt.DebugOverrideCapiUrl,wt.DebugOverrideCapiUrlLegacy],[wt.DebugTestOverrideCapiUrl,wt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return LZ(e,[wt.DebugOverrideProxyUrl,wt.DebugOverrideProxyUrlLegacy],[wt.DebugTestOverrideProxyUrl,wt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!aF(e))return LZ(e,[wt.DebugSnippyOverrideUrl])}}s(fot,"getEndpointOverrideUrl");function ZI(e,t,r,...n){let i=fot(e,r)??(t.envelope.endpoints??sF)[r];return Po(i,...n)}s(ZI,"getEndpointUrl");var sh=class{static{s(this,"ExpConfigMaker")}},y_=class extends sh{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{s(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(fn),o=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(hs).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:o,timeout:5e3})}catch(m){return Id.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return Id.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Ia(r,m,"fetchExperiments"),Id.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new Id(u.Parameters,c.AssignmentContext,f.join(";"))}},lF=class extends sh{static{s(this,"ExpConfigNone")}fetchExperiments(t,r){return Promise.resolve(Id.createEmptyConfig())}};d();d();var cF=class{constructor(t){this.prefix=t}static{s(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},FZ=class extends cF{static{s(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},B3e=s(e=>new FZ(e),"DEFAULT_GRANULARITY"),uF=class extends cF{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{s(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),o=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of o)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var D3e="X-Copilot-ClientTimeBucket",fF=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=B3e(t)}static{s(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new uF(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(D3e,n),otherFilterSettingsToPrefetch:i.map(o=>t.withChange(D3e,o))}}};d();d();d();d();d();d();function dF(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}s(dF,"findKnownOrg");d();d();var Kx=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(Kx||{}),Ha=class{static{s(this,"LogTarget")}},ng=class{static{s(this,"TelemetryLogSender")}},Gt=class{constructor(t){this.category=t}static{s(this,"Logger")}log(t,r,...n){t.get(Ha).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(ng).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(ng).sendException(t,r,n);let o=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,o)}},Zn=new Gt("default");d();var ja=class{static{s(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();var lc=class{static{s(this,"UrlOpener")}};var dot=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],P3e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",N3e="https://gh.io/copilot-network-errors",tu=class{constructor(){this.notifiedErrorCodes=[]}static{s(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&dot.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Gt("certificates").error(t,`${P3e} Please visit ${N3e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(ja).showWarningMessage(P3e,n).then(i=>{if(i?.title===n.title)return t.get(lc).open(N3e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};d();d();function L3e(){return typeof process>"u"}s(L3e,"isWeb");async function ah(e,t,r,n={}){return n={...n,headers:{Authorization:`Bearer ${t.accessToken}`,...L3e()?{}:Gu(e),...n.headers}},await e.get(fn).fetch(new URL(r,t.apiUrl).href,n)}s(ah,"apiFetch");var f0=new Gt("auth"),Q3e=60;function e8(e){let t=e.serverUrl?.match(/^https?:\/\//)?e.serverUrl:"",r=e.apiUrl?.match(/^https?:\/\//)?e.apiUrl:"";return t?r||=t.replace("://","://api."):r?.includes("://api.")&&(t||=r.replace("://api.","://")),(!t||!r)&&(t="https://github.com",r="https://api.github.com"),{apiUrl:r,serverUrl:t}}s(e8,"fillGitHubUrls");function F3e(){return Math.floor(Date.now()/1e3)}s(F3e,"nowSeconds");async function mF(e,t){let r=dn.createAndMarkAsIssued({},{});jt(e,"auth.new_login");let n=await mot(e,t),i=await n.json(),o=i.user_notification;if(M3e(e,o,t),n.clientError&&!n.headers.get("x-github-request-id")&&f0.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return f0.info(e,c),$x(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){f0.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),$x(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&M3e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=F3e()+i.refresh_in+Q3e;let l=new cA(i);return d_(e,l),jt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:F3e()})),{kind:"success",envelope:i}}s(mF,"authFromGitHubToken");async function mot(e,t){let r={"X-GitHub-Api-Version":Gm},n=t.devOverride?.copilotTokenUrl??"copilot_internal/v2/token";try{return await ah(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(tu).notifyUser(e,i),i}}s(mot,"fetchCopilotToken");function M3e(e,t,r){t&&e.get(ja).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,o=i||n?.title==="Dismiss";if(i){let a=e.get(pn).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(lc).open(l)}t.notification_id&&o&&await hot(e,t.notification_id,r)}).catch(n=>{f0.exception(e,n,"copilotToken.notification")})}s(M3e,"notifyUser");async function hot(e,t,r){let n=r.devOverride?.notificationUrl??"copilot_internal/notification",i=await ah(e,r,n,{method:"POST",headers:{"X-GitHub-Api-Version":Gm},body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&f0.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}s(hot,"sendNotificationResultToGitHub");var cA=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{s(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-Q3e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return dF(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let o of i){let[a,l]=o.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}getTokenValues(){return Object.fromEntries(this.tokenMap)}};d();d();d();var G3e=Ze(U3e()),H3e=Ze(W3e()),rf=Ze(require("os"));var t8=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=s(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:s((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(fn).fetch(t.urlString,i).then(o=>o.text().then(a=>{r(o.status,Object.fromEntries(o.headers),a)})).catch(o=>{Zn.errorWithoutTelemetry(this.ctx,"Error sending telemetry",o),r(0,{})})},"sendPOST")};this.client=new H3e.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(hs).getTelemetryUrl(),extensionConfig:{[G3e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=pot(t),this.commonProperties=got(t),this.#e=Ks(t,this.onCopilotToken)}static{s(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function pot(e){let t={},r=e.get(Bs);t["ai.session.id"]=r.sessionId;let n=e.get(ic);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${rf.type()} ${rf.release()}`,t["ai.device.osArchitecture"]=rf.arch(),t["ai.device.osPlatform"]=rf.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Ao).getVersion(),t}s(pot,"getTags");function got(e){let t={};t.common_os=rf.platform(),t.common_platformversion=rf.release(),t.common_arch=rf.arch(),t.common_cpu=Array.from(new Set(rf.cpus().map(n=>n.model))).join();let r=e.get(Bs);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}s(got,"getCommonProperties");var j3e="7d7048df-6dd0-4048-bb23-b716c1461f8f",V3e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Aot="f0000000-0000-0000-0000-000000000000",nf=class{constructor(){this._initialized=!1}static{s(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(Fs).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let o=t.get(Fs);o.setReporter(new t8(t,r,j3e)),o.setRestrictedReporter(new t8(t,r,V3e)),o.setFTReporter(new t8(t,r,Aot,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function v5(e,t,r){return e.get(nf).initialize(e,t,r)}s(v5,"setupTelemetryReporters");var kn=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{s(this,"AuthManager")}#e;#t;getCopilotTokenManager(){return this._copilotTokenManager}updateEnterpriseConfig(t,r){if(this.#t=void 0,this.authPersistence.setAuthAuthority(void 0),r?.uri?.match(/^https?:\/\//))try{this.authPersistence.setAuthAuthority(new URL(r.uri).host),this.#t=r.uri}catch(n){f0.exception(t,n,`Ignoring invalid github-enterprise.uri: <${r.uri}>`)}}getConfiguredUrls(){let t=this.#t??"https://github.com";return{serverUrl:t,apiUrl:t.replace("://","://api.")}}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i;return r?.githubAppId!==void 0?i=await this.getPersistedSession(t,r):i=await this.getSession(t),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.login}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.login})}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof wd)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getSession(t){let r=yot(process.env)??this.#e;if(r)return{...r,...e8(r)};if(r!==null)return await this.getPersistedSession(t)}async getPersistedSession(t,r){let n=await this.authPersistence.getAuthRecord(r);if(n===void 0)return;let i={...this.getConfiguredUrls(),accessToken:n.oauth_token,login:n.user,githubAppId:n.githubAppId};return n.dev_override&&Td(t)==="dev"&&(i.devOverride={copilotTokenUrl:n.dev_override.copilot_token_url,notificationUrl:n.dev_override.notification_url,contentRestrictionsUrl:n.dev_override.content_restrictions_url}),i}async signUpLimited(t,r){let n="copilot_internal/subscribe_limited_user";try{return(await(await ah(t,r,n,{method:"POST",headers:{"X-GitHub-Api-Version":Gm},body:JSON.stringify({restricted_telemetry:t.get(nf).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return f0.exception(t,i,"signUpLimited failed"),!1}}async setPersistedSession({accessToken:t,login:r,githubAppId:n,serverUrl:i}){await this.authPersistence.saveAuthRecord({oauth_token:t,user:r,githubAppId:n},new URL(i||this.getConfiguredUrls().serverUrl).host),this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),await this.authPersistence.purgeLegacyAuthRecords()}setTransientSession(t,r=!0){this.#e=t,r&&this._copilotTokenManager.resetToken()}async deletePersistedSession(){await this.authPersistence.deleteAuthRecord(),await this.authPersistence.purgeLegacyAuthRecords(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function yot(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{apiUrl:e.GH_COPILOT_API_URL,serverUrl:e.GH_COPILOT_SERVER_URL,login:"<GH_COPILOT_TOKEN-user>",accessToken:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{apiUrl:e.GITHUB_COPILOT_API_URL,serverUrl:e.GITHUB_COPILOT_SERVER_URL,login:"<GITHUB_COPILOT_TOKEN-user>",accessToken:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{apiUrl:e.GITHUB_API_URL,serverUrl:e.GITHUB_SERVER_URL,login:e.GITHUB_USER||"<codespaces-user>",accessToken:e.GITHUB_TOKEN}}s(yot,"getSessionFromEnv");d();var Yi=class{static{s(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},gF=class extends Yi{static{s(this,"NoOpStatusReporter")}didChange(){}};var en=class{constructor(t=!1){this.primed=t}static{s(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},wd=class extends Vs{constructor(r){super(r.message??"");this.result=r}static{s(this,"TokenResultError")}},AF=class extends en{constructor(r,n=!1){super(n);this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{s(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new wd({reason:"NotSignedIn"});if(!r?.accessToken)throw new wd({reason:"HTTP401"});let n=await mF(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new wd(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.primed){let r=new Error("Token requested before initialization");if($3e(this.ctx))throw r;f0.exception(this.ctx,r,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new cA(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Yi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Yi);if(n instanceof wd)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(jt(this.ctx,"auth.reset_token_"+r),f0.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):f0.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},r8=class extends AF{static{s(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(kn).getSession(this.ctx)}};function Cot(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}s(Cot,"getIntegrationId");function b5(e){let t={...Gu(e),"X-GitHub-Api-Version":Gm},r=Cot(e.get(pn));return r&&(t["Copilot-Integration-Id"]=r),t}s(b5,"getCapiHeaders");function n8(e,t,...r){return ZI(e,t,"api",...r)}s(n8,"getCapiUrl");async function Jx(e,t){let r=await e.get(en).getToken(),n=n8(e,r,t),i={Authorization:`Bearer ${r.token}`,...b5(e)};return await e.get(fn).fetch(new URL(n).href,{method:"GET",headers:i})}s(Jx,"fetchCapiUrl");async function z3e(e,t,r){let n=await e.get(en).getToken(),i=n8(e,n,t),o={Authorization:`Bearer ${n.token}`,...b5(e)};return await e.get(fn).fetch(new URL(i).href,{method:"POST",headers:o,body:r})}s(z3e,"postCapiUrl");d();var Y3e=10*60*1e3,ui={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"},K3e=new Set([ui.O1Ga,ui.O3Mini,ui.O1Mini,ui.Gemini20Pro,ui.Gemini20Flash]);function ps(e){switch(e){case"edits":case"user":case"inline":return[ui.Gpt4o,ui.Gpt4turbo,ui.Gpt4,ui.O1Mini,ui.O1Ga,ui.Claude35Sonnet,ui.O3Mini,ui.Gemini20Flash,ui.Claude37Sonnet,ui.Claude37SonnetThought,ui.Gpt45];case"meta":case"suggestions":case"synonyms":return[ui.Gpt4oMini,ui.Gpt35turbo]}}s(ps,"getSupportedModelFamiliesForPrompt");var xF={textEmbedding3Small:"text-embedding-3-small"},xot=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),vot=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),is_chat_default:I.Optional(I.Boolean()),is_chat_fallback:I.Optional(I.Boolean()),capabilities:xot,billing:I.Optional(I.Object({is_premium:I.Optional(I.Boolean()),multiplier:I.Optional(I.Number())})),object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),J3e=I.Object({data:I.Array(vot)}),of=class{static{s(this,"ModelMetadataProvider")}},yF=class extends of{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0;Ks(r,()=>{this._lastFetchTime=0})}static{s(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await Jx(this.ctx,"/models");if(r.status<200||r.status>=300){if(r.status===429&&this._metadata.length>0){Zn.error(this.ctx,"Rate limited while fetching models from CAPI",{status:r.status,statusText:r.statusText});return}throw Zn.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new Rx(r)}await this.processModels(r)}async fetchModel(r){let n=await Jx(this.ctx,`/models/${r}`);if(!n.ok){Zn.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await z3e(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){Zn.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>Y3e}},CF=class extends of{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{s(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(dr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),o=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,o.push(c))}}return o.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[o,a]=n;if(Date.now()-a<Y3e)return o}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function X3e(e){let t=qn(e,wt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}s(X3e,"getUserSelectedModelConfiguration");d();d();var bot=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},exe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},MZ,vF,txe,QZ=class extends Cn{static{s(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),MZ.add(this),vF.set(this,void 0),bot(this,vF,t,"f"),this.error=r}Errors(){return new C5(exe(this,MZ,"m",txe).call(this))}};vF=new WeakMap,MZ=new WeakSet,txe=s(function*(){this.error&&(yield this.error),yield*exe(this,vF,"f")},"_AssertError_Iterator");function Z3e(e,t,r){if(!hi(e,t,r))throw new QZ(tg(e,t,r))}s(Z3e,"AssertValue");function bF(...e){return e.length===3?Z3e(e[0],e[1],e[2]):Z3e(e[0],[],e[1])}s(bF,"Assert");d();d();d();function Eot(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Ki(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Ki(e[r]);return t}s(Eot,"FromObject");function Iot(e){return e.map(t=>Ki(t))}s(Iot,"FromArray");function Tot(e){return e.slice()}s(Tot,"FromTypedArray");function wot(e){return new Map(Ki([...e.entries()]))}s(wot,"FromMap");function _ot(e){return new Set(Ki([...e.entries()]))}s(_ot,"FromSet");function Sot(e){return new Date(e.toISOString())}s(Sot,"FromDate");function Ki(e){if(yn(e))return Iot(e);if(l0(e))return Sot(e);if(md(e))return Tot(e);if(Hge(e))return wot(e);if(jge(e))return _ot(e);if(ci(e))return Eot(e);if(ju(e))return e;throw new Error("ValueClone: Unable to clone value")}s(Ki,"Clone");var sf=class extends Cn{static{s(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Ji(e){return e5(e)?e():Ki(e)}s(Ji,"FromDefault");function Rot(e,t){return An(e,"default")?Ji(e.default):{}}s(Rot,"FromAny");function kot(e,t){return{}}s(kot,"FromArgument");function Bot(e,t){if(e.uniqueItems===!0&&!An(e,"default"))throw new sf(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!An(e,"default"))throw new sf(e,"Array with the contains constraint requires a default value");return"default"in e?Ji(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>ru(e.items,t)):[]}s(Bot,"FromArray");function Dot(e,t){return An(e,"default")?Ji(e.default):async function*(){}()}s(Dot,"FromAsyncIterator");function Pot(e,t){return An(e,"default")?Ji(e.default):BigInt(0)}s(Pot,"FromBigInt");function Not(e,t){return An(e,"default")?Ji(e.default):!1}s(Not,"FromBoolean");function Lot(e,t){if(An(e,"default"))return Ji(e.default);{let r=ru(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let o=this;o[n]=i}}}:class{}}}s(Lot,"FromConstructor");function Fot(e,t){return An(e,"default")?Ji(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}s(Fot,"FromDate");function Mot(e,t){return An(e,"default")?Ji(e.default):()=>ru(e.returns,t)}s(Mot,"FromFunction");function Qot(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return ru(n,[...t,...r])}s(Qot,"FromImport");function Oot(e,t){return An(e,"default")?Ji(e.default):e.minimum!==void 0?e.minimum:0}s(Oot,"FromInteger");function Uot(e,t){if(An(e,"default"))return Ji(e.default);{let r=e.allOf.reduce((n,i)=>{let o=ru(i,t);return typeof o=="object"?{...n,...o}:o},{});if(!hi(e,t,r))throw new sf(e,"Intersect produced invalid value. Consider using a default value.");return r}}s(Uot,"FromIntersect");function qot(e,t){return An(e,"default")?Ji(e.default):function*(){}()}s(qot,"FromIterator");function Wot(e,t){return An(e,"default")?Ji(e.default):e.const}s(Wot,"FromLiteral");function Got(e,t){if(An(e,"default"))return Ji(e.default);throw new sf(e,"Never types cannot be created. Consider using a default value.")}s(Got,"FromNever");function Hot(e,t){if(An(e,"default"))return Ji(e.default);throw new sf(e,"Not types must have a default value")}s(Hot,"FromNot");function jot(e,t){return An(e,"default")?Ji(e.default):null}s(jot,"FromNull");function Vot(e,t){return An(e,"default")?Ji(e.default):e.minimum!==void 0?e.minimum:0}s(Vot,"FromNumber");function $ot(e,t){if(An(e,"default"))return Ji(e.default);{let r=new Set(e.required),n={};for(let[i,o]of Object.entries(e.properties))r.has(i)&&(n[i]=ru(o,t));return n}}s($ot,"FromObject");function zot(e,t){return An(e,"default")?Ji(e.default):Promise.resolve(ru(e.item,t))}s(zot,"FromPromise");function Yot(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(An(e,"default"))return Ji(e.default);if(r===Vp||r===jp)return{};{let i=r.slice(1,r.length-1).split("|"),o={};for(let a of i)o[a]=ru(n,t);return o}}s(Yot,"FromRecord");function Kot(e,t){return An(e,"default")?Ji(e.default):ru(zi(e,t),t)}s(Kot,"FromRef");function Jot(e,t){if(An(e,"default"))return Ji(e.default);throw new sf(e,"RegExp types cannot be created. Consider using a default value.")}s(Jot,"FromRegExp");function Xot(e,t){if(e.pattern!==void 0){if(An(e,"default"))return Ji(e.default);throw new sf(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(An(e,"default"))return Ji(e.default);throw new sf(e,"String types with formats must specify a default value")}else return An(e,"default")?Ji(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}s(Xot,"FromString");function Zot(e,t){return An(e,"default")?Ji(e.default):"value"in e?Symbol.for(e.value):Symbol()}s(Zot,"FromSymbol");function est(e,t){if(An(e,"default"))return Ji(e.default);if(!FN(e))throw new sf(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return mI(e)[0]}s(est,"FromTemplateLiteral");function tst(e,t){if(rxe++>cst)throw new sf(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return An(e,"default")?Ji(e.default):ru(zi(e,t),t)}s(tst,"FromThis");function rst(e,t){return An(e,"default")?Ji(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>ru(e.items[n],t))}s(rst,"FromTuple");function nst(e,t){if(An(e,"default"))return Ji(e.default)}s(nst,"FromUndefined");function ist(e,t){if(An(e,"default"))return Ji(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return ru(e.anyOf[0],t)}s(ist,"FromUnion");function ost(e,t){return An(e,"default")?Ji(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}s(ost,"FromUint8Array");function sst(e,t){return An(e,"default")?Ji(e.default):{}}s(sst,"FromUnknown");function ast(e,t){if(An(e,"default"))return Ji(e.default)}s(ast,"FromVoid");function lst(e,t){if(An(e,"default"))return Ji(e.default);throw new Error("User defined types must specify a default value")}s(lst,"FromKind");function ru(e,t){let r=Sl(e,t),n=e;switch(n[ot]){case"Any":return Rot(n,r);case"Argument":return kot(n,r);case"Array":return Bot(n,r);case"AsyncIterator":return Dot(n,r);case"BigInt":return Pot(n,r);case"Boolean":return Not(n,r);case"Constructor":return Lot(n,r);case"Date":return Fot(n,r);case"Function":return Mot(n,r);case"Import":return Qot(n,r);case"Integer":return Oot(n,r);case"Intersect":return Uot(n,r);case"Iterator":return qot(n,r);case"Literal":return Wot(n,r);case"Never":return Got(n,r);case"Not":return Hot(n,r);case"Null":return jot(n,r);case"Number":return Vot(n,r);case"Object":return $ot(n,r);case"Promise":return zot(n,r);case"Record":return Yot(n,r);case"Ref":return Kot(n,r);case"RegExp":return Jot(n,r);case"String":return Xot(n,r);case"Symbol":return Zot(n,r);case"TemplateLiteral":return est(n,r);case"This":return tst(n,r);case"Tuple":return rst(n,r);case"Undefined":return nst(n,r);case"Union":return ist(n,r);case"Uint8Array":return ost(n,r);case"Unknown":return sst(n,r);case"Void":return ast(n,r);default:if(!c0.Has(n[ot]))throw new sf(n,"Unknown type");return lst(n,r)}}s(ru,"Visit");var cst=512,rxe=0;function _d(...e){return rxe=0,e.length===2?ru(e[0],e[1]):ru(e[0],[])}s(_d,"Create");var EF=class extends Cn{static{s(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function ust(e,t,r){if(e[ot]==="Object"&&typeof r=="object"&&!Y1(r)){let n=e,i=Object.getOwnPropertyNames(r),o=Object.entries(n.properties),[a,l]=[1/o.length,o.length];return o.reduce((c,[u,f])=>{let m=f[ot]==="Literal"&&f.const===r[u]?l:0,h=hi(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return hi(e,t,r)?1:0}s(ust,"ScoreUnion");function fst(e,t,r){let n=e.anyOf.map(a=>zi(a,t)),[i,o]=[n[0],0];for(let a of n){let l=ust(a,t,r);l>o&&(i=a,o=l)}return i}s(fst,"SelectUnion");function dst(e,t,r){if("default"in e)return typeof r=="function"?e.default:Ki(e.default);{let n=fst(e,t,r);return C_(n,t,r)}}s(dst,"CastUnion");function mst(e,t,r){return hi(e,t,r)?Ki(r):_d(e,t)}s(mst,"DefaultClone");function hst(e,t,r){return hi(e,t,r)?r:_d(e,t)}s(hst,"Default");function pst(e,t,r){if(hi(e,t,r))return Ki(r);let n=yn(r)?Ki(r):_d(e,t),i=Xr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Xr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>lh(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!hi(e,t,l))throw new EF(e,"Array cast produced invalid data due to uniqueItems constraint");return l}s(pst,"FromArray");function gst(e,t,r){if(hi(e,t,r))return _d(e,t);let n=new Set(e.returns.required||[]),i=s(function(){},"result");for(let[o,a]of Object.entries(e.returns.properties))!n.has(o)&&r.prototype[o]===void 0||(i.prototype[o]=lh(a,t,r.prototype[o]));return i}s(gst,"FromConstructor");function Ast(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return lh(i,[...t,...n],r)}s(Ast,"FromImport");function yst(e,t,r){let n=_d(e,t),i=ci(n)&&ci(r)?{...n,...r}:r;return hi(e,t,i)?i:_d(e,t)}s(yst,"FromIntersect");function Cst(e,t,r){throw new EF(e,"Never types cannot be cast")}s(Cst,"FromNever");function xst(e,t,r){if(hi(e,t,r))return r;if(r===null||typeof r!="object")return _d(e,t);let n=new Set(e.required||[]),i={};for(let[o,a]of Object.entries(e.properties))!n.has(o)&&r[o]===void 0||(i[o]=lh(a,t,r[o]));if(typeof e.additionalProperties=="object"){let o=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))o.includes(a)||(i[a]=lh(e.additionalProperties,t,r[a]))}return i}s(xst,"FromObject");function vst(e,t,r){if(hi(e,t,r))return Ki(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return _d(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=lh(i,t,l);return o}s(vst,"FromRecord");function bst(e,t,r){return lh(zi(e,t),t,r)}s(bst,"FromRef");function Est(e,t,r){return lh(zi(e,t),t,r)}s(Est,"FromThis");function Ist(e,t,r){return hi(e,t,r)?Ki(r):yn(r)?e.items===void 0?[]:e.items.map((n,i)=>lh(n,t,r[i])):_d(e,t)}s(Ist,"FromTuple");function Tst(e,t,r){return hi(e,t,r)?Ki(r):dst(e,t,r)}s(Tst,"FromUnion");function lh(e,t,r){let n=Ui(e.$id)?Sl(e,t):t,i=e;switch(e[ot]){case"Array":return pst(i,n,r);case"Constructor":return gst(i,n,r);case"Import":return Ast(i,n,r);case"Intersect":return yst(i,n,r);case"Never":return Cst(i,n,r);case"Object":return xst(i,n,r);case"Record":return vst(i,n,r);case"Ref":return bst(i,n,r);case"This":return Est(i,n,r);case"Tuple":return Ist(i,n,r);case"Union":return Tst(i,n,r);case"Date":case"Symbol":case"Uint8Array":return mst(e,t,r);default:return hst(i,n,r)}}s(lh,"Visit");function C_(...e){return e.length===3?lh(e[0],e[1],e[2]):lh(e[0],[],e[1])}s(C_,"Cast");d();function wst(e){return r5(e)&&e[ot]!=="Unsafe"}s(wst,"IsCheckable");function _st(e,t,r){return yn(r)?r.map(n=>nu(e.items,t,n)):r}s(_st,"FromArray");function Sst(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return nu(i,[...t,...n],r)}s(Sst,"FromImport");function Rst(e,t,r){let n=e.unevaluatedProperties,o=e.allOf.map(l=>nu(l,t,Ki(r))).reduce((l,c)=>ci(c)?{...l,...c}:c,{});if(!ci(r)||!ci(o)||!r5(n))return o;let a=z0(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||hi(n,t,r[l])&&(o[l]=nu(n,t,r[l]));return o}s(Rst,"FromIntersect");function kst(e,t,r){if(!ci(r)||yn(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(An(e.properties,i)){r[i]=nu(e.properties[i],t,r[i]);continue}if(r5(n)&&hi(n,t,r[i])){r[i]=nu(n,t,r[i]);continue}delete r[i]}return r}s(kst,"FromObject");function Bst(e,t,r){if(!ci(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[o,a]=Object.entries(e.patternProperties)[0],l=new RegExp(o);for(let c of i){if(l.test(c)){r[c]=nu(a,t,r[c]);continue}if(r5(n)&&hi(n,t,r[c])){r[c]=nu(n,t,r[c]);continue}delete r[c]}return r}s(Bst,"FromRecord");function Dst(e,t,r){return nu(zi(e,t),t,r)}s(Dst,"FromRef");function Pst(e,t,r){return nu(zi(e,t),t,r)}s(Pst,"FromThis");function Nst(e,t,r){if(!yn(r))return r;if(ls(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=nu(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}s(Nst,"FromTuple");function Lst(e,t,r){for(let n of e.anyOf)if(wst(n)&&hi(n,t,r))return nu(n,t,r);return r}s(Lst,"FromUnion");function nu(e,t,r){let n=Ui(e.$id)?Sl(e,t):t,i=e;switch(i[ot]){case"Array":return _st(i,n,r);case"Import":return Sst(i,n,r);case"Intersect":return Rst(i,n,r);case"Object":return kst(i,n,r);case"Record":return Bst(i,n,r);case"Ref":return Dst(i,n,r);case"This":return Pst(i,n,r);case"Tuple":return Nst(i,n,r);case"Union":return Lst(i,n,r);default:return r}}s(nu,"Visit");function IF(...e){return e.length===3?nu(e[0],e[1],e[2]):nu(e[0],[],e[1])}s(IF,"Clean");d();function TF(e){return Ui(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}s(TF,"IsStringNumeric");function Fst(e){return tc(e)||Hp(e)||Xr(e)}s(Fst,"IsValueToString");function x_(e){return e===!0||Xr(e)&&e===1||tc(e)&&e===BigInt("1")||Ui(e)&&(e.toLowerCase()==="true"||e==="1")}s(x_,"IsValueTrue");function v_(e){return e===!1||Xr(e)&&(e===0||Object.is(e,-0))||tc(e)&&e===BigInt("0")||Ui(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}s(v_,"IsValueFalse");function Mst(e){return Ui(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(Mst,"IsTimeStringWithTimeZone");function Qst(e){return Ui(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(Qst,"IsTimeStringWithoutTimeZone");function Ost(e){return Ui(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(Ost,"IsDateTimeStringWithTimeZone");function Ust(e){return Ui(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(Ust,"IsDateTimeStringWithoutTimeZone");function qst(e){return Ui(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}s(qst,"IsDateString");function Wst(e,t){let r=ixe(e);return r===t?r:e}s(Wst,"TryConvertLiteralString");function Gst(e,t){let r=oxe(e);return r===t?r:e}s(Gst,"TryConvertLiteralNumber");function Hst(e,t){let r=nxe(e);return r===t?r:e}s(Hst,"TryConvertLiteralBoolean");function jst(e,t){return Ui(e.const)?Wst(t,e.const):Xr(e.const)?Gst(t,e.const):Hp(e.const)?Hst(t,e.const):t}s(jst,"TryConvertLiteral");function nxe(e){return x_(e)?!0:v_(e)?!1:e}s(nxe,"TryConvertBoolean");function Vst(e){let t=s(r=>r.split(".")[0],"truncateInteger");return TF(e)?BigInt(t(e)):Xr(e)?BigInt(Math.trunc(e)):v_(e)?BigInt(0):x_(e)?BigInt(1):e}s(Vst,"TryConvertBigInt");function ixe(e){return K1(e)&&e.description!==void 0?e.description.toString():Fst(e)?e.toString():e}s(ixe,"TryConvertString");function oxe(e){return TF(e)?parseFloat(e):x_(e)?1:v_(e)?0:e}s(oxe,"TryConvertNumber");function $st(e){return TF(e)?parseInt(e):Xr(e)?Math.trunc(e):x_(e)?1:v_(e)?0:e}s($st,"TryConvertInteger");function zst(e){return Ui(e)&&e.toLowerCase()==="null"?null:e}s(zst,"TryConvertNull");function Yst(e){return Ui(e)&&e==="undefined"?void 0:e}s(Yst,"TryConvertUndefined");function Kst(e){return l0(e)?e:Xr(e)?new Date(e):x_(e)?new Date(1):v_(e)?new Date(0):TF(e)?new Date(parseInt(e)):Qst(e)?new Date(`1970-01-01T${e}.000Z`):Mst(e)?new Date(`1970-01-01T${e}`):Ust(e)?new Date(`${e}.000Z`):Ost(e)?new Date(e):qst(e)?new Date(`${e}T00:00:00.000Z`):e}s(Kst,"TryConvertDate");function Jst(e,t,r){return(yn(r)?r:[r]).map(i=>ch(e.items,t,i))}s(Jst,"FromArray");function Xst(e,t,r){return Vst(r)}s(Xst,"FromBigInt");function Zst(e,t,r){return nxe(r)}s(Zst,"FromBoolean");function eat(e,t,r){return Kst(r)}s(eat,"FromDate");function tat(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return ch(i,[...t,...n],r)}s(tat,"FromImport");function rat(e,t,r){return $st(r)}s(rat,"FromInteger");function nat(e,t,r){return e.allOf.reduce((n,i)=>ch(i,t,n),r)}s(nat,"FromIntersect");function iat(e,t,r){return jst(e,r)}s(iat,"FromLiteral");function oat(e,t,r){return zst(r)}s(oat,"FromNull");function sat(e,t,r){return oxe(r)}s(sat,"FromNumber");function aat(e,t,r){if(!ci(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))An(r,n)&&(r[n]=ch(e.properties[n],t,r[n]));return r}s(aat,"FromObject");function lat(e,t,r){if(!ci(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],o=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=ch(o,t,l);return r}s(lat,"FromRecord");function cat(e,t,r){return ch(zi(e,t),t,r)}s(cat,"FromRef");function uat(e,t,r){return ixe(r)}s(uat,"FromString");function fat(e,t,r){return Ui(r)||Xr(r)?Symbol(r):r}s(fat,"FromSymbol");function dat(e,t,r){return ch(zi(e,t),t,r)}s(dat,"FromThis");function mat(e,t,r){return yn(r)&&!ls(e.items)?r.map((i,o)=>o<e.items.length?ch(e.items[o],t,i):i):r}s(mat,"FromTuple");function hat(e,t,r){return Yst(r)}s(hat,"FromUndefined");function pat(e,t,r){for(let n of e.anyOf){let i=ch(n,t,Ki(r));if(hi(n,t,i))return i}return r}s(pat,"FromUnion");function ch(e,t,r){let n=Sl(e,t),i=e;switch(e[ot]){case"Array":return Jst(i,n,r);case"BigInt":return Xst(i,n,r);case"Boolean":return Zst(i,n,r);case"Date":return eat(i,n,r);case"Import":return tat(i,n,r);case"Integer":return rat(i,n,r);case"Intersect":return nat(i,n,r);case"Literal":return iat(i,n,r);case"Null":return oat(i,n,r);case"Number":return sat(i,n,r);case"Object":return aat(i,n,r);case"Record":return lat(i,n,r);case"Ref":return cat(i,n,r);case"String":return uat(i,n,r);case"Symbol":return fat(i,n,r);case"This":return dat(i,n,r);case"Tuple":return mat(i,n,r);case"Undefined":return hat(i,n,r);case"Union":return pat(i,n,r);default:return r}}s(ch,"Visit");function wF(...e){return e.length===3?ch(e[0],e[1],e[2]):ch(e[0],[],e[1])}s(wF,"Convert");d();function sxe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!hi(t,r,n))throw new VI(t,n,tg(t,r,n).First());return aA(t,r)?$I(t,r,n):n}s(sxe,"Decode");d();function uA(e,t){let r=An(e,"default")?e.default:void 0,n=e5(r)?r():Ki(r);return ls(t)?n:ci(t)&&ci(n)?Object.assign(n,t):t}s(uA,"ValueOrDefault");function OZ(e){return r5(e)&&"default"in e}s(OZ,"HasDefaultProperty");function gat(e,t,r){if(yn(r)){for(let i=0;i<r.length;i++)r[i]=d0(e.items,t,r[i]);return r}let n=uA(e,r);if(!yn(n))return n;for(let i=0;i<n.length;i++)n[i]=d0(e.items,t,n[i]);return n}s(gat,"FromArray");function Aat(e,t,r){return l0(r)?r:uA(e,r)}s(Aat,"FromDate");function yat(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return d0(i,[...t,...n],r)}s(yat,"FromImport");function Cat(e,t,r){let n=uA(e,r);return e.allOf.reduce((i,o)=>{let a=d0(o,t,n);return ci(a)?{...i,...a}:a},{})}s(Cat,"FromIntersect");function xat(e,t,r){let n=uA(e,r);if(!ci(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let o of i){let a=d0(e.properties[o],t,n[o]);ls(a)||(n[o]=d0(e.properties[o],t,n[o]))}if(!OZ(e.additionalProperties))return n;for(let o of Object.getOwnPropertyNames(n))i.includes(o)||(n[o]=d0(e.additionalProperties,t,n[o]));return n}s(xat,"FromObject");function vat(e,t,r){let n=uA(e,r);if(!ci(n))return n;let i=e.additionalProperties,[o,a]=Object.entries(e.patternProperties)[0],l=new RegExp(o);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&OZ(a)&&(n[c]=d0(a,t,n[c]));if(!OZ(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=d0(i,t,n[c]));return n}s(vat,"FromRecord");function bat(e,t,r){return d0(zi(e,t),t,uA(e,r))}s(bat,"FromRef");function Eat(e,t,r){return d0(zi(e,t),t,r)}s(Eat,"FromThis");function Iat(e,t,r){let n=uA(e,r);if(!yn(n)||ls(e.items))return n;let[i,o]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<o;a++)a<i.length&&(n[a]=d0(i[a],t,n[a]));return n}s(Iat,"FromTuple");function Tat(e,t,r){let n=uA(e,r);for(let i of e.anyOf){let o=d0(i,t,Ki(n));if(hi(i,t,o))return o}return n}s(Tat,"FromUnion");function d0(e,t,r){let n=Sl(e,t),i=e;switch(i[ot]){case"Array":return gat(i,n,r);case"Date":return Aat(i,n,r);case"Import":return yat(i,n,r);case"Intersect":return Cat(i,n,r);case"Object":return xat(i,n,r);case"Record":return vat(i,n,r);case"Ref":return bat(i,n,r);case"This":return Eat(i,n,r);case"Tuple":return Iat(i,n,r);case"Union":return Tat(i,n,r);default:return uA(i,r)}}s(d0,"Visit");function _F(...e){return e.length===3?d0(e[0],e[1],e[2]):d0(e[0],[],e[1])}s(_F,"Default");d();d();var uh={};H1(uh,{Delete:()=>_at,Format:()=>b_,Get:()=>Rat,Has:()=>Sat,Set:()=>wat,ValuePointerRootDeleteError:()=>RF,ValuePointerRootSetError:()=>SF});d();var SF=class extends Cn{static{s(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},RF=class extends Cn{static{s(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function axe(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}s(axe,"Escape");function*b_(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield axe(e.slice(t,r))),t=n+1):r=n;yield axe(e.slice(t))}s(b_,"Format");function wat(e,t,r){if(t==="")throw new SF(e,t,r);let[n,i,o]=[null,e,""];for(let a of b_(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],o=a;n[o]=r}s(wat,"Set");function _at(e,t){if(t==="")throw new RF(e,t);let[r,n,i]=[null,e,""];for(let o of b_(t)){if(n[o]===void 0||n[o]===null)return;r=n,n=n[o],i=o}if(Array.isArray(r)){let o=parseInt(i);r.splice(o,1)}else delete r[i]}s(_at,"Delete");function Sat(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let o of b_(t)){if(n[o]===void 0)return!1;r=n,n=n[o],i=o}return Object.getOwnPropertyNames(r).includes(i)}s(Sat,"Has");function Rat(e,t){if(t==="")return e;let r=e;for(let n of b_(t)){if(r[n]===void 0)return;r=r[n]}return r}s(Rat,"Get");d();function kat(e,t){if(!ci(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>Xx(e[i],t[i]))}s(kat,"ObjectType");function Bat(e,t){return l0(t)&&e.getTime()===t.getTime()}s(Bat,"DateType");function Dat(e,t){return!yn(t)||e.length!==t.length?!1:e.every((r,n)=>Xx(r,t[n]))}s(Dat,"ArrayType");function Pat(e,t){return!md(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>Xx(r,t[n]))}s(Pat,"TypedArrayType");function Nat(e,t){return e===t}s(Nat,"ValueType");function Xx(e,t){if(l0(e))return Bat(e,t);if(md(e))return Pat(e,t);if(yn(e))return Dat(e,t);if(ci(e))return kat(e,t);if(ju(e))return Nat(e,t);throw new Error("ValueEquals: Unable to compare value")}s(Xx,"Equal");var Lat=co({type:Di("insert"),path:u0(),value:Xm()}),Fat=co({type:Di("update"),path:u0(),value:Xm()}),Mat=co({type:Di("delete"),path:u0()}),cxe=lo([Lat,Fat,Mat]),kF=class extends Cn{static{s(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function BF(e,t){return{type:"update",path:e,value:t}}s(BF,"CreateUpdate");function uxe(e,t){return{type:"insert",path:e,value:t}}s(uxe,"CreateInsert");function fxe(e){return{type:"delete",path:e}}s(fxe,"CreateDelete");function lxe(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new kF(e,"Cannot diff objects with symbols")}s(lxe,"AssertDiffable");function*Qat(e,t,r){if(lxe(t),lxe(r),!JK(r))return yield BF(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let o of i)An(t,o)||(yield uxe(`${e}/${o}`,r[o]));for(let o of n)An(r,o)&&(Xx(t,r)||(yield*DF(`${e}/${o}`,t[o],r[o])));for(let o of n)An(r,o)||(yield fxe(`${e}/${o}`))}s(Qat,"ObjectType");function*Oat(e,t,r){if(!yn(r))return yield BF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*DF(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield uxe(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield fxe(`${e}/${n}`))}s(Oat,"ArrayType");function*Uat(e,t,r){if(!md(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield BF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*DF(`${e}/${n}`,t[n],r[n])}s(Uat,"TypedArrayType");function*qat(e,t,r){t!==r&&(yield BF(e,r))}s(qat,"ValueType");function*DF(e,t,r){if(JK(t))return yield*Qat(e,t,r);if(yn(t))return yield*Oat(e,t,r);if(md(t))return yield*Uat(e,t,r);if(ju(t))return yield*qat(e,t,r);throw new kF(t,"Unable to diff value")}s(DF,"Visit");function dxe(e,t){return[...DF("",e,t)]}s(dxe,"Diff");function Wat(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}s(Wat,"IsRootUpdate");function Gat(e){return e.length===0}s(Gat,"IsIdentity");function mxe(e,t){if(Wat(t))return Ki(t[0].value);if(Gat(t))return Ki(e);let r=Ki(e);for(let n of t)switch(n.type){case"insert":{uh.Set(r,n.path,n.value);break}case"update":{uh.Set(r,n.path,n.value);break}case"delete":{uh.Delete(r,n.path);break}}return r}s(mxe,"Patch");d();function hxe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=aA(t,r)?YI(t,r,n):n;if(!hi(t,r,i))throw new zI(t,i,tg(t,r,i).First());return i}s(hxe,"Encode");d();function PF(e){return ci(e)&&!yn(e)}s(PF,"IsStandardObject");var NF=class extends Cn{static{s(this,"ValueMutateError")}constructor(t){super(t)}};function Hat(e,t,r,n){if(!PF(r))uh.Set(e,t,Ki(n));else{let i=Object.getOwnPropertyNames(r),o=Object.getOwnPropertyNames(n);for(let a of i)o.includes(a)||delete r[a];for(let a of o)i.includes(a)||(r[a]=null);for(let a of o)UZ(e,`${t}/${a}`,r[a],n[a])}}s(Hat,"ObjectType");function jat(e,t,r,n){if(!yn(r))uh.Set(e,t,Ki(n));else{for(let i=0;i<n.length;i++)UZ(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}s(jat,"ArrayType");function Vat(e,t,r,n){if(md(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else uh.Set(e,t,Ki(n))}s(Vat,"TypedArrayType");function $at(e,t,r,n){r!==n&&uh.Set(e,t,n)}s($at,"ValueType");function UZ(e,t,r,n){if(yn(n))return jat(e,t,r,n);if(md(n))return Vat(e,t,r,n);if(PF(n))return Hat(e,t,r,n);if(ju(n))return $at(e,t,r,n)}s(UZ,"Visit");function pxe(e){return md(e)||ju(e)}s(pxe,"IsNonMutableValue");function zat(e,t){return PF(e)&&yn(t)||yn(e)&&PF(t)}s(zat,"IsMismatchedValue");function gxe(e,t){if(pxe(e)||pxe(t))throw new NF("Only object and array types can be mutated at the root level");if(zat(e,t))throw new NF("Cannot assign due type mismatch of assignable values");UZ(e,"",e,t)}s(gxe,"Mutate");d();var LF=class extends Cn{static{s(this,"ParseError")}constructor(t){super(t)}},qZ;(function(e){let t=new Map([["Assert",(o,a,l)=>(bF(o,a,l),l)],["Cast",(o,a,l)=>C_(o,a,l)],["Clean",(o,a,l)=>IF(o,a,l)],["Clone",(o,a,l)=>Ki(l)],["Convert",(o,a,l)=>wF(o,a,l)],["Decode",(o,a,l)=>aA(o,a)?$I(o,a,l):l],["Default",(o,a,l)=>_F(o,a,l)],["Encode",(o,a,l)=>aA(o,a)?YI(o,a,l):l]]);function r(o){t.delete(o)}s(r,"Delete"),e.Delete=r;function n(o,a){t.set(o,a)}s(n,"Set"),e.Set=n;function i(o){return t.get(o)}s(i,"Get"),e.Get=i})(qZ||(qZ={}));var Axe=["Clone","Clean","Default","Convert","Assert","Decode"];function Yat(e,t,r,n){return e.reduce((i,o)=>{let a=qZ.Get(o);if(ls(a))throw new LF(`Unable to find Parse operation '${o}'`);return a(t,r,i)},n)}s(Yat,"ParseValue");function yxe(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?yn(e[0])?[e[0],e[1],[],e[2]]:[Axe,e[0],e[1],e[2]]:e.length===2?[Axe,e[0],[],e[1]]:(()=>{throw new LF("Invalid Arguments")})();return Yat(t,r,n,i)}s(yxe,"Parse");d();var E5={};H1(E5,{Assert:()=>bF,Cast:()=>C_,Check:()=>hi,Clean:()=>IF,Clone:()=>Ki,Convert:()=>wF,Create:()=>_d,Decode:()=>sxe,Default:()=>_F,Diff:()=>dxe,Edit:()=>cxe,Encode:()=>hxe,Equal:()=>Xx,Errors:()=>tg,Hash:()=>y5,Mutate:()=>gxe,Parse:()=>yxe,Patch:()=>mxe,ValueErrorIterator:()=>C5});d();var Kat={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},Jat="gpt-4o-copilot",Sd=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ks(this._ctx,n=>this.refreshAvailableModels(n))}static{s(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Jat}parseModelsResponse(t){try{return E5.Parse(J3e,t)}catch(r){Zn.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([Kat]):await this.fetch()}async fetch(){let t=await Jx(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(Zn.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=X3e(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&Zn.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=qn(this._ctx,wt.DebugOverrideEngine)||qn(this._ctx,wt.DebugOverrideEngineLegacy);if(i)return new I5(i,"override");let o=t?this._ctx.get(dr).customEngine(t):"",a=t?this._ctx.get(dr).customEngineTargetEngine(t):void 0;return n?o&&a&&n===a?new I5(o,"exp"):new I5(n,"modelpicker"):o?new I5(o,"exp"):this.customModels.length>0?new I5(this.customModels[0],"custommodel"):new I5(r,"default")}},I5=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{s(this,"ModelRequestInfo")}get headers(){return{}}};function T5(e,t=void 0){let r=e.get(Sd).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}s(T5,"getEngineRequestInfo");d();d();var bo=class{static{s(this,"FileSystem")}};var Fxe=Ze(Lxe());function Mxe(e){return e!==void 0&&e!==0}s(Mxe,"isRepoInfo");async function Qxe(e){let r=(await e.get(en).getToken()).organization_list??[];return dF(r)??""}s(Qxe,"getUserKind");async function E_(e,t){return(await e.get(en).getToken()).getTokenValue(t)??""}s(E_,"getTokenKeyValue");function Oxe(e){if(e===void 0||e===0)return"";let t=fA(e);if(t==="github/github")return t;let r=Elt(e)?.toLowerCase();return r!==void 0?r:""}s(Oxe,"getDogFood");function fA(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}s(fA,"tryGetGitHubNWO");function Elt(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}s(Elt,"tryGetADONWO");function w5(e,t){let r=tf(t);return Ilt(e,r)}s(w5,"extractRepoInfoInBackground");var Ilt=Slt(Tlt,1e4);async function Tlt(e,t){let r=R3e(t);if(!r)return;let n=await wlt(e,r);if(!n)return;let i=e.get(bo),o=Po(n,".git","config"),a;try{a=await i.readFileString(o)}catch{return}let l=_lt(a)??"",c=jZ(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}s(Tlt,"extractRepoInfo");function jZ(e){let t;try{if(t=(0,Fxe.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}s(jZ,"parseRepoUrl");async function wlt(e,t){let r=t+"_add_to_make_longer",n=e.get(bo);for(;t!=="file:///"&&t.length<r.length;){let i=Po(t,".git","config"),o=!1;try{await n.stat(i),o=!0}catch{o=!1}if(o)return t;r=t,t=tf(t)}}s(wlt,"getRepoBaseUri");function _lt(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,o,a,l=!1;for(let c of e.split(`
`))if(l&&o!==void 0){if(o+=c,c.endsWith("\\"))o=o.substring(0,o.length-1);else if(l=!1,a==="origin")return o}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(o&&a!=="origin")continue;{let f=c.match(n);if(f){if(o=f[1],o.endsWith("\\"))o=o.substring(0,o.length-1),l=!0;else if(a==="origin")return o}}}}return o}s(_lt,"getRepoUrlFromConfigText");var HZ=class{static{s(this,"CompletedComputation")}constructor(t){this.result=t}};function Slt(e,t){let r=new Sn(t),n=new Set;return(i,...o)=>{let a=JSON.stringify(o),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...o);return n.add(a),c.then(u=>{r.set(a,new HZ(u)),n.delete(a)}),0}}s(Slt,"computeInBackgroundAndMemoize");d();d();d();d();d();d();d();var i8=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{s(this,"CopilotPromptLoadFailure")}};d();var Uxe=Ze(require("node:fs/promises")),FF=Ze(require("node:path"));async function MF(e){return await Uxe.readFile(VZ(e))}s(MF,"readFile");function VZ(e){return FF.default.resolve(FF.default.extname(__filename)!==".ts"?__dirname:FF.default.resolve(__dirname,"../../dist"),e)}s(VZ,"locateFile");var s8=Ze(eve());var o8=new Map;function Xi(e="cl100k_base"){let t=o8.get(e);return t!==void 0?t:o8.get("cl100k_base")}s(Xi,"getTokenizer");async function tve(e="cl100k_base"){return await iee,Xi(e)}s(tve,"getTokenizerAsync");async function Hlt(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await MF(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}s(Hlt,"parseTikTokenNoIndex");var GF=class e{constructor(t){this._tokenizer=t}static{s(this,"TTokenizer")}static async create(t){try{let r=(0,s8.createTokenizer)(await Hlt(`resources/${t}.tiktoken.noindex`),(0,s8.getSpecialTokensByEncoder)(t),(0,s8.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new i8("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(-o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(-o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(0,o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(0,o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},ree=class{constructor(){this.hash=s(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{s(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},nee=class{static{s(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}tokenLength(t){return Math.ceil(t.length/4)}takeLastTokens(t,r){return r<=0?{text:"",tokens:[]}:{text:t.slice(-r*4),tokens:Array.from({length:r},(i,o)=>o)}}takeFirstTokens(t,r){throw new Error("Not implemented")}takeLastLinesTokens(t,r){throw new Error("Not implemented")}},iee=(async()=>{o8.set("mock",new ree),o8.set("approximate",new nee),o8.set("cl100k_base",await GF.create("cl100k_base")),o8.set("o200k_base",await GF.create("o200k_base"))})();var jlt={tokenizerName:"cl100k_base"};function Vlt(e){return{...jlt,...e}}s(Vlt,"cursorContextOptions");function w_(e,t={}){let r=Vlt(t),n=Xi(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}s(w_,"getCursorContext");d();d();var $lt={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function rve(e,t){let r=$lt[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",o=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return o.endsWith(`
`)||(o+=`
`),o}s(rve,"announceSnippet");var oee=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{s(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var see=class{static{s(this,"Tokenizer")}constructor(t){this.stopsForLanguage=Jlt.get(t.languageId)??Klt}tokenize(t){return new Set(zlt(t).filter(r=>!this.stopsForLanguage.has(r)))}},nve=new oee(20),a8=class{static{s(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new see(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),o=this.id()+":"+t.source,a=nve.get(o)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let g=new Set;c.slice(f,m).forEach(y=>y.forEach(v=>g.add(v),g)),a.push(g)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&nve.put(o,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let o=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);o.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return o}};function zlt(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}s(zlt,"splitIntoWords");var Ylt=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Klt=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...Ylt]),Jlt=new Map([]);d();d();d();function aee(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}s(aee,"virtualNode");function ive(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}s(ive,"lineNode");function lee(e){return{type:"blank",lineNumber:e,subs:[]}}s(lee,"blankNode");function HF(e){return{type:"top",indentation:-1,subs:e??[]}}s(HF,"topNode");function cc(e){return e.type==="blank"}s(cc,"isBlank");function Zx(e){return e.type==="line"}s(Zx,"isLine");function ev(e){return e.type==="virtual"}s(ev,"isVirtual");function ove(e,t){return Mc(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}s(ove,"clearLabelsIf");function tv(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>tv(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>tv(r,t)),label:e.label?t(e.label):void 0}}}s(tv,"mapLabels");function Mc(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(o=>{n(o)}),r==="bottomUp"&&t(i)}s(n,"_visit"),n(e)}s(Mc,"visitTree");function cee(e,t,r,n){let i=t;function o(a){i=r(a,i)}return s(o,"visitor"),Mc(e,o,n),i}s(cee,"foldTree");function jF(e,t,r){let n=s(o=>{if(r!==void 0&&r(o))return o;{let a=o.subs.map(n).filter(l=>l!==void 0);return o.subs=a,t(o)}},"rebuild"),i=n(e);return i!==void 0?i:HF()}s(jF,"rebuildTree");d();function Zlt(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=o(u+1,r[u]);return[ive(r[u],u,n[u],f),m]}s(i,"parseNode");function o(u,f){let m,h=[],p=u,g;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")g===void 0&&(g=p),p+=1;else{if(g!==void 0){for(let y=g;y<p;y++)h.push(lee(y));g=void 0}[m,p]=i(p),h.push(m)}return g!==void 0&&(p=g),[h,p]}s(o,"parseSubs");let[a,l]=o(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(lee(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return HF(a)}s(Zlt,"parseRaw");function __(e,t){function r(n){if(Zx(n)){let i=t.find(o=>o.matches(n.sourceLine));i&&(n.label=i.label)}}s(r,"visitor"),Mc(e,r,"bottomUp")}s(__,"labelLines");function VF(e){function t(r){if(ev(r)&&r.label===void 0){let n=r.subs.filter(i=>!cc(i));n.length===1&&(r.label=n[0].label)}}s(t,"visitor"),Mc(e,t,"bottomUp")}s(VF,"labelVirtualInherited");function S_(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=s(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}s(S_,"buildLabelRules");function uee(e){let r=jF(e,s(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],o;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&Zx(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&o!==void 0&&(Zx(l)||ev(l))&&l.indentation>=o.indentation){let u=i.length-1;for(;u>0&&cc(i[u]);)u-=1;if(o.subs.push(...i.splice(u+1)),l.subs.length>0){let f=o.subs.findIndex(g=>g.label!=="newVirtual"),m=o.subs.slice(0,f),h=o.subs.slice(f),p=h.length>0?[aee(l.indentation,h,"newVirtual")]:[];o.subs=[...m,...p,l]}else o.subs.push(l)}else i.push(l),cc(l)||(o=l)}return n.subs=i,n},"rebuilder"));return ove(e,n=>n==="newVirtual"),r}s(uee,"combineClosersAndOpeners");function sve(e,t=cc,r){return jF(e,s(function(i){if(i.subs.length<=1)return i;let o=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(o.length>0||!f)){let m=aee(l,a,r);o.push(m)}else a.forEach(m=>o.push(m))}s(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),cc(m)||(l=l??m.indentation)}return u(!0),i.subs=o,i},"rebuilder"))}s(sve,"groupBlocks");function rv(e){return jF(e,s(function(r){return ev(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&ev(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}s(rv,"flattenVirtual");var ect={opener:/^[[({]/,closer:/^[\])}]/},tct=S_(ect),ave={};function fee(e,t){ave[e]=t}s(fee,"registerLanguageSpecificParser");function R_(e,t){let r=Zlt(e),n=ave[t??""];return n?n(r):(__(r,tct),uee(r))}s(R_,"parseTree");function $F(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}s($F,"getBasicWindowDelineations");var zF=class e extends a8{static{s(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=s(t=>({to:s(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return $F(this.windowLength,t)}_getCursorContextInfo(t){return w_(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return rct(t,r)}};function rct(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}s(rct,"computeScore");d();d();var YF=Ze(lve());var mee={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php"};function af(e){return e in mee&&e!=="csharp"&&e!=="java"&&e!=="php"}s(af,"isSupportedLanguageId");function KF(e){if(!(e in mee))throw new Error(`Unrecognized language: ${e}`);return mee[e]}s(KF,"languageIdToWasmLanguage");var dee=new Map;async function nct(e){let t;try{t=await MF(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new i8(`Could not load tree-sitter-${e}.wasm`,r):r}return YF.default.Language.load(t)}s(nct,"loadWasmLanguage");function ict(e){let t=KF(e);if(!dee.has(t)){let r=nct(t);dee.set(t,r)}return dee.get(t)}s(ict,"getLanguage");var hee=class extends Error{static{s(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function dA(e,t){await YF.default.init({locateFile:s(o=>VZ(o),"locateFile")});let r;try{r=new YF.default}catch(o){throw o&&typeof o=="object"&&"message"in o&&typeof o.message=="string"&&o.message.includes("table index is out of bounds")?new hee(`Could not init Parse for language <${e}>`,o):o}let n=await ict(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}s(dA,"parseTreeSitter");function cve(e){switch(KF(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":case"php":return"}";case"ruby":return"end"}}s(cve,"getBlockCloseToken");function oct(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}s(oct,"innerQuery");var sct=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function uve(e){return oct([sct],e).length==1}s(uve,"queryPythonIsDocstring");var JF=class e extends a8{static{s(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=s(t=>({to:s(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return $F(this.windowLength,t)}_getCursorContextInfo(t){return w_(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):w_(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return act(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await dA(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function act(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}s(act,"computeScore");var lct=0,cct=60,uct=4,fct=1,dct=20,mct=1e4,pee={snippetLength:cct,threshold:lct,maxTopSnippets:uct,maxCharPerFile:mct,maxNumberOfFiles:dct,maxSnippetsPerFile:fct,useSubsetMatching:!1};var XF={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function hct(e,t){return(t.useSubsetMatching?JF.FACTORY(t.snippetLength):zF.FACTORY(t.snippetLength)).to(e)}s(hct,"getMatcher");async function fve(e,t,r){let n=hct(e,r);return r.maxTopSnippets===0?[]:(await t.filter(o=>o.source.length<r.maxCharPerFile&&o.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(o,a)=>(await o).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(o=>o.score&&o.snippet&&o.score>r.threshold).sort((o,a)=>o.score-a.score).slice(-r.maxTopSnippets)}s(fve,"getSimilarSnippets");var k_=500,B_=8192-k_,dve=4;var ZF=10,eM=15;var pct={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function D_(e){return e=e.toLowerCase(),pct[e]??e}s(D_,"normalizeLanguageId");var gee=class{constructor(t){this.ctx=t;this.cache=new Sn(200)}static{s(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new Aee(()=>this.ctx.get(sh).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},Aee=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{s(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Act(e){return"uri"in e}s(Act,"isCompletionsFiltersInfo");var dr=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new gee(this.ctx)}static{s(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=dn.createAndMarkAsIssued()){if(r instanceof rg)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&Act(t)?w5(this.ctx,t.uri):void 0,i=fA(n)??"",o=Oxe(n)??"",a=t?.languageId??"",l=T5(this.ctx).modelId,c=await Qxe(this.ctx),u=await E_(this.ctx,"ft"),f=await E_(this.ctx,"ol"),m=await E_(this.ctx,"cml"),h=await E_(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":o,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},g=this.getGranularityDirectory(),y=this.makeFilterSettings(p),v=g.extendFilters(y),b=await this.getExpConfig(v.newFilterSettings);g.update(y,+(b.variables.copilotbycallbuckets??NaN),+(b.variables.copilottimeperiodsizeinh??NaN));let E=g.extendFilters(y),_=E.newFilterSettings,k=await this.getExpConfig(_),B=new Promise(N=>setTimeout(N,e.upcomingDynamicFilterCheckDelayMs));for(let N of E.otherFilterSettingsToPrefetch)B=B.then(async()=>{await new Promise(M=>setTimeout(M,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(N)});return this.prepareForUpcomingFilters(_),new rg(r.properties,r.measurements,r.issuedTime,{filters:_,exp:k})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(Bs).machineId;this.granularityDirectory=new fF(t,this.ctx.get(Gp))}return this.granularityDirectory}makeFilterSettings(t){return new Sx({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Id.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new Sx({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??eM}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??ZF}cppHeadersShutdownSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersshutdownswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??B_+k_}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsRemoveDeletedLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditsremovedeletedlines??!1}recentEditsInsertionsBeforeDeletions(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinsertionsbeforedeletions??!1}recentEditsAppendNoReplyMarker(t){return t.filtersAndExp.exp.variables.copilotrecenteditsappendnoreplymarker??!1}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}recentEditsSummarizationFormat(t){return t.filtersAndExp.exp.variables.copilotrecenteditsummarizationformat??"diff"}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}enableMultilineAfterAccept(t){return t.filtersAndExp.exp.variables.copilotmultilineafteraccept??!1}enablePrefixCompletionsCache(t){return t.filtersAndExp.exp.variables.copilotprefixcompletionscache??!1}completionsElisionStrategy(t){return(t.filtersAndExp.exp.variables.copilotcompletionselisionstrategy??"")==="elidableText"?"elidableText":"wishlist"}enableNESXTab(t){return t.filtersAndExp.exp.variables.copilotnesxtab??!1}};d();var l8=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{s(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),o=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(o),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},Rd=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{s(this,"StatementTree")}static isSupported(t){return P_.languageIds.has(t)||N_.languageIds.has(t)||L_.languageIds.has(t)||F_.languageIds.has(t)}static create(t,r,n,i){if(P_.languageIds.has(t))return new P_(t,r,n,i);if(N_.languageIds.has(t))return new N_(t,r,n,i);if(L_.languageIds.has(t))return new L_(t,r,n,i);if(F_.languageIds.has(t))return new F_(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let o=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(o);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(o):this.addStatement(o),t.unshift(o)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await dA(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let o=`[${i}]`,a=" ".repeat(o.length);r.push(n.dump(`${t} ${o} `,`${t} ${a} `))}),r.join(`
`)}},yee=class e extends l8{static{s(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},P_=class extends Rd{static{s(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new yee(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},Cee=class e extends l8{static{s(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},N_=class extends Rd{static{s(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new Cee(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},xee=class e extends l8{static{s(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},L_=class extends Rd{static{s(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new xee(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},vee=class e extends l8{static{s(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},F_=class extends Rd{static{s(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(t){return new vee(t)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}};var bee={};H1(bee,{activationEvents:()=>Mct,badges:()=>Fct,browser:()=>Qct,bugs:()=>Sct,build:()=>bct,buildType:()=>Ect,categories:()=>Nct,contributes:()=>Eee,default:()=>jct,dependencies:()=>Gct,description:()=>xct,devDependencies:()=>Wct,displayName:()=>Cct,enabledApiProposals:()=>Uct,engines:()=>Pct,extensionPack:()=>Dct,homepage:()=>wct,icon:()=>kct,keywords:()=>Lct,license:()=>_ct,main:()=>Oct,name:()=>yct,overrides:()=>Hct,preview:()=>Tct,pricing:()=>Bct,publisher:()=>Ict,qna:()=>Rct,scripts:()=>qct,version:()=>vct});var yct="copilot",Cct="GitHub Copilot",xct="Your AI pair programmer",vct="1.319.0",bct="1559",Ect="prod",Ict="GitHub",Tct=!1,wct="https://github.com/features/copilot?editor=vscode",_ct="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Sct={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Rct="https://github.com/github-community/community/discussions/categories/copilot",kct="assets/Copilot-App-Icon.png",Bct="Trial",Dct=["GitHub.copilot-chat","GitHub.copilot"],Pct={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Nct=["AI","Chat","Programming Languages","Machine Learning"],Lct=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],Fct=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],Mct=["onStartupFinished"],Qct="./dist/web",Oct="./dist/extension",Uct=["inlineCompletionsAdditions"],Eee={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused && !isWeb"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},qct={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Wct={"@datadog/datadog-ci":"^3.4.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.2",electron:"^28.1.4",esbuild:"^0.25.4","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},Gct={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.11.1","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Hct={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},jct={name:yct,displayName:Cct,description:xct,version:vct,build:bct,buildType:Ect,publisher:Ict,preview:Tct,homepage:wct,license:_ct,bugs:Sct,qna:Rct,icon:kct,pricing:Bct,extensionPack:Dct,engines:Pct,categories:Nct,keywords:Lct,badges:Fct,activationEvents:Mct,browser:Qct,main:Oct,enabledApiProposals:Uct,contributes:Eee,scripts:qct,devDependencies:Wct,dependencies:Gct,overrides:Hct};var wt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnablePrefixCache:"internal.enablePrefixCache",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.recentEditsInPrompt",RecentEditsEditCount:"internal.recentEditsEditCount",RecentEditsMaxFiles:"internal.recentEditsMaxFiles",RecentEditsContextLines:"internal.recentEditsContextLines",RecentEditsRemoveDeletedLines:"internal.recentEditsRemoveDeletedLines",InsertionsBeforeDeletions:"internal.recentEditsInsertionsBeforeDeletions",RecentEditsAppendNoReplyMarker:"internal.recentEditsAppendNoReplyMarker",RecentEditsMaxLinesBetweenEdits:"internal.recentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.recentEditsActiveDocDistanceLimitFromCursor",RecentEditsSummarizationFormat:"internal.recentEditsSummarizationFormat",IncludeNeighboringFiles:"internal.includeNeighboringFiles",DebugOverrideCppHeadersShutdownSwitch:"internal.cppHeadersShutdownSwitch",MultilineAfterAccept:"internal.multilineAfterAccept",NESXTab:"internal.useXTab"};function pve(e){return["server","parsingandserver"].includes(e)}s(pve,"shouldDoServerTrimming");var fh=class{static{s(this,"BlockModeConfig")}},u8=class extends fh{static{s(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(dr).overrideBlockMode(n);if(i)return mve(i,r);let o=t.get(dr).enableProgressiveReveal(n);return qn(t,wt.AlwaysRequestMultiline)??o?mve("moremultiline",r):r=="ruby"?"parsing":af(r)?"parsingandserver":"server"}};function Vct(e){return["parsing","parsingandserver","moremultiline"].includes(e)}s(Vct,"blockModeRequiresTreeSitter");function mve(e,t){return e==="moremultiline"&&Rd.isSupported(t)?e:Vct(e)&&!af(t)?"server":e}s(mve,"toApplicableBlockMode");var sg=class{static{s(this,"ConfigProvider")}},f8=class extends sg{static{s(this,"DefaultsOnlyConfigProvider")}getConfig(t){return zct(t)}getOptionalConfig(t){return Yct(t)}dumpForTelemetry(){return{}}},nv=class extends sg{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n}static{s(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[wt.ShowEditorCompletions,wt.EnableAutoCompletions,wt.DelayCompletions,wt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function $ct(e){return e?.type==="object"&&"properties"in e}s($ct,"isContributesObject");function gve(e,t){let r=e,n=[];for(let i of t.split(".")){let o=[...n,i].join(".");r&&typeof r=="object"&&o in r?(r=r[o],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}s(gve,"getConfigKeyRecursively");function zct(e){if(c8.has(e))return c8.get(e);throw new Error(`Missing config default value: ${N7}.${e}`)}s(zct,"getConfigDefaultForKey");function Yct(e){return c8.get(e)}s(Yct,"getOptionalConfigDefaultForKey");var c8=new Map([[wt.DebugOverrideCppHeadersShutdownSwitch,!1],[wt.RelatedFilesVSCodeCSharp,!1],[wt.RelatedFilesVSCodeTypeScript,!1],[wt.RelatedFilesVSCode,!1],[wt.ExcludeOpenTabFilesCSharp,!1],[wt.ExcludeOpenTabFilesCpp,!1],[wt.ExcludeOpenTabFilesTypeScript,!1],[wt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[wt.IncludeNeighboringFiles,!1],[wt.ContextProviders,[]],[wt.DebugUseEditorFetcher,null],[wt.DebugUseElectronFetcher,null],[wt.DebugOverrideLogLevels,{}],[wt.DebugSnippyOverrideUrl,""],[wt.FetchStrategy,"auto"],[wt.UseSubsetMatching,null],[wt.ContextProviderTimeBudget,150],[wt.DebugOverrideCapiUrl,""],[wt.DebugTestOverrideCapiUrl,""],[wt.DebugOverrideProxyUrl,""],[wt.DebugTestOverrideProxyUrl,""],[wt.DebugOverrideEngine,""],[wt.UseAsyncCompletions,void 0],[wt.EnableSpeculativeRequests,void 0],[wt.EnablePrefixCache,void 0],[wt.AlwaysRequestMultiline,void 0],[wt.TrimCompletionsAggressively,void 0],[wt.VSCodeDebounceThreshold,void 0],[wt.RecentEditsInPrompt,void 0],[wt.RecentEditsEditCount,void 0],[wt.RecentEditsMaxFiles,void 0],[wt.RecentEditsContextLines,void 0],[wt.RecentEditsRemoveDeletedLines,void 0],[wt.InsertionsBeforeDeletions,void 0],[wt.RecentEditsAppendNoReplyMarker,void 0],[wt.RecentEditsMaxLinesBetweenEdits,void 0],[wt.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[wt.RecentEditsSummarizationFormat,void 0],[wt.MultilineAfterAccept,void 0],[wt.NESXTab,void 0],[wt.ShowEditorCompletions,void 0],[wt.DelayCompletions,void 0],[wt.FilterCompletions,void 0]]);for(let e of Object.values(wt)){let t=Eee.configuration[0],r=[],n=`${N7}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if($ct(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(c8.has(e))throw new Error(`Duplicate config default value ${N7}.${e}`);c8.set(e,i.default)}}if(!c8.has(e))throw new Error(`Missing config default value ${N7}.${e}`)}function qn(e,t){return e.get(sg).getConfig(t)}s(qn,"getConfig");function v3e(e){return e.get(sg).dumpForTelemetry()}s(v3e,"dumpForTelemetry");var Ao=class{constructor(){this.packageJson=bee}static{s(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function aF(e){return e.get(Ao).isProduction()}s(aF,"isProduction");function $3e(e){return e.get(Ao).getBuildType()==="dev"}s($3e,"isDevBuild");function Td(e){return e.get(Ao).getBuildType()}s(Td,"getBuildType");function b3e(e){return e.get(Ao).getBuild()}s(b3e,"getBuild");function zx(e){return e.get(Ao).getVersion()}s(zx,"getVersion");var Bs=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{s(this,"EditorSession")}};function Zp({name:e,version:t}){return`${e}/${t}`}s(Zp,"formatNameAndVersion");var pn=class{static{s(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Gm="2025-05-01";function Gu(e){let t=e.get(pn);return{"Editor-Version":Zp(t.getEditorInfo()),"Editor-Plugin-Version":Zp(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":zx(e)}}s(Gu,"editorVersionHeaders");var hve="Iv1.b507a08c87ecfe98",Ta=class{static{s(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??hve}fallbackAppId(){return hve}};d();d();d();var iv={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var Ave=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],yve={".php":[".blade"]},M_=Object.keys(iv).flatMap(e=>iv[e].extensions);var Iee=Ze(require("node:path"));var m8=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{s(this,"Language")}},Q_=class{static{s(this,"LanguageDetection")}},Tee=new Map,d8=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(iv)){for(let n of t)Tee.set(n,[...Tee.get(n)??[],e]);for(let n of r??[])d8.set(n,[...d8.get(n)??[],e])}var wee=class extends Q_{static{s(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Pi(t.uri),n=Iee.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),o=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return o?new m8(o.languageId,o.isGuess,a):new m8(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(Ave.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=Iee.extname(n).toLowerCase();if(i.length>0&&M_.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=yve[t];return!n||n.includes(r)}detectLanguageId(t,r){if(d8.has(t))return{languageId:d8.get(t)[0],isGuess:!1};let n=Tee.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),d8.has(t))return{languageId:d8.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},_ee=class extends Q_{constructor(r){super();this.delegate=r}static{s(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new m8("cpp",n.isGuess,n.fileExtension):n}},See=class extends Q_{constructor(r){super();this.delegate=r}static{s(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new m8(r.languageId,!0,""):this.delegate.detectLanguage(r)}},Kct=new _ee(new See(new wee));function h8({uri:e,languageId:t}){let r=Kct.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}s(h8,"detectLanguage");d();d();d();d();function mA(e){if(e.isCancellationRequested)throw new tM}s(mA,"throwIfCancellationRequested");function O_(e){return e instanceof tM?!0:e instanceof Error&&e.name===Ree&&e.message===Ree}s(O_,"isCancellationError");var tM=class extends Error{static{s(this,"CancellationError")}constructor(){super(Ree),this.name=this.message}},Ree="Canceled",rM=class{constructor(){this.items=[]}static{s(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function ov(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}s(ov,"isTypeDefinition");var iu=class e{static{s(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=xve(t,t.length,i),Cve(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=xve(t,t.length,++i),Cve(n,r)):i++;return n.join("")}};function Cve(e,t){for(let r=0;r<t;r++)e.push(" ")}s(Cve,"appendIndent");function xve(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}s(xve,"consumeIndent");var S5=class{constructor(t,r,n,i,o,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=o;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{s(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},uc=class e{constructor(){this.queriesCache=new Map}static{s(this,"SymbolExtractorBase")}async findMatches(t,r){let n=await dA(this.languageId,t),i=n.getLanguage(),a=this.getOrCreateQuery(i,r).matches(n.rootNode);return{tree:n,matches:a}}async executeQuery(t,r,n){let i;try{i=await this.findMatches(r,n);let o=new rM,a=[];for(let l of i.matches){let c=this.createSymbolRange(o,t,r,l.captures);c&&a.push(c)}return a}catch{return[]}finally{i?.tree.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let o=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,g=null;for(let b=0;b<i.length;b++){let E=i[b].name;E==="name"?(u=i[b].node.startIndex,f=i[b].node.endIndex):E==="reference"?(u=i[b].node.startIndex,f=i[b].node.endIndex,l=i[b].node.startIndex,c=i[b].node.endIndex,p=E):E==="body"?(m=i[b].node.startIndex,h=i[b].node.endIndex):E==="comment"?(o=o===0?i[b].node.startIndex:Math.min(o,i[b].node.startIndex),a=Math.max(a,i[b].node.endIndex)):E==="receiver"?g=iu.fromBounds(i[b].node.startIndex,i[b].node.endIndex).getText(n):(l=i[b].node.startIndex,c=i[b].node.endIndex,p=E)}p==="definition.module.filescoped"&&(h=n.length,c=h);let y=iu.fromBounds(l,c),v=l>0||c>0||u>0||f>0?new S5(r,"","",iu.fromBounds(o,a),iu.fromBounds(u,f),iu.fromBounds(m,h),y,e.kindFromString(p),0):null;if(v){e.updateScopesForSymbol(t,v);let b=v.nameRange.getText(n),E=this.createNameFromScopes(n,t.toArray());return E=g?`${g}.${E}`:E,new S5(r,E,b.substring(b.lastIndexOf(".")+1),v.commentRange,v.nameRange,v.bodyRange,v.extentRange,v.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"import.module":case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;case"wildcard":return 18;case"alias":return 19;case"import":return 17;default:throw new Error("NotSupportedException")}}cleanQuotedString(t){return t.replace(/^(['"])(.*)\1$/,"$2")}};var nM=class extends uc{static{s(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,Jct)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},iM=class extends uc{static{s(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,Xct)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,Zct),o=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...o.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}};var Jct=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`;var Xct=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,Zct=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var oM=class extends uc{static{s(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,e0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},sM=class extends uc{static{s(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,t0t)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,r0t),o=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...o.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}};var e0t=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`;var t0t=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,r0t=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var n0t=new Set(["null","undefined","void","object","symbol","bigint","Array","Promise","Date","RegExp","Map","Set"]),aM=class extends uc{static{s(this,"JavaScriptSymbolExtractor")}get languageId(){return"javascript"}extractSymbols(t,r){return this.executeQuery(t,r,i0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},lM=class extends uc{static{s(this,"JavaScriptReferenceExtractor")}extractLocalReferences(t,r,n){throw new Error("Method not implemented.")}get languageId(){return"javascript"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,o0t)).filter(i=>!n0t.has(i.unqualifiedName))}},i0t=`
(
    ((comment)* @comment)
    .
    [
        (class_declaration name: (_) @name body: (_) @body) @definition.class
        (function_declaration name: (_) @name body: (_) @body) @definition.function
        (export_statement declaration: (lexical_declaration (variable_declarator name: (identifier) @name value: (_) @body))) @definition.function
    ]
)
`,o0t=`
(call_expression function: (_) @name) @reference
`;d();var s0t=new Set(["int","str","float","bool","list","dict","tuple","set"]),cM=class extends uc{static{s(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,a0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},uM=class extends uc{static{s(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,l0t)).filter(i=>!s0t.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,c0t),o=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...o.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}};var a0t=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,l0t=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var c0t=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;d();var u0t=new Set(["string","number","boolean","null","undefined","void","any","never","object","symbol","bigint","Array","Promise","Date","RegExp","Map","Set"]),fM=class extends uc{static{s(this,"TypeScriptSymbolExtractor")}get languageId(){return"typescript"}extractSymbols(t,r){return this.executeQuery(t,r,f0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},dM=class extends uc{static{s(this,"TypeScriptReferenceExtractor")}get languageId(){return"typescript"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,d0t)).filter(i=>!u0t.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){throw new Error("Method not implemented.")}},f0t=`
(
    ((comment)* @comment)
    .
    [
        (class_declaration name: (_) @name body: (_) @body) @definition.class
        (interface_declaration name: (_) @name body: (_) @body) @definition.interface
        (type_alias_declaration name: (type_identifier) @name) @definition.type
        (abstract_class_declaration name: (type_identifier) @name) @definition.class
        (enum_declaration name: (identifier) @name) @definition.type
    ]
)

(
    ((comment)* @comment)
    .
    [
        (method_definition name: (_) @name body: (_) @body) @definition.method
        (function_declaration name: (_) @name body: (_) @body) @definition.function
        (function_signature name: (identifier) @name) @definition.function
        (method_signature name: (property_identifier) @name) @definition.method
        (abstract_method_signature name: (property_identifier) @name) @definition.method
        (variable_declarator name: (identifier) @name type: (type_annotation (type_identifier)))
    ]
)
`,d0t=`
(call_expression function: (_) @name) @reference

(type_identifier) @name @reference

(new_expression constructor: (identifier) @name) @reference
`;var mM=[{symbolExtractor:new oM,referenceExtractor:new sM,languageId:"java"},{symbolExtractor:new nM,referenceExtractor:new iM,languageId:"go"},{symbolExtractor:new cM,referenceExtractor:new uM,languageId:"python"},{symbolExtractor:new fM,referenceExtractor:new dM,languageId:"typescript"},{symbolExtractor:new aM,referenceExtractor:new lM,languageId:"javascript"}];function bve(e){let t=h8({uri:e});if(t&&mM.some(r=>t===r.languageId))return t}s(bve,"getSupportedLanguageIdForMultiLanguageProvider");var Eve=mM.map(e=>e.referenceExtractor),hM=mM.map(e=>e.symbolExtractor),kee=mM.map(e=>iv[e.languageId].extensions).flat();d();d();d();d();d();d();d();d();var m0t={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},h0t=S_(m0t);function Ive(e){let t=e;return __(t,h0t),t=uee(t),t=rv(t),VF(t),Mc(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!cc(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}s(Ive,"processJava");d();var p0t={heading:/^# /,subheading:/^## /,subsubheading:/### /},g0t=S_(p0t);function Tve(e){let t=e;if(__(t,g0t),cc(t))return t;function r(o){if(o.label==="heading")return 1;if(o.label==="subheading")return 2;if(o.label==="subsubheading")return 3}s(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let o of i){let a=r(o);if(a===void 0||cc(o))n[n.length-1].subs.push(o);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(o),n[a]=o;n.length>a+1;)n.pop()}}return t=sve(t),t=rv(t),VF(t),t}s(Tve,"processMarkdown");d();function wve(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}s(wve,"deparseLine");fee("markdown",Tve);fee("java",Ive);var A0t={worthUp:.9,worthSibling:.88,worthDown:.8};function Bee(e,t,r=Xi(),n=A0t){let i=tv(e,o=>o?1:void 0);return Mc(i,o=>{if(cc(o))return;let a=o.subs.reduce((l,c)=>Math.max(l,c.label??0),0);o.label=Math.max(o.label??0,a*n.worthUp)},"bottomUp"),Mc(i,o=>{if(cc(o))return;let a=o.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,m)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-m))*a[u])));let c=o.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),o.subs.forEach((u,f)=>u.label=l[f])},"topDown"),y0t(i,t,r)}s(Bee,"fromTreeWithFocussedLines");function y0t(e,t,r=Xi()){let n=cee(e,[],(i,o)=>((i.type==="line"||i.type==="blank")&&o.push(i.type==="line"?[wve(i).trimEnd(),i.label??0]:["",i.label??0]),o),"topDown");return new Yt(n,t,r)}s(y0t,"fromTreeWithValuedLines");function lf(e,t=!0,r=!0,n,i=Xi()){let o=typeof e=="string"?R_(e):R_(e.source,e.languageId);rv(o);let a=tv(o,l=>t&&l!=="closer");return Mc(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&Mc(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&Mc(a,l=>{l.label||=(Zx(l)||cc(l))&&l.lineNumber==0},"topDown"),Bee(a,n,i)}s(lf,"elidableTextForSourceCode");d();var U_=class e{constructor(t,r,n,i="strict",o){this.text=t;this._value=r;this._cost=n;this.metadata=o;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{s(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>Xi().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var Yt=class e{constructor(t,r,n=Xi()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let o of t){let a=Array.isArray(o)?o[1]:1,l=Array.isArray(o)?o[0]:o;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new U_(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&lf(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{s(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>Xi().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",o=this.tokenizer,a="topToBottom"){let l=this.lines.map(c=>c.copy());return C0t(l,t,r,n,i,o,a)}};function C0t(e,t,r,n,i,o,a){if(o.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(h=>h.adjustValue(1/h.cost));let l=e.reduce((h,p)=>Math.max(h,p.value),0)+1,c=e.reduce((h,p)=>Math.max(h,p.text.length),0)+1,u=r.trim(),f=e.reduce((h,p)=>h+p.cost,0),m=e.length+1;for(;f>t&&m-->=-1;){let h=e.reduce((_,k)=>k.value<_.value?k:k.value===_.value?a==="topToBottom"?_:k:_),p=e.indexOf(h),g=e.slice(0,p+1).reverse().find(_=>_.text.trim()!=="")??{text:""},y=n?Math.min(g.text.match(/^\s*/)?.[0].length??0,e[p-1]?.text.trim()===u?e[p-1]?.text.match(/^\s*/)?.[0].length??0:c,e[p+1]?.text.trim()===u?e[p+1]?.text.match(/^\s*/)?.[0].length??0:c):0,v=" ".repeat(y)+r,b=new U_(v,l,o.tokenLength(v+`
`),"loose",h.metadata);e.splice(p,1,b),e[p+1]?.text.trim()===u&&e.splice(p+1,1),e[p-1]?.text.trim()===u&&e.splice(p-1,1);let E=e.reduce((_,k)=>_+k.cost,0);E>=f&&e.every(_=>_.value===l)&&(n=!1),f=E}if(m<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:s(()=>e.map(h=>h.text).join(`
`),"getText"),getLines:s(()=>e,"getLines")}}s(C0t,"elide");d();d();function dh(){}s(dh,"Diff");dh.prototype={diff:s(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={});var a=this;function l(k){return k=a.postProcess(k,i),o?(setTimeout(function(){o(k)},0),!0):k}s(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,g=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(g[0],r,t,0,i);if(g[0].oldPos+1>=u&&y+1>=c)return l(_ve(a,g[0].lastComponent,r,t,a.useLongestToken));var v=-1/0,b=1/0;function E(){for(var k=Math.max(v,-f);k<=Math.min(b,f);k+=2){var B=void 0,N=g[k-1],M=g[k+1];N&&(g[k-1]=void 0);var re=!1;if(M){var pe=M.oldPos-k;re=M&&0<=pe&&pe<c}var Z=N&&N.oldPos+1<u;if(!re&&!Z){g[k]=void 0;continue}if(!Z||re&&N.oldPos<M.oldPos?B=a.addToPath(M,!0,!1,0,i):B=a.addToPath(N,!1,!0,1,i),y=a.extractCommon(B,r,t,k,i),B.oldPos+1>=u&&y+1>=c)return l(_ve(a,B.lastComponent,r,t,a.useLongestToken));g[k]=B,B.oldPos+1>=u&&(b=Math.min(b,k-1)),y+1>=c&&(v=Math.max(v,k+1))}f++}if(s(E,"execEditLength"),o)s(function k(){setTimeout(function(){if(f>m||Date.now()>p)return o();E()||k()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var _=E();if(_)return _}},"diff"),addToPath:s(function(t,r,n,i,o){var a=t.lastComponent;return a&&!o.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:s(function(t,r,n,i,o){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],o);)u++,c++,f++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!o.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:s(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:s(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:s(function(t){return t},"castInput"),tokenize:s(function(t){return Array.from(t)},"tokenize"),join:s(function(t){return t.join("")},"join"),postProcess:s(function(t){return t},"postProcess")};function _ve(e,t,r,n,i){for(var o=[],a;t;)o.push(t),a=t.previousComponent,delete t.previousComponent,t=a;o.reverse();for(var l=0,c=o.length,u=0,f=0;l<c;l++){var m=o[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,g){var y=n[f+g];return y.length>p.length?y:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return o}s(_ve,"buildValues");var J3r=new dh;function Sve(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}s(Sve,"longestCommonPrefix");function Rve(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}s(Rve,"longestCommonSuffix");function Dee(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}s(Dee,"replacePrefix");function Pee(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}s(Pee,"replaceSuffix");function q_(e,t){return Dee(e,t,"")}s(q_,"removePrefix");function pM(e,t){return Pee(e,t,"")}s(pM,"removeSuffix");function kve(e,t){return t.slice(0,x0t(e,t))}s(kve,"maximumOverlap");function x0t(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),o=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[o]?i[a]=i[o]:i[a]=o;o>0&&t[a]!=t[o];)o=i[o];t[a]==t[o]&&o++}o=0;for(var l=r;l<e.length;l++){for(;o>0&&e[l]!=t[o];)o=i[o];e[l]==t[o]&&o++}return o}s(x0t,"overlapCount");var gM="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",v0t=new RegExp("[".concat(gM,"]+|\\s+|[^").concat(gM,"]"),"ug"),AM=new dh;AM.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};AM.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(o){return o.segment})}else r=e.match(v0t)||[];var n=[],i=null;return r.forEach(function(o){/\s/.test(o)?i==null?n.push(o):n.push(n.pop()+o):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+o):n.push(i+o):n.push(o),i=o}),n};AM.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};AM.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(o){o.added?n=o:o.removed?i=o:((n||i)&&Bve(r,i,n,o),r=o,n=null,i=null)}),(n||i)&&Bve(r,i,n,null),e};function Bve(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],o=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=Sve(i,a);e.value=Pee(e.value,a,c),t.value=q_(t.value,c),r.value=q_(r.value,c)}if(n){var u=Rve(o,l);n.value=Dee(n.value,l,u),t.value=pM(t.value,u),r.value=pM(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=Sve(f,m);t.value=q_(t.value,p);var g=Rve(q_(f,p),h);t.value=pM(t.value,g),n.value=Dee(n.value,f,g),e.value=Pee(e.value,f,f.slice(0,f.length-g.length))}else if(n){var y=n.value.match(/^\s*/)[0],v=t.value.match(/\s*$/)[0],b=kve(v,y);t.value=pM(t.value,b)}else if(e){var E=e.value.match(/\s*$/)[0],_=t.value.match(/^\s*/)[0],k=kve(E,_);t.value=q_(t.value,k)}}s(Bve,"dedupeWhitespaceInChangeObjects");var b0t=new dh;b0t.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(gM,"]+|[^\\S\\n\\r]+|[^").concat(gM,"]"),"ug");return e.match(t)||[]};var Mee=new dh;Mee.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var o=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=o:r.push(o)}return r};Mee.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),dh.prototype.equals.call(this,e,t,r)};var E0t=new dh;E0t.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var I0t=new dh;I0t.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Nee(e){"@babel/helpers - typeof";return Nee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nee(e)}s(Nee,"_typeof");var W_=new dh;W_.useLongestToken=!0;W_.tokenize=Mee.tokenize;W_.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(o,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(Lee(e,null,null,i),i,"  ")};W_.equals=function(e,t,r){return dh.prototype.equals.call(W_,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function Lee(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return r[o];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),o=0;o<e.length;o+=1)a[o]=Lee(e[o],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),Nee(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),o=0;o<l.length;o+=1)c=l[o],a[c]=Lee(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}s(Lee,"canonicalize");var Fee=new dh;Fee.tokenize=function(e){return e.slice()};Fee.join=Fee.removeEmpty=function(e){return e};var Dve=require("fs");async function Pve(e,t,r,n,i){let o=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=o.get(h);p?p.symbols.push(m):o.set(h,{symbols:[m],topRank:a}),a++}if(o.delete(r.toLowerCase()),o.size===0)return[];let l=t,c=t/Math.min(4,o.size),u=[],f=Array.from(o.keys());f.sort((m,h)=>{let p=o.get(m).topRank,g=o.get(h).topRank;return p-g});for(let m of f){let h=o.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,g=h.reduce((y,v)=>y+v.node.extentRange.length,0);for(let y of h){if(l<=5)return u;mA(i);let v=y.node.extentRange.length/g,b=Math.min(l,v*c),E=(await w0t([y])).elide(b).getText();l-=n.tokenLength(E),u.push({uri:p,value:E})}}return u}s(Pve,"symbolRangesToCodeSnippets");async function w0t(e){if(e.length===0)return new Yt([]);let t=e[0].node.fileName,r=[],n="";try{let i=Xo(t);i&&(n=(await Dve.promises.readFile(i)).toString())}catch{}for(let i of e)Nve(i,n).forEach(o=>r.push(o));return new Yt(r)}s(w0t,"sameFileSymbolRangeToElidableText");function Nve(e,t){let n=[],i=e.node,o=t.substring(Qee(t,i.commentRange.start),i.commentRange.end);n.push([Oee(o),1-3e-4]);let a=Qee(t,i.bodyRange.start),l=Qee(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if(ov(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([Oee(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...Nve(u,t));else{let u=1-(ov(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([Oee(f),u])}return ov(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}s(Nve,"prepareForElidableText");function Qee(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}s(Qee,"shiftLeftToNearestLineEndingOrAlphanumeric");function Oee(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}s(Oee,"trimLineEndingsAndTrailingWhitespace");var Uee=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{s(this,"ContextRetrievalStrategy")}},sv=class extends Uee{static{s(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,o){let a=this.referenceExtractors.get(i);if(!a)return[];mA(o);let l=await a.extractReferences(t,r);mA(o);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,o);this.typesOnly&&(m=m.filter(h=>ov(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,o)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,o=await this.index.findPotentialDefinitionsAsync(n,i,r),a=s(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=s(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of o){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(mA(r),ov(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(o=>this.makeSymbolRangeNodeFromDefinition(o,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,o=r.extentRange.end<=n;if(i&&!o)return-1;if(!i&&o)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},yM=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new sv(t,r,!0,!0)),this.strategies.set("java",new sv(t,r,!0,!0)),this.strategies.set("python",new sv(t,r,!0,!1)),this.strategies.set("typescript",new sv(t,r,!0,!0)),this.strategies.set("javascript",new sv(t,r,!0,!1))}static{s(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,o,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);mA(a);let c=Xi();return Pve(l,o,t,c,a)}async getContextAtPositionAsync(t,r,n,i,o){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,o):[]}};d();d();d();d();var av={Id:"id"},cf={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},Ni={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var CM=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new qee(av.Id)}static{s(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},G_=class e extends CM{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${cf.FilePath}');`]);this.fields=[new V_(cf.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new ou(cf.LastWriteTimeUtc,{notNull:!0})]}static{s(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},H_=class e extends CM{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${Ni.DocumentId}', '${Ni.ExtentStart}', '${Ni.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${Ni.UnqualifiedName}');`],`FOREIGN KEY(${Ni.DocumentId}) REFERENCES Document(${av.Id}) ON DELETE CASCADE`);this.fields=[new ou(Ni.DocumentId),new V_(Ni.FullyQualifiedName,{notNull:!0}),new V_(Ni.UnqualifiedName,{notNull:!0}),new ou(Ni.CommentStart,{notNull:!0}),new ou(Ni.CommentLength,{notNull:!0}),new ou(Ni.NameStart,{notNull:!0}),new ou(Ni.NameLength,{notNull:!0}),new ou(Ni.BodyStart,{notNull:!0}),new ou(Ni.BodyLength,{notNull:!0}),new ou(Ni.ExtentStart,{notNull:!0}),new ou(Ni.ExtentLength,{notNull:!0}),new ou(Ni.SymbolKind,{notNull:!0}),new ou(Ni.RefKind,{notNull:!0})]}static{s(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},j_=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{s(this,"SQLField")}},V_=class extends j_{static{s(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,o=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${o}`}},ou=class extends j_{static{s(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},qee=class extends j_{static{s(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var xM=class{static{s(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;if(r)return await this.create(r),r}async create(t){let r=s(i=>new Promise((o,a)=>{t.run(i,l=>{l?a(l):o()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;n&&await new Promise((i,o)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?o(l):i(this)})})}async getAllRows(){let t=await this.init;return t?kd(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[]):[]}async deleteRow(t){let r=await this.init;if(r)return kd(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${av.Id} = ?`,[t])}},hA=class e extends xM{static{s(this,"DocumentTable")}static{this.tableName=G_.tableName}createQueryGenerator(){return new G_}async updateTimestamp(t,r){let n=await this.init;n&&await kd(n,`UPDATE ${e.tableName} SET ${cf.LastWriteTimeUtc} = ? WHERE ${cf.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;r&&await kd(r,`DELETE FROM ${e.tableName} WHERE ${cf.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return r?kd(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${cf.FilePath} = ?`,[t]):[]}},za=class e extends xM{static{s(this,"SymbolTable")}static{this.tableName=H_.tableName}createQueryGenerator(){return new H_}async clearAllSymbolsFromDocument(t){let r=await this.init;if(r)return kd(r,`DELETE FROM ${e.tableName} WHERE ${Ni.DocumentId} = ?`,[t])}};async function kd(e,t,r){return new Promise((n,i)=>e.all(t,r,(o,a)=>{o&&i(o),n(a)}))}s(kd,"runPromisifiedDBQuery");var EM=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${hA.tableName} ON ${za.tableName}.${Ni.DocumentId} = ${hA.tableName}.${av.Id}`;this.db=this.initDb(t),this.documentTable=new hA(this.db),this.symbolTable=new za(this.db)}static{s(this,"DocumentSymbolDatabase")}async initDb(t){let r;try{r=await Promise.resolve().then(()=>Ze(Vve()))}catch(i){console.error("Error loading sqlite3 module:",i);return}let n;try{n=await new Promise((i,o)=>{let a=new r.default.Database(t,l=>{l?o(l):i(a)})})}catch(i){console.error("Error initializing database:",i);return}return await kd(n,"pragma journal_mode=wal",[]),await kd(n,"pragma synchronous=normal",[]),await kd(n,"pragma optimize=0x10002",[]),await kd(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;if(t)return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${Ni.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${Ni.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${Ni.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${Ni.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${hA.tableName}.${cf.FilePath} = ? AND ${za.tableName}.${Ni.ExtentStart} <= ? AND (${za.tableName}.${Ni.ExtentStart} + ${za.tableName}.${Ni.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${hA.tableName}.${cf.FilePath} = ? AND ${za.tableName}.${Ni.ExtentStart} >= ? AND (${za.tableName}.${Ni.ExtentStart} + ${za.tableName}.${Ni.ExtentLength}) <= ?`,`ORDER BY ${za.tableName}.${Ni.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${hA.tableName}.${cf.FilePath} = ? AND ${za.tableName}.${Ni.FullyQualifiedName} LIKE ?`,`ORDER BY ${za.tableName}.${Ni.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return n?(await this.documentTable.init,await this.symbolTable.init,kd(n,t,r)):[]}};var IM=class{static{s(this,"SQLStorageReaderWriter")}constructor(t){this.database=new EM(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(o=>({documentId:i.id,fullyQualifiedName:o.fullyQualifiedName,unqualifiedName:o.unqualifiedName,commentStart:o.commentRange.start,commentLength:o.commentRange.length,nameStart:o.nameRange.start,nameLength:o.nameRange.length,bodyStart:o.bodyRange.start,bodyLength:o.bodyRange.length,extentStart:o.extentRange.start,extentLength:o.extentRange.length,symbolKind:o.kind,refKind:o.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return A8(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),mA(n)}return A8(i)}async getDefinitionsAsync(t){return A8(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return A8(n)}async findSymbolsContainedByRangeAsync(t,r,n){return A8(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return A8(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function A8(e){return e.map(t=>new S5(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new iu(t.commentStart,t.commentLength),new iu(t.nameStart,t.nameLength),new iu(t.bodyStart,t.bodyLength),new iu(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}s(A8,"symbolsToSymbolRanges");var wM=Ze(require("fs/promises"));var TM=class{static{s(this,"Index")}constructor(t,r){this.storage=new IM(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=Xo(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await wM.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let o=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=o)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await wM.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,o,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function $ee(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>P0t(r))}s($ee,"isIndexWorkerData");var z_=class{static{s(this,"IndexNotification")}constructor(t){this.operation=t}},R5=class extends z_{constructor(r,n){super(n);this.id=r;this.id=r}static{s(this,"IndexRequest")}},_M=class extends z_{constructor(r){super(Qc.Cancel);this.messageIdToCancel=r}static{s(this,"CancellationNotification")}},Qc={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},SM=class extends R5{constructor(r,n,i){super(r,Qc.CreateIndex);this.baseWorkspaceFolderUri=n;this.databaseFilePath=i}static{s(this,"CreateIndexRequest")}},RM=class extends R5{constructor(r,n){super(r,Qc.RemoveIndex);this.baseWorkspaceFolderUri=n}static{s(this,"RemoveIndexRequest")}},kM=class extends R5{constructor(r,n,i){super(r,Qc.AddOrInvalidated);this.fileUri=n;this.languageId=i}static{s(this,"AddOrInvalidatedRequest")}},BM=class extends R5{constructor(r,n){super(r,Qc.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderUri=n}static{s(this,"GetAllDocumentsRequest")}},DM=class extends R5{constructor(r,n,i,o,a){super(r,Qc.GetContext);this.fileUri=n;this.code=i;this.offset=o;this.languageId=a}static{s(this,"GetContextRequest")}},PM=class extends R5{static{s(this,"ExitRequest")}constructor(t){super(t,Qc.Exit)}},mh=class extends z_{constructor(r,n,i){super(Qc.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{s(this,"ResponseMessage")}};function P0t(e){return"databaseFilePath"in e&&"rootPath"in e}s(P0t,"isIndexableWorkspaceFolder");var $ve=Ze(ni()),lv=require("worker_threads");var NM=class{static{s(this,"IndexInfo")}constructor(t){this.index=new TM(t,hM),this.contextRetreival=new yM(this.index.reader,Eve)}},zee=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r){let i=Ga(n.rootPath);this.indices.set(i,new NM(n.databaseFilePath))}this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{s(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new $ve.CancellationTokenSource;n.set(t.id,i);let o;switch(t.operation){case Qc.AddOrInvalidated:o=await e.dispatchAddOrInvalidate(t,r,i.token);break;case Qc.GetContext:o=await e.dispatchGetContext(t,r,i.token);break;case Qc.Cancel:n.get(t.id)?.cancel(),o=new mh(t.id,void 0,void 0);break;case Qc.Exit:o=await this.dispatchExit(t,r,i.token);break;case Qc.CreateIndex:o=await e.dispatchCreateIndex(t,r,i.token);break;case Qc.RemoveIndex:o=await e.dispatchRemoveIndex(t,r,i.token);break;case Qc.GetAllDocumentsInWorkspace:o=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}o&&this.port?.postMessage(o),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new mh(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=Ga(t.baseWorkspaceFolderUri),o,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():o=new Error(`Index not found for ${t.baseWorkspaceFolderUri}`),new mh(t.id,o,a)}static async dispatchAddOrInvalidate(t,r,n){let i=Ga(t.fileUri),o=e.getIndexInfo(i,r)?.index,a;return o?await o.indexFile(t.fileUri,t.languageId):a=new Error(`Index not found for ${t.fileUri}`),new mh(t.id,a,void 0)}static async dispatchGetContext(t,r,n){let i=Ga(t.fileUri),o=e.getIndexInfo(i,r)?.contextRetreival,a,l;return o?l=await o.getStringifiedContextAtPositionAsync(t.fileUri,t.code,t.offset,t.languageId,8e3,n):a=new Error(`ContextRetrieval not found for ${t.fileUri}`),new mh(t.id,a,l)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new mh(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){let i=Ga(t.baseWorkspaceFolderUri);return r.has(i)||r.set(i,new NM(t.databaseFilePath)),new mh(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=Ga(t.baseWorkspaceFolderUri);if(r.has(i)){let o=r.get(i);o&&await o.index.dispose(),r.delete(i)}return new mh(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(t.startsWith(n))return i}};function zve(){return $ee(lv.workerData)}s(zve,"isIndexWorker");function Yve(){let e=lv.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!$ee(lv.workerData))throw new Error("Worker data must provide a valid database path.");let t=lv.workerData.cwd;process.cwd=()=>t,new zee(e,lv.workerData.indexWorkspaceRoots)}s(Yve,"runIndexWorker");d();var Y_=Ze(require("util"));function Kve(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(Td(e)==="dev")return e.get(Ha).logIt(e,n,"console",...i)}return s(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",Y_.format(...i)))},t.dir=(n,i)=>r(4,Y_.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(Y_.format(...n));i.name="Trace",t.log(i)},t}s(Kve,"createConsole");var mze=Ze(require("fs/promises")),hze=Ze(require("os")),bm=Ze(ph()),pze=require("worker_threads");d();d();var yQ=require("assert");d();d();var $ut={right:Xut,center:Zut},zut=0,fQ=1,Yut=2,dQ=3,xte=class{static{s(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&uf.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),uf.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((o,a)=>({text:o.trim(),padding:this.measurePadding(o),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=uf.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let o="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>uf.stringWidth(a)&&(f+=" ".repeat(u-uf.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=$ut[t[l].align];f=h(f,u),uf.stringWidth(f)<u&&(f+=" ".repeat((c||0)-uf.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[dQ]&&(o+=" ".repeat(m[dQ])),o+=Hbe(t[l],f,"| "),o+=f,o+=Hbe(t[l],f," |"),m[fQ]&&(o+=" ".repeat(m[fQ])),i===0&&r.length>0&&(o=this.renderInline(o,r[r.length-1]))}),r.push({text:o.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,o=r.text,a=uf.stringWidth(o.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,o.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,o+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((o,a)=>{o.width=n[a],this.wrap?i=uf.wrap(o.text,this.negatePadding(o),{hard:!0}).split(`
`):i=o.text.split(`
`),o.border&&(i.unshift("."+"-".repeat(this.negatePadding(o)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(o)+2)+"'")),o.padding&&(i.unshift(...new Array(o.padding[zut]||0).fill("")),i.push(...new Array(o.padding[Yut]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[dQ]||0)+(t.padding[fQ]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||uf.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),o=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(o,Kut(t[l])):a)}};function Hbe(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}s(Hbe,"addBorder");function Kut(e){let t=e.padding||[],r=1+(t[dQ]||0)+(t[fQ]||0);return e.border?r+4:r}s(Kut,"_minWidth");function Jut(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}s(Jut,"getWindowWidth");function Xut(e,t){e=e.trim();let r=uf.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}s(Xut,"alignRight");function Zut(e,t){e=e.trim();let r=uf.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}s(Zut,"alignCenter");var uf;function jbe(e,t){return uf=t,new xte({width:e?.width||Jut(),wrap:e?.wrap})}s(jbe,"cliui");d();var Vbe=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function vte(e){return e.replace(Vbe,"")}s(vte,"stripAnsi");function $be(e,t){let[r,n]=e.match(Vbe)||["",""];e=vte(e);let i="";for(let o=0;o<e.length;o++)o!==0&&o%t===0&&(i+=`
`),i+=e.charAt(o);return r&&n&&(i=`${r}${i}${n}`),i}s($be,"wrap");function bte(e){return jbe(e,{stringWidth:s(t=>[...t].length,"stringWidth"),stripAnsi:vte,wrap:$be})}s(bte,"ui");d();var v8=require("path"),mQ=require("fs");function Ete(e,t){let r=(0,v8.resolve)(".",e),n;for((0,mQ.statSync)(r).isDirectory()||(r=(0,v8.dirname)(r));;){if(n=t(r,(0,mQ.readdirSync)(r)),n)return(0,v8.resolve)(r,n);if(r=(0,v8.dirname)(n=r),n===r)break}}s(Ete,"default");var cEe=require("util"),uEe=require("fs"),fEe=require("url");d();var Xbe=require("util"),AQ=require("path");d();function dv(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let o=i?i[0].length:0;o<e.length;o++){let a=e.charAt(o);n&&(n=!1,a=a.toUpperCase()),o!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}s(dv,"camelCase");function hQ(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let o=r.charAt(i),a=e.charAt(i);o!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}s(hQ,"decamelize");function pQ(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}s(pQ,"looksLikeNumber");d();d();function zbe(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,o=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),o[t]||(o[t]=""),o[t]+=n}return o}s(zbe,"tokenizeArgString");d();var Fd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(Fd||(Fd={}));var pA,gQ=class{static{s(this,"YargsParser")}constructor(t){pA=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=zbe(t),o=typeof t=="string",a=eft(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),g=Object.create(null),y=n.__||pA.format,v={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},b=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,E=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(K){let ne=typeof K=="object"?K.key:K,Fe=Object.keys(K).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Fe&&(v[Fe][ne]=!0),v.arrays[ne]=!0,v.keys.push(ne)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(K){v.bools[K]=!0,v.keys.push(K)}),[].concat(n.string||[]).filter(Boolean).forEach(function(K){v.strings[K]=!0,v.keys.push(K)}),[].concat(n.number||[]).filter(Boolean).forEach(function(K){v.numbers[K]=!0,v.keys.push(K)}),[].concat(n.count||[]).filter(Boolean).forEach(function(K){v.counts[K]=!0,v.keys.push(K)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(K){v.normalize[K]=!0,v.keys.push(K)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([K,ne])=>{typeof ne=="number"&&(v.nargs[K]=ne,v.keys.push(K))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([K,ne])=>{typeof ne=="function"&&(v.coercions[K]=ne,v.keys.push(K))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(K){v.configs[K]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([K,ne])=>{(typeof ne=="boolean"||typeof ne=="function")&&(v.configs[K]=ne)})),De(n.key,a,n.default,v.arrays),Object.keys(c).forEach(function(K){(v.aliases[K]||[]).forEach(function(ne){c[ne]=c[K]})});let _=null;Ge();let k=[],B=Object.assign(Object.create(null),{_:[]}),N={};for(let K=0;K<i.length;K++){let ne=i[K],Fe=ne.replace(/^-{3,}/,"---"),Se,Ce,Ue,Ve,tt,Ct;if(ne!=="--"&&/^-/.test(ne)&&ft(ne))M(ne);else if(Fe.match(/^---+(=|$)/)){M(ne);continue}else if(ne.match(/^--.+=/)||!l["short-option-groups"]&&ne.match(/^-.+=/))Ve=ne.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(be(Ve[1],v.arrays)?K=pe(K,Ve[1],i,Ve[2]):be(Ve[1],v.nargs)!==!1?K=re(K,Ve[1],i,Ve[2]):Z(Ve[1],Ve[2],!0));else if(ne.match(E)&&l["boolean-negation"])Ve=ne.match(E),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Z(Ce,be(Ce,v.arrays)?[!1]:!1));else if(ne.match(/^--.+/)||!l["short-option-groups"]&&ne.match(/^-[^-]+/))Ve=ne.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],be(Ce,v.arrays)?K=pe(K,Ce,i):be(Ce,v.nargs)!==!1?K=re(K,Ce,i):(tt=i[K+1],tt!==void 0&&(!tt.match(/^-/)||tt.match(b))&&!be(Ce,v.bools)&&!be(Ce,v.counts)||/^(true|false)$/.test(tt)?(Z(Ce,tt),K++):Z(Ce,lt(Ce))));else if(ne.match(/^-.\..+=/))Ve=ne.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&Z(Ve[1],Ve[2]);else if(ne.match(/^-.\..+/)&&!ne.match(b))tt=i[K+1],Ve=ne.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],tt!==void 0&&!tt.match(/^-/)&&!be(Ce,v.bools)&&!be(Ce,v.counts)?(Z(Ce,tt),K++):Z(Ce,lt(Ce)));else if(ne.match(/^-[^-]+/)&&!ne.match(b)){Ue=ne.slice(1,-1).split(""),Se=!1;for(let Pt=0;Pt<Ue.length;Pt++){if(tt=ne.slice(Pt+2),Ue[Pt+1]&&Ue[Pt+1]==="="){Ct=ne.slice(Pt+3),Ce=Ue[Pt],be(Ce,v.arrays)?K=pe(K,Ce,i,Ct):be(Ce,v.nargs)!==!1?K=re(K,Ce,i,Ct):Z(Ce,Ct),Se=!0;break}if(tt==="-"){Z(Ue[Pt],tt);continue}if(/[A-Za-z]/.test(Ue[Pt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(tt)&&be(tt,v.bools)===!1){Z(Ue[Pt],tt),Se=!0;break}if(Ue[Pt+1]&&Ue[Pt+1].match(/\W/)){Z(Ue[Pt],tt),Se=!0;break}else Z(Ue[Pt],lt(Ue[Pt]))}Ce=ne.slice(-1)[0],!Se&&Ce!=="-"&&(be(Ce,v.arrays)?K=pe(K,Ce,i):be(Ce,v.nargs)!==!1?K=re(K,Ce,i):(tt=i[K+1],tt!==void 0&&(!/^(-|--)[^-]/.test(tt)||tt.match(b))&&!be(Ce,v.bools)&&!be(Ce,v.counts)||/^(true|false)$/.test(tt)?(Z(Ce,tt),K++):Z(Ce,lt(Ce))))}else if(ne.match(/^-[0-9]$/)&&ne.match(b)&&be(ne.slice(1),v.bools))Ce=ne.slice(1),Z(Ce,lt(Ce));else if(ne==="--"){k=i.slice(K+1);break}else if(l["halt-at-non-option"]){k=i.slice(K);break}else M(ne)}V(B,!0),V(B,!1),z(B),U(),te(B,v.aliases,c,!0),Y(B),l["set-placeholder-key"]&&ae(B),Object.keys(v.counts).forEach(function(K){le(B,K.split("."))||Z(K,0)}),m&&k.length&&(B[h]=[]),k.forEach(function(K){B[h].push(K)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(B).filter(K=>K!=="--"&&K.includes("-")).forEach(K=>{delete B[K]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(K=>a[K])).forEach(K=>{l["camel-case-expansion"]&&K.includes("-")&&delete B[K.split(".").map(ne=>dv(ne)).join(".")],delete B[K]});function M(K){let ne=ie("_",K);(typeof ne=="string"||typeof ne=="number")&&B._.push(ne)}s(M,"pushPositional");function re(K,ne,Fe,Se){let Ce,Ue=be(ne,v.nargs);if(Ue=typeof Ue!="number"||isNaN(Ue)?1:Ue,Ue===0)return Ae(Se)||(_=Error(y("Argument unexpected for: %s",ne))),Z(ne,lt(ne)),K;let Ve=Ae(Se)?0:1;if(l["nargs-eats-options"])Fe.length-(K+1)+Ve<Ue&&(_=Error(y("Not enough arguments following: %s",ne))),Ve=Ue;else{for(Ce=K+1;Ce<Fe.length&&(!Fe[Ce].match(/^-[^0-9]/)||Fe[Ce].match(b)||ft(Fe[Ce]));Ce++)Ve++;Ve<Ue&&(_=Error(y("Not enough arguments following: %s",ne)))}let tt=Math.min(Ve,Ue);for(!Ae(Se)&&tt>0&&(Z(ne,Se),tt--),Ce=K+1;Ce<tt+K+1;Ce++)Z(ne,Fe[Ce]);return K+tt}s(re,"eatNargs");function pe(K,ne,Fe,Se){let Ce=[],Ue=Se||Fe[K+1],Ve=be(ne,v.nargs);if(be(ne,v.bools)&&!/^(true|false)$/.test(Ue))Ce.push(!0);else if(Ae(Ue)||Ae(Se)&&/^-/.test(Ue)&&!b.test(Ue)&&!ft(Ue)){if(c[ne]!==void 0){let tt=c[ne];Ce=Array.isArray(tt)?tt:[tt]}}else{Ae(Se)||Ce.push(q(ne,Se,!0));for(let tt=K+1;tt<Fe.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Ue=Fe[tt],/^-/.test(Ue)&&!b.test(Ue)&&!ft(Ue)));tt++)K=tt,Ce.push(q(ne,Ue,o))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(_=Error(y("Not enough arguments following: %s",ne))),Z(ne,Ce),K}s(pe,"eatArray");function Z(K,ne,Fe=o){if(/-/.test(K)&&l["camel-case-expansion"]){let Ue=K.split(".").map(function(Ve){return dv(Ve)}).join(".");G(K,Ue)}let Se=q(K,ne,Fe),Ce=K.split(".");ce(B,Ce,Se),v.aliases[K]&&v.aliases[K].forEach(function(Ue){let Ve=Ue.split(".");ce(B,Ve,Se)}),Ce.length>1&&l["dot-notation"]&&(v.aliases[Ce[0]]||[]).forEach(function(Ue){let Ve=Ue.split("."),tt=[].concat(Ce);tt.shift(),Ve=Ve.concat(tt),(v.aliases[K]||[]).includes(Ve.join("."))||ce(B,Ve,Se)}),be(K,v.normalize)&&!be(K,v.arrays)&&[K].concat(v.aliases[K]||[]).forEach(function(Ve){Object.defineProperty(N,Ve,{enumerable:!0,get(){return ne},set(tt){ne=typeof tt=="string"?pA.normalize(tt):tt}})})}s(Z,"setArg");function G(K,ne){v.aliases[K]&&v.aliases[K].length||(v.aliases[K]=[ne],p[ne]=!0),v.aliases[ne]&&v.aliases[ne].length||G(ne,K)}s(G,"addNewAlias");function q(K,ne,Fe){Fe&&(ne=tft(ne)),(be(K,v.bools)||be(K,v.counts))&&typeof ne=="string"&&(ne=ne==="true");let Se=Array.isArray(ne)?ne.map(function(Ce){return ie(K,Ce)}):ie(K,ne);return be(K,v.counts)&&(Ae(Se)||typeof Se=="boolean")&&(Se=Ite()),be(K,v.normalize)&&be(K,v.arrays)&&(Array.isArray(ne)?Se=ne.map(Ce=>pA.normalize(Ce)):Se=pA.normalize(ne)),Se}s(q,"processValue");function ie(K,ne){return!l["parse-positional-numbers"]&&K==="_"||!be(K,v.strings)&&!be(K,v.bools)&&!Array.isArray(ne)&&(pQ(ne)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${ne}`)))||!Ae(ne)&&be(K,v.numbers))&&(ne=Number(ne)),ne}s(ie,"maybeCoerceNumber");function z(K){let ne=Object.create(null);te(ne,v.aliases,c),Object.keys(v.configs).forEach(function(Fe){let Se=K[Fe]||ne[Fe];if(Se)try{let Ce=null,Ue=pA.resolve(pA.cwd(),Se),Ve=v.configs[Fe];if(typeof Ve=="function"){try{Ce=Ve(Ue)}catch(tt){Ce=tt}if(Ce instanceof Error){_=Ce;return}}else Ce=pA.require(Ue);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?_=Ce:K[Fe]&&(_=Error(y("Invalid JSON config file: %s",Se)))}})}s(z,"setConfig");function H(K,ne){Object.keys(K).forEach(function(Fe){let Se=K[Fe],Ce=ne?ne+"."+Fe:Fe;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?H(Se,Ce):(!le(B,Ce.split("."))||be(Ce,v.arrays)&&l["combine-arrays"])&&Z(Ce,Se)})}s(H,"setConfigObject");function U(){typeof u<"u"&&u.forEach(function(K){H(K)})}s(U,"setConfigObjects");function V(K,ne){if(typeof f>"u")return;let Fe=typeof f=="string"?f:"",Se=pA.env();Object.keys(Se).forEach(function(Ce){if(Fe===""||Ce.lastIndexOf(Fe,0)===0){let Ue=Ce.split("__").map(function(Ve,tt){return tt===0&&(Ve=Ve.substring(Fe.length)),dv(Ve)});(ne&&v.configs[Ue.join(".")]||!ne)&&!le(K,Ue)&&Z(Ue.join("."),Se[Ce])}})}s(V,"applyEnvVars");function Y(K){let ne,Fe=new Set;Object.keys(K).forEach(function(Se){if(!Fe.has(Se)&&(ne=be(Se,v.coercions),typeof ne=="function"))try{let Ce=ie(Se,ne(K[Se]));[].concat(v.aliases[Se]||[],Se).forEach(Ue=>{Fe.add(Ue),K[Ue]=Ce})}catch(Ce){_=Ce}})}s(Y,"applyCoercions");function ae(K){return v.keys.forEach(ne=>{~ne.indexOf(".")||typeof K[ne]>"u"&&(K[ne]=void 0)}),K}s(ae,"setPlaceholderKeys");function te(K,ne,Fe,Se=!1){Object.keys(Fe).forEach(function(Ce){le(K,Ce.split("."))||(ce(K,Ce.split("."),Fe[Ce]),Se&&(g[Ce]=!0),(ne[Ce]||[]).forEach(function(Ue){le(K,Ue.split("."))||ce(K,Ue.split("."),Fe[Ce])}))})}s(te,"applyDefaultsAndAliases");function le(K,ne){let Fe=K;l["dot-notation"]||(ne=[ne.join(".")]),ne.slice(0,-1).forEach(function(Ce){Fe=Fe[Ce]||{}});let Se=ne[ne.length-1];return typeof Fe!="object"?!1:Se in Fe}s(le,"hasKey");function ce(K,ne,Fe){let Se=K;l["dot-notation"]||(ne=[ne.join(".")]),ne.slice(0,-1).forEach(function(Ct){Ct=Ybe(Ct),typeof Se=="object"&&Se[Ct]===void 0&&(Se[Ct]={}),typeof Se[Ct]!="object"||Array.isArray(Se[Ct])?(Array.isArray(Se[Ct])?Se[Ct].push({}):Se[Ct]=[Se[Ct],{}],Se=Se[Ct][Se[Ct].length-1]):Se=Se[Ct]});let Ce=Ybe(ne[ne.length-1]),Ue=be(ne.join("."),v.arrays),Ve=Array.isArray(Fe),tt=l["duplicate-arguments-array"];!tt&&be(Ce,v.nargs)&&(tt=!0,(!Ae(Se[Ce])&&v.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===v.nargs[Ce])&&(Se[Ce]=void 0)),Fe===Ite()?Se[Ce]=Ite(Se[Ce]):Array.isArray(Se[Ce])?tt&&Ue&&Ve?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Fe):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Fe]):!tt&&!!Ue==!!Ve?Se[Ce]=Fe:Se[Ce]=Se[Ce].concat([Fe]):Se[Ce]===void 0&&Ue?Se[Ce]=Ve?Fe:[Fe]:tt&&!(Se[Ce]===void 0||be(Ce,v.counts)||be(Ce,v.bools))?Se[Ce]=[Se[Ce],Fe]:Se[Ce]=Fe}s(ce,"setKey");function De(...K){K.forEach(function(ne){Object.keys(ne||{}).forEach(function(Fe){v.aliases[Fe]||(v.aliases[Fe]=[].concat(a[Fe]||[]),v.aliases[Fe].concat(Fe).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=dv(Se);Ce!==Fe&&v.aliases[Fe].indexOf(Ce)===-1&&(v.aliases[Fe].push(Ce),p[Ce]=!0)}}),v.aliases[Fe].concat(Fe).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=hQ(Se,"-");Ce!==Fe&&v.aliases[Fe].indexOf(Ce)===-1&&(v.aliases[Fe].push(Ce),p[Ce]=!0)}}),v.aliases[Fe].forEach(function(Se){v.aliases[Se]=[Fe].concat(v.aliases[Fe].filter(function(Ce){return Se!==Ce}))}))})})}s(De,"extendAliases");function be(K,ne){let Fe=[].concat(v.aliases[K]||[],K),Se=Object.keys(ne),Ce=Fe.find(Ue=>Se.includes(Ue));return Ce?ne[Ce]:!1}s(be,"checkAllAliases");function qe(K){let ne=Object.keys(v);return[].concat(ne.map(Se=>v[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(K):Se[K]})}s(qe,"hasAnyFlag");function Re(K,...ne){return[].concat(...ne).some(function(Se){let Ce=K.match(Se);return Ce&&qe(Ce[1])})}s(Re,"hasFlagsMatching");function Xe(K){if(K.match(b)||!K.match(/^-[^-]+/))return!1;let ne=!0,Fe,Se=K.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Fe=K.slice(Ce+2),!qe(Se[Ce])){ne=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Fe==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Fe)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return ne}s(Xe,"hasAllShortFlags");function ft(K){return l["unknown-options-as-args"]&&at(K)}s(ft,"isUnknownOptionAsArg");function at(K){return K=K.replace(/^-{3,}/,"--"),K.match(b)||Xe(K)?!1:!Re(K,/^-+([^=]+?)=[\s\S]*$/,E,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}s(at,"isUnknownOption");function lt(K){return!be(K,v.bools)&&!be(K,v.counts)&&`${K}`in c?c[K]:oe(Ne(K))}s(lt,"defaultValue");function oe(K){return{[Fd.BOOLEAN]:!0,[Fd.STRING]:"",[Fd.NUMBER]:void 0,[Fd.ARRAY]:[]}[K]}s(oe,"defaultForType");function Ne(K){let ne=Fd.BOOLEAN;return be(K,v.strings)?ne=Fd.STRING:be(K,v.numbers)?ne=Fd.NUMBER:be(K,v.bools)?ne=Fd.BOOLEAN:be(K,v.arrays)&&(ne=Fd.ARRAY),ne}s(Ne,"guessType");function Ae(K){return K===void 0}s(Ae,"isUndefined");function Ge(){Object.keys(v.counts).find(K=>be(K,v.arrays)?(_=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",K)),!0):be(K,v.nargs)?(_=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",K)),!0):!1)}return s(Ge,"checkConfiguration"),{aliases:Object.assign({},v.aliases),argv:Object.assign(N,B),configuration:l,defaulted:Object.assign({},g),error:_,newAliases:Object.assign({},p)}}};function eft(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let o=i+1;o<t.length;o++)if(t[i].filter(function(l){return t[o].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[o]),t.splice(o,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let o=i.pop();o!==void 0&&typeof o=="string"&&(r[o]=i)}),r}s(eft,"combineAliases");function Ite(e){return e!==void 0?e+1:1}s(Ite,"increment");function Ybe(e){return e==="__proto__"?"___proto___":e}s(Ybe,"sanitizeKey");function tft(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}s(tft,"stripQuotes");var Zbe=require("fs");var Tte,wte,_te,Kbe=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Jbe=(wte=(Tte=process==null?void 0:process.versions)===null||Tte===void 0?void 0:Tte.node)!==null&&wte!==void 0?wte:(_te=process==null?void 0:process.version)===null||_te===void 0?void 0:_te.slice(1);if(Jbe&&Number(Jbe.match(/^([^.]+)/)[1])<Kbe)throw Error(`yargs parser supports a minimum Node.js version of ${Kbe}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var rft=process?process.env:{},eEe=new gQ({cwd:process.cwd,env:s(()=>rft,"env"),format:Xbe.format,normalize:AQ.normalize,resolve:AQ.resolve,require:s(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,Zbe.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),rS=s(function(t,r){return eEe.parse(t.slice(),r).argv},"Parser");rS.detailed=function(e,t){return eEe.parse(e.slice(),t)};rS.camelCase=dv;rS.decamelize=hQ;rS.looksLikeNumber=pQ;var tEe=rS;var Ah=require("path");d();function nft(){return ift()?0:1}s(nft,"getProcessArgvBinIndex");function ift(){return oft()&&!process.defaultApp}s(ift,"isBundledElectronApp");function oft(){return!!process.versions.electron}s(oft,"isElectronApp");function rEe(){return process.argv[nft()]}s(rEe,"getProcessArgvBin");d();var gs=class e extends Error{static{s(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var b8=require("fs"),nEe=require("util"),iEe=require("path");var oEe={fs:{readFileSync:b8.readFileSync,writeFile:b8.writeFile},format:nEe.format,resolve:iEe.resolve,exists:s(e=>{try{return(0,b8.statSync)(e).isFile()}catch{return!1}},"exists")};d();var gh,Ste=class{static{s(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=s(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),gh.format.apply(gh.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),o=s(function(){},"cb");typeof t[t.length-1]=="function"&&(o=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:o})):o();let l=[a];return~a.indexOf("%d")&&l.push(i),gh.format.apply(gh.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,o){let a=r[o+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,o=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);gh.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),o(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{gh.fs.readFileSync&&(t=JSON.parse(gh.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=gh.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=gh.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return gh.exists(t)}};function sEe(e,t){gh=t;let r=new Ste(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}s(sEe,"y18n");var sft=s(e=>sEe(e,oEe),"y18n"),aEe=sft;var aft="require is not supported by ESM",lEe="loading a directory of commands is not supported yet for ESM",nS;try{nS=(0,fEe.fileURLToPath)(importMetaUrlShim)}catch{nS=process.cwd()}var lft=nS.substring(0,nS.lastIndexOf("node_modules")),dEe={assert:{notStrictEqual:yQ.notStrictEqual,strictEqual:yQ.strictEqual},cliui:bte,findUp:Ete,getEnv:s(e=>process.env[e],"getEnv"),inspect:cEe.inspect,getCallerFile:s(()=>{throw new gs(lEe)},"getCallerFile"),getProcessArgvBin:rEe,mainFilename:lft||process.cwd(),Parser:tEe,path:{basename:Ah.basename,dirname:Ah.dirname,extname:Ah.extname,relative:Ah.relative,resolve:Ah.resolve},process:{argv:s(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:s((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:s(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:uEe.readFileSync,require:s(()=>{throw new gs(aft)},"require"),requireDirectory:s(()=>{throw new gs(lEe)},"requireDirectory"),stringWidth:s(e=>[...e].length,"stringWidth"),y18n:aEe({directory:(0,Ah.resolve)(nS,"../../../locales"),updateFiles:!1})};d();d();d();function p0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}s(p0,"assertNotStrictEqual");function Rte(e,t){t.assert.strictEqual(typeof e,"string")}s(Rte,"assertSingleKey");function E8(e){return Object.keys(e)}s(E8,"objectKeys");d();function As(e){return!!e&&!!e.then&&typeof e.then=="function"}s(As,"isPromise");d();d();d();function P5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let o={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?o.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):o.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),o}s(P5,"parseCommand");var cft=["first","second","third","fourth","fifth","sixth"];function Fr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[P5(`cmd ${e}`),t,r]}s(n,"parseArgs");try{let i=0,[o,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<o.demanded.length)throw new gs(`Not enough arguments provided. Expected ${o.demanded.length} but received ${c.length}.`);let f=o.demanded.length+o.optional.length;if(u>f)throw new gs(`Too many arguments provided. Expected max ${f} but received ${u}.`);o.demanded.forEach(m=>{let h=c.shift(),p=mEe(h);m.cmd.filter(y=>y===p||y==="*").length===0&&hEe(p,m.cmd,i),i+=1}),o.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=mEe(h);m.cmd.filter(y=>y===p||y==="*").length===0&&hEe(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}s(Fr,"argsert");function mEe(e){return Array.isArray(e)?"array":e===null?"null":typeof e}s(mEe,"guessType");function hEe(e,t,r){throw new gs(`Invalid ${cft[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}s(hEe,"argumentTypeError");var CQ=class{static{s(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(Fr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let o=0;o<t.length;o++){if(typeof t[o]!="function")throw Error("middleware must be a function");let a=t[o];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let o=t;o.applyBeforeValidation=r,o.global=n,o.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let o=[...n[r]||[],r];return i.option?!o.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function pEe(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}s(pEe,"commandMiddlewareFactory");function mv(e,t,r,n){return r.reduce((i,o)=>{if(o.applyBeforeValidation!==n)return i;if(o.mutates){if(o.applied)return i;o.applied=!0}if(As(i))return i.then(a=>Promise.all([a,o(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=o(i,t);return As(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}s(mv,"applyMiddleware");d();function hv(e,t,r=n=>{throw n}){try{let n=uft(e)?e():e;return As(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}s(hv,"maybeAsyncResult");function uft(e){return typeof e=="function"}s(uft,"isFunction");d();function kte(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}s(kte,"whichModule");var I8=/(^\*)|(^\$0)/,Bte=class{static{s(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let o=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=o(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,o,a){let l=[],c=pEe(o);if(i=i||(()=>{}),Array.isArray(t))if(fft(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(mft(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(gEe(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=P5(t);l=l.map(h=>P5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>I8.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(I8,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,o,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,o,a);return As(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,o,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,o,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,o,a,l,c){let u=r.builder,f=n;if(xQ(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(As(m))return m.then(h=>(f=yEe(h)?h:n,this.parseAndUpdateUsage(t,r,f,o,a,l)))}else dft(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,o,a,l)}parseAndUpdateUsage(t,r,n,i,o,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,o,a);return As(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=I8.test(r.original)?r.original.replace(I8,"").trim():r.original,i=t.filter(o=>!I8.test(o));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,o,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(o,c,a.parsed.error,t);n=hv(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=mv(n,a,l,!1),n=hv(n,f=>{let m=r.handler(f);return As(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),As(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,o,a,l){let c={};if(o)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=mv(n,l,u,!0);return As(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let o=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(o.length,r._.length);o.length;){let c=o.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=P5(t);return n.demanded.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(r.array.push(o),r.default[o]=[]),r.alias[o]=a,r.demand[o]=!0}),n.optional.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(r.array.push(o),r.default[o]=[]),r.alias[o]=a}),r}postProcessPositionals(t,r,n,i){let o=Object.assign({},i.getOptions());o.default=Object.assign(n.default,o.default);for(let u of Object.keys(n.alias))o.alias[u]=(o.alias[u]||[]).concat(n.alias[u]);o.array=o.array.concat(n.array),o.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{o.configuration["unknown-options-as-args"]&&(o.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},o.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},o,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=I8.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(xQ(r))return r(t,!0);gEe(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=kte(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;p0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();p0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function AEe(e,t,r,n){return new Bte(e,t,r,n)}s(AEe,"command");function gEe(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}s(gEe,"isCommandBuilderDefinition");function fft(e){return e.every(t=>typeof t=="string")}s(fft,"isCommandAndAliases");function xQ(e){return typeof e=="function"}s(xQ,"isCommandBuilderCallback");function dft(e){return typeof e=="object"}s(dft,"isCommandBuilderOptionDefinitions");function mft(e){return typeof e=="object"&&!Array.isArray(e)}s(mft,"isCommandHandlerDefinition");d();d();function N5(e={},t=()=>!0){let r={};return E8(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}s(N5,"objFilter");d();function L5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}s(L5,"setBlocking");function hft(e){return typeof e=="boolean"}s(hft,"isBoolean");function xEe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=s(function(q){i.push(q)},"failFn");let o=null,a=null,l=!0;n.showHelpOnFail=s(function(q=!0,ie){let[z,H]=typeof q=="string"?[!0,q]:[q,ie];return e.getInternalMethods().isGlobalContext()&&(a=H),o=H,l=z,n},"showHelpOnFailFn");let c=!1;n.fail=s(function(q,ie){let z=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let U=i[H];if(hft(U)){if(ie)throw ie;if(q)throw Error(q)}else U(q,ie,n)}else{if(e.getExitProcess()&&L5(!0),!c){c=!0,l&&(e.showHelp("error"),z.error()),(q||ie)&&z.error(q||ie);let H=o||a;H&&((q||ie)&&z.error(""),z.error(H))}if(ie=ie||new gs(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,ie);throw ie}},"fail");let u=[],f=!1;n.usage=(G,q)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,q||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,q)=>{m.push([G,q||""])};let h=[];n.command=s(function(q,ie,z,H,U=!1){z&&(h=h.map(V=>(V[2]=!1,V))),h.push([q,ie||"",z,H,U])},"command"),n.getCommands=()=>h;let p={};n.describe=s(function(q,ie){Array.isArray(q)?q.forEach(z=>{n.describe(z,ie)}):typeof q=="object"?Object.keys(q).forEach(z=>{n.describe(z,q[z])}):p[q]=ie},"describe"),n.getDescriptions=()=>p;let g=[];n.epilog=G=>{g.push(G)};let y=!1,v;n.wrap=G=>{y=!0,v=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(y||(v=re(),y=!0),v);let b="__yargsString__:";n.deferY18nLookup=G=>b+G,n.help=s(function(){if(k)return k;_();let q=e.customScriptName?e.$0:t.path.basename(e.$0),ie=e.getDemandedOptions(),z=e.getDemandedCommands(),H=e.getDeprecatedOptions(),U=e.getGroups(),V=e.getOptions(),Y=[];Y=Y.concat(Object.keys(p)),Y=Y.concat(Object.keys(ie)),Y=Y.concat(Object.keys(z)),Y=Y.concat(Object.keys(V.default)),Y=Y.filter(N),Y=Object.keys(Y.reduce((Re,Xe)=>(Xe!=="_"&&(Re[Xe]=!0),Re),{}));let ae=n.getWrap(),te=t.cliui({width:ae,wrap:!!ae});if(!f){if(u.length)u.forEach(Re=>{te.div({text:`${Re[0].replace(/\$0/g,q)}`}),Re[1]&&te.div({text:`${Re[1]}`,padding:[1,0,0,0]})}),te.div();else if(h.length){let Re=null;z._?Re=`${q} <${r("command")}>
`:Re=`${q} [${r("command")}]
`,te.div(`${Re}`)}}if(h.length>1||h.length===1&&!h[0][2]){te.div(r("Commands:"));let Re=e.getInternalMethods().getContext(),Xe=Re.commands.length?`${Re.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((at,lt)=>at[0].localeCompare(lt[0])));let ft=q?`${q} `:"";h.forEach(at=>{let lt=`${ft}${Xe}${at[0].replace(/^\$0 ?/,"")}`;te.span({text:lt,padding:[0,2,0,2],width:E(h,ae,`${q}${Xe}`)+4},{text:at[1]});let oe=[];at[2]&&oe.push(`[${r("default")}]`),at[3]&&at[3].length&&oe.push(`[${r("aliases:")} ${at[3].join(", ")}]`),at[4]&&(typeof at[4]=="string"?oe.push(`[${r("deprecated: %s",at[4])}]`):oe.push(`[${r("deprecated")}]`)),oe.length?te.div({text:oe.join(" "),padding:[0,0,0,2],align:"right"}):te.div()}),te.div()}let le=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);Y=Y.filter(Re=>!e.parsed.newAliases[Re]&&le.every(Xe=>(V.alias[Xe]||[]).indexOf(Re)===-1));let ce=r("Options:");U[ce]||(U[ce]=[]),B(Y,V.alias,U,ce);let De=s(Re=>/^--/.test(vQ(Re)),"isLongSwitch"),be=Object.keys(U).filter(Re=>U[Re].length>0).map(Re=>{let Xe=U[Re].filter(N).map(ft=>{if(le.includes(ft))return ft;for(let at=0,lt;(lt=le[at])!==void 0;at++)if((V.alias[lt]||[]).includes(ft))return lt;return ft});return{groupName:Re,normalizedKeys:Xe}}).filter(({normalizedKeys:Re})=>Re.length>0).map(({groupName:Re,normalizedKeys:Xe})=>{let ft=Xe.reduce((at,lt)=>(at[lt]=[lt].concat(V.alias[lt]||[]).map(oe=>Re===n.getPositionalGroupName()?oe:(/^[0-9]$/.test(oe)?V.boolean.includes(lt)?"-":"--":oe.length>1?"--":"-")+oe).sort((oe,Ne)=>De(oe)===De(Ne)?0:De(oe)?1:-1).join(", "),at),{});return{groupName:Re,normalizedKeys:Xe,switches:ft}});if(be.filter(({groupName:Re})=>Re!==n.getPositionalGroupName()).some(({normalizedKeys:Re,switches:Xe})=>!Re.every(ft=>De(Xe[ft])))&&be.filter(({groupName:Re})=>Re!==n.getPositionalGroupName()).forEach(({normalizedKeys:Re,switches:Xe})=>{Re.forEach(ft=>{De(Xe[ft])&&(Xe[ft]=pft(Xe[ft],4))})}),be.forEach(({groupName:Re,normalizedKeys:Xe,switches:ft})=>{te.div(Re),Xe.forEach(at=>{let lt=ft[at],oe=p[at]||"",Ne=null;oe.includes(b)&&(oe=r(oe.substring(b.length))),V.boolean.includes(at)&&(Ne=`[${r("boolean")}]`),V.count.includes(at)&&(Ne=`[${r("count")}]`),V.string.includes(at)&&(Ne=`[${r("string")}]`),V.normalize.includes(at)&&(Ne=`[${r("string")}]`),V.array.includes(at)&&(Ne=`[${r("array")}]`),V.number.includes(at)&&(Ne=`[${r("number")}]`);let Ae=s(ne=>typeof ne=="string"?`[${r("deprecated: %s",ne)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),Ge=[at in H?Ae(H[at]):null,Ne,at in ie?`[${r("required")}]`:null,V.choices&&V.choices[at]?`[${r("choices:")} ${n.stringifiedValues(V.choices[at])}]`:null,M(V.default[at],V.defaultDescription[at])].filter(Boolean).join(" ");te.span({text:vQ(lt),padding:[0,2,0,2+CEe(lt)],width:E(ft,ae)+4},oe);let K=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;Ge&&!K?te.div({text:Ge,padding:[0,0,0,2],align:"right"}):te.div()}),te.div()}),m.length&&(te.div(r("Examples:")),m.forEach(Re=>{Re[0]=Re[0].replace(/\$0/g,q)}),m.forEach(Re=>{Re[1]===""?te.div({text:Re[0],padding:[0,2,0,2]}):te.div({text:Re[0],padding:[0,2,0,2],width:E(m,ae)+4},{text:Re[1]})}),te.div()),g.length>0){let Re=g.map(Xe=>Xe.replace(/\$0/g,q)).join(`
`);te.div(`${Re}
`)}return te.toString().replace(/\s*$/,"")},"help");function E(G,q,ie){let z=0;return Array.isArray(G)||(G=Object.values(G).map(H=>[H])),G.forEach(H=>{z=Math.max(t.stringWidth(ie?`${ie} ${vQ(H[0])}`:vQ(H[0]))+CEe(H[0]),z)}),q&&(z=Math.min(z,parseInt((q*.5).toString(),10))),z}s(E,"maxWidth");function _(){let G=e.getDemandedOptions(),q=e.getOptions();(Object.keys(q.alias)||[]).forEach(ie=>{q.alias[ie].forEach(z=>{p[z]&&n.describe(ie,p[z]),z in G&&e.demandOption(ie,G[z]),q.boolean.includes(z)&&e.boolean(ie),q.count.includes(z)&&e.count(ie),q.string.includes(z)&&e.string(ie),q.normalize.includes(z)&&e.normalize(ie),q.array.includes(z)&&e.array(ie),q.number.includes(z)&&e.number(ie)})})}s(_,"normalizeAliases");let k;n.cacheHelpMessage=function(){k=this.help()},n.clearCachedHelpMessage=function(){k=void 0},n.hasCachedHelpMessage=function(){return!!k};function B(G,q,ie,z){let H=[],U=null;return Object.keys(ie).forEach(V=>{H=H.concat(ie[V])}),G.forEach(V=>{U=[V].concat(q[V]),U.some(Y=>H.indexOf(Y)!==-1)||ie[z].push(V)}),H}s(B,"addUngroupedKeys");function N(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}s(N,"filterHiddenOptions"),n.showHelp=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=s(function(q,ie){let z="",H=ie||", ",U=[].concat(q);return!q||!U.length||U.forEach(V=>{z.length&&(z+=H),z+=JSON.stringify(V)}),z},"stringifiedValues");function M(G,q){let ie=`[${r("default:")} `;if(G===void 0&&!q)return null;if(q)ie+=q;else switch(typeof G){case"string":ie+=`"${G}"`;break;case"object":ie+=JSON.stringify(G);break;default:ie+=G}return`${ie}]`}s(M,"defaultString");function re(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}s(re,"windowWidth");let pe=null;n.version=G=>{pe=G},n.showVersion=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(pe)},n.reset=s(function(q){return o=null,c=!1,u=[],f=!1,g=[],m=[],h=[],p=N5(p,ie=>!q[ie]),n},"reset");let Z=[];return n.freeze=s(function(){Z.push({failMessage:o,failureOutput:c,usages:u,usageDisabled:f,epilogs:g,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=s(function(q=!1){let ie=Z.pop();ie&&(q?(p={...ie.descriptions,...p},h=[...ie.commands,...h],u=[...ie.usages,...u],m=[...ie.examples,...m],g=[...ie.epilogs,...g]):{failMessage:o,failureOutput:c,usages:u,usageDisabled:f,epilogs:g,examples:m,commands:h,descriptions:p}=ie)},"unfreeze"),n}s(xEe,"usage");function Dte(e){return typeof e=="object"}s(Dte,"isIndentedText");function pft(e,t){return Dte(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}s(pft,"addIndentation");function CEe(e){return Dte(e)?e.indentation:0}s(CEe,"getIndentation");function vQ(e){return Dte(e)?e.text:e}s(vQ,"getText");d();d();var vEe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,bEe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var Pte=class{static{s(this,"Completion")}constructor(t,r,n,i){var o,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((o=this.shim.getEnv("SHELL"))===null||o===void 0?void 0:o.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let o=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(o[t[l]]&&o[t[l]].builder){let u=o[t[l]].builder;if(xQ(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(o=>{let a=P5(o[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=o[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let o=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(o.key).forEach(l=>{let c=!!o.configuration["boolean-negation"]&&o.boolean.includes(l);!a.includes(l)&&!o.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!o.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let o=this.getPreviousArgChoices(r);o&&o.length>0&&t.push(...o.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=o[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),o=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(o.key,c)&&Array.isArray(o.choices[c])){l=o.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=s(o=>t.indexOf((/^[^0-9]$/.test(o)?"-":"--")+o)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let o of this.aliases[r])if(i(o))return!0}return!1}completeOptionKey(t,r,n,i){var o,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),g=(a=(o=this===null||this===void 0?void 0:this.aliases)===null||o===void 0?void 0:o[t])===null||a===void 0?void 0:a.find(b=>{let E=p[b];return typeof E=="string"&&E.length>0}),y=g?p[g]:void 0,v=(c=(l=p[t])!==null&&l!==void 0?l:y)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${v.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=s(p=>/^--/.test(p),"startsByTwoDashes"),m=s(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(p0(this.customCompletionFunction,null,this.shim),Aft(this.customCompletionFunction)){let o=this.customCompletionFunction(n,r);return As(o)?o.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,o)}else return yft(this.customCompletionFunction)?this.customCompletionFunction(n,r,(o=i)=>this.defaultCompletion(t,r,n,o),o=>{i(null,o)}):this.customCompletionFunction(n,r,o=>{i(null,o)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),o=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return As(i)?i.then(o):o(i)}generateCompletionScript(t,r){let n=this.zshShell?bEe:vEe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function EEe(e,t,r,n){return new Pte(e,t,r,n)}s(EEe,"completion");function Aft(e){return e.length<3}s(Aft,"isSyncCompletionFunction");function yft(e){return e.length>3}s(yft,"isFallbackCompletionFunction");d();d();function IEe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}s(IEe,"levenshtein");var TEe=["$0","--","_"];function wEe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,o={};o.nonOptionCount=s(function(m){let h=e.getDemandedCommands(),g=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(g<h._.min||g>h._.max)&&(g<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,g.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g.toString(),h._.min.toString())):g>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,g.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",g,g.toString(),h._.max.toString()))))},"nonOptionCount"),o.positionalCount=s(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),o.requiredArguments=s(function(m,h){let p=null;for(let g of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,g)||typeof m[g]>"u")&&(p=p||{},p[g]=h[g]);if(p){let g=[];for(let v of Object.keys(p)){let b=p[v];b&&g.indexOf(b)<0&&g.push(b)}let y=g.length?`
${g.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+y))}},"requiredArguments"),o.unknownArguments=s(function(m,h,p,g,y=!0){var v;let b=e.getInternalMethods().getCommandInstance().getCommands(),E=[],_=e.getInternalMethods().getContext();if(Object.keys(m).forEach(k=>{!TEe.includes(k)&&!Object.prototype.hasOwnProperty.call(p,k)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),k)&&!o.isValidAndSomeAliasIsNotNew(k,h)&&E.push(k)}),y&&(_.commands.length>0||b.length>0||g)&&m._.slice(_.commands.length).forEach(k=>{b.includes(""+k)||E.push(""+k)}),y){let B=((v=e.getDemandedCommands()._)===null||v===void 0?void 0:v.max)||0,N=_.commands.length+B;N<m._.length&&m._.slice(N).forEach(M=>{M=String(M),!_.commands.includes(M)&&!E.includes(M)&&E.push(M)})}E.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",E.length,E.map(k=>k.trim()?k:`"${k}"`).join(", ")))},"unknownArguments"),o.unknownCommands=s(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],g=e.getInternalMethods().getContext();return(g.commands.length>0||h.length>0)&&m._.slice(g.commands.length).forEach(y=>{h.includes(""+y)||p.push(""+y)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),o.isValidAndSomeAliasIsNotNew=s(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(g=>!Object.prototype.hasOwnProperty.call(p,g)||!p[m])},"isValidAndSomeAliasIsNotNew"),o.limitedChoices=s(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(v=>{TEe.indexOf(v)===-1&&Object.prototype.hasOwnProperty.call(h.choices,v)&&[].concat(m[v]).forEach(b=>{h.choices[v].indexOf(b)===-1&&b!==void 0&&(p[v]=(p[v]||[]).concat(b))})});let g=Object.keys(p);if(!g.length)return;let y=n("Invalid values:");g.forEach(v=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",v,t.stringifiedValues(p[v]),t.stringifiedValues(h.choices[v]))}`}),t.fail(y)},"limitedChoices");let a={};o.implies=s(function(m,h){Fr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{o.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>o.implies(m,p)):(p0(h,void 0,r),a[m].push(h)))},"implies"),o.getImplied=s(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}s(l,"keyExists"),o.implications=s(function(m){let h=[];if(Object.keys(a).forEach(p=>{let g=p;(a[p]||[]).forEach(y=>{let v=g,b=y;v=l(m,v),y=l(m,y),v&&!y&&h.push(` ${g} -> ${b}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(g=>{p+=g}),t.fail(p)}},"implications");let c={};o.conflicts=s(function(m,h){Fr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{o.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>o.conflicts(m,p)):c[m].push(h))},"conflicts"),o.getConflicting=()=>c,o.conflicting=s(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),o.recommendCommands=s(function(m,h){h=h.sort((v,b)=>b.length-v.length);let g=null,y=1/0;for(let v=0,b;(b=h[v])!==void 0;v++){let E=IEe(m,b);E<=3&&E<y&&(y=E,g=b)}g&&t.fail(n("Did you mean %s?",g))},"recommendCommands"),o.reset=s(function(m){return a=N5(a,h=>!m[h]),c=N5(c,h=>!m[h]),o},"reset");let u=[];return o.freeze=s(function(){u.push({implied:a,conflicting:c})},"freeze"),o.unfreeze=s(function(){let m=u.pop();p0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),o}s(wEe,"validation");d();var Nte=[],iS;function bQ(e,t,r,n){iS=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let o=/\.json|\..*rc$/.test(e.extends),a=null;if(o)a=xft(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}Cft(a),Nte.push(a),i=o?JSON.parse(iS.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=bQ(i,iS.path.dirname(a),r,iS)}return Nte=[],r?_Ee(i,e):Object.assign({},i,e)}s(bQ,"applyExtends");function Cft(e){if(Nte.indexOf(e)>-1)throw new gs(`Circular extended configurations: '${e}'.`)}s(Cft,"checkForCircularExtends");function xft(e,t){return iS.path.resolve(e,t)}s(xft,"getPathToDefaultConfig");function _Ee(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}s(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=_Ee(e[i],t[i]):r[i]=t[i];return r}s(_Ee,"mergeDeep");var Qr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},he=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},wa,pv,oS,Md,ff,EQ,F5,gv,IQ,Qd,TQ,Od,ag,df,Ud,wQ,T8,Bl,Yr,_Q,SQ,mf,Av,w8,yv,M5,RQ,Mn,Cv,xv,vv,jn,kQ,lg,sa;function $Ee(e){return(t=[],r=e.process.cwd(),n)=>{let i=new jte(t,r,n,e);return Object.defineProperty(i,"argv",{get:s(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}s($Ee,"YargsFactory");var SEe=Symbol("copyDoubleDash"),REe=Symbol("copyDoubleDash"),Lte=Symbol("deleteFromParserHintObject"),kEe=Symbol("emitWarning"),BEe=Symbol("freeze"),DEe=Symbol("getDollarZero"),bv=Symbol("getParserConfiguration"),PEe=Symbol("getUsageConfiguration"),Fte=Symbol("guessLocale"),NEe=Symbol("guessVersion"),LEe=Symbol("parsePositionalNumbers"),Mte=Symbol("pkgUp"),Q5=Symbol("populateParserHintArray"),_8=Symbol("populateParserHintSingleValueDictionary"),Qte=Symbol("populateParserHintArrayDictionary"),Ote=Symbol("populateParserHintDictionary"),Ute=Symbol("sanitizeKey"),qte=Symbol("setKey"),Wte=Symbol("unfreeze"),FEe=Symbol("validateAsync"),MEe=Symbol("getCommandInstance"),QEe=Symbol("getContext"),OEe=Symbol("getHasOutput"),UEe=Symbol("getLoggerInstance"),qEe=Symbol("getParseContext"),WEe=Symbol("getUsageInstance"),GEe=Symbol("getValidationInstance"),BQ=Symbol("hasParseCallback"),HEe=Symbol("isGlobalContext"),Ev=Symbol("postProcess"),jEe=Symbol("rebase"),Gte=Symbol("reset"),sS=Symbol("runYargsParserAndExecuteCommands"),Hte=Symbol("runValidation"),VEe=Symbol("setHasOutput"),Iv=Symbol("kTrackManuallySetKeys"),jte=class{static{s(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,wa.set(this,void 0),pv.set(this,void 0),oS.set(this,{commands:[],fullCommands:[]}),Md.set(this,null),ff.set(this,null),EQ.set(this,"show-hidden"),F5.set(this,null),gv.set(this,!0),IQ.set(this,{}),Qd.set(this,!0),TQ.set(this,[]),Od.set(this,void 0),ag.set(this,{}),df.set(this,!1),Ud.set(this,null),wQ.set(this,!0),T8.set(this,void 0),Bl.set(this,""),Yr.set(this,void 0),_Q.set(this,void 0),SQ.set(this,{}),mf.set(this,null),Av.set(this,null),w8.set(this,{}),yv.set(this,{}),M5.set(this,void 0),RQ.set(this,!1),Mn.set(this,void 0),Cv.set(this,!1),xv.set(this,!1),vv.set(this,!1),jn.set(this,void 0),kQ.set(this,{}),lg.set(this,null),sa.set(this,void 0),Qr(this,Mn,i,"f"),Qr(this,M5,t,"f"),Qr(this,pv,r,"f"),Qr(this,_Q,n,"f"),Qr(this,Od,new CQ(this),"f"),this.$0=this[DEe](),this[Gte](),Qr(this,wa,he(this,wa,"f"),"f"),Qr(this,jn,he(this,jn,"f"),"f"),Qr(this,sa,he(this,sa,"f"),"f"),Qr(this,Yr,he(this,Yr,"f"),"f"),he(this,Yr,"f").showHiddenOpt=he(this,EQ,"f"),Qr(this,T8,this[REe](),"f")}addHelpOpt(t,r){let n="help";return Fr("[string|boolean] [string]",[t,r],arguments.length),he(this,Ud,"f")&&(this[Lte](he(this,Ud,"f")),Qr(this,Ud,null,"f")),t===!1&&r===void 0?this:(Qr(this,Ud,typeof t=="string"?t:n,"f"),this.boolean(he(this,Ud,"f")),this.describe(he(this,Ud,"f"),r||he(this,jn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(Fr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:he(this,EQ,"f");return this.boolean(n),this.describe(n,r||he(this,jn,"f").deferY18nLookup("Show hidden options")),he(this,Yr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return Fr("<object|string|array> [string|array]",[t,r],arguments.length),this[Qte](this.alias.bind(this),"alias",t,r),this}array(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("array",t),this[Iv](t),this}boolean(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("boolean",t),this[Iv](t),this}check(t,r){return Fr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>hv(()=>t(n,i.getOptions()),o=>(o?(typeof o=="string"||o instanceof Error)&&he(this,jn,"f").fail(o.toString(),o):he(this,jn,"f").fail(he(this,Mn,"f").y18n.__("Argument check failed: %s",t.toString())),n),o=>(he(this,jn,"f").fail(o.message?o.message:o.toString(),o),n)),!1,r),this}choices(t,r){return Fr("<object|string|array> [string|array]",[t,r],arguments.length),this[Qte](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(Fr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new gs("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new gs("coerce callback must be provided");return he(this,Yr,"f").key[t]=!0,he(this,Od,"f").addCoerceMiddleware((n,i)=>{let o;return Object.prototype.hasOwnProperty.call(n,t)?hv(()=>(o=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(o[t]&&c!==!0)for(let u of o[t])n[u]=l;return n},l=>{throw new gs(l.message)}):n},t),this}conflicts(t,r){return Fr("<string|object> [string|array]",[t,r],arguments.length),he(this,sa,"f").conflicts(t,r),this}config(t="config",r,n){return Fr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=bQ(t,he(this,pv,"f"),this[bv]()["deep-merge-config"]||!1,he(this,Mn,"f")),he(this,Yr,"f").configObjects=(he(this,Yr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||he(this,jn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{he(this,Yr,"f").config[i]=n||!0}),this)}completion(t,r,n){return Fr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Qr(this,ff,t||he(this,ff,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(he(this,ff,"f"),r),n&&he(this,Md,"f").registerFunction(n),this}command(t,r,n,i,o,a){return Fr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,o,a],arguments.length),he(this,wa,"f").addHandler(t,r,n,i,o,a),this}commands(t,r,n,i,o,a){return this.command(t,r,n,i,o,a)}commandDir(t,r){Fr("<string> [object]",[t,r],arguments.length);let n=he(this,_Q,"f")||he(this,Mn,"f").require;return he(this,wa,"f").addDirectory(t,n,he(this,Mn,"f").getCallerFile(),r),this}count(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("count",t),this[Iv](t),this}default(t,r,n){return Fr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(Rte(t,he(this,Mn,"f")),he(this,Yr,"f").defaultDescription[t]=n),typeof r=="function"&&(Rte(t,he(this,Mn,"f")),he(this,Yr,"f").defaultDescription[t]||(he(this,Yr,"f").defaultDescription[t]=he(this,jn,"f").functionDescription(r)),r=r.call()),this[_8](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return Fr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),he(this,Yr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{p0(n,!0,he(this,Mn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(p0(n,!0,he(this,Mn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{p0(n,!0,he(this,Mn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return Fr("<object|string|array> [string]",[t,r],arguments.length),this[_8](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return Fr("<string> [string|boolean]",[t,r],arguments.length),he(this,Yr,"f").deprecatedOptions[t]=r,this}describe(t,r){return Fr("<object|string|array> [string]",[t,r],arguments.length),this[qte](t,!0),he(this,jn,"f").describe(t,r),this}detectLocale(t){return Fr("<boolean>",[t],arguments.length),Qr(this,gv,t,"f"),this}env(t){return Fr("[string|boolean]",[t],arguments.length),t===!1?delete he(this,Yr,"f").envPrefix:he(this,Yr,"f").envPrefix=t||"",this}epilogue(t){return Fr("<string>",[t],arguments.length),he(this,jn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return Fr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):he(this,jn,"f").example(t,r),this}exit(t,r){Qr(this,df,!0,"f"),Qr(this,F5,r,"f"),he(this,Qd,"f")&&he(this,Mn,"f").process.exit(t)}exitProcess(t=!0){return Fr("[boolean]",[t],arguments.length),Qr(this,Qd,t,"f"),this}fail(t){if(Fr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new gs("Invalid first argument. Expected function or boolean 'false'");return he(this,jn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return Fr("<array> [function]",[t,r],arguments.length),r?he(this,Md,"f").getCompletion(t,r):new Promise((n,i)=>{he(this,Md,"f").getCompletion(t,(o,a)=>{o?i(o):n(a)})})}getDemandedOptions(){return Fr([],0),he(this,Yr,"f").demandedOptions}getDemandedCommands(){return Fr([],0),he(this,Yr,"f").demandedCommands}getDeprecatedOptions(){return Fr([],0),he(this,Yr,"f").deprecatedOptions}getDetectLocale(){return he(this,gv,"f")}getExitProcess(){return he(this,Qd,"f")}getGroups(){return Object.assign({},he(this,ag,"f"),he(this,yv,"f"))}getHelp(){if(Qr(this,df,!0,"f"),!he(this,jn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[sS](he(this,M5,"f"),void 0,void 0,0,!0);if(As(r))return r.then(()=>he(this,jn,"f").help())}let t=he(this,wa,"f").runDefaultBuilderOn(this);if(As(t))return t.then(()=>he(this,jn,"f").help())}return Promise.resolve(he(this,jn,"f").help())}getOptions(){return he(this,Yr,"f")}getStrict(){return he(this,Cv,"f")}getStrictCommands(){return he(this,xv,"f")}getStrictOptions(){return he(this,vv,"f")}global(t,r){return Fr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?he(this,Yr,"f").local=he(this,Yr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{he(this,Yr,"f").local.includes(n)||he(this,Yr,"f").local.push(n)}),this}group(t,r){Fr("<string|array> <string>",[t,r],arguments.length);let n=he(this,yv,"f")[r]||he(this,ag,"f")[r];he(this,yv,"f")[r]&&delete he(this,yv,"f")[r];let i={};return he(this,ag,"f")[r]=(n||[]).concat(t).filter(o=>i[o]?!1:i[o]=!0),this}hide(t){return Fr("<string>",[t],arguments.length),he(this,Yr,"f").hiddenOptions.push(t),this}implies(t,r){return Fr("<string|object> [number|string|array]",[t,r],arguments.length),he(this,sa,"f").implies(t,r),this}locale(t){return Fr("[string]",[t],arguments.length),t===void 0?(this[Fte](),he(this,Mn,"f").y18n.getLocale()):(Qr(this,gv,!1,"f"),he(this,Mn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return he(this,Od,"f").addMiddleware(t,!!r,n)}nargs(t,r){return Fr("<string|object|array> [number]",[t,r],arguments.length),this[_8](this.nargs.bind(this),"narg",t,r),this}normalize(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("normalize",t),this}number(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("number",t),this[Iv](t),this}option(t,r){if(Fr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[Iv](t),he(this,lg,"f")&&(t==="version"||r?.alias==="version")&&this[kEe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),he(this,Yr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(he(this,Yr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let o=r.describe||r.description||r.desc,a=he(this,jn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof o=="string")&&this.describe(t,o),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){Fr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[BEe](),typeof t>"u"&&(t=he(this,M5,"f")),typeof r=="object"&&(Qr(this,Av,r,"f"),r=n),typeof r=="function"&&(Qr(this,mf,r,"f"),r=!1),r||Qr(this,M5,t,"f"),he(this,mf,"f")&&Qr(this,Qd,!1,"f");let i=this[sS](t,!!r),o=this.parsed;return he(this,Md,"f").setParsed(this.parsed),As(i)?i.then(a=>(he(this,mf,"f")&&he(this,mf,"f").call(this,he(this,F5,"f"),a,he(this,Bl,"f")),a)).catch(a=>{throw he(this,mf,"f")&&he(this,mf,"f")(a,this.parsed.argv,he(this,Bl,"f")),a}).finally(()=>{this[Wte](),this.parsed=o}):(he(this,mf,"f")&&he(this,mf,"f").call(this,he(this,F5,"f"),i,he(this,Bl,"f")),this[Wte](),this.parsed=o,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return As(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(As(i))throw new gs(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return Fr("<object>",[t],arguments.length),Qr(this,SQ,t,"f"),this}pkgConf(t,r){Fr("<string> [string]",[t,r],arguments.length);let n=null,i=this[Mte](r||he(this,pv,"f"));return i[t]&&typeof i[t]=="object"&&(n=bQ(i[t],r||he(this,pv,"f"),this[bv]()["deep-merge-config"]||!1,he(this,Mn,"f")),he(this,Yr,"f").configObjects=(he(this,Yr,"f").configObjects||[]).concat(n)),this}positional(t,r){Fr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=N5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=he(this,oS,"f").fullCommands[he(this,oS,"f").fullCommands.length-1],o=i?he(this,wa,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return E8(o).forEach(a=>{let l=o[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,he(this,jn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return Fr("[boolean]",[t],arguments.length),Qr(this,RQ,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return Fr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&he(this,Yr,"f").narg[t]?this:(this[_8](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return Fr("[string] [string]",[t,r],arguments.length),t=t||this.$0,he(this,T8,"f").log(he(this,Md,"f").generateCompletionScript(t,r||he(this,ff,"f")||"completion")),this}showHelp(t){if(Fr("[string|function]",[t],arguments.length),Qr(this,df,!0,"f"),!he(this,jn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[sS](he(this,M5,"f"),void 0,void 0,0,!0);if(As(n))return n.then(()=>{he(this,jn,"f").showHelp(t)}),this}let r=he(this,wa,"f").runDefaultBuilderOn(this);if(As(r))return r.then(()=>{he(this,jn,"f").showHelp(t)}),this}return he(this,jn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return Fr("[boolean|string] [string]",[t,r],arguments.length),he(this,jn,"f").showHelpOnFail(t,r),this}showVersion(t){return Fr("[string|function]",[t],arguments.length),he(this,jn,"f").showVersion(t),this}skipValidation(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("skipValidation",t),this}strict(t){return Fr("[boolean]",[t],arguments.length),Qr(this,Cv,t!==!1,"f"),this}strictCommands(t){return Fr("[boolean]",[t],arguments.length),Qr(this,xv,t!==!1,"f"),this}strictOptions(t){return Fr("[boolean]",[t],arguments.length),Qr(this,vv,t!==!1,"f"),this}string(t){return Fr("<array|string>",[t],arguments.length),this[Q5]("string",t),this[Iv](t),this}terminalWidth(){return Fr([],0),he(this,Mn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return Fr("<object>",[t],arguments.length),Qr(this,gv,!1,"f"),he(this,Mn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(Fr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(p0(t,null,he(this,Mn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new gs(".usage() description must start with $0 if being used as alias for .command()")}else return he(this,jn,"f").usage(t),this}usageConfiguration(t){return Fr("<object>",[t],arguments.length),Qr(this,kQ,t,"f"),this}version(t,r,n){let i="version";if(Fr("[boolean|string] [string] [string]",[t,r,n],arguments.length),he(this,lg,"f")&&(this[Lte](he(this,lg,"f")),he(this,jn,"f").version(void 0),Qr(this,lg,null,"f")),arguments.length===0)n=this[NEe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Qr(this,lg,typeof t=="string"?t:i,"f"),r=r||he(this,jn,"f").deferY18nLookup("Show version number"),he(this,jn,"f").version(n||void 0),this.boolean(he(this,lg,"f")),this.describe(he(this,lg,"f"),r),this}wrap(t){return Fr("<number|null|undefined>",[t],arguments.length),he(this,jn,"f").wrap(t),this}[(wa=new WeakMap,pv=new WeakMap,oS=new WeakMap,Md=new WeakMap,ff=new WeakMap,EQ=new WeakMap,F5=new WeakMap,gv=new WeakMap,IQ=new WeakMap,Qd=new WeakMap,TQ=new WeakMap,Od=new WeakMap,ag=new WeakMap,df=new WeakMap,Ud=new WeakMap,wQ=new WeakMap,T8=new WeakMap,Bl=new WeakMap,Yr=new WeakMap,_Q=new WeakMap,SQ=new WeakMap,mf=new WeakMap,Av=new WeakMap,w8=new WeakMap,yv=new WeakMap,M5=new WeakMap,RQ=new WeakMap,Mn=new WeakMap,Cv=new WeakMap,xv=new WeakMap,vv=new WeakMap,jn=new WeakMap,kQ=new WeakMap,lg=new WeakMap,sa=new WeakMap,SEe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[REe](){return{log:s((...t)=>{this[BQ]()||console.log(...t),Qr(this,df,!0,"f"),he(this,Bl,"f").length&&Qr(this,Bl,he(this,Bl,"f")+`
`,"f"),Qr(this,Bl,he(this,Bl,"f")+t.join(" "),"f")},"log"),error:s((...t)=>{this[BQ]()||console.error(...t),Qr(this,df,!0,"f"),he(this,Bl,"f").length&&Qr(this,Bl,he(this,Bl,"f")+`
`,"f"),Qr(this,Bl,he(this,Bl,"f")+t.join(" "),"f")},"error")}}[Lte](t){E8(he(this,Yr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=he(this,Yr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete he(this,jn,"f").getDescriptions()[t]}[kEe](t,r,n){he(this,IQ,"f")[n]||(he(this,Mn,"f").process.emitWarning(t,r),he(this,IQ,"f")[n]=!0)}[BEe](){he(this,TQ,"f").push({options:he(this,Yr,"f"),configObjects:he(this,Yr,"f").configObjects.slice(0),exitProcess:he(this,Qd,"f"),groups:he(this,ag,"f"),strict:he(this,Cv,"f"),strictCommands:he(this,xv,"f"),strictOptions:he(this,vv,"f"),completionCommand:he(this,ff,"f"),output:he(this,Bl,"f"),exitError:he(this,F5,"f"),hasOutput:he(this,df,"f"),parsed:this.parsed,parseFn:he(this,mf,"f"),parseContext:he(this,Av,"f")}),he(this,jn,"f").freeze(),he(this,sa,"f").freeze(),he(this,wa,"f").freeze(),he(this,Od,"f").freeze()}[DEe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(he(this,Mn,"f").process.argv()[0])?r=he(this,Mn,"f").process.argv().slice(1,2):r=he(this,Mn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[jEe](he(this,pv,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),he(this,Mn,"f").getEnv("_")&&he(this,Mn,"f").getProcessArgvBin()===he(this,Mn,"f").getEnv("_")&&(t=he(this,Mn,"f").getEnv("_").replace(`${he(this,Mn,"f").path.dirname(he(this,Mn,"f").process.execPath())}/`,"")),t}[bv](){return he(this,SQ,"f")}[PEe](){return he(this,kQ,"f")}[Fte](){if(!he(this,gv,"f"))return;let t=he(this,Mn,"f").getEnv("LC_ALL")||he(this,Mn,"f").getEnv("LC_MESSAGES")||he(this,Mn,"f").getEnv("LANG")||he(this,Mn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[NEe](){return this[Mte]().version||"unknown"}[LEe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)he(this,Mn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[Mte](t){let r=t||"*";if(he(this,w8,"f")[r])return he(this,w8,"f")[r];let n={};try{let i=t||he(this,Mn,"f").mainFilename;!t&&he(this,Mn,"f").path.extname(i)&&(i=he(this,Mn,"f").path.dirname(i));let o=he(this,Mn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});p0(o,void 0,he(this,Mn,"f")),n=JSON.parse(he(this,Mn,"f").readFileSync(o,"utf8"))}catch{}return he(this,w8,"f")[r]=n||{},he(this,w8,"f")[r]}[Q5](t,r){r=[].concat(r),r.forEach(n=>{n=this[Ute](n),he(this,Yr,"f")[t].push(n)})}[_8](t,r,n,i){this[Ote](t,r,n,i,(o,a,l)=>{he(this,Yr,"f")[o][a]=l})}[Qte](t,r,n,i){this[Ote](t,r,n,i,(o,a,l)=>{he(this,Yr,"f")[o][a]=(he(this,Yr,"f")[o][a]||[]).concat(l)})}[Ote](t,r,n,i,o){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of E8(n))t(a,n[a]);else o(r,this[Ute](n),i)}[Ute](t){return t==="__proto__"?"___proto___":t}[qte](t,r){return this[_8](this[qte].bind(this),"key",t,r),this}[Wte](){var t,r,n,i,o,a,l,c,u,f,m,h;let p=he(this,TQ,"f").pop();p0(p,void 0,he(this,Mn,"f"));let g;t=this,r=this,n=this,i=this,o=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(y){Qr(t,Yr,y,"f")}}.value,configObjects:g,exitProcess:{set value(y){Qr(r,Qd,y,"f")}}.value,groups:{set value(y){Qr(n,ag,y,"f")}}.value,output:{set value(y){Qr(i,Bl,y,"f")}}.value,exitError:{set value(y){Qr(o,F5,y,"f")}}.value,hasOutput:{set value(y){Qr(a,df,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){Qr(l,Cv,y,"f")}}.value,strictCommands:{set value(y){Qr(c,xv,y,"f")}}.value,strictOptions:{set value(y){Qr(u,vv,y,"f")}}.value,completionCommand:{set value(y){Qr(f,ff,y,"f")}}.value,parseFn:{set value(y){Qr(m,mf,y,"f")}}.value,parseContext:{set value(y){Qr(h,Av,y,"f")}}.value}=p,he(this,Yr,"f").configObjects=g,he(this,jn,"f").unfreeze(),he(this,sa,"f").unfreeze(),he(this,wa,"f").unfreeze(),he(this,Od,"f").unfreeze()}[FEe](t,r){return hv(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[MEe].bind(this),getContext:this[QEe].bind(this),getHasOutput:this[OEe].bind(this),getLoggerInstance:this[UEe].bind(this),getParseContext:this[qEe].bind(this),getParserConfiguration:this[bv].bind(this),getUsageConfiguration:this[PEe].bind(this),getUsageInstance:this[WEe].bind(this),getValidationInstance:this[GEe].bind(this),hasParseCallback:this[BQ].bind(this),isGlobalContext:this[HEe].bind(this),postProcess:this[Ev].bind(this),reset:this[Gte].bind(this),runValidation:this[Hte].bind(this),runYargsParserAndExecuteCommands:this[sS].bind(this),setHasOutput:this[VEe].bind(this)}}[MEe](){return he(this,wa,"f")}[QEe](){return he(this,oS,"f")}[OEe](){return he(this,df,"f")}[UEe](){return he(this,T8,"f")}[qEe](){return he(this,Av,"f")||{}}[WEe](){return he(this,jn,"f")}[GEe](){return he(this,sa,"f")}[BQ](){return!!he(this,mf,"f")}[HEe](){return he(this,wQ,"f")}[Ev](t,r,n,i){return n||As(t)||(r||(t=this[SEe](t)),(this[bv]()["parse-positional-numbers"]||this[bv]()["parse-positional-numbers"]===void 0)&&(t=this[LEe](t)),i&&(t=mv(t,this,he(this,Od,"f").getMiddleware(),!1))),t}[Gte](t={}){Qr(this,Yr,he(this,Yr,"f")||{},"f");let r={};r.local=he(this,Yr,"f").local||[],r.configObjects=he(this,Yr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(he(this,yv,"f"),Object.keys(he(this,ag,"f")).reduce((a,l)=>{let c=he(this,ag,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Qr(this,ag,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],o=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(he(this,Yr,"f")[a]||[]).filter(l=>!n[l])}),o.forEach(a=>{r[a]=N5(he(this,Yr,"f")[a],l=>!n[l])}),r.envPrefix=he(this,Yr,"f").envPrefix,Qr(this,Yr,r,"f"),Qr(this,jn,he(this,jn,"f")?he(this,jn,"f").reset(n):xEe(this,he(this,Mn,"f")),"f"),Qr(this,sa,he(this,sa,"f")?he(this,sa,"f").reset(n):wEe(this,he(this,jn,"f"),he(this,Mn,"f")),"f"),Qr(this,wa,he(this,wa,"f")?he(this,wa,"f").reset():AEe(he(this,jn,"f"),he(this,sa,"f"),he(this,Od,"f"),he(this,Mn,"f")),"f"),he(this,Md,"f")||Qr(this,Md,EEe(this,he(this,jn,"f"),he(this,wa,"f"),he(this,Mn,"f")),"f"),he(this,Od,"f").reset(),Qr(this,ff,null,"f"),Qr(this,Bl,"","f"),Qr(this,F5,null,"f"),Qr(this,df,!1,"f"),this.parsed=!1,this}[jEe](t,r){return he(this,Mn,"f").path.relative(t,r)}[sS](t,r,n,i=0,o=!1){let a=!!n||o;t=t||he(this,M5,"f"),he(this,Yr,"f").__=he(this,Mn,"f").y18n.__,he(this,Yr,"f").configuration=this[bv]();let l=!!he(this,Yr,"f").configuration["populate--"],c=Object.assign({},he(this,Yr,"f").configuration,{"populate--":!0}),u=he(this,Mn,"f").Parser.detailed(t,Object.assign({},he(this,Yr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,he(this,Av,"f")),m,h=u.aliases,p=!1,g=!1;Object.keys(f).forEach(y=>{y===he(this,Ud,"f")&&f[y]?p=!0:y===he(this,lg,"f")&&f[y]&&(g=!0)}),f.$0=this.$0,this.parsed=u,i===0&&he(this,jn,"f").clearCachedHelpMessage();try{if(this[Fte](),r)return this[Ev](f,l,!!n,!1);he(this,Ud,"f")&&[he(this,Ud,"f")].concat(h[he(this,Ud,"f")]||[]).filter(_=>_.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Qr(this,wQ,!1,"f");let y=he(this,wa,"f").getCommands(),v=he(this,Md,"f").completionKey in f,b=p||v||o;if(f._.length){if(y.length){let E;for(let _=i||0,k;f._[_]!==void 0;_++)if(k=String(f._[_]),y.includes(k)&&k!==he(this,ff,"f")){let B=he(this,wa,"f").runCommand(k,this,u,_+1,o,p||g||o);return this[Ev](B,l,!!n,!1)}else if(!E&&k!==he(this,ff,"f")){E=k;break}!he(this,wa,"f").hasDefaultCommand()&&he(this,RQ,"f")&&E&&!b&&he(this,sa,"f").recommendCommands(E,y)}he(this,ff,"f")&&f._.includes(he(this,ff,"f"))&&!v&&(he(this,Qd,"f")&&L5(!0),this.showCompletionScript(),this.exit(0))}if(he(this,wa,"f").hasDefaultCommand()&&!b){let E=he(this,wa,"f").runCommand(null,this,u,0,o,p||g||o);return this[Ev](E,l,!!n,!1)}if(v){he(this,Qd,"f")&&L5(!0),t=[].concat(t);let E=t.slice(t.indexOf(`--${he(this,Md,"f").completionKey}`)+1);return he(this,Md,"f").getCompletion(E,(_,k)=>{if(_)throw new gs(_.message);(k||[]).forEach(B=>{he(this,T8,"f").log(B)}),this.exit(0)}),this[Ev](f,!l,!!n,!1)}if(he(this,df,"f")||(p?(he(this,Qd,"f")&&L5(!0),a=!0,this.showHelp("log"),this.exit(0)):g&&(he(this,Qd,"f")&&L5(!0),a=!0,he(this,jn,"f").showVersion("log"),this.exit(0))),!a&&he(this,Yr,"f").skipValidation.length>0&&(a=Object.keys(f).some(E=>he(this,Yr,"f").skipValidation.indexOf(E)>=0&&f[E]===!0)),!a){if(u.error)throw new gs(u.error.message);if(!v){let E=this[Hte](h,{},u.error);n||(m=mv(f,this,he(this,Od,"f").getMiddleware(),!0)),m=this[FEe](E,m??f),As(m)&&!n&&(m=m.then(()=>mv(f,this,he(this,Od,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof gs)he(this,jn,"f").fail(y.message,y);else throw y}return this[Ev](m??f,l,!!n,!0)}[Hte](t,r,n,i){let o={...this.getDemandedOptions()};return a=>{if(n)throw new gs(n.message);he(this,sa,"f").nonOptionCount(a),he(this,sa,"f").requiredArguments(a,o);let l=!1;he(this,xv,"f")&&(l=he(this,sa,"f").unknownCommands(a)),he(this,Cv,"f")&&!l?he(this,sa,"f").unknownArguments(a,t,r,!!i):he(this,vv,"f")&&he(this,sa,"f").unknownArguments(a,t,{},!1,!1),he(this,sa,"f").limitedChoices(a),he(this,sa,"f").implications(a),he(this,sa,"f").conflicting(a)}}[VEe](){Qr(this,df,!0,"f")}[Iv](t){if(typeof t=="string")he(this,Yr,"f").key[t]=!0;else for(let r of t)he(this,Yr,"f").key[r]=!0}};function yEe(e){return!!e&&typeof e.getInternalMethods=="function"}s(yEe,"isYargsInstance");var vft=$Ee(dEe),zEe=vft;d();d();var aS="apps",Vte="hosts",lS=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{s(this,"AuthPersistence")}#e;setAuthAuthority(t){this.#e=t}async getAuthRecord({githubAppId:t}={}){let r=this.getAuthAuthority(),n=await this.persistenceManager.read(aS,this.authRecordKey(this.ctx,r,t));return!t&&!n?(t=this.ctx.get(Ta).fallbackAppId(),n=await this.persistenceManager.read(aS,this.authRecordKey(this.ctx,r,t))):t??=this.ctx.get(Ta).findAppIdToAuthenticate(),n?{...n,oauth_token:n.access_token||n.oauth_token,user:n.login||n.user,githubAppId:t}:await this.legacyAuthRecordMaybe(r)}async legacyAuthRecordMaybe(t){let r=await this.persistenceManager.read(Vte,t);if(r){let n=this.ctx.get(Ta).fallbackAppId();return{...r,githubAppId:n}}}async saveAuthRecord(t,r=this.getAuthAuthority()){await this.persistenceManager.update(aS,this.authRecordKey(this.ctx,r,t.githubAppId),t)}async deleteAuthRecord(){let t=this.getAuthAuthority(),r=await this.getAuthRecord();if(r){let n=this.ctx.get(Ta).fallbackAppId();r.githubAppId===n&&await this.persistenceManager.delete(Vte,t),await this.persistenceManager.delete(aS,this.authRecordKey(this.ctx,t)),await this.persistenceManager.delete(aS,this.authRecordKey(this.ctx,t,n))}}async purgeLegacyAuthRecords(){await this.persistenceManager.deleteSetting(Vte)}authRecordKey(t,r,n){let i=n??t.get(Ta).findAppIdToAuthenticate();return`${r}:${i}`}getAuthAuthority(){return this.#e??"github.com"}};d();d();var DQ={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function YEe(e,t){let r=dn.createAndMarkAsIssued({authSource:t});return jt(e,DQ.AuthNotifyShown,r)}s(YEe,"telemetryAuthNotifyShown");function KEe(e){return jt(e,DQ.AuthNotifyDismissed)}s(KEe,"telemetryAuthNotifyDismissed");function PQ(e,t,r){let n=dn.createAndMarkAsIssued({authSource:t,authType:r});return jt(e,DQ.NewGitHubLogin,n)}s(PQ,"telemetryNewGitHubLogin");function NQ(e,t){let r=dn.createAndMarkAsIssued({authType:t});return jt(e,DQ.GitHubLoginSuccess,r)}s(NQ,"telemetryGitHubLoginSuccess");async function bft(e,t,{serverUrl:r}){PQ(e,"unknown","deviceFlow");let n={method:"POST",headers:{Accept:"application/json",...Gu(e)},json:{client_id:t},timeout:30*1e3},i,o=new URL("login/device/code",r).href;try{i=await e.get(fn).fetch(o,n)}catch(a){throw a instanceof Error&&Q7(a)?new Vs(`Could not log in with device flow on ${r}: ${a.message}`):a}if(!i.ok)throw new Vs(`Could not log in with device flow on ${r}: HTTP ${i.status}`);return await i.json()}s(bft,"requestDeviceFlowStage1");async function Eft(e,t,r,{serverUrl:n}){let i={method:"POST",headers:{Accept:"application/json",...Gu(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(fn).fetch(new URL("login/oauth/access_token",n).href,i)).json()}s(Eft,"requestDeviceFlowStage2");async function Ift(e,t){return NQ(e,"deviceFlow"),await(await ah(e,t,"user",{headers:{Accept:"application/json"}})).json()}s(Ift,"requestUserInfo");var Tv=class{static{s(this,"GitHubDeviceFlow")}async getToken(t,r,n){try{return await this.getTokenUnguarded(t,r,n)}catch(i){throw t.get(tu).notifyUser(t,i),i}}async getTokenUnguarded(t,r,n){let i=await bft(t,r,n),o=(async()=>{let a=i.expires_in,l;for(;a>0;){let c=await Eft(t,i.device_code,r,n);if(a-=i.interval,await new Promise(u=>setTimeout(u,1e3*i.interval)),l=c.access_token,l){let u=await Ift(t,{...n,accessToken:l});if("errors"in u)throw new Vs(`Error retrieving user information: ${String(u.errors)}`);return{...n,githubAppId:r,login:u.login,accessToken:l}}}throw new Vs("Timed out waiting for login to complete")})();return{...i,waitForAuth:o}}};d();var hf=class{static{s(this,"CitationManager")}},LQ=class extends hf{static{s(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();d();var Tft={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},Go=class{constructor(){this.capabilities={...Tft}}static{s(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var $te=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{s(this,"UnregisteredContextError")}},S8=class{constructor(){this.instances=new Map}static{s(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new $te(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();d();var FQ=class e{static{s(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=ZEe(n.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=JEe(n.text,!1,o);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-o);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=JEe(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return t=this.ensureBeforeEOL(t,r[o]),{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,o=Math.min(n+t.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(t,r){for(;t>r&&XEe(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},O5;(function(e){function t(i,o,a,l){return new FQ(i,o,a,l)}s(t,"create"),e.create=t;function r(i,o,a){if(i instanceof FQ)return i.update(o,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),e.update=r;function n(i,o){let a=i.getText(),l=zte(o.map(wft),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}s(n,"applyEdits"),e.applyEdits=n})(O5||(O5={}));function zte(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);zte(n,t),zte(i,t);let o=0,a=0,l=0;for(;o<n.length&&a<i.length;)t(n[o],i[a])<=0?e[l++]=n[o++]:e[l++]=i[a++];for(;o<n.length;)e[l++]=n[o++];for(;a<i.length;)e[l++]=i[a++];return e}s(zte,"mergeSort");function JEe(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);XEe(o)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}s(JEe,"computeLineOffsets");function XEe(e){return e===13||e===10}s(XEe,"isEOL");function ZEe(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}s(ZEe,"getWellformedRange");function wft(e){let t=ZEe(e.range);return t!==e.range?{newText:e.newText,range:t}:e}s(wft,"getWellformedEdit");d();var e4e;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(e4e||(e4e={}));var Yte;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(Yte||(Yte={}));var t4e;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(t4e||(t4e={}));var MQ;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(MQ||(MQ={}));var Uc;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=MQ.MAX_VALUE),i===Number.MAX_VALUE&&(i=MQ.MAX_VALUE),{line:n,character:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.line)&&Ke.uinteger(i.character)}s(r,"is"),e.is=r})(Uc||(Uc={}));var Zo;(function(e){function t(n,i,o,a){if(Ke.uinteger(n)&&Ke.uinteger(i)&&Ke.uinteger(o)&&Ke.uinteger(a))return{start:Uc.create(n,i),end:Uc.create(o,a)};if(Uc.is(n)&&Uc.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${a}]`)}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Uc.is(i.start)&&Uc.is(i.end)}s(r,"is"),e.is=r})(Zo||(Zo={}));var QQ;(function(e){function t(n,i){return{uri:n,range:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&(Ke.string(i.uri)||Ke.undefined(i.uri))}s(r,"is"),e.is=r})(QQ||(QQ={}));var r4e;(function(e){function t(n,i,o,a){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.targetRange)&&Ke.string(i.targetUri)&&Zo.is(i.targetSelectionRange)&&(Zo.is(i.originSelectionRange)||Ke.undefined(i.originSelectionRange))}s(r,"is"),e.is=r})(r4e||(r4e={}));var Kte;(function(e){function t(n,i,o,a){return{red:n,green:i,blue:o,alpha:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.numberRange(i.red,0,1)&&Ke.numberRange(i.green,0,1)&&Ke.numberRange(i.blue,0,1)&&Ke.numberRange(i.alpha,0,1)}s(r,"is"),e.is=r})(Kte||(Kte={}));var n4e;(function(e){function t(n,i){return{range:n,color:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&Kte.is(i.color)}s(r,"is"),e.is=r})(n4e||(n4e={}));var i4e;(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.undefined(i.textEdit)||k8.is(i))&&(Ke.undefined(i.additionalTextEdits)||Ke.typedArray(i.additionalTextEdits,k8.is))}s(r,"is"),e.is=r})(i4e||(i4e={}));var o4e;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(o4e||(o4e={}));var s4e;(function(e){function t(n,i,o,a,l,c){let u={startLine:n,endLine:i};return Ke.defined(o)&&(u.startCharacter=o),Ke.defined(a)&&(u.endCharacter=a),Ke.defined(l)&&(u.kind=l),Ke.defined(c)&&(u.collapsedText=c),u}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.startLine)&&Ke.uinteger(i.startLine)&&(Ke.undefined(i.startCharacter)||Ke.uinteger(i.startCharacter))&&(Ke.undefined(i.endCharacter)||Ke.uinteger(i.endCharacter))&&(Ke.undefined(i.kind)||Ke.string(i.kind))}s(r,"is"),e.is=r})(s4e||(s4e={}));var Jte;(function(e){function t(n,i){return{location:n,message:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&QQ.is(i.location)&&Ke.string(i.message)}s(r,"is"),e.is=r})(Jte||(Jte={}));var a4e;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(a4e||(a4e={}));var l4e;(function(e){e.Unnecessary=1,e.Deprecated=2})(l4e||(l4e={}));var c4e;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&Ke.string(n.href)}s(t,"is"),e.is=t})(c4e||(c4e={}));var OQ;(function(e){function t(n,i,o,a,l,c){let u={range:n,message:i};return Ke.defined(o)&&(u.severity=o),Ke.defined(a)&&(u.code=a),Ke.defined(l)&&(u.source=l),Ke.defined(c)&&(u.relatedInformation=c),u}s(t,"create"),e.create=t;function r(n){var i;let o=n;return Ke.defined(o)&&Zo.is(o.range)&&Ke.string(o.message)&&(Ke.number(o.severity)||Ke.undefined(o.severity))&&(Ke.integer(o.code)||Ke.string(o.code)||Ke.undefined(o.code))&&(Ke.undefined(o.codeDescription)||Ke.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(Ke.string(o.source)||Ke.undefined(o.source))&&(Ke.undefined(o.relatedInformation)||Ke.typedArray(o.relatedInformation,Jte.is))}s(r,"is"),e.is=r})(OQ||(OQ={}));var R8;(function(e){function t(n,i,...o){let a={title:n,command:i};return Ke.defined(o)&&o.length>0&&(a.arguments=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.title)&&Ke.string(i.command)}s(r,"is"),e.is=r})(R8||(R8={}));var k8;(function(e){function t(o,a){return{range:o,newText:a}}s(t,"replace"),e.replace=t;function r(o,a){return{range:{start:o,end:o},newText:a}}s(r,"insert"),e.insert=r;function n(o){return{range:o,newText:""}}s(n,"del"),e.del=n;function i(o){let a=o;return Ke.objectLiteral(a)&&Ke.string(a.newText)&&Zo.is(a.range)}s(i,"is"),e.is=i})(k8||(k8={}));var Xte;(function(e){function t(n,i,o){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ke.string(i.description)||i.description===void 0)}s(r,"is"),e.is=r})(Xte||(Xte={}));var B8;(function(e){function t(r){let n=r;return Ke.string(n)}s(t,"is"),e.is=t})(B8||(B8={}));var u4e;(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}s(t,"replace"),e.replace=t;function r(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}s(r,"insert"),e.insert=r;function n(o,a){return{range:o,newText:"",annotationId:a}}s(n,"del"),e.del=n;function i(o){let a=o;return k8.is(a)&&(Xte.is(a.annotationId)||B8.is(a.annotationId))}s(i,"is"),e.is=i})(u4e||(u4e={}));var Zte;(function(e){function t(n,i){return{textDocument:n,edits:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&ire.is(i.textDocument)&&Array.isArray(i.edits)}s(r,"is"),e.is=r})(Zte||(Zte={}));var ere;(function(e){function t(n,i,o){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||B8.is(i.annotationId))}s(r,"is"),e.is=r})(ere||(ere={}));var tre;(function(e){function t(n,i,o,a){let l={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ke.string(i.oldUri)&&Ke.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||B8.is(i.annotationId))}s(r,"is"),e.is=r})(tre||(tre={}));var rre;(function(e){function t(n,i,o){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ke.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ke.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||B8.is(i.annotationId))}s(r,"is"),e.is=r})(rre||(rre={}));var nre;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ke.string(i.kind)?ere.is(i)||tre.is(i)||rre.is(i):Zte.is(i)))}s(t,"is"),e.is=t})(nre||(nre={}));var f4e;(function(e){function t(n){return{uri:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)}s(r,"is"),e.is=r})(f4e||(f4e={}));var d4e;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.integer(i.version)}s(r,"is"),e.is=r})(d4e||(d4e={}));var ire;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&(i.version===null||Ke.integer(i.version))}s(r,"is"),e.is=r})(ire||(ire={}));var m4e;(function(e){function t(n,i,o,a){return{uri:n,languageId:i,version:o,text:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.string(i.languageId)&&Ke.integer(i.version)&&Ke.string(i.text)}s(r,"is"),e.is=r})(m4e||(m4e={}));var ore;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}s(t,"is"),e.is=t})(ore||(ore={}));var cS;(function(e){function t(r){let n=r;return Ke.objectLiteral(r)&&ore.is(n.kind)&&Ke.string(n.value)}s(t,"is"),e.is=t})(cS||(cS={}));var h4e;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(h4e||(h4e={}));var p4e;(function(e){e.PlainText=1,e.Snippet=2})(p4e||(p4e={}));var g4e;(function(e){e.Deprecated=1})(g4e||(g4e={}));var A4e;(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.newText)&&Zo.is(i.insert)&&Zo.is(i.replace)}s(r,"is"),e.is=r})(A4e||(A4e={}));var y4e;(function(e){e.asIs=1,e.adjustIndentation=2})(y4e||(y4e={}));var C4e;(function(e){function t(r){let n=r;return n&&(Ke.string(n.detail)||n.detail===void 0)&&(Ke.string(n.description)||n.description===void 0)}s(t,"is"),e.is=t})(C4e||(C4e={}));var x4e;(function(e){function t(r){return{label:r}}s(t,"create"),e.create=t})(x4e||(x4e={}));var v4e;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}s(t,"create"),e.create=t})(v4e||(v4e={}));var UQ;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ke.string(i)||Ke.objectLiteral(i)&&Ke.string(i.language)&&Ke.string(i.value)}s(r,"is"),e.is=r})(UQ||(UQ={}));var b4e;(function(e){function t(r){let n=r;return!!n&&Ke.objectLiteral(n)&&(cS.is(n.contents)||UQ.is(n.contents)||Ke.typedArray(n.contents,UQ.is))&&(r.range===void 0||Zo.is(r.range))}s(t,"is"),e.is=t})(b4e||(b4e={}));var E4e;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}s(t,"create"),e.create=t})(E4e||(E4e={}));var I4e;(function(e){function t(r,n,...i){let o={label:r};return Ke.defined(n)&&(o.documentation=n),Ke.defined(i)?o.parameters=i:o.parameters=[],o}s(t,"create"),e.create=t})(I4e||(I4e={}));var T4e;(function(e){e.Text=1,e.Read=2,e.Write=3})(T4e||(T4e={}));var w4e;(function(e){function t(r,n){let i={range:r};return Ke.number(n)&&(i.kind=n),i}s(t,"create"),e.create=t})(w4e||(w4e={}));var _4e;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(_4e||(_4e={}));var S4e;(function(e){e.Deprecated=1})(S4e||(S4e={}));var R4e;(function(e){function t(r,n,i,o,a){let l={name:r,kind:n,location:{uri:o,range:i}};return a&&(l.containerName=a),l}s(t,"create"),e.create=t})(R4e||(R4e={}));var k4e;(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}s(t,"create"),e.create=t})(k4e||(k4e={}));var B4e;(function(e){function t(n,i,o,a,l,c){let u={name:n,detail:i,kind:o,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.name)&&Ke.number(i.kind)&&Zo.is(i.range)&&Zo.is(i.selectionRange)&&(i.detail===void 0||Ke.string(i.detail))&&(i.deprecated===void 0||Ke.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(r,"is"),e.is=r})(B4e||(B4e={}));var D4e;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(D4e||(D4e={}));var qQ;(function(e){e.Invoked=1,e.Automatic=2})(qQ||(qQ={}));var P4e;(function(e){function t(n,i,o){let a={diagnostics:n};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.typedArray(i.diagnostics,OQ.is)&&(i.only===void 0||Ke.typedArray(i.only,Ke.string))&&(i.triggerKind===void 0||i.triggerKind===qQ.Invoked||i.triggerKind===qQ.Automatic)}s(r,"is"),e.is=r})(P4e||(P4e={}));var N4e;(function(e){function t(n,i,o){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):R8.is(i)?a.command=i:a.edit=i,l&&o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.title)&&(i.diagnostics===void 0||Ke.typedArray(i.diagnostics,OQ.is))&&(i.kind===void 0||Ke.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||R8.is(i.command))&&(i.isPreferred===void 0||Ke.boolean(i.isPreferred))&&(i.edit===void 0||nre.is(i.edit))}s(r,"is"),e.is=r})(N4e||(N4e={}));var L4e;(function(e){function t(n,i){let o={range:n};return Ke.defined(i)&&(o.data=i),o}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(i.range)&&(Ke.undefined(i.command)||R8.is(i.command))}s(r,"is"),e.is=r})(L4e||(L4e={}));var F4e;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.uinteger(i.tabSize)&&Ke.boolean(i.insertSpaces)}s(r,"is"),e.is=r})(F4e||(F4e={}));var M4e;(function(e){function t(n,i,o){return{range:n,target:i,data:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(i.range)&&(Ke.undefined(i.target)||Ke.string(i.target))}s(r,"is"),e.is=r})(M4e||(M4e={}));var Q4e;(function(e){function t(n,i){return{range:n,parent:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}s(r,"is"),e.is=r})(Q4e||(Q4e={}));var O4e;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(O4e||(O4e={}));var U4e;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(U4e||(U4e={}));var q4e;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(t,"is"),e.is=t})(q4e||(q4e={}));var W4e;(function(e){function t(n,i){return{range:n,text:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Ke.string(i.text)}s(r,"is"),e.is=r})(W4e||(W4e={}));var G4e;(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Ke.boolean(i.caseSensitiveLookup)&&(Ke.string(i.variableName)||i.variableName===void 0)}s(r,"is"),e.is=r})(G4e||(G4e={}));var H4e;(function(e){function t(n,i){return{range:n,expression:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&(Ke.string(i.expression)||i.expression===void 0)}s(r,"is"),e.is=r})(H4e||(H4e={}));var j4e;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(n.stoppedLocation)}s(r,"is"),e.is=r})(j4e||(j4e={}));var sre;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(sre||(sre={}));var are;(function(e){function t(n){return{value:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&(i.tooltip===void 0||Ke.string(i.tooltip)||cS.is(i.tooltip))&&(i.location===void 0||QQ.is(i.location))&&(i.command===void 0||R8.is(i.command))}s(r,"is"),e.is=r})(are||(are={}));var V4e;(function(e){function t(n,i,o){let a={position:n,label:i};return o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Uc.is(i.position)&&(Ke.string(i.label)||Ke.typedArray(i.label,are.is))&&(i.kind===void 0||sre.is(i.kind))&&i.textEdits===void 0||Ke.typedArray(i.textEdits,k8.is)&&(i.tooltip===void 0||Ke.string(i.tooltip)||cS.is(i.tooltip))&&(i.paddingLeft===void 0||Ke.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ke.boolean(i.paddingRight))}s(r,"is"),e.is=r})(V4e||(V4e={}));var $4e;(function(e){function t(r){return{kind:"snippet",value:r}}s(t,"createSnippet"),e.createSnippet=t})($4e||($4e={}));var z4e;(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}s(t,"create"),e.create=t})(z4e||(z4e={}));var Y4e;(function(e){function t(r){return{items:r}}s(t,"create"),e.create=t})(Y4e||(Y4e={}));var K4e;(function(e){e.Invoked=0,e.Automatic=1})(K4e||(K4e={}));var J4e;(function(e){function t(r,n){return{range:r,text:n}}s(t,"create"),e.create=t})(J4e||(J4e={}));var X4e;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(t,"create"),e.create=t})(X4e||(X4e={}));var Z4e;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&Yte.is(n.uri)&&Ke.string(n.name)}s(t,"is"),e.is=t})(Z4e||(Z4e={}));var eIe;(function(e){function t(o,a,l,c){return new lre(o,a,l,c)}s(t,"create"),e.create=t;function r(o){let a=o;return!!(Ke.defined(a)&&Ke.string(a.uri)&&(Ke.undefined(a.languageId)||Ke.string(a.languageId))&&Ke.uinteger(a.lineCount)&&Ke.func(a.getText)&&Ke.func(a.positionAt)&&Ke.func(a.offsetAt))}s(r,"is"),e.is=r;function n(o,a){let l=o.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=o.offsetAt(m.range.start),p=o.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}s(n,"applyEdits"),e.applyEdits=n;function i(o,a){if(o.length<=1)return o;let l=o.length/2|0,c=o.slice(0,l),u=o.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?o[h++]=c[f++]:o[h++]=u[m++];for(;f<c.length;)o[h++]=c[f++];for(;m<u.length;)o[h++]=u[m++];return o}s(i,"mergeSort")})(eIe||(eIe={}));var lre=class{static{s(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Uc.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return Uc.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ke;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}s(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}s(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}s(i,"boolean"),e.boolean=i;function o(p){return t.call(p)==="[object String]"}s(o,"string"),e.string=o;function a(p){return t.call(p)==="[object Number]"}s(a,"number"),e.number=a;function l(p,g,y){return t.call(p)==="[object Number]"&&g<=p&&p<=y}s(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}s(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}s(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}s(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}s(m,"objectLiteral"),e.objectLiteral=m;function h(p,g){return Array.isArray(p)&&p.every(g)}s(h,"typedArray"),e.typedArray=h})(Ke||(Ke={}));var Lo=class{static{s(this,"LocationFactory")}static{this.range=Zo.create.bind(Zo)}static{this.position=Uc.create.bind(Uc)}},gA=class e{constructor(t,r,n){this.uri=t;this._textDocument=r;this.detectedLanguageId=n}static{s(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=O5.create(t.clientUri,t.clientLanguageId,n,t.getText());return O5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=O5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return O5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId)}static create(t,r,n,i,o=h8({uri:t,languageId:r})){return new e(ac(t),O5.create(t,r,n,i),o)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Zo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),o=Zo.create(Uc.create(r,0),Uc.create(r,i.length)),a=i.trim().length===0;return{text:i,range:o,isEmptyOrWhitespace:a}}};d();d();d();d();var uS={isBlocked:!1,reason:"VALID_FILE"},WQ={isBlocked:!1,reason:"NO_MATCHING_POLICY"},tIe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},wv={all:"all",repo:"repo"},AA=new Gt("contentExclusion");d();d();var GQ=class{static{s(this,"PolicyEvaluator")}};d();d();d();var rIe=new Gt("repository"),_v=class e{constructor(){this.data={}}static{s(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(o=>o.startsWith(n)&&o.endsWith(i)).map(o=>o.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(o=>r.add(n,o)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},yh=class{static{s(this,"GitConfigLoader")}},HQ=class extends yh{constructor(r){super();this.loaders=r}static{s(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let o=await i.getConfig(r,n);if(o)return o}}};d();var nIe=require("os");var jQ=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{s(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return x5.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=x5.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,nIe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var VQ=class{static{s(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(yh).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),o=i.filter(a=>a.url.isGitHub());if(o.length)return o.find(a=>a.name==="origin")?.url??o[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new jQ(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var _ft=100,cre=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{s(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},yA=class e{constructor(t){this.ctx=t;this.remoteResolver=new VQ;this.cache=new Sn(_ft)}static{s(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let o=this.cache.get(t);return this.updateCache(n,o),o}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=tf(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new cre(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(bo),i=Po(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Po(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let o=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!o)return;let a=Yx(r,o[1]),l=Po(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Po(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Po(a,"commondir");a=Yx(a,(await t.readFileString(u)).trimEnd());let f=Po(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var iIe=s((e,t)=>{if(E5.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...E5.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var zQ=new WeakMap;function YQ(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,o=Object.prototype.toString.call(e);if(o!=="[object RegExp]"&&o!=="[object Date]"&&zQ.has(e))return zQ.get(e);switch(zQ.set(e,"~"+ ++t),o){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=YQ(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+YQ(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+YQ(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return zQ.set(e,n),n}s(YQ,"t");function KQ(e){return YQ(e,0)}s(KQ,"r");var ure=new WeakMap;function oIe(e,t,r=KQ(t)){let n,i,o=ure.get(e);o||(ure.set(e,o=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}s(m,"o"),ure.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=o[0].indexOf(r);if(~a)return o[2][a].p;let l=o[0].push(r)-1,c=o[2][l]={};return o[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}s(oIe,"n");var sIe=new WeakMap;function Sft(e,t,r,n=KQ(r)){if(t||(t=sIe.get(e)),t||sIe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=oIe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}s(Sft,"n");function aIe(e,t){return function(r,n){return Sft(e,t,r,n)}}s(aIe,"o");d();var SIe=Ze(xIe(),1);d();var dS=s(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Fft={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},mS=s(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Mft=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),vIe=s(e=>e.join(""),"rangesToString"),bIe=s((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;o<e.length;){let y=e.charAt(o);if((y==="!"||y==="^")&&o===r+1){u=!0,o++;continue}if(y==="]"&&a&&!c){f=o+1;break}if(a=!0,y==="\\"&&!c){c=!0,o++;continue}if(y==="["&&!c){for(let[v,[b,E,_]]of Object.entries(Fft))if(e.startsWith(v,o)){if(m)return["$.",!1,e.length-r,!0];o+=v.length,_?i.push(b):n.push(b),l=l||E;continue e}}if(c=!1,m){y>m?n.push(mS(m)+"-"+mS(y)):y===m&&n.push(mS(y)),m="",o++;continue}if(e.startsWith("-]",o+1)){n.push(mS(y+"-")),o+=2;continue}if(e.startsWith("-",o+1)){m=y,o+=2;continue}n.push(mS(y)),o++}if(f<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let y=n[0].length===2?n[0].slice(-1):n[0];return[Mft(y),!1,f-r,!1]}let h="["+(u?"^":"")+vIe(n)+"]",p="["+(u?"":"^")+vIe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var U5=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Qft=new Set(["!","?","+","*","@"]),EIe=s(e=>Qft.has(e),"isExtglobType"),Oft="(?!(?:^|/)\\.\\.?(?:$|/))",JQ="(?!\\.)",Uft=new Set(["[","."]),qft=new Set(["..","."]),Wft=new Set("().*{}+?[]^$\\!"),Gft=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),mre="[^/]",IIe=mre+"*?",TIe=mre+"+?",D8=class e{static{s(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let o of t.#n){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let o=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,g="";for(;p<t.length;){let y=t.charAt(p++);if(o||y==="\\"){o=!o,g+=y;continue}if(a){p===l+1?(y==="^"||y==="!")&&(c=!0):y==="]"&&!(p===l+2&&c)&&(a=!1),g+=y;continue}else if(y==="["){a=!0,l=p,c=!1,g+=y;continue}if(!i.noext&&EIe(y)&&t.charAt(p)==="("){r.push(g),g="";let v=new e(y,r);p=e.#u(t,v,p,i),r.push(v);continue}g+=y}return r.push(g),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(o||p==="\\"){o=!o,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(EIe(p)&&t.charAt(u)==="("){f.push(h),h="";let g=new e(p,f);f.push(g),u=e.#u(t,g,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,o]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[g,y,v,b]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||v,this.#i=this.#i||b,g}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&qft.has(this.#n[0]))){let g=Uft,y=r&&g.has(u.charAt(0))||u.startsWith("\\.")&&g.has(u.charAt(2))||u.startsWith("\\.\\.")&&g.has(u.charAt(4)),v=!r&&!t&&g.has(u.charAt(0));f=y?Oft:v?JQ:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,U5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#d(r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,U5(this.toString()),!1,!1]}let a=!n||t||r||!JQ?"":this.#d(!0);a===o&&(a=""),a&&(o=`(?:${o})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?JQ:"")+TIe;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?JQ:"")+IIe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+o+c}return[l,U5(o),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,o,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,o="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,o+=(Wft.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=bIe(t,l);if(m){o+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?o+=TIe:o+=IIe,r=!0;continue}if(c==="?"){o+=mre,r=!0;continue}o+=Gft(c)}return[o,U5(t),!!r,a]}};d();var hre=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var _a=s((e,t,r={})=>(dS(t),!r.nocomment&&t.charAt(0)==="#"?!1:new P8(t,r).match(e)),"minimatch"),Hft=/^\*+([^+@!?\*\[\(]*)$/,jft=s(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Vft=s(e=>t=>t.endsWith(e),"starDotExtTestDot"),$ft=s(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),zft=s(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),Yft=/^\*+\.\*+$/,Kft=s(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Jft=s(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Xft=/^\.\*+$/,Zft=s(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),edt=/^\*+$/,tdt=s(e=>e.length!==0&&!e.startsWith("."),"starTest"),rdt=s(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),ndt=/^\?+([^+@!?\*\[\(]*)?$/,idt=s(([e,t=""])=>{let r=RIe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),odt=s(([e,t=""])=>{let r=kIe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),sdt=s(([e,t=""])=>{let r=kIe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),adt=s(([e,t=""])=>{let r=RIe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),RIe=s(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),kIe=s(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),BIe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",wIe={win32:{sep:"\\"},posix:{sep:"/"}},ldt=BIe==="win32"?wIe.win32.sep:wIe.posix.sep;_a.sep=ldt;var Wd=Symbol("globstar **");_a.GLOBSTAR=Wd;var cdt="[^/]",udt=cdt+"*?",fdt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ddt="(?:(?!(?:\\/|^)\\.).)*?",mdt=s((e,t={})=>r=>_a(r,e,t),"filter");_a.filter=mdt;var qd=s((e,t={})=>Object.assign({},e,t),"ext"),hdt=s(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return _a;let t=_a;return Object.assign(s((n,i,o={})=>t(n,i,qd(e,o)),"m"),{Minimatch:class extends t.Minimatch{static{s(this,"Minimatch")}constructor(i,o={}){super(i,qd(e,o))}static defaults(i){return t.defaults(qd(e,i)).Minimatch}},AST:class extends t.AST{static{s(this,"AST")}constructor(i,o,a={}){super(i,o,qd(e,a))}static fromGlob(i,o={}){return t.AST.fromGlob(i,qd(e,o))}},unescape:s((n,i={})=>t.unescape(n,qd(e,i)),"unescape"),escape:s((n,i={})=>t.escape(n,qd(e,i)),"escape"),filter:s((n,i={})=>t.filter(n,qd(e,i)),"filter"),defaults:s(n=>t.defaults(qd(e,n)),"defaults"),makeRe:s((n,i={})=>t.makeRe(n,qd(e,i)),"makeRe"),braceExpand:s((n,i={})=>t.braceExpand(n,qd(e,i)),"braceExpand"),match:s((n,i,o={})=>t.match(n,i,qd(e,o)),"match"),sep:t.sep,GLOBSTAR:Wd})},"defaults");_a.defaults=hdt;var DIe=s((e,t={})=>(dS(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,SIe.default)(e)),"braceExpand");_a.braceExpand=DIe;var pdt=s((e,t={})=>new P8(e,t).makeRe(),"makeRe");_a.makeRe=pdt;var gdt=s((e,t,r={})=>{let n=new P8(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");_a.match=gdt;var _Ie=/[?*]|[+@!]\(.*?\)|\[|\]/,Adt=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),P8=class{static{s(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){dS(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||BIe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!_Ie.test(o[2]))&&!_Ie.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(f=>this.parse(f))];if(u)return[o[0],...o.slice(1).map(f=>this.parse(f))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let a=this.set[o];a[0]===""&&a[1]===""&&this.globParts[o][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let o=t[i];i===1&&o===""&&t[0]===""||(o==="."||o==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let a=n[o-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,o=0,a=[],l="";for(;i<t.length&&o<r.length;)if(t[i]===r[o])a.push(l==="b"?r[o]:t[i]),i++,o++;else if(n&&t[i]==="**"&&r[o]===t[i+1])a.push(t[i]),i++;else if(n&&r[o]==="**"&&t[i]===r[o+1])a.push(r[o]),o++;else if(t[i]==="*"&&r[o]&&(this.options.dot||!r[o].startsWith("."))&&r[o]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,o++}else if(r[o]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[o]),i++,o++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let y=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),v=!y&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),E=!b&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),_=v?3:y?0:void 0,k=E?3:b?0:void 0;if(typeof _=="number"&&typeof k=="number"){let[B,N]=[t[_],r[k]];B.toLowerCase()===N.toLowerCase()&&(r[k]=B,k>_?r=r.slice(k):_>k&&(t=t.slice(_)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===Wd){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var g=t[h];if(this.debug(`
globstar while`,t,h,r,p,g),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let y;if(typeof f=="string"?(y=m===f,this.debug("string match",f,m,y)):(y=f.test(m),this.debug("pattern match",f,m,y)),!y)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return DIe(this.pattern,this.options)}parse(t){dS(t);let r=this.options;if(t==="**")return Wd;if(t==="")return"";let n,i=null;(n=t.match(edt))?i=r.dot?rdt:tdt:(n=t.match(Hft))?i=(r.nocase?r.dot?zft:$ft:r.dot?Vft:jft)(n[1]):(n=t.match(ndt))?i=(r.nocase?r.dot?odt:idt:r.dot?sdt:adt)(n):(n=t.match(Yft))?i=r.dot?Jft:Kft:(n=t.match(Xft))&&(i=Zft);let o=D8.fromGlob(t,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?udt:r.dot?fdt:ddt,i=new Set(r.nocase?["i"]:[]),o=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?Adt(f):f===Wd?Wd:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==Wd||p===Wd||(p===void 0?h!==void 0&&h!==Wd?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==Wd&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=Wd))}),u.filter(f=>f!==Wd).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];o="^"+a+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<o.length;l++){let c=o[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return _a.defaults(t).Minimatch}};_a.AST=D8;_a.Minimatch=P8;_a.escape=hre;_a.unescape=U5;var pre="contentExclusion",XQ=class extends GQ{static{s(this,"CopilotContentExclusion")}#e;#t=new Sn(1e4);#i=new Sn(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=Yx(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??wv.all);if(!i)return WQ;let o=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,o,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return AA.exception(this.#e,n,`${pre}.evaluate`),tIe}return uS}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let o=uS,a,l=NZ(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(_a(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){o=gre(c,"FILE_BLOCKED_PATH"),a=u;break e}return AA.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:o,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,o),o}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),o=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&o.length===0)return uS;let a=this.evaluateFileContent(i,o,n);return AA.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>PIe(a)).some(a=>a.test(n)))return gre(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>PIe(a)).some(a=>a.test(n)))return gre(i,"FILE_BLOCKED_TEXT_BASED");return uS}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Ia(this.#e,t,`${pre}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=aIe(async t=>{let r=await this.#e.get(en).getGitHubSession();if(!r)throw new Vs("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),o=t.includes(wv.all);t.filter(u=>u!==wv.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==wv.all).join(",")),i.searchParams.set("scope",o?wv.all:wv.repo);let l=await ah(this.#e,r,i.href),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new Rx(l)}return this.#s("fetch.success"),iIe(vdt,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(yA).getRepo(tf(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){jt(this.#e,`${pre}.${t}`,dn.createAndMarkAsIssued(r,n))}};function PIe(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}s(PIe,"stringToRegex");function gre(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}s(gre,"fileBlockedEvaluationResult");var ydt=I.Object({name:I.String(),type:I.String()}),Cdt=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:ydt}),Are=I.Array(Cdt),xdt=I.Object({rules:Are,last_updated_at:I.String(),scope:I.String()}),vdt=I.Array(xdt);var qc=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new XQ(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Vr).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Vr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Ks(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{s(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=Xo(t)!==void 0;if(i||AA.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let o=[],a=s(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return o.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of o)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){AA.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Yi).setInactive(r??"Copilot is disabled"):this.ctx.get(Yi).clearInactive())}#i(t,r,n,i){let o=r+t;if(this.evaluateResultCache.get(o)===n.reason)return!1;if(this.evaluateResultCache.set(o,n.reason??"UNKNOWN"),n.reason===WQ.reason)return AA.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return jt(this.ctx,t,dn.createAndMarkAsIssued(l,c)),jt(this.ctx,t,dn.createAndMarkAsIssued({...l,path:r},c),1),AA.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function Sv(e,t,r){let n=await e.get(qc).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}s(Sv,"isDocumentValid");var Vr=class{constructor(t){this.ctx=t}static{s(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await Sv(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=ac(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return Sv(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(bo).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(bo).readFileString(t)}getWorkspaceFolder(t){let r=ac(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(ac(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=ac(t.uri);for(let n of this.getWorkspaceFolders()){let i=ac(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Pi(r)}};function ys(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}s(ys,"statusFromTextDocumentResult");var Qn=class{constructor(t){this.ctx=t}static{s(this,"FileReader")}getRelativePath(t){return this.ctx.get(Vr).getRelativePath(t)??Pi(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Vr).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let o=await this.doReadFile(t),a=await Sv(this.ctx,{uri:t},o);return a.status==="valid"?{status:"valid",document:gA.create(t,"UNKNOWN",-1,o)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(bo).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(bo).stat(t)).size/1024/1024}};d();d();var L8=class{constructor(){this.resolve=s(()=>{},"resolve");this.reject=s(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{s(this,"Deferred")}};function Rv(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}s(Rv,"delay");d();var yre=class{constructor(){this.observers=new Set}static{s(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},ZQ=class extends yre{static{s(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Ch=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Gt("AsyncCompletionManager");this.requests=new Sn(100);this.mostRecentRequestId="";Ks(t,r=>{this.#e=r.hasKnownOrg})}static{s(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=qn(this.ctx,wt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(dr).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(Cre(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,o){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new ZQ;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),o.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,o){let a=this.ctx.get(dr).asyncCompletionsTimeout(o);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let o=!1,a=new L8,l=new Map,c=s(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!o&&l.size===0&&(o=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=s(f=>{if(Cre(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),o=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)Cre(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function Cre(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}s(Cre,"isCandidate");d();d();var pS=class{constructor(t){this.maxSize=t;this.root=new hS;this.leafNodes=new Set}static{s(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[o,a]of n.children)if(o.startsWith(i)){let l=o.slice(0,i.length),c=new hS;n.removeChild(o),n.addChild(l,c),c.addChild(o.slice(l.length),a),n=c,i=i.slice(l.length);break}if(i.length>0){let o=new hS;n.addChild(i,o),n=o}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[o,a]of n.children)if(t.startsWith(o)){t=t.slice(o.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[o,a]=Array.from(t.children)[0];t.removeChild(o),r.removeChild(n),r.addChild(n+o,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[o,a]=Array.from(r.children)[0],l=i.edge+o;r.removeChild(o),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},hS=class{constructor(){this._children=new Map;this._touched=performance.now()}static{s(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var pf=class{static{s(this,"CompletionsCache")}constructor(){this._cache=new Sn(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}},xh=class{constructor(){this.cache=new pS(100)}static{s(this,"PrefixCompletionsCache")}findAll(t){return this.cache.findAll(t).flatMap(({remainingKey:r,value:n})=>n.choices.filter(i=>i.completionText.startsWith(r)&&i.completionText.length>r.length).map(i=>({...i,completionText:i.completionText.slice(r.length),telemetryData:i.telemetryData.extendedBy({},{foundOffset:r.length})})))}append(t,r){let n=this.cache.findAll(t);if(n.length>0&&n[0].remainingKey===""){let i=n[0].value.choices;this.cache.set(t,{choices:[...i,...r]})}else this.cache.set(t,{choices:r})}clear(){this.cache=new pS(100)}};d();d();var xre={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},au={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function NIe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let o;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?o=.0590142410559562:e[7]>.6376007852429183?o=.043799948513989724:o=-4018626768373957e-20:o=.0790082705503403:e[38]>1e-35?o=.06581244939148062:e[30]>1e-35?o=.04874874335011108:o=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?o=.0902076086329385:e[30]>1e-35?o=.10143876154366023:o=.021304615514737626:e[2]>1.4978661367769956?o=.10248710197602005:e[8]>1e-35?e[125]>1e-35?o=-.1652240484643952:o=.09695355914385996:o=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?o=.030411053020370282:e[7]>.8375851232899904?o=.01347947217941036:o=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?o=-.021734552060979462:e[100]>1e-35?o=.12154672718218543:e[3]>1e-35?o=.0467045097539336:o=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?o=.018631928508103857:o=.04026129961424531:o=-.0060403819170799225:e[38]>1e-35?o=.04740678443866351:e[30]>1e-35?o=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?o=.016385457091892035:o=-.07115043890873148:e[4]>3.417592293073651?o=-.04057726754591634:e[29]>1e-35?o=-.10601923621749415:o=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let g;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?g=-.000906155627647317:e[24]>1e-35?g=.0785324151067157:e[154]>1e-35?g=-.058309500036909157:g=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?g=-.010584135839537876:g=.013982545022862853:g=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?g=.026401003398891884:e[3]>2.602003343538398?g=-.008168418058515686:e[7]>.9662372103242399?g=.10626422692131453:g=-.01031637351522216:g=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?g=.0312811686023135:g=.05423507965224627:e[6]>4.832297822126891?g=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?g=-.09338070882722671:g=.058145805002919916:g=.04227449937397909:e[38]>1e-35?g=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?g=-.09114331684757576:e[135]>1e-35?g=-.07948190608487016:e[48]>1e-35?g=-.12911151777601662:e[143]>1e-35?g=-.09735205976374478:g=-.017192402584465798:g=-.08661537827420282:e[217]>1e-35?g=.033425023239885124:e[14]>1e-35?g=.02729990952110066:e[48]>1e-35?g=-.09098188061865646:e[46]>1e-35?g=-.05848458618550134:e[91]>1e-35?g=-.10969774095556883:g=-.0068971807474334365;let y;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?y=-.06150017523108556:e[39]>1e-35?y=-.03350257370473994:e[22]>1e-35?y=-.02193617429266551:e[8]>1e-35?y=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?y=.026702786904914785:y=.00851181280021978:e[4]>2.673553765358735?y=.010358811529123666:e[6]>2.802901033147999?y=.08891517935366504:y=.023114323891227237:y=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?y=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?y=.0544777682515472:y=.037060547607205986:e[6]>1e-35?y=.022016394753027843:y=-.1559604133821172:e[6]>3.540854293052788?y=-.009372509268454739:y=-.24388295956457617:e[38]>1e-35?y=.023012278764368795:e[138]>1e-35?y=.03564423186175008:e[30]>1e-35?y=.008093643695090883:e[217]>1e-35?y=.028810461962454004:e[135]>1e-35?y=-.07120877224354143:e[46]>1e-35?y=-.06546454537408128:e[144]>1e-35?y=-.09534262423492412:e[143]>1e-35?y=-.0770344566882831:e[29]>1e-35?y=-.06285371287531509:e[14]>1e-35?y=.02073120300153793:e[123]>1e-35?y=-.09016320513643451:e[51]>1e-35?y=-.10496442920973255:e[3]>3.1132683346437333?y=-.019949599427836494:y=-.0019060085544902166;let v;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?v=.03174009468268253:e[2]>5.363634090365639?v=-.019608371322822362:v=.012560836552403976:v=-.006925466014569184:e[1]>1e-35?v=.047796055675515446:v=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?v=.05193425865217324:v=.07891754708034264:v=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?v=.0288226384042998:v=-.09397342098461306:e[4]>.8958797346140276?v=.06181532763949055:e[3]>1e-35?v=.0661728888522049:v=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?v=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?v=.003940381852503271:v=-.01767544594631589:e[134]>1e-35?v=.005683243725945637:v=-.033167818200618454:v=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?v=-.013281167238314323:v=.016971087295600894:v=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?v=-.09772932329003692:v=.10215199291158968:e[3]>1e-35?v=.04042124133857408:e[4]>1.7005986908310777?v=-.03780917296974188:v=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?v=.019695468056761475:v=-.008073287117671947:v=-.07196945037292647;let b;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?b=.04565870990720628:e[4]>3.481121732133104?b=-.0010242035152053465:e[46]>1e-35?b=-.06735757101078846:b=.028047085557873476:e[4]>.8958797346140276?b=.061451212522936484:b=-.008994471708946133:e[4]>3.8815106545092593?b=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?b=-.0353203284829365:e[135]>1e-35?b=-.029955239188290975:e[153]>1e-35?b=-.024262881593313065:e[21]>1e-35?b=-.04039396048201336:e[155]>1e-35?b=.031605649750965394:e[46]>1e-35?b=-.0412690351363074:e[18]>1e-35?b=-.02516534034859168:e[51]>1e-35?b=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?b=.05781620337941066:b=-.031029108058883783:e[54]>1e-35?b=-.1312103962175427:e[14]>1e-35?b=.029309503966067275:e[52]>1e-35?b=-.12376041877584809:e[49]>1e-35?b=-.08405476403385437:e[129]>1e-35?b=-.07017699310303659:e[3]>3.238486181444842?b=.0005864979938663785:e[90]>1e-35?b=-.19027994988708324:e[4]>2.4414009612931857?b=.013036973814688194:e[141]>1e-35?b=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?b=.021738540839636195:b=.10410506831002041:b=-.25590968590756463:b=.0023982515170817725:b=-.04143304307857132;let E;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?E=-.011443269019739626:e[1]>1e-35?E=.015228192424880932:E=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?E=.03605247912942737:E=.08439131345296227:E=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?E=.07077360688836766:E=.044754385330663386:E=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?E=.04214845406094496:E=-.10283747682230321:e[4]>.8958797346140276?E=.05232959789940822:e[2]>.8958797346140276?E=.00730829946441921:E=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?E=-.013117301012430346:E=.010418379595902224:e[19]>1e-35?E=-.07514668047310291:E=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?E=-.009576060406554683:E=-.04582944318062007:E=-.04685159067258116:E=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?E=-.008313873320272646:e[140]>1e-35?E=-.029352675967497712:e[37]>1e-35?E=-.09937923794037767:E=.015967772276156707:E=-.009857373135428817:e[38]>1e-35?E=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?E=.001522017389940959:E=-.026992183902105407:E=-.006358778971076675;let _;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?_=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?_=-.03407648259949232:_=-.0036502511604675977:e[4]>3.540854293052788?_=-.00934040898683245:_=.010922739771398862:e[7]>.9676186228082213?_=.05137169375874399:_=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?_=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?_=.08915557171019604:_=-.06286636147644172:_=.0902247220475161:e[4]>.8958797346140276?_=.09051085461905525:e[9]>1e-35?_=-.19701197524821418:_=.005536577088671752:e[30]>1e-35?_=.0682573098268795:_=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?_=.026867659395235544:e[7]>.5866799179067689?_=-.008345671861059714:_=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?_=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?_=.08888912525147288:_=-.040584195806350004:_=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?_=-.01259238316205765:e[156]>1e-35?_=-.03305969547622109:e[50]>1e-35?_=-.10133912689920138:e[155]>1e-35?_=.025358210175047153:e[55]>1e-35?_=-.14645261489281414:e[9]>1e-35?_=.012035823488806215:_=.0010743871783232305:_=-.030440082321355873;let k;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?k=.0708169212387357:e[7]>.9974623466432676?k=.06323909894881967:k=.04463133906529934:k=-.006876640569960593:e[4]>2.138333059508028?k=.02983313061920756:k=-.012849740499321841:e[138]>1e-35?k=.05170725384597862:e[134]>1e-35?k=.03407970940934425:e[32]>1e-35?k=.04641257566344885:e[217]>1e-35?k=.04726549849359106:e[152]>1e-35?k=.04284855498215312:k=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?k=.013495195381145214:k=-.0017562536904350947:e[153]>1e-35?k=-.035450683955968364:e[135]>1e-35?k=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?k=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?k=-.012478407554855247:e[58]>1e-35?k=-.06588308463544146:k=.01024668455910621:k=-.017964352445712636:e[138]>1e-35?k=.023509519134334668:e[134]>1e-35?k=.009985116251562821:e[219]>1e-35?k=-.08089904073615993:e[144]>1e-35?k=-.08668450969211726:e[146]>1e-35?k=-.11193950701534479:e[91]>1e-35?k=-.09510832561737878:e[47]>1e-35?k=-.06671901650698997:e[145]>1e-35?k=-.10185972302071798:e[142]>1e-35?k=-.050979038763275586:k=-.008318124414257324;let B;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?B=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?B=.016160825033090097:e[4]>2.673553765358735?B=-.008119911797705546:e[7]>.9676186228082213?B=.10191214482603793:B=.010406721157764452:e[4]>2.602003343538398?B=.011963972867583182:e[209]>1e-35?e[24]>1e-35?B=-.4633165603515741:B=-.027241411195905924:B=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?B=-.07106669495723826:B=-.003949154414882924:B=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?B=.005050893558647285:B=-.01649483548684653:e[217]>1e-35?B=.0027009145619870485:e[7]>.16413460456379095?B=-.021492035902356262:B=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?B=.004614615289098078:e[125]>1e-35?B=-.053838919278819175:e[141]>1e-35?B=-.031232660335016666:e[7]>.9676186228082213?B=.031522536832188655:B=.016369948821613637:B=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?B=.035653122678366796:B=.09668798382116887:B=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?B=.05167603828162103:B=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?B=.04079789432551034:B=-.00477197753110532:B=-.1330224689055222;let N;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?N=.025938224253040522:e[7]>.9480659774309611?N=.06369970668749851:N=.04567224211157202:e[8]>1e-35?N=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?N=-.06304921759586735:N=.04293432033794005:N=.0034607309539607385:e[30]>1e-35?N=.03333728636724803:e[134]>1e-35?N=.03171739664928598:e[32]>1e-35?N=.04247521237473512:e[217]>1e-35?N=.04515237436183519:e[138]>1e-35?N=.043674672816657406:N=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?N=-.005353425538700483:N=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?N=-.026937004040991603:e[9]>1e-35?N=.01687211330975012:e[129]>1e-35?N=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?N=-.029787052855333836:e[140]>1e-35?N=-.0315337765152156:N=.01010125865272709:N=-.003643087951301554:e[3]>1.8688348091416842?N=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?N=-.10837629052758145:N=.08012552652666853:N=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?N=.028089541906112948:e[134]>1e-35?N=.011775653029555359:e[54]>1e-35?N=-.1329256322319015:N=-.010520589644656487:N=-.058476715353390545;let M;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?M=.015966021866473425:M=-.004942501766182043:e[7]>.7646034107159144?M=.0008922354520049755:M=-.02377096637770522:e[1]>1e-35?M=.03185471115279236:M=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?M=.03583918176912262:M=.05978765203310842:e[3]>1.4978661367769956?M=.04363706154403441:M=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?M=-.14139420543234502:e[6]>4.135134555718313?M=.06641653507737781:M=-.08482961471233386:e[219]>1e-35?M=-.08432601495298837:M=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?M=-.027653216441781994:e[4]>1.2424533248940002?M=-.0074990353344818825:M=-.047274115298751654:e[3]>4.350257124271638?M=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?M=.008343192891130257:e[3]>2.602003343538398?M=-.029175290449111352:e[19]>1e-35?M=-.0982821612709299:M=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?M=-.050000478457880464:e[99]>1e-35?M=.03066844761711629:M=.00757148708610041:e[14]>1e-35?M=.030325269400598688:e[138]>1e-35?M=.029925649226634522:M=-.005865781126590595:e[7]>.14547530463198097?M=-.006746433384005582:M=-.03419211369300411;let re;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?re=.03492440471960614:re=.10640952227810228:re=.024674544399570984:e[21]>1e-35?re=-.03056548710005192:e[24]>1e-35?re=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?re=-.01915628728670732:re=.08218968786016527:e[22]>1e-35?re=-.015022557207326592:e[7]>.9941118339384912?re=.024199625103362956:e[135]>1e-35?re=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?re=.03343354440638259:e[144]>1e-35?re=-.06832894943893354:re=.0114980261254499:e[12]>1e-35?e[100]>1e-35?re=.09915326976032354:re=-.011405707270850872:re=.05400113313957842:e[138]>1e-35?re=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?re=.0124381999772114:e[14]>1e-35?re=.021548670539672424:e[152]>1e-35?re=.02386756199239544:e[155]>1e-35?re=.024879667358339554:e[217]>1e-35?re=.014495299809094343:e[17]>1e-35?re=.023665548251738264:e[21]>1e-35?re=-.04352613176288253:e[142]>1e-35?re=-.041479100066479035:e[47]>1e-35?re=-.054730987834988636:e[135]>1e-35?re=-.02041552814087628:e[12]>1e-35?re=.00599257601351913:e[19]>1e-35?re=.017289098956116435:re=-.005346146967029123:re=-.015035114021856248;let pe;e[2]>2.524928003624769?e[39]>1e-35?pe=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?pe=-.006846267565269392:e[5]>6.826002629905951?pe=-.031164989612379426:pe=-.002741497453668024:e[91]>1e-35?pe=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?pe=.01457038163563883:e[7]>.1998775237752378?pe=.0022386178156093236:pe=-.023878153904868322:e[138]>1e-35?pe=.02577301491883366:e[134]>1e-35?pe=.012196636151923639:pe=-.011620066788940737:pe=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?pe=-.054140900037670386:e[5]>3.5694334999727624?pe=.011956526123643832:e[3]>2.602003343538398?pe=-.02114925328017154:e[7]>.9662372103242399?pe=.08782010508103752:pe=-.017223208918198857:e[138]>1e-35?pe=.03552967765214556:e[134]>1e-35?pe=.02029988465200251:pe=-.0027071098830831453:pe=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?pe=.020789754957971127:e[8]>1e-35?pe=.09676607622337308:pe=-.13431522143386382:pe=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?pe=.04286558286931383:pe=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?pe=-.12134536828900527:pe=-.0021406313647826976:pe=.02703554321037796:pe=-.10987991092748431;let Z;e[3]>3.238486181444842?e[30]>1e-35?Z=.009506310623811853:e[39]>1e-35?Z=-.0390989997202559:e[187]>1e-35?Z=-.07249802958837052:e[46]>1e-35?Z=-.05080833699879983:e[143]>1e-35?Z=-.06014247774751084:e[219]>1e-35?Z=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?Z=-.025022238573512268:Z=.0011147676050071987:Z=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?Z=.008593726678003006:Z=.05272960047875293:e[5]>4.424828703319957?Z=.03164186747443643:Z=-.019512539098210834:e[3]>2.602003343538398?Z=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?Z=-.1920669264002081:Z=.09024848315677546:e[8]>1e-35?Z=.06434775905745808:e[44]>1e-35?Z=.11389595321585716:Z=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?Z=-.03813401544172915:e[138]>1e-35?Z=.029859363038130183:e[58]>1e-35?Z=-.06135288076045784:e[39]>1e-35?Z=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?Z=.0007666746170242386:e[129]>1e-35?Z=-.04984156530077896:e[18]>1e-35?Z=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?Z=-.043774129950223145:Z=.0062051346459236715:Z=.014331149613197688:Z=-.004868728135790881:Z=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?q=-.01634394676179118:e[135]>1e-35?q=-.025978770194490092:q=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?q=.0201238113260563:q=-.003889163967162744:q=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?q=.04441301244720888:q=.07580163057048642:e[5]>4.424828703319957?q=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?q=-.1614949959350695:q=.011868201115510678:e[144]>1e-35?q=-.24480189212017833:q=.00743113235503554:e[135]>1e-35?q=-.02500550080046047:e[155]>1e-35?q=.019914668189284807:e[14]>1e-35?q=.016272311078771865:e[2]>4.436734027666816?q=-.010942143677155697:e[152]>1e-35?q=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?q=.01544696196221499:e[209]>1e-35?q=.011686634595667988:e[204]>1e-35?q=.012948259428096241:e[54]>1e-35?q=-.0987840586310838:e[17]>1e-35?q=.019642065140602974:e[9]>1e-35?q=.002408217148588979:e[129]>1e-35?q=-.051760999013377655:e[53]>1e-35?q=-.12326801905337725:e[156]>1e-35?q=-.027148214121600067:q=-.00591946140033722:e[141]>1e-35?q=.08076229481403298:e[100]>1e-35?q=.09029873540689846:q=.004633440115146894;let ie;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?ie=.0335386338744903:ie=.08871810783567416:ie=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?ie=-.028577747938027556:e[22]>1e-35?ie=-.017080349342057245:e[123]>1e-35?ie=-.06459630434555787:ie=.01496396100048332:e[7]>.04507521918085865?ie=.0037545927605624665:ie=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?ie=.003955118988355861:ie=-.024852972286710795:e[210]>1e-35?ie=-.06918033561606161:ie=-.016436360434421187:e[219]>1e-35?ie=-.07074619361594191:e[14]>1e-35?ie=.02288621182895308:e[30]>1e-35?ie=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?ie=-.08645289278185848:e[18]>1e-35?ie=-.07128859518483391:e[46]>1e-35?ie=-.059012415377229614:e[51]>1e-35?ie=-.09897820075751956:e[143]>1e-35?ie=-.0658809793369211:e[39]>1e-35?ie=-.05072244120975425:e[145]>1e-35?ie=-.1041573357946847:e[21]>1e-35?ie=-.07265724033978356:e[121]>1e-35?ie=.032340406020414894:e[150]>1e-35?ie=-.12780465144045577:e[50]>1e-35?ie=-.10084067045905792:ie=-.008282579596590931:e[31]>1e-35?ie=.09475423612489574:e[134]>1e-35?ie=.016436600209473996:ie=-.0032052350949025154;let z;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?z=.016868562767356994:e[7]>.9480659774309611?z=.0490126593301439:z=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?z=-.018344689935240077:e[7]>.5762123732244849?z=.027823839417468396:z=.0022237549483396734:z=-.049221463486990365:e[30]>1e-35?z=.024881540664409785:e[4]>3.0677824455408698?z=-.012956173562801246:z=.010844244442972509:e[153]>1e-35?z=-.021011529883710918:e[135]>1e-35?z=-.022862755771243214:e[91]>1e-35?z=-.06523564179230792:e[3]>4.3372693810700085?z=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?z=.018063557788938384:e[1]>1e-35?e[58]>1e-35?z=-.05666864992513037:e[37]>1e-35?z=-.09859173931566362:e[140]>1e-35?z=-.026368697925604742:e[139]>1e-35?z=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?z=-.012750470980894203:e[128]>1e-35?z=-.06062526587440112:z=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?z=-.01867324944649552:z=.013333709765106694:e[19]>1e-35?z=-.0862336521704207:z=.06263843669460754:z=-.005209374987876728:e[29]>1e-35?z=-.05314556259108334:e[144]>1e-35?z=-.06747511467043471:z=-.0032459743896180644:z=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let U;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?U=-.0427111578574511:e[153]>1e-35?U=-.030189831687705213:e[135]>1e-35?U=-.03512251542671204:U=-.005813108237155817:e[39]>1e-35?U=-.03612853474204475:e[91]>1e-35?U=-.07347487395456895:e[142]>1e-35?U=-.04314124434818331:e[21]>1e-35?U=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?U=-.0015250307417007892:U=-.0490054084929899:e[209]>1e-35?U=-.19107169934362123:U=-.032434842765588306:e[18]>1e-35?U=-.04413318629193353:e[5]>3.772694874805912?U=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?U=-.0184663870129198:U=.08888448773905216:U=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?U=.012676257607559291:e[4]>2.012675845367575?U=.07794141958502514:U=-.23905004122480836:U=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?U=.04439337662833094:U=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?U=.08495906118788314:e[153]>1e-35?U=.09808912606252018:U=-.41470362752984724:U=.024659633328041372:e[6]>4.3882378946731615?U=.02348696158531392:U=-.011219631635525798:e[2]>.8958797346140276?U=.00764827947682953:U=-.002636723662133651;let V;e[0]>1e-35?e[138]>1e-35?V=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?V=-.04204265697956852:e[18]>1e-35?V=-.02345608311313191:e[46]>1e-35?V=-.07250113205332377:e[47]>1e-35?V=-.06901706560471924:e[123]>1e-35?V=-.02471508138476658:e[91]>1e-35?V=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?V=.033642311398086024:V=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?V=-.17171139407761582:V=.033182911468765224:V=.0060896749985828915:e[7]>.9626084674797213?V=.050178751374534494:V=-.008697473314227091:e[6]>5.957131031247307?V=.008840008772752947:V=-.00839587224544437:e[57]>1e-35?V=-.11000065936717814:e[187]>1e-35?V=-.039919217528968265:e[135]>1e-35?V=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?V=-.006645633391127337:V=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?V=-.028575934798358252:e[147]>1e-35?V=-.06523418671938815:e[53]>1e-35?V=-.12439699935111644:e[47]>1e-35?V=-.04201034294282216:e[21]>1e-35?V=-.029998534764449716:e[11]>1e-35?V=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?V=.03211843381827455:V=-.009616753935387912:V=.001507728277179471:V=-.018453367252451447;let Y;e[2]>2.4414009612931857?e[155]>1e-35?Y=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?Y=-.04107586321461544:e[153]>1e-35?Y=-.030708779452328257:Y=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?Y=.10372474211849725:Y=.010871474495452506:e[46]>1e-35?Y=-.048875079231930615:e[152]>1e-35?Y=.0169028183837229:e[91]>1e-35?Y=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?Y=-.03634133884877529:e[123]>1e-35?Y=-.04524486315275367:Y=.0007726000210664368:e[153]>1e-35?Y=-.026631444280113794:Y=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?Y=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?Y=.016731168841731828:Y=-.009280453313693341:Y=-.006549806005743951:Y=-.035447929694275064:e[8]>1e-35?Y=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?Y=.024369266212637037:e[138]>1e-35?Y=.06205121318768558:Y=.03811769435016647:Y=-.009452348851889555:Y=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?Y=-.12191990737301042:e[4]>3.3842466058243152?Y=.00020591213976092076:e[141]>1e-35?Y=-.03252260939244301:e[186]>1e-35?Y=-.13818838492678748:Y=.009368844137034227:Y=-.007973426105216213;let ae;e[2]>2.3502401828962087?e[14]>1e-35?ae=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?ae=.00543900892248828:ae=-.04253496769494065:e[141]>1e-35?ae=-.052958350924390156:e[140]>1e-35?ae=-.10364099832282586:ae=.010452960405207413:e[24]>1e-35?e[113]>1e-35?ae=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?ae=-.26615665549082984:ae=.09636256138859388:ae=.01708542025496261:e[217]>1e-35?ae=.008049408683788317:e[21]>1e-35?ae=-.04590265539954756:e[90]>1e-35?ae=-.13784770816769107:e[142]>1e-35?ae=-.04628126597884301:e[47]>1e-35?ae=-.05827975565933709:e[135]>1e-35?ae=-.0223224900840969:e[18]>1e-35?ae=-.03220713396184497:e[91]>1e-35?ae=-.06447405488640102:e[58]>1e-35?ae=-.05284544446869763:e[48]>1e-35?ae=-.06649148594881385:e[123]>1e-35?ae=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?ae=-.11846610284210293:e[50]>1e-35?ae=-.08907531725085399:e[156]>1e-35?ae=-.018270336483319834:e[150]>1e-35?ae=-.1090721461891663:e[151]>1e-35?ae=-.12157322199183473:ae=-.001565820654257863:ae=-.02380240397829804:e[7]>.7957410883753849?ae=.01267070049428537:e[9]>1e-35?ae=.012970301396505988:ae=.0031136826722851885;let te;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?te=-.01811927921170173:te=-.0007182192063435364:e[30]>1e-35?te=.024303187146750442:e[1]>1e-35?te=.011106265465270054:e[134]>1e-35?te=.029835980521591587:te=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?te=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?te=.0678338591810893:te=.02371719224774027:te=.0682898584583309:te=-.023148464063014726:e[30]>1e-35?te=.04610988679672867:te=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?te=.01081564552001606:te=-.006807357600587744:te=-.02409609521595022:te=-.033329165496176885:e[4]>4.051747139190486?te=-.01130115168237245:e[129]>1e-35?te=-.04589370141507604:e[21]>1e-35?te=-.029442074982620643:e[14]>1e-35?te=.016895124578179443:e[186]>1e-35?te=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?te=-.06194447560538838:e[133]>1e-35?te=-.0758465323292204:e[58]>1e-35?te=-.04330766372695393:e[138]>1e-35?te=-.04155491116231014:e[156]>1e-35?te=-.04841608169206507:e[44]>1e-35?te=-.01948221703985556:te=.006580878599054945:e[217]>1e-35?te=.022433802380447482:te=-.00412091757515532;let le;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?le=-.024502725801264887:e[2]>5.589117819455554?le=-.01230190569981064:le=.0013078979950003464:e[1]>1e-35?le=.016172143068823742:le=.0006345060509537773:e[2]>.8958797346140276?le=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?le=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?le=.044068636573383585:le=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?le=-.3139210817530322:le=-.030502668897116853:le=.02841326513237545:le=-.12080826254458728:le=.05983169094937563:e[25]>1e-35?le=-.03468266531519899:e[17]>1e-35?le=.018557285805987474:e[91]>1e-35?le=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?le=.04301006671297924:e[57]>1e-35?le=-.09748386515224282:e[7]>.43956365248689394?le=-.00756781004151352:le=-.03008603678955382:e[40]>1e-35?le=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?le=.02709638137622776:le=.00311232737924217:e[219]>1e-35?le=-.021650545703290135:e[129]>1e-35?le=-.04139534817677377:e[4]>4.482986592105174?le=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?le=.0203181446326991:e[24]>1e-35?le=.019321702534414745:le=-.0013149142637674523:le=-.010572437649803333;let ce;e[1]>1e-35?e[99]>1e-35?ce=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?ce=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?ce=-.0034268395365245545:ce=-.034186463672076346:e[29]>1e-35?ce=.07759914281958613:ce=-.07773573805144608:e[22]>1e-35?ce=-.0175879419801366:e[7]>.9626084674797213?ce=.016773359142537643:ce=.008028381804196754:e[133]>1e-35?ce=-.0535216100744091:ce=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?ce=.05090247458630403:ce=.007750826606170666:e[30]>1e-35?ce=.007698939719746262:e[121]>1e-35?ce=.02303487268261317:e[56]>1e-35?ce=.04301822779572479:e[219]>1e-35?ce=-.061056125991793546:e[49]>1e-35?ce=-.08519783826666813:e[54]>1e-35?ce=-.11098408863832084:e[51]>1e-35?ce=-.07495147940928196:e[52]>1e-35?ce=-.10268521021357209:e[143]>1e-35?ce=-.050337621945760906:e[50]>1e-35?ce=-.08215637358309871:e[135]>1e-35?ce=-.037923453156281546:e[29]>1e-35?ce=-.03275476659364492:e[118]>1e-35?ce=-.05655325181162936:e[46]>1e-35?ce=-.03579874818682071:e[55]>1e-35?ce=-.10858775815345066:e[98]>1e-35?ce=-.02949179817285505:e[91]>1e-35?ce=-.06114394873657414:ce=-.0024381269826722327;let De;e[0]>1e-35?e[138]>1e-35?De=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?De=.02161439640262312:e[46]>1e-35?De=-.05856082884648366:De=.00579188508436574:e[5]>3.417592293073651?De=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?De=-.009165058612451055:De=.06060298049441096:De=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?De=.047057536167451744:e[5]>7.751690325550034?De=-.014630738159823437:e[6]>1e-35?De=-.0022830386545257364:De=-.1244934159203967:e[141]>1e-35?De=-.03108265181870111:e[151]>1e-35?De=-.0899976208431091:e[53]>1e-35?De=-.10125439914522794:e[57]>1e-35?De=-.08285049636367613:e[48]>1e-35?De=-.04071723813859757:e[147]>1e-35?De=-.05043191744833317:e[49]>1e-35?De=-.05480244282058292:e[52]>1e-35?De=-.07341553831872409:e[91]>1e-35?De=-.04164336745260387:e[50]>1e-35?De=-.05943962674275153:e[40]>1e-35?De=-.054773037913883875:e[129]>1e-35?De=-.03640370706396673:e[54]>1e-35?De=-.07483146938849299:e[22]>1e-35?De=-.02027834075472462:e[186]>1e-35?De=-.08116240011202293:e[143]>1e-35?De=-.028437692949603324:e[21]>1e-35?De=-.02421670339700474:e[46]>1e-35?De=-.02303808594532841:De=.0030552215125396933;let be;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?be=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?be=.024680404379144982:be=.012015730636539185:e[113]>1e-35?be=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?be=-.11617284449593282:be=-.005246041787488675:be=-.011069319481086321:e[90]>1e-35?be=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?be=.009233858920042097:be=.08920751503262825:be=-.008824102277148265:e[138]>1e-35?be=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?be=.013112272135200274:e[217]>1e-35?be=.035799930603658235:be=-.015618218537266096:be=.010656981322113845:e[14]>1e-35?be=.01147191978691208:e[17]>1e-35?be=.016681596753170068:e[135]>1e-35?be=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?be=-.008863534867945834:e[31]>1e-35?be=.05416038384474034:e[113]>1e-35?be=.012656827040897288:e[204]>1e-35?be=.011410879858785482:e[208]>1e-35?e[1]>1e-35?be=.02085606775425661:be=-.008618410086291444:e[53]>1e-35?be=-.09674487817291225:e[155]>1e-35?be=.010841012663281826:be=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?be=-.02684998739505702:be=.09196076999373319:be=-.014557367931257406;let qe;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?qe=-.020508725755139606:e[9]>1e-35?qe=.014160204295049248:e[37]>1e-35?qe=-.06190233326923697:e[6]>1e-35?qe=.005164496028342236:qe=-.11389189550910446:e[141]>1e-35?qe=-.04125881484049697:e[186]>1e-35?qe=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?qe=-.010283419868136159:e[7]>.9626084674797213?qe=-.1716178372310524:qe=-.008856137283327148:e[28]>1e-35?qe=.05315666786902214:e[129]>1e-35?qe=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?qe=.00751812285476753:e[8]>1e-35?qe=-.11960098941111366:qe=.06631760098044483:e[210]>1e-35?e[30]>1e-35?qe=-.05338190010412709:qe=.017275201286894953:e[30]>1e-35?qe=.014424216946760394:e[99]>1e-35?qe=.027062693955934525:qe=-.006762492910108134:e[219]>1e-35?qe=-.0534489198792768:e[138]>1e-35?qe=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?qe=-.0662951231725991:e[143]>1e-35?qe=-.04739088646917139:e[145]>1e-35?qe=-.07635546796992515:e[14]>1e-35?qe=.012433708195861912:e[217]>1e-35?qe=.021046036228368578:e[51]>1e-35?qe=-.07024391932712475:qe=-.007585229386863768:e[127]>1e-35?qe=.0788172427657374:qe=.0036475442240054556;let Re;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?Re=-.02488671343402725:e[135]>1e-35?Re=-.026342401137212534:e[4]>1.4978661367769956?Re=-.0002120610158998857:Re=-.02619014803287452:e[5]>3.772694874805912?Re=.00791871819482647:Re=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?Re=.026755493155023333:Re=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?Re=-.12833948112036647:Re=.02009706276124955:e[135]>1e-35?Re=-.1062651205805238:Re=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?Re=-.0426876288098691:Re=-.009210886749467585:e[25]>1e-35?Re=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?Re=.039675921298659045:Re=-.01470247025894634:e[135]>1e-35?Re=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?Re=-.01924589513592333:e[21]>1e-35?Re=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?Re=-.0007468484638490539:Re=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?Re=.024493682002973784:e[42]>1e-35?Re=-.07469088345156226:e[45]>1e-35?Re=-.03838380763638677:e[114]>1e-35?Re=.02409327545276692:e[154]>1e-35?Re=-.038977286951036944:e[208]>1e-35?Re=.021915882358345885:Re=.003839964304606302:Re=-.0014382346596150915:Re=-.008713493537728363;let Xe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Xe=-.0017308950709495397:Xe=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Xe=.007854184286630537:Xe=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Xe=-.009039854020477722:Xe=.08762320620103459:e[194]>1e-35?Xe=-.3433922378591172:e[24]>1e-35?Xe=-.2523113760729937:Xe=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Xe=.007177758561499448:e[2]>.8958797346140276?Xe=.03195343200682438:Xe=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Xe=-.10695282804536732:Xe=.019125081292682575:e[135]>1e-35?Xe=-.09257011968677195:Xe=-.012855523323410875:e[14]>1e-35?Xe=.010052176448775013:e[152]>1e-35?Xe=.011482760058014926:e[156]>1e-35?Xe=-.017677609761538152:e[24]>1e-35?Xe=.01670301885059328:e[39]>1e-35?Xe=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Xe=.01117036123239103:e[3]>1.4978661367769956?Xe=-.005154239762347923:Xe=.06349844063391799:Xe=-.011876368966362884:e[4]>3.772694874805912?Xe=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Xe=-.0035902728428789336:Xe=.003411450739155564:e[5]>8.17933999189099?Xe=-.018866709049095685:Xe=-.0038747233097564068:Xe=.024379138339081993;let ft;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ft=.01816196279626246:ft=-.008720340174685528:e[14]>1e-35?ft=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ft=-.035421013136394335:e[219]>1e-35?ft=-.03997357699142973:e[3]>4.993822430271426?ft=-.03250278247092862:ft=.004080430247607075:ft=-.010055330454519094:e[5]>9.345963324807864?ft=-.008136951493137817:e[90]>1e-35?ft=-.16414188828180187:e[45]>1e-35?ft=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ft=.03144428117941763:ft=-.12305809642153893:e[5]>3.417592293073651?ft=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ft=.08986402088848823:e[100]>1e-35?ft=.09658177526577977:e[141]>1e-35?ft=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ft=.10311172778826272:ft=-.12367638872784459:e[209]>1e-35?ft=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ft=-.1815028770626217:ft=-.027600842388305583:ft=.013979123567456554:ft=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ft=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ft=-.05732062477153205:ft=.0038104987226822806:e[7]>.14547530463198097?ft=-.0015360108147469411:ft=-.014797616303672155:e[3]>.8958797346140276?ft=-.010446976011382926:ft=-.039018423658353285;let at;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?at=-.0031733808376565214:at=-.019463570735432378:at=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?at=.006472511895453073:e[2]>.8958797346140276?at=.029439910335277677:at=.05703290277034656:e[219]>1e-35?at=-.06489530937321614:e[5]>4.424828703319957?at=.017756995160153607:e[125]>1e-35?at=-.13863131633711023:at=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?at=-.04822012795561216:e[125]>1e-35?at=.06083023155995546:e[141]>1e-35?at=.04503531231698771:e[5]>7.751690325550034?at=-.008826435995092507:at=.0004769856196102064:e[5]>5.895778350950796?at=-.03439788269853701:at=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?at=.0046610227653059695:at=-.04504560149384845:e[3]>4.3372693810700085?at=-.011924612526365003:e[151]>1e-35?at=-.07909878419302184:e[40]>1e-35?at=-.04837106565429512:e[52]>1e-35?at=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?at=.060888920864590634:e[5]>3.5694334999727624?at=-.02601024872439008:at=.07960150564774994:e[46]>1e-35?at=-.027213119561154103:e[51]>1e-35?at=-.054081846676903716:e[54]>1e-35?at=-.07375359621246233:e[50]>1e-35?at=-.0570341640965886:at=.0021129818482267812;let lt;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?lt=-.09222476830824185:e[156]>1e-35?lt=-.044357001480428:lt=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?lt=-.007435399919321396:lt=-.025630334739367253:e[155]>1e-35?lt=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?lt=-.012759040985224594:lt=-.0009375109950390992:e[21]>1e-35?lt=-.028664595543047417:e[187]>1e-35?lt=-.03837361994986333:e[22]>1e-35?lt=-.027274995074267547:e[14]>1e-35?lt=.016392245342055616:e[17]>1e-35?lt=.022509678093313362:e[28]>1e-35?lt=.025145343126000193:e[39]>1e-35?lt=-.02939647868188604:lt=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?lt=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?lt=.010736817315927911:lt=.02426980448005241:e[28]>1e-35?e[194]>1e-35?lt=-.3070569158934055:e[196]>1e-35?lt=-.5506885961570867:lt=-.033353293982668515:lt=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?lt=.02102370525016274:lt=.003409533559556135:e[204]>1e-35?lt=.08873962123163927:e[24]>1e-35?lt=.10555359938821945:e[28]>1e-35?lt=.09719645392539251:e[196]>1e-35?lt=.08224623369607056:lt=-.020134405544960793:lt=-.0015937623030202052;let oe;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?oe=-.0076758153562413375:e[18]>1e-35?oe=-.04295196457825341:e[51]>1e-35?oe=-.13248011320062422:oe=.008952360414023641:e[7]>.987306237235768?oe=.006439776900137331:oe=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?oe=.026757175255811883:oe=-.01062556784320532:e[2]>.8958797346140276?oe=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?oe=.039844832378913425:oe=-.06690456482695102:oe=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?oe=.03772632631184001:oe=-.28522617893050056:e[28]>1e-35?oe=-.060992612788434375:oe=.03341245674945403:oe=.051288950777861456:e[8]>1e-35?oe=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?oe=.009069204772381522:oe=-.004081394384581673:oe=-.03594060084257492:e[7]>.9216401592048815?oe=-.00442206228805168:oe=-.03576891499137606:e[55]>1e-35?oe=-.08223884312902127:e[57]>1e-35?oe=-.0742535346669798:e[149]>1e-35?oe=-.07940704728071792:e[39]>1e-35?oe=-.017161105634171125:e[49]>1e-35?oe=-.04763279499691125:e[139]>1e-35?oe=-.027192821855546695:e[10]>1e-35?oe=-.0036316338579956914:oe=.0026484338648234077;let Ne;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Ne=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Ne=-.027850707388722303:e[91]>1e-35?Ne=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Ne=.005596837686865309:Ne=-.0059429747278747225:Ne=.009524033665726878:Ne=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Ne=.032201880996274065:Ne=-.009587971174292791:e[2]>.8958797346140276?Ne=.02761965407835318:Ne=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Ne=.08220352701195494:Ne=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Ne=-.03126230621131264:Ne=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Ne=.018944713961164792:e[3]>1e-35?Ne=.06629929139668997:Ne=-.16790799717043633:e[192]>1e-35?Ne=-.3320398525405097:Ne=.009790162291004705:e[125]>1e-35?Ne=-.0996239956884951:Ne=.017982806591038288:e[25]>1e-35?Ne=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Ne=-.0027582177390145703:Ne=-.02047492290459601:e[17]>1e-35?Ne=.01622159988588393:e[7]>.5866799179067689?Ne=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Ne=-.00567335909535631:Ne=.0036605424249172938:e[7]>.085616240166877?Ne=-.00662352094724046:Ne=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let Ge;e[11]>1e-35?e[154]>1e-35?Ge=-.07640004589975245:e[153]>1e-35?Ge=-.027921183286970398:e[156]>1e-35?Ge=-.02508900369371103:e[47]>1e-35?Ge=-.09621039139423637:e[46]>1e-35?Ge=-.05890206826599292:Ge=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?Ge=-.02026563108381904:e[91]>1e-35?Ge=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?Ge=.044705853812635206:Ge=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?Ge=.01585670681557334:Ge=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?Ge=.01475544028693712:e[30]>1e-35?Ge=.10219265831102325:Ge=-.0567832116465987:e[154]>1e-35?Ge=-.04682869193620295:Ge=.0058147572533605784:e[123]>1e-35?Ge=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?Ge=.016472642951500794:Ge=-.10372235311156908:e[19]>1e-35?Ge=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?Ge=.021404525777064917:Ge=-.022090537029637168:Ge=.07927547222505857:e[129]>1e-35?Ge=-.0315112950229846:e[90]>1e-35?Ge=-.08016175793969123:e[60]>1e-35?Ge=-.044255594885932:e[150]>1e-35?Ge=-.0643645650066138:Ge=18071436579202054e-21:e[6]>6.132312266239896?Ge=.00017227075512669227:Ge=-.010904669702571911;let K;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?K=-.053460642910797676:K=.009652079082741289:K=-.0017676195976280011:e[134]>1e-35?K=.01746182064829904:e[32]>1e-35?K=.033149881191962445:e[138]>1e-35?K=.02149173543949675:e[37]>1e-35?K=.028519159270523897:e[152]>1e-35?K=.023352031441951773:e[217]>1e-35?K=.02290558132732214:K=-.01850975101703459:e[152]>1e-35?K=.010488854074509982:e[155]>1e-35?e[12]>1e-35?K=.027490522294963154:K=.002575743497494008:e[131]>1e-35?K=-.07138027268500055:e[57]>1e-35?K=-.06658662137088783:e[28]>1e-35?K=.015141080652315508:e[55]>1e-35?K=-.07156337757427284:e[204]>1e-35?K=.008085415901726045:e[99]>1e-35?e[1]>1e-35?K=.01803019280250009:K=-.012275416064615064:e[113]>1e-35?K=.007680714218522011:e[102]>1e-35?K=.01923593781092882:e[38]>1e-35?K=.00598208846998872:e[112]>1e-35?K=.00895148693111358:e[217]>1e-35?K=.004322676779141819:e[114]>1e-35?e[1]>1e-35?K=.019173900241286065:e[18]>1e-35?K=-.1302545616586715:K=-.012219608237225175:e[89]>1e-35?K=.019080595932083305:e[95]>1e-35?K=.009182530113836561:K=-.006531048204768366;let ne;e[2]>4.135134555718313?e[47]>1e-35?ne=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?ne=-.09672976728291365:e[217]>1e-35?ne=-.09138286775903748:e[114]>1e-35?ne=.034435801312936894:ne=.003550781249532139:e[56]>1e-35?ne=.06582022232543998:e[144]>1e-35?ne=-.08601101006110747:ne=-.006766914059699758:e[217]>1e-35?ne=.001822103802069182:ne=-.013646878234832634:e[8]>1e-35?ne=-.02495807137678248:e[1]>1e-35?ne=.009517017217557915:ne=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?ne=-.013180308369805589:e[51]>1e-35?ne=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?ne=.017032153502995334:ne=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?ne=.04713518460375107:ne=-.0016223104582873055:e[131]>1e-35?ne=-.07291331059881433:e[27]>1e-35?ne=-.015619378359486803:ne=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?ne=-.02945681137428643:ne=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?ne=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?ne=-.03142097937872678:ne=-.17253564001853064:e[5]>3.156774023138548?ne=-.004860170522962415:e[12]>1e-35?ne=-.04169370739781986:ne=.05886396855048806:ne=-.10415236736977414;let Fe;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Fe=-.07548370555339029:Fe=-.009060327134219393:e[21]>1e-35?Fe=-.02536204329245056:e[155]>1e-35?Fe=.01626198918750622:e[142]>1e-35?Fe=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Fe=-.0522966414357639:e[47]>1e-35?Fe=-.03867213359133592:e[149]>1e-35?Fe=-.10392339919606915:e[135]>1e-35?Fe=-.010541433982611018:e[51]>1e-35?Fe=-.06273170107556418:e[54]>1e-35?Fe=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Fe=.0022966362330231133:e[31]>1e-35?Fe=.19571528454816625:Fe=-.04919246049942885:e[50]>1e-35?Fe=-.06766114512966344:e[7]>.9793410316570949?Fe=.00837983401462093:Fe=.0007986280224776339:e[186]>1e-35?Fe=-.16446174535054356:e[62]>1e-35?Fe=.06508947502037822:Fe=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Fe=-.01589822136096899:e[125]>1e-35?Fe=-.025465846683560996:e[190]>1e-35?Fe=-.03671457167643481:e[91]>1e-35?Fe=-.03821691103237143:e[57]>1e-35?Fe=-.07502589184745939:e[50]>1e-35?Fe=-.05395522531288487:Fe=.005241788285288346:e[4]>3.1132683346437333?Fe=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Fe=.06608964318040904:Fe=-.012827641806975033:Fe=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Ue;e[39]>1e-35?Ue=-.019116728566000912:e[152]>1e-35?Ue=.011159312353677259:e[52]>1e-35?Ue=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Ue=-.02203060071288757:e[48]>1e-35?Ue=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Ue=-.026242020752538932:Ue=-.0026163734864036088:e[21]>1e-35?Ue=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Ue=-.07907862980413462:Ue=-.0024968534057976956:e[141]>1e-35?Ue=.01751368963010255:Ue=-.035334686232177996:e[3]>1e-35?Ue=-.049727650261844114:Ue=.06649006602788514:e[51]>1e-35?Ue=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Ue=.06794814379814933:Ue=-.033933057704283995:e[6]>8.681774988134558?Ue=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Ue=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Ue=.06547842372312768:Ue=.005706402727440608:e[89]>1e-35?Ue=.05238448470974841:Ue=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Ue=-.02994666941636212:Ue=.029175297065511276:e[139]>1e-35?Ue=-.03926804943552878:e[7]>.9626084674797213?Ue=.010270060885238803:e[6]>4.5379471377116305?Ue=.0051640733904868355:Ue=-.006326617548806485:e[3]>2.3502401828962087?Ue=-.001064039369711557:Ue=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let tt;e[14]>1e-35?e[134]>1e-35?tt=.03807815059641535:tt=.007895137847547357:e[39]>1e-35?tt=-.019172673927560828:e[138]>1e-35?tt=.009207480510332959:e[152]>1e-35?e[10]>1e-35?tt=.029310247627617716:tt=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?tt=.02869511059037871:e[137]>1e-35?tt=.048763707543632046:e[218]>1e-35?tt=.0393143924208134:tt=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?tt=.016047178137914484:e[35]>1e-35?tt=-.09486179869071369:e[118]>1e-35?tt=-.032706818831570415:e[0]>1e-35?tt=.004733859562945298:tt=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?tt=-.23804773582311067:tt=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?tt=-.013296404682101122:tt=-.14340192620927933:e[196]>1e-35?tt=-.17446678790111786:tt=-.01140535620661492:e[141]>1e-35?tt=-.03362328403627273:e[99]>1e-35?tt=.02082592497315901:e[196]>1e-35?tt=.02125156827172031:e[204]>1e-35?tt=.018738441981476887:e[194]>1e-35?tt=.022230335367621302:e[114]>1e-35?tt=.017460982004618885:e[210]>1e-35?e[11]>1e-35?tt=-.07421933796695453:tt=-.02600449772874995:e[62]>1e-35?tt=.0435295764572802:tt=-.0036358741919687645;let Ct;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?Ct=-.012866931871530748:e[47]>1e-35?Ct=-.06511122680099479:Ct=-.0033152297369715466:e[1]>1e-35?Ct=.00634942519508748:Ct=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?Ct=-.06214080664476329:Ct=.037029947625630194:e[47]>1e-35?Ct=-.08203414630098728:Ct=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?Ct=.012452689013210465:Ct=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?Ct=.02888624440861723:Ct=-.0026872248277927456:e[27]>1e-35?Ct=-.01471521834054285:e[21]>1e-35?Ct=-.014970363019863132:e[13]>1e-35?Ct=-.0057151868439017945:e[38]>1e-35?Ct=.01633003881478886:Ct=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?Ct=.006600693642185256:e[6]>3.1984648276080736?Ct=.07576534772024612:Ct=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?Ct=.01266221511189265:e[29]>1e-35?Ct=-.20167612409830682:Ct=.09361829582187109:Ct=.0016303497789744046:e[6]>4.310776603370241?Ct=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?Ct=-.05054316446311788:Ct=.06528096075929847:e[29]>1e-35?Ct=.07763431964140277:Ct=-.017239135292908336:Ct=-.011068823413100247;let Pt;e[91]>1e-35?Pt=-.03524202222673902:e[55]>1e-35?Pt=-.07505808762820981:e[47]>1e-35?Pt=-.026314216162986376:e[49]>1e-35?Pt=-.045488810456426665:e[54]>1e-35?Pt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Pt=-.03267263134559766:e[46]>1e-35?Pt=-.049285436356671077:e[51]>1e-35?Pt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Pt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Pt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Pt=-.08387877475105178:Pt=.014404401501386124:Pt=.004694473365260974:Pt=-.0001897538693116325:Pt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Pt=-.0007153953072197825:Pt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Pt=-.06966241558514917:e[4]>4.82429765145367?Pt=-.05703428861212874:Pt=-.007549683006633188:e[3]>1.2424533248940002?Pt=-.05340556429257431:Pt=.0524214727387076:e[22]>1e-35?Pt=-.012756524179901607:e[186]>1e-35?Pt=-.06578146880564559:e[208]>1e-35?Pt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Pt=-.05051984734793551:e[3]>1.2424533248940002?Pt=-.0002576217567062796:e[134]>1e-35?Pt=-.07452351335236179:Pt=-.010366062496356129:e[94]>1e-35?Pt=-.04206673603732986:Pt=.0017654268359667174;let yt;e[2]>2.3502401828962087?e[28]>1e-35?yt=.018743416209068924:e[142]>1e-35?yt=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?yt=-.039485087567133176:e[48]>1e-35?yt=-.04707407726639779:e[49]>1e-35?yt=-.0644727439161007:e[47]>1e-35?yt=-.03586301268310228:e[52]>1e-35?yt=-.08213761833929575:e[60]>1e-35?yt=-.036939376764301805:e[22]>1e-35?yt=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?yt=.03651632275248908:yt=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?yt=.17011943799802248:yt=-.024083374989820074:e[147]>1e-35?yt=-.05792387046048145:e[39]>1e-35?yt=-.019000152117179:e[54]>1e-35?yt=-.09256681585621543:e[50]>1e-35?yt=-.06535283940797192:e[187]>1e-35?yt=-.023020538580498528:e[149]>1e-35?yt=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?yt=.0007122257672540384:yt=-.024203929126070334:e[55]>1e-35?yt=-.10687519344783902:e[21]>1e-35?yt=-.019836359134795922:yt=.0028141634686288143:e[153]>1e-35?yt=-.044827592367532504:yt=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?yt=.060584003745668275:yt=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?yt=-.021624709427283298:yt=.0035264081894521636:yt=-.0030260520850755417;let Kt;e[57]>1e-35?Kt=-.06665941268716478:e[2]>5.4049245766661995?Kt=-.0048763725607228565:e[17]>1e-35?Kt=.012937023835595996:e[91]>1e-35?Kt=-.032642493399923284:e[40]>1e-35?Kt=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Kt=-.030555708374197955:Kt=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Kt=.016029829045206837:e[114]>1e-35?Kt=.017475123428921584:e[139]>1e-35?Kt=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Kt=.015395913258454092:Kt=-.024779051599098958:e[90]>1e-35?Kt=-.09436512907953146:e[25]>1e-35?Kt=-.0385103760507401:e[113]>1e-35?Kt=.014955995782471:e[208]>1e-35?Kt=.01363101947809469:Kt=.0004708078358576994:e[29]>1e-35?Kt=-.02567148566035587:e[217]>1e-35?Kt=.017896286118860596:e[118]>1e-35?Kt=-.04366196842115269:e[144]>1e-35?Kt=-.04332564222613586:e[54]>1e-35?Kt=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Kt=-.12797365603832508:Kt=.05407709367007049:e[56]>1e-35?Kt=.030874690971051524:e[148]>1e-35?Kt=-.06664437092250396:e[50]>1e-35?Kt=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Kt=-.12348764088627251:Kt=-.014081947133593207:e[147]>1e-35?Kt=-.044629298717173554:Kt=-.000742893245658901;let Xt;e[138]>1e-35?Xt=.008266725465725232:e[1]>1e-35?e[37]>1e-35?Xt=-.06288072801700428:e[114]>1e-35?Xt=.01701875404216428:e[128]>1e-35?Xt=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?Xt=.08078133512323216:Xt=.010126216487392538:e[11]>1e-35?e[58]>1e-35?Xt=-.0542116306120395:Xt=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?Xt=.02107443326718807:Xt=-.01069225359959257:Xt=.0009105709984003484:e[218]>1e-35?Xt=.05160355321154702:e[134]>1e-35?Xt=.006114948378400552:e[121]>1e-35?Xt=.016106484014031797:e[89]>1e-35?Xt=.01912348851711998:e[56]>1e-35?Xt=.029777849606436514:e[157]>1e-35?Xt=.04060172642469715:e[31]>1e-35?Xt=.040190765597096945:e[115]>1e-35?Xt=.038285461163007885:e[144]>1e-35?Xt=-.04397941351839926:e[53]>1e-35?Xt=-.09153555712989248:e[34]>1e-35?Xt=.05063635650139542:e[145]>1e-35?Xt=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?Xt=.050915836711889595:Xt=-.038668153033606156:e[142]>1e-35?Xt=-.03161888799270195:e[21]>1e-35?Xt=-.039152400008548416:e[147]>1e-35?Xt=-.06369054146375448:e[146]>1e-35?Xt=-.06687062048733548:e[143]>1e-35?Xt=-.0374398909044375:Xt=-.004075281311375503;let ar;e[19]>1e-35?ar=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?ar=.031458353209402545:ar=.006712963530887799:e[135]>1e-35?ar=-.008268741342836259:e[60]>1e-35?ar=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?ar=.001164103411669833:e[8]>1e-35?ar=-.04419920795209664:ar=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?ar=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?ar=-.10156793652811894:ar=-.004200534838133274:e[18]>1e-35?ar=-.01192673279840267:ar=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?ar=-.0032059430383565256:ar=.05159315082197918:e[8]>1e-35?ar=-.0890031715943104:e[22]>1e-35?ar=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?ar=.1021284677424052:ar=-.13655977142603173:ar=.09393254504800182:ar=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?ar=.028570793527563892:ar=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?ar=-.04344386283066575:ar=.049543778722220704:e[47]>1e-35?ar=-.025602694767462936:ar=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?ar=-.018924000087166926:ar=.005374758944061522:e[14]>1e-35?ar=.02825013192303339:ar=-.028367959366723622;let ge;e[190]>1e-35?ge=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?ge=-.030965448877928344:e[150]>1e-35?ge=-.05353588365501967:e[53]>1e-35?ge=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?ge=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?ge=-.00508197369229565:e[4]>3.5694334999727624?ge=-.09566908841488272:ge=-.009799018561370653:e[29]>1e-35?ge=.01134634874419129:ge=-.008480456528154491:ge=-.010775036248093376:ge=.006611525544742429:e[23]>1e-35?ge=.01761735039511882:e[19]>1e-35?ge=.01278442042249664:ge=-.0002242132003162585:e[186]>1e-35?ge=-.1282956565830828:e[99]>1e-35?ge=.018493666625505303:e[141]>1e-35?ge=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?ge=.010089877008871859:e[7]>.9569480028661056?ge=-.0021891593882122327:ge=-.019455050281455402:e[7]>.960816451500545?ge=-.13777176433158442:ge=.02722608122697913:e[28]>1e-35?e[194]>1e-35?ge=.09549833737461155:ge=.012447932823540411:e[129]>1e-35?e[26]>1e-35?ge=.147381625399948:ge=-.03418523266130075:e[7]>.26911173821332884?ge=.0014660191124088442:e[217]>1e-35?ge=-.08282397562490618:e[210]>1e-35?ge=-.0386848317545183:ge=-.001892646396528824;let Me;e[57]>1e-35?Me=-.059790543460520464:e[55]>1e-35?Me=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Me=-.054605342954169904:Me=-.006343751747681404:e[17]>1e-35?Me=.011961708215735271:e[40]>1e-35?Me=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Me=-.026498922218692673:Me=.10501477027016158:e[6]>4.03420147928485?Me=.012792216148037112:e[7]>.9830997303909479?Me=-.2271005546552327:Me=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Me=-.004842123367456505:Me=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Me=.032397176999597294:Me=-.0033271937210452387:e[204]>1e-35?Me=.02154799118278769:Me=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Me=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Me=-.21161676626091178:e[127]>1e-35?Me=-.4024450297968636:Me=-.030976570087232314:Me=.0031980605341801454:Me=.07943810970798848:e[135]>1e-35?Me=-.00869354055420051:e[123]>1e-35?Me=-.022241787113206086:e[62]>1e-35?Me=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Me=-.013433718654288605:e[155]>1e-35?Me=.00919342834132915:Me=-.0002729025327531227:Me=-.012537468897218136:Me=-.07894994665155514;let Je;e[4]>.8958797346140276?e[14]>1e-35?Je=.007800140351631253:e[138]>1e-35?Je=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Je=.09462192942805535:Je=-.06376046128949985:e[37]>1e-35?Je=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Je=-.09261012186873348:Je=-.015294712278584928:e[98]>1e-35?Je=.019329173498247088:e[58]>1e-35?Je=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Je=6125118307170923e-20:Je=-.009497787119169794:e[40]>1e-35?Je=-.05491317248554455:e[7]>.30853255358841714?Je=.003951848833690266:Je=-.0021827028977256715:e[219]>1e-35?Je=-.03918852409108207:e[98]>1e-35?Je=-.025490621458423603:e[218]>1e-35?Je=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Je=.019288400231624092:e[132]>1e-35?Je=.04845025214421127:e[157]>1e-35?Je=.03681235344369351:e[18]>1e-35?Je=-.034132162265456074:e[48]>1e-35?Je=-.04861483835690636:e[142]>1e-35?Je=-.031057400959951156:e[148]>1e-35?Je=-.06903688486009983:Je=-.004426858558248682:e[31]>1e-35?Je=.06983425899920179:Je=.002335587968443938:e[19]>1e-35?Je=.04178364096434334:e[123]>1e-35?Je=.03954255208630935:e[62]>1e-35?Je=.07169067239737285:Je=-.022094630155173406;let rt;e[190]>1e-35?rt=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?rt=-.052080713549693486:rt=.015237248725743169:e[49]>1e-35?rt=-.05738028956460733:e[28]>1e-35?rt=.015629889576502864:e[14]>1e-35?rt=.007178838639724632:e[217]>1e-35?rt=.006873744757442591:e[3]>.8958797346140276?rt=-.0009297977761919447:e[4]>2.740319461670996?rt=-.0032588616048005344:e[209]>1e-35?rt=-.09352716353634213:rt=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?rt=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?rt=.011687619771455333:rt=-.014380012538782239:rt=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?rt=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?rt=.03291298609827498:rt=.056149641245301286:e[6]>5.66469358412419?rt=.03259771207074825:rt=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?rt=-.061655392996083594:rt=-.32745698278768204:rt=.05791789791717941:rt=-.018505458368810124:e[2]>1.2424533248940002?rt=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?rt=-.039544237504098204:rt=-.00840469876565937:e[138]>1e-35?rt=-.03964217397514852:rt=-4311139741723525e-22:e[5]>6.136645972583987?rt=-.022772355719852342:rt=.00817231129409795;let Rt;e[91]>1e-35?Rt=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?Rt=-.07374751231467579:Rt=-.012603466600012023:Rt=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?Rt=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?Rt=-.021752576521312197:e[142]>1e-35?Rt=-.03703704004008216:e[21]>1e-35?Rt=-.031901873695323615:Rt=.0007949433315561949:e[156]>1e-35?Rt=.04622194605125366:Rt=.007164185384903575:e[156]>1e-35?Rt=.05649230717257425:e[192]>1e-35?Rt=-.14560972428612223:e[144]>1e-35?Rt=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?Rt=.009443385055723438:e[9]>1e-35?Rt=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?Rt=.03566002120217884:e[125]>1e-35?Rt=-.08601531943220733:e[28]>1e-35?Rt=-.07136595081940608:Rt=.005430826378707227:Rt=.026279964393698674:e[2]>.8958797346140276?Rt=.025916235406054845:Rt=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?Rt=-.018458649485324576:e[123]>1e-35?Rt=-.027048533130577097:e[9]>1e-35?Rt=.005768627348361876:Rt=.0011976274380886302:e[196]>1e-35?Rt=.024074476840894424:Rt=-.0040891042038809855:e[156]>1e-35?Rt=-.03722816735059365:Rt=-.004021663177778795;let bt;e[57]>1e-35?bt=-.054174378986311306:e[55]>1e-35?bt=-.05937408126377534:e[35]>1e-35?bt=-.06355743050048665:e[52]>1e-35?bt=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?bt=.023779508772836917:e[217]>1e-35?bt=.00760039749111183:bt=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?bt=-.03899686693288482:e[53]>1e-35?bt=-.06158372699069763:e[19]>1e-35?bt=.009506113370718208:e[154]>1e-35?bt=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?bt=.12643307498280917:bt=-.02322694568396696:e[49]>1e-35?bt=-.03489161935560748:e[173]>1e-35?bt=-.041310484369004336:e[116]>1e-35?bt=-.026931019221510855:e[150]>1e-35?bt=-.04336081700276943:e[46]>1e-35?bt=-.01503021840754708:e[21]>1e-35?bt=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?bt=.029035482597327224:bt=-.020238143126606493:e[22]>1e-35?bt=-.0092659038594408:e[6]>8.954867306462836?bt=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?bt=.025059955137215612:bt=-.058962720741665454:bt=4061285457160542e-20:e[7]>.787025207541384?bt=.0045073893285534905:e[156]>1e-35?bt=-.00956127321029558:e[153]>1e-35?bt=-.006428735642845697:bt=.0020065887307204903:bt=-.07142994726664682;let Mt;e[190]>1e-35?Mt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Mt=-.019448665116575673:e[46]>1e-35?Mt=-.046207503035123526:e[143]>1e-35?Mt=-.060693025841649276:e[125]>1e-35?Mt=-.0635615784828548:Mt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Mt=.021657999498329004:e[217]>1e-35?Mt=.006867901248533881:e[186]>1e-35?Mt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Mt=-.06860813037660739:Mt=-.0030373931794416857:e[153]>1e-35?Mt=-.036659407900460406:Mt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Mt=.022488528656368925:Mt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Mt=-.0923825728762917:Mt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Mt=-.02015430689927317:Mt=-.0014075476679032272:e[21]>1e-35?Mt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Mt=-.11613127921904604:Mt=-.004425492436566155:e[61]>1e-35?Mt=-.04761391619756717:e[38]>1e-35?Mt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Mt=-.03936956646884221:Mt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Mt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Mt=-.026128288926960785:Mt=.01402455905339408:Mt=-.018095204676971146:Mt=.002238241111198228;let Ot;e[3]>4.993822430271426?Ot=-.021704560089024494:e[39]>1e-35?Ot=-.012978601337522922:e[57]>1e-35?Ot=-.04850734344953324:e[190]>1e-35?Ot=-.02323817835232452:e[55]>1e-35?Ot=-.054265924680079236:e[144]>1e-35?Ot=-.020797331827991154:e[52]>1e-35?Ot=-.04407078296749134:e[50]>1e-35?Ot=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Ot=-.02603818360896512:Ot=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Ot=.010289606334961197:Ot=-.10259966877314837:e[139]>1e-35?Ot=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Ot=.027295226228104732:e[38]>1e-35?Ot=.036847447575421244:e[3]>2.861792550976191?Ot=-.016454620470329126:Ot=.010475083165212631:e[19]>1e-35?Ot=.008675111927467:e[40]>1e-35?Ot=-.036362054443170776:e[9]>1e-35?Ot=.0031294075955568394:e[123]>1e-35?Ot=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Ot=-.005045224468848018:e[3]>2.3502401828962087?Ot=.1006727710215487:Ot=-.21606952724358763:e[209]>1e-35?Ot=-.07903381656359819:Ot=.0099843967860757:e[28]>1e-35?Ot=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Ot=.04961274235179155:Ot=.005113567009198253:e[158]>1e-35?Ot=.031566828492110836:Ot=-.0012534895812835874;let _t;e[4]>2.4414009612931857?e[123]>1e-35?_t=-.022743199998420272:e[47]>1e-35?_t=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?_t=.015256601991879549:e[23]>1e-35?_t=.01997791344831838:e[97]>1e-35?_t=.024977281654938052:e[218]>1e-35?_t=.031730655567930977:e[32]>1e-35?e[1]>1e-35?_t=-.05855958691798028:_t=-.009630189044251312:e[195]>1e-35?_t=-.009842090802252708:e[125]>1e-35?_t=-.030084333742373532:_t=-.0009935375527704107:e[135]>1e-35?_t=-.006040875366017567:e[43]>1e-35?_t=-.03616920022546756:e[44]>1e-35?_t=-.014787601622259254:e[0]>1e-35?_t=.005949240867095038:_t=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?_t=-.030610116678182732:_t=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?_t=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?_t=.0927536258129216:_t=.00806369969474508:e[198]>1e-35?_t=.03402296877725087:_t=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?_t=-.16957712930341856:e[28]>1e-35?_t=-.2078243840685859:_t=-.01982072284112783:e[134]>1e-35?_t=-.059093837808976674:e[155]>1e-35?_t=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?_t=.04159085402090426:_t=-.0053579302271092874:_t=-.038428527597709254;let kt;e[2]>2.249904835165133?e[53]>1e-35?kt=-.09149569302330776:e[142]>1e-35?kt=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?kt=-.005838073295705989:kt=.0025448179376697196:e[217]>1e-35?kt=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?kt=.00016709708501075782:kt=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?kt=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?kt=-.12592300140122323:kt=-1.2073741246841418:kt=-.17682453022795175:kt=-.004373737265888883:kt=-.032810714691009164:e[18]>1e-35?kt=-.024280045660709612:e[156]>1e-35?kt=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?kt=-.032438707623116556:e[32]>1e-35?kt=-.061272201063817755:kt=.004415514992097752:kt=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?kt=.008680085548304642:e[29]>1e-35?kt=.03767506445697859:kt=-.0007537359215762705:e[4]>.8958797346140276?kt=.0002799056937607271:kt=-.039667032027283916:e[2]>1.2424533248940002?kt=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?kt=.0027367426972748597:kt=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?kt=-.03496264625173957:kt=-.007705718616493613:e[138]>1e-35?kt=-.035840689909527164:kt=.0006855012949462712;let St;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?St=-.024776046248283234:St=-.004761578172448051:e[8]>1e-35?St=-.025343070913887773:St=.012224469039913016:e[150]>1e-35?St=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?St=.019743419118584654:e[186]>1e-35?St=-.15575093795294756:e[217]>1e-35?St=.0056968023991711995:St=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?St=-.01597803134795572:e[151]>1e-35?St=-.05058454115923059:e[50]>1e-35?St=-.03619853041443809:e[49]>1e-35?St=-.03261722685392842:e[24]>1e-35?St=.011909155984778505:e[2]>2.012675845367575?St=.0004933624031973823:e[219]>1e-35?St=.015579421213152617:St=.002812703494519415:e[113]>1e-35?e[24]>1e-35?St=.09675188599473092:St=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?St=.02609533140492082:e[29]>1e-35?St=-.21256031284758028:St=.09442590919716193:St=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?St=-.011071875945121415:e[209]>1e-35?St=-.19367443751378252:St=-.04414838576908475:e[178]>1e-35?St=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?St=-.01294941588968201:e[5]>2.673553765358735?St=.08150000027300734:St=-.08989919051554107:St=-.0032151101072856354;let qt;e[35]>1e-35?qt=-.05704221149718709:e[91]>1e-35?qt=-.023832002943165256:e[102]>1e-35?qt=.015441451551750014:e[3]>4.993822430271426?qt=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?qt=-.022873219553742163:e[22]>1e-35?qt=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?qt=.07657102696661595:qt=-.0243921910773003:e[150]>1e-35?qt=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?qt=-.03740348349716821:qt=.008237493112057112:e[49]>1e-35?qt=-.03254806921800082:e[53]>1e-35?qt=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?qt=-.04084726667137505:e[155]>1e-35?qt=.0323666619020495:qt=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?qt=-.0975422096275863:qt=-.014038224866250074:e[136]>1e-35?qt=-.03199938604211209:qt=.0014268928516615767:e[99]>1e-35?qt=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?qt=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?qt=-.047112416583853595:qt=.00900546030963941:e[208]>1e-35?qt=.02334424121914086:e[158]>1e-35?qt=.04595592178250823:qt=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?qt=.009489783712825852:e[3]>2.249904835165133?qt=.09999429949553015:qt=-.03961464289941561:qt=-.001190853283470586;let $t;e[39]>1e-35?$t=-.011391872842603505:e[190]>1e-35?$t=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?$t=.08723256651643213:$t=-.04233732133209843:e[19]>1e-35?$t=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?$t=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?$t=.019990677612126993:$t=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?$t=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?$t=.04230611914121616:$t=-.1152833284663223:$t=.03987788751961305:$t=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?$t=.047655531405650486:$t=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?$t=.1425984397283696:e[143]>1e-35?$t=.05597721538261218:$t=-.02117927246804007:$t=.011077153043550766:e[143]>1e-35?$t=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?$t=.02515771028113912:$t=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?$t=.014623537050735559:$t=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?$t=.021421346835282216:$t=-.03287702034784505:e[16]>1e-35?$t=.008645735809593434:e[3]>4.993822430271426?$t=-.01889537207927676:$t=.00131546333396141:e[153]>1e-35?$t=-.09822789507794744:$t=-.010292962989428067;let Zt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?Zt=-.009153166060719259:Zt=-.035386636811765286:e[58]>1e-35?Zt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?Zt=-.01286680669029116:Zt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?Zt=-.03084033316462023:Zt=-.00517175216868761:e[195]>1e-35?Zt=.01773824295809578:e[131]>1e-35?Zt=-.17828043850421407:Zt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?Zt=-.018589129226123456:e[116]>1e-35?Zt=-.0227108777687536:e[24]>1e-35?Zt=.009520152980411787:e[135]>1e-35?Zt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?Zt=-.015737703364129243:Zt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?Zt=.04655165952772795:Zt=.009321761971665682:e[210]>1e-35?Zt=.018839890489201528:e[129]>1e-35?Zt=-.03111680952187252:Zt=.0002649813454447912:e[23]>1e-35?Zt=.014110539528977999:e[109]>1e-35?Zt=.014168740682742625:Zt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?Zt=-.004252607769147212:Zt=.02017003996344357:e[16]>1e-35?Zt=.01594899805169211:Zt=-.006372071796745688:e[12]>1e-35?Zt=-.0251011457777017:e[121]>1e-35?Zt=-.07822588279288774:Zt=-.005026529762858;let fr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?fr=.014982109981371684:fr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?fr=-.02862612402789537:fr=-.0004831913476108919:e[42]>1e-35?fr=-.08030278175390543:e[90]>1e-35?fr=-.11931838045625616:fr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?fr=-.03347653784336098:fr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?fr=.04078434374172937:e[130]>1e-35?fr=.04811471469938318:e[152]>1e-35?fr=.012079515899716571:e[23]>1e-35?fr=.017817807971301534:e[122]>1e-35?fr=.049338146544587284:e[115]>1e-35?fr=.026905923036994708:e[10]>1e-35?fr=-.008135082370740723:e[89]>1e-35?fr=.023584069012120446:e[95]>1e-35?fr=.013988944683250695:fr=-.002584756192745314:e[139]>1e-35?fr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?fr=.010620580427538877:fr=.047779724434429495:e[131]>1e-35?fr=-.08155143867377633:fr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?fr=.016956254821045937:e[90]>1e-35?fr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?fr=-.040607887814632475:fr=-.006287900824728332:fr=-.0018997472673294537:e[14]>1e-35?fr=.02358706984105576:fr=-.01737075534918072;let xr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?xr=-.007517267159018327:xr=-.02379463821120899:xr=-.0026543290628044274:e[8]>1e-35?xr=-.022865480180725452:xr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?xr=.0021573820428423146:xr=-.0046125093600082965:e[3]>3.314020688089767?xr=-.005566488595229649:e[6]>6.288787065535392?xr=.012796965207082116:xr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?xr=-.0003832411399288501:e[1]>1e-35?xr=-.03148874544425103:xr=-.3158553329522586:e[2]>1e-35?xr=.025981575700247922:xr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?xr=-.0005280655103032829:xr=-.009402467452152188:e[2]>.8958797346140276?xr=.0018798828715775142:e[3]>1.7005986908310777?xr=-.0002583719758369029:xr=-.014467497542301198:e[128]>1e-35?xr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?xr=-.03107874404542307:xr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?xr=.10168122236339333:xr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?xr=-.019182725682091863:e[3]>1.2424533248940002?xr=.10007959215270637:xr=-.049901874168813753:e[12]>1e-35?xr=-.008354674563617942:xr=.000556773623388255:xr=-.06338083699889271;let cr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?cr=-.03452197748259044:e[141]>1e-35?cr=-.05526745933972476:cr=.003096257901065188:cr=.013468654879205778:e[90]>1e-35?cr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?cr=-.011427282692256308:e[188]>1e-35?cr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?cr=.009014346731620665:cr=-.10784986305366669:e[102]>1e-35?cr=.014356846380168074:e[109]>1e-35?cr=.0100955463134877:e[31]>1e-35?cr=.025672511171270042:e[127]>1e-35?cr=-.10904631172619624:e[19]>1e-35?cr=.007015456473363717:e[60]>1e-35?cr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?cr=.02334115299069277:e[1]>1e-35?cr=-29013080593250377e-21:cr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?cr=-.06673983904970003:e[37]>1e-35?cr=-.05636396687178933:e[32]>1e-35?cr=-.042854874962508754:e[140]>1e-35?cr=-.014546243613252019:e[119]>1e-35?cr=.02592806792359847:cr=.0008331579108247542:e[12]>1e-35?cr=.004348565717870661:e[195]>1e-35?cr=-.016064193157584304:e[210]>1e-35?cr=-.01896835246692864:e[122]>1e-35?cr=.06415669138405272:e[219]>1e-35?cr=-.03191239858069586:cr=-.0022170295258555585:cr=-.00965022020696389;let mr;e[55]>1e-35?mr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?mr=-.04814595674860986:e[173]>1e-35?mr=-.030965289355370126:e[190]>1e-35?mr=-.01892908615035444:e[50]>1e-35?mr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?mr=.029102388421738776:e[217]>1e-35?mr=-.021829759931582565:mr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?mr=.007482519637019732:e[28]>1e-35?mr=.08823476156200263:mr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?mr=.037573808092493166:mr=-.008120569804875069:mr=.015185866424900767:mr=-.10150107137017012:e[39]>1e-35?mr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?mr=-.019406534412652932:e[22]>1e-35?mr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?mr=.007977856608752276:mr=-.038946271309380914:mr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?mr=-.06484570063989317:mr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?mr=.036329398743295674:mr=-.20474934656494398:e[4]>1.7005986908310777?mr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?mr=.03322386202318951:mr=-.01687696637036405:mr=-.10533305728771972:mr=-.0004901077590279651:mr=-.05758869249681345;let nr;e[57]>1e-35?nr=-.043478488738181505:e[53]>1e-35?nr=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?nr=-.01733439245316815:e[58]>1e-35?nr=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?nr=-.02641618586067251:nr=.0053883499998111746:nr=-.04111067521339709:e[46]>1e-35?nr=-.03960880739147387:e[56]>1e-35?nr=.02833430038101972:e[3]>4.548585836935273?nr=-.028156779064728323:nr=-.0006287807275955149:e[105]>1e-35?nr=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?nr=.021938681282791916:nr=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?nr=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?nr=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?nr=.09345774314045512:nr=-.003460687191126055:nr=.009778848673591349:nr=.006207652194161698:e[134]>1e-35?e[14]>1e-35?nr=.026940863472122597:nr=.004032635910042969:e[16]>1e-35?e[156]>1e-35?nr=-.014571620220052964:e[219]>1e-35?nr=.03394257525872151:e[189]>1e-35?nr=-.16441255476933125:nr=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?nr=-.002374233797129139:nr=.015343494638416642:nr=.0007085956801478842:nr=-.0014226167854637043:nr=-.014931890774210171;let hr;e[52]>1e-35?hr=-.040552145534119004:e[88]>1e-35?hr=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?hr=.08405882357263977:hr=-.028120036866471673:e[89]>1e-35?hr=.013417411709807947:e[138]>1e-35?e[25]>1e-35?hr=-.03104795267483152:e[8]>1e-35?hr=-.013793892541819341:hr=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?hr=-.04169781427571004:e[59]>1e-35?hr=.039366779099462186:e[190]>1e-35?hr=-.0746572875957972:hr=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?hr=-.015043885860062665:hr=.04427790295514171:e[127]>1e-35?hr=-.09222397003880911:e[188]>1e-35?hr=-.11791399942046604:e[116]>1e-35?hr=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?hr=-.08590814127371893:hr=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?hr=-.010834658570263708:hr=-.06942979142484561:e[59]>1e-35?hr=-.0368654965105411:e[186]>1e-35?hr=-.13585047638050318:hr=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?hr=-.07021793045868131:e[58]>1e-35?hr=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?hr=-.000719771928860618:hr=-.02550581685370434:hr=-.001300530189452872:e[216]>1e-35?hr=-.04553949138490546:hr=.0013445292966782988;let Ie;e[152]>1e-35?Ie=.005642349825665321:e[108]>1e-35?e[1]>1e-35?Ie=.012759171568581189:Ie=-.0015650437871311187:e[102]>1e-35?Ie=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?Ie=.007453521083396632:Ie=-.0036225862281260785:e[3]>.8958797346140276?Ie=-.0027177080775155366:e[5]>5.782284349061034?Ie=-.04454373321655838:Ie=.021964247026786614:e[11]>1e-35?e[47]>1e-35?Ie=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?Ie=-.06122312462911518:e[7]>.3847172300624272?Ie=.03518239795956787:e[3]>2.4414009612931857?Ie=.006811972713764457:Ie=-.0933556055347465:e[5]>4.938058177869999?Ie=-.004012086267764631:Ie=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?Ie=-.012304580143719986:Ie=.0013650712455989071:e[3]>2.802901033147999?Ie=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?Ie=.06211865200552023:e[17]>1e-35?Ie=.06775644666502018:Ie=-.06866304616688222:e[217]>1e-35?Ie=.059656960273077646:Ie=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?Ie=.006371564018556469:e[3]>2.138333059508028?Ie=.09486061534469152:Ie=-.09409330595635478:e[4]>2.602003343538398?Ie=.011308844028341723:e[100]>1e-35?Ie=.0439316487073224:Ie=-.003403233436702135:Ie=-.00960652384005499;let O;e[144]>1e-35?e[18]>1e-35?O=.07197995497453837:e[1]>1e-35?O=-.001274320993832369:O=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?O=.09098124993319018:O=-.04537404774072243:e[40]>1e-35?O=-.02515534903180516:e[53]>1e-35?O=-.04736675675905027:e[178]>1e-35?O=-.021374380471858013:e[55]>1e-35?O=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?O=.07999652271774131:O=-.036649228565504045:e[109]>1e-35?O=.009067075019741765:e[54]>1e-35?e[1]>1e-35?O=.019160818735605257:O=-.05967997790089002:e[35]>1e-35?O=-.043420689526233285:e[173]>1e-35?O=-.027561163630755333:e[190]>1e-35?O=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?O=-.019735056448517897:e[141]>1e-35?O=-.028090004807030017:O=.006865378253320941:e[139]>1e-35?e[1]>1e-35?O=-.032389864623829076:O=.005458607214221278:e[60]>1e-35?O=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?O=.015189336996079859:e[19]>1e-35?O=.013745154147527805:e[1]>1e-35?O=-.005284271350108698:O=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?O=-.0595395395199616:e[100]>1e-35?O=-.09991342902311327:O=-.0042488091801234805:O=.0006682804828197052;let de;e[46]>1e-35?de=-.012191380765172536:e[88]>1e-35?de=-.10266216005056819:e[91]>1e-35?de=-.018445844031974568:e[50]>1e-35?de=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?de=.03614842925379388:de=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?de=-.01053451990903616:de=-.05114195197878968:e[16]>1e-35?de=.007316468830803533:e[9]>1e-35?de=.003316750172048933:de=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?de=-.02547358042212171:de=.019472890771357998:e[186]>1e-35?de=-.09288424685816356:e[41]>1e-35?de=-.1310231930206974:e[42]>1e-35?de=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?de=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?de=-.16815706432319097:de=-.002818043413853223:de=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?de=.10052885656939581:de=-.11599835225683999:de=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?de=-.06576516230122952:de=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?de=.013062456952379193:e[7]>.7267616382562012?de=.0022613700798703854:de=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?de=.008501036224046256:de=-.06542467236134167:de=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let J;e[6]>9.286096980078398?e[4]>2.970085626360216?J=-.001155963563974424:J=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?J=-.0033183579364470086:e[11]>1e-35?J=-.0018887492076874403:e[169]>1e-35?J=-.09486398911649394:J=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?J=.012137569190879735:J=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?J=-.020817404206469048:J=-.06464699261956137:J=-.008121005894366425:J=-.002273798477153842:e[4]>3.5114340430413216?J=-.024199637055494112:J=-.0044500308011184275:e[12]>1e-35?J=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?J=.0013628724281773107:J=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?J=-.15445392240959782:e[2]>2.970085626360216?J=-.5683130345409004:J=-1.2639522532467855:J=-.12861577169349267:J=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?J=.003881870206848933:J=.01474849027472377:e[18]>1e-35?e[219]>1e-35?J=-.07387984252991263:J=-.013089382916580447:J=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?J=.019943967048858428:J=-.04278248600927625:e[17]>1e-35?J=-.11809979934412335:J=.03777084692378827;let F;e[57]>1e-35?F=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?F=-.010152097691926694:F=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?F=.016965184252348844:F=-.027524673351863413:F=-.09999982742666325:e[219]>1e-35?F=-.11642840619184194:e[6]>3.1984648276080736?F=.02202934385365115:F=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?F=.03529859841404316:F=-.005442656204983076:F=.013832633319757828:F=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?F=.020780509349314687:F=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?F=-.012751356404573045:F=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?F=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?F=-.019342018507399077:F=.04336755184633714:e[52]>1e-35?F=-.034601279556920723:e[53]>1e-35?F=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?F=-.009909029766665835:e[88]>1e-35?F=-.13759996623650647:F=.0010774168904012999:e[90]>1e-35?F=-.09942790916464699:e[5]>8.17933999189099?F=-.006237804261380787:e[154]>1e-35?F=-.02869365685254793:e[41]>1e-35?F=-.11951308633255478:F=.0005720279396045617:F=-.05091927304878396;let Te;e[2]>8.18910569469239?Te=-.011281718118735835:e[2]>8.136957041085973?Te=.007639929297282146:e[2]>6.178980383851587?Te=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Te=-.026657037414316055:Te=.03822052894720058:e[89]>1e-35?Te=.01442240494610187:Te=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Te=-.04157937378268839:e[25]>1e-35?Te=-.07438346384769444:Te=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Te=.10208422768618285:Te=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Te=-.18081467351794253:Te=.06403272706376394:Te=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Te=-.034372452343283254:e[3]>1.2424533248940002?Te=.10087241747333926:Te=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Te=.02872327658284419:Te=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Te=-.02165149142042258:e[3]>2.249904835165133?Te=.011522668417532612:Te=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Te=.018894357520732635:Te=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Te=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Te=-.16834554324370338:Te=.08799302490518951:Te=.007907573815540844:e[17]>1e-35?Te=-.07843101628051594:Te=.04322926522720053;let Oe;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Oe=6536595256810364e-20:e[153]>1e-35?Oe=-.07687008855803332:Oe=-.015088524832702519:e[18]>1e-35?Oe=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Oe=-.004574660978375117:Oe=.02566519458840368:Oe=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Oe=.04675774128546983:Oe=-.16922871147253024:e[5]>5.821564412917691?Oe=.017788548280824237:Oe=.101599048954043:e[5]>4.424828703319957?Oe=.009470487487627452:Oe=-.046977132290520585:e[95]>1e-35?Oe=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Oe=.0717824359443052:Oe=.01776258010455891:Oe=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Oe=.012428835257375037:e[18]>1e-35?Oe=-.08152843296689005:Oe=-.0059907248803252305:e[109]>1e-35?Oe=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Oe=-.08097766993639294:Oe=.014258345453663996:e[62]>1e-35?Oe=.025185598552042956:e[213]>1e-35?Oe=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Oe=.004355449069502461:Oe=-.03327693117307522:e[29]>1e-35?Oe=-.024228224306581475:e[5]>5.244385543610066?Oe=.01690188327986934:Oe=-.02426164440751183:Oe=-.0016932467092565535;let xt;e[116]>1e-35?xt=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?xt=-.0289267666661116:xt=.10225466717059267:e[5]>3.979637980058199?xt=.007715497036238576:e[209]>1e-35?xt=-.1596622066794057:xt=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?xt=.044010040060630896:xt=-.018791912393741998:e[39]>1e-35?xt=-.008648992983623099:e[3]>4.993822430271426?xt=-.01442291433054286:e[158]>1e-35?xt=.023944934429097977:e[21]>1e-35?xt=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?xt=.07015276907667169:xt=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?xt=.025342984951627335:e[56]>1e-35?xt=-.039652717595259894:xt=-.003499774006708361:e[4]>3.676220550121792?xt=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?xt=.012259156005894655:xt=.04466570041636591:xt=.002369030228609974:e[50]>1e-35?xt=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?xt=.004706524615587467:xt=.03172381727140614:xt=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?xt=.047690620764284854:xt=.004980692597287184:e[188]>1e-35?xt=-.10330323519600788:e[108]>1e-35?xt=.006389080836282864:e[217]>1e-35?xt=.0034861135133741716:xt=-.0005184951270632008;let Wt;e[150]>1e-35?Wt=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Wt=.0032708551521722813:e[3]>2.970085626360216?Wt=-.0008773771112515323:Wt=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Wt=-.0544661644610188:e[114]>1e-35?Wt=.014743200719322279:e[25]>1e-35?Wt=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Wt=-.012241568524042012:Wt=-.08332027167107449:e[119]>1e-35?Wt=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Wt=.003409540133128587:e[7]>.985694415330804?Wt=.014360134818665793:Wt=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Wt=-.07017324311241228:Wt=-.00954038893956995:e[32]>1e-35?Wt=-.0321895511220355:Wt=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Wt=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Wt=.03179391063657913:e[132]>1e-35?Wt=.044860161753142676:e[122]>1e-35?Wt=.056053352587009365:e[44]>1e-35?Wt=.011126140459263092:e[217]>1e-35?Wt=.015177735064648389:e[30]>1e-35?Wt=.00292550151642784:e[0]>1e-35?Wt=-.01370614277688821:Wt=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Wt=.06455607454604466:Wt=-.018525791968354337:e[127]>1e-35?Wt=.058525937257934674:Wt=.004550050432870272:Wt=-.024273015893662056;let Lt;e[57]>1e-35?Lt=-.03433295479723807:e[35]>1e-35?Lt=-.039185287251387806:e[2]>8.18910569469239?Lt=-.01005594457537474:e[2]>8.136957041085973?Lt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Lt=-.021428903659715646:Lt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Lt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Lt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Lt=.00015676395930232578:Lt=.008324926956588046:Lt=-.0031526636810443134:e[156]>1e-35?Lt=.053603289446623514:e[6]>5.912149824839399?Lt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Lt=-.44322676747225076:Lt=-.07989645752877887:Lt=.005736631305989689:e[6]>9.286096980078398?Lt=-.005302861539231229:e[133]>1e-35?Lt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Lt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Lt=-.029257180272820173:e[106]>1e-35?Lt=.03593102425808264:e[59]>1e-35?Lt=.03336711951593411:e[114]>1e-35?Lt=.021293721644930708:Lt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Lt=.005338088459754211:Lt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Lt=-.2145461556048109:Lt=-.013833058686928565:Lt=.0010745795613665528:Lt=-.003974960846380726:Lt=-.004018386137909663;let or;e[55]>1e-35?or=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?or=.013340924551504776:or=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?or=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?or=-.012347824466576033:or=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?or=-.0252070573488502:or=-.13173630032620282:or=.009893647988200364:e[6]>1e-35?e[73]>1e-35?or=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?or=.02326718288961822:or=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?or=.061286381265316374:e[3]>3.481121732133104?or=.005424469650470853:e[6]>4.310776603370241?or=.014609485744972962:or=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?or=-.2427431056579565:or=.018014774163852717:or=.0018695162213364096:e[61]>1e-35?or=-.07802947082997094:e[45]>1e-35?or=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?or=-.021126260874271455:e[6]>4.03420147928485?or=-.08415757514826445:e[3]>1e-35?or=.10708927158160722:or=-.24178647896179492:or=.0008522369825914582:e[218]>1e-35?or=.02373187641553724:e[57]>1e-35?or=-.04729470896114382:e[6]>4.135134555718313?or=-.00014270136560779048:or=-.007024429214918294:or=-.08338039048086893;let lr;e[72]>1e-35?lr=.056415744834310104:e[102]>1e-35?lr=.010312560108512227:e[109]>1e-35?lr=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?lr=-.06595581480202953:lr=.0010087955639505731:lr=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?lr=-.05474288807524913:lr=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?lr=.06670108938458437:e[20]>1e-35?lr=.08555144132474565:lr=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?lr=.06392608504748652:lr=-.02321056177872842:e[54]>1e-35?lr=-.03592967725793262:e[6]>5.519456907163478?lr=.0008682946366782881:e[133]>1e-35?lr=-.029370515479889298:e[4]>3.0201273556387074?lr=-.004567764283497172:e[12]>1e-35?lr=-.008355751724201374:e[113]>1e-35?lr=.04158028065835193:lr=.005544170962219649:e[141]>1e-35?lr=-.01706283616408152:e[186]>1e-35?lr=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?lr=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?lr=-.1239344826496822:lr=.026355647530608275:lr=-.07955511774996737:e[41]>1e-35?lr=-.10181506412232362:e[42]>1e-35?lr=-.0453542732395041:e[116]>1e-35?lr=-.040407946567398226:e[158]>1e-35?lr=.027239009428531448:lr=-.002118967070037752;let Ut;e[174]>1e-35?Ut=-.02339144841300339:e[173]>1e-35?Ut=-.02466576607302462:e[60]>1e-35?Ut=-.014400177078045:e[187]>1e-35?Ut=-.009580909976967153:e[6]>8.681774988134558?Ut=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Ut=-.13287881120130746:Ut=-.03759084751116859:e[25]>1e-35?Ut=-.029737667621816583:e[119]>1e-35?Ut=.022639692376110337:e[98]>1e-35?Ut=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Ut=.008961268500787772:Ut=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Ut=-.08413653233956772:Ut=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Ut=-.009299863216357543:Ut=-.0613782065666655:Ut=-.06705655672927394:e[5]>3.772694874805912?Ut=.0008635593500817348:Ut=.08361268069705163:Ut=.001087642897550713:e[98]>1e-35?Ut=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Ut=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Ut=-.07079074829049314:Ut=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Ut=-.10610285355896108:Ut=-.009292320249100847:e[157]>1e-35?Ut=.03507595269407085:e[97]>1e-35?Ut=.0249669535461336:e[48]>1e-35?Ut=-.027595291123779366:Ut=.0011643902717306173:Ut=-.0211420439263067;let It;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?It=-.022448598781455772:It=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?It=.00894455632762117:It=-.003454709734759444:e[0]>1e-35?It=.060858110677215166:It=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?It=.0168978378983998:It=-.009237748165804088:It=-.016931758267026403:e[3]>4.424828703319957?It=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?It=-.023722482692479133:It=.10064484300766507:e[6]>4.03420147928485?It=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?It=.11711852031495243:It=-.15067622815741855:It=-.011085192149895408:e[108]>1e-35?It=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?It=.04454460743043898:e[37]>1e-35?It=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?It=-.020705364221039385:It=.006460529078997639:e[0]>1e-35?e[98]>1e-35?It=.10347448218504114:It=-.04090123141769794:e[6]>5.636572136251498?It=-.001212671493834005:e[2]>1.8688348091416842?It=-.15821279618670178:It=-.03563734739460456:It=.027924859655082585:e[57]>1e-35?It=-.03743904649648422:e[35]>1e-35?It=-.0414066369468363:e[46]>1e-35?It=-.011240341460759123:It=-.0003091959047563666;let ur;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?ur=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?ur=-.05008164665262682:ur=.0007032387608254502:e[190]>1e-35?ur=-.19371592847895003:ur=.0017489801221668277:e[129]>1e-35?ur=-.24591656603456258:ur=.011026730387591234:e[72]>1e-35?ur=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?ur=.017141361021852975:e[28]>1e-35?ur=.07243997319099477:ur=-.08677988948169385:e[138]>1e-35?ur=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?ur=.014990462643385919:ur=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?ur=.0022421195021632245:e[4]>1.2424533248940002?ur=.03891295508085918:e[4]>.8958797346140276?ur=-.08902318396862074:ur=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?ur=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?ur=.016171629088047517:e[134]>1e-35?ur=.03196373735768742:ur=-.006820341969572339:ur=-.02712238491085242:ur=-.016309188486296804:ur=-.0019386576944297078:e[156]>1e-35?ur=-.03079416196682616:e[123]>1e-35?ur=-.020888866054988395:e[4]>3.238486181444842?ur=-.0027078359220281674:e[141]>1e-35?ur=-.029581214969996845:ur=.002299670778244013:ur=.0001804027795430786;let zo=bdt(t+r+n+i+o+a+l+c+u+f+m+h+p+g+y+v+b+E+_+k+B+N+M+re+pe+Z+G+q+ie+z+H+U+V+Y+ae+te+le+ce+De+be+qe+Re+Xe+ft+at+lt+oe+Ne+Ae+Ge+K+ne+Fe+Se+Ce+Ue+Ve+tt+Ct+Pt+yt+Kt+Xt+ar+ge+Me+Je+rt+Rt+bt+Mt+Ot+_t+kt+St+qt+$t+Zt+fr+xr+cr+mr+nr+hr+Ie+O+de+ye+J+F+Te+Oe+xt+Wt+Lt+or+lr+Ut+It+ur);return[1-zo,zo]}s(NIe,"treeScore");function bdt(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}s(bdt,"sigmoid");var gf=class{static{s(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function LIe(e){let t=e.split(`
`);return t[t.length-1].length}s(LIe,"getLastLineLength");function FIe(e,t,r){let n=e.get(gf),i=n.previousLabel,o=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(o=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+LIe(f));let k=f.slice(-1);au[k]!==void 0&&(u=au[k])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+LIe(p));let k=p.slice(-1);au[k]!==void 0&&(h=au[k])}let g=0;if("documentLength"in t.measurements){let k=t.measurements.documentLength;g=Math.log(1+k)}let y=0;if("promptEndPos"in t.measurements){let k=t.measurements.promptEndPos;y=Math.log(1+k)}let v=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let k=t.measurements.documentLength;v=(t.measurements.promptEndPos+.5)/(1+k)}let b=0;xre[t.properties.languageId]!==void 0&&(b=xre[t.properties.languageId]);let E=0,_=new Array(221).fill(0);return _[0]=i,_[1]=o,_[2]=l,_[3]=c,_[4]=m,_[5]=g,_[6]=y,_[7]=v,_[8+b]=1,_[29+u]=1,_[125+h]=1,E=NIe(_)[1],e.get(gf).probabilityAccept=E,E}s(FIe,"contextualFilterScore");d();d();d();var q5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{s(this,"BlockTrimmer")}static isSupported(t){return Rd.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=CK(n,Rd.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var o=i,a=!0}finally{xK(n,o,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var eO=class extends q5{constructor(r,n,i,o=3,a=7){super(r,n,i);this.lineLimit=o;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{s(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,o=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<o?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=o&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<o?this.asCompletionOffset(a.node.endIndex):n}};async function MIe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=CK(l,Rd.create(e.detectedLanguageId,r,0,r.length));await i.build();let o=i.statementAt(n);if(!o)return"non-block";if(!o.isCompoundStatementType&&o.children.length===0)return o.parent&&!o.nextSibling&&o.node.endPosition.row<=t.line?"block-end":o.parent?"mid-block":"non-block";if(o.children.length===0)return"empty-block";let a=o.children[o.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{xK(l,u,f)}}s(MIe,"getBlockPositionType");d();d();function QIe(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let o;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?o=.009197756540516563:o=.03458896869535166:e[5]>5082.500000000001?o=.08265545468131008:e[131]>1e-35?o=.0740738432473315:o=.045159136632942756:e[8]>319.50000000000006?o=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?o=-.011400839766681709:o=.11149800187510031:o=-.08683250977599462:o=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?o=.040389083779932555:o=-.009887614274108602:e[52]>1e-35?o=.03705353499757327:e[9]>6.500000000000001?o=-.025401260429257562:e[2]>98.50000000000001?o=-.09237673187534504:o=-.04298556869281803:e[222]>1e-35?o=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?o=-.05435318330148897:e[128]>1e-35?o=-.08672907303184191:e[227]>1e-35?o=-.05568304584186561:e[122]>1e-35?o=-.09623059693538563:e[225]>1e-35?o=.07558331642202279:e[82]>1e-35?o=-.07360566227233566:o=-.005646164647395919:e[242]>1e-35?o=-.08203758341228108:e[9]>13.500000000000002?o=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?o=-.011153942154062704:o=.03132858912391067:e[127]>1e-35?o=.021455228822345174:e[23]>1e-35?o=.01959966745346997:o=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let y;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?y=.03507251990078782:e[2]>14.500000000000002?y=.004905698363309292:e[8]>2421.5000000000005?y=-.10306119951984316:y=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?y=-.08503171085833393:y=.015130974593044409:y=-.024425267075198206:y=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?y=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?y=.09908783187786288:y=-.06920877329925636:e[8]>241.50000000000003?y=-.016756131804203496:e[9]>33.50000000000001?y=.04903179955263626:e[217]>1e-35?y=-.047416847619291644:y=-.0017200891991431119:e[39]>1e-35?y=-.10389927604977028:e[134]>1e-35?y=-.050480365434872866:e[178]>1e-35?y=-.05167855791556937:e[8]>2134.5000000000005?y=-.01663197335585307:e[242]>1e-35?y=-.05361323756615453:e[118]>1e-35?y=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?y=-.0016544848369620534:y=.04494144460483587:y=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?y=.051166688553608355:y=-.06623908820705383:e[84]>1e-35?y=-.12990936092409747:e[306]>1e-35?y=-.07020596855118943:e[49]>1e-35?y=.06272964802556856:e[192]>1e-35?y=.06540204627162581:y=.008277910531592885;let v;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?v=.003325460510319164:v=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?v=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?v=.0697359767152808:e[230]>1e-35?v=.06513506845651572:v=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?v=.013616385013146277:v=.04171540100223404:v=-.04360396575094823:e[212]>1e-35?v=.025945477945627522:v=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?v=-.07856453318384411:v=-.014803893522351739:e[39]>1e-35?v=-.09185452630751932:e[149]>1e-35?v=-.07122426086157027:e[134]>1e-35?v=-.04231052091434186:e[227]>1e-35?v=-.029815824273994197:e[50]>1e-35?v=-.15736496271211153:e[222]>1e-35?v=-.02360285356956629:e[128]>1e-35?v=-.03922080193836443:e[136]>1e-35?v=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?v=-.0029736170756835783:v=-.06482902102259112:e[84]>1e-35?v=-.11340924635708383:e[94]>1e-35?v=-.03635703457792193:e[118]>1e-35?v=-.058181913914186034:e[126]>1e-35?v=-.062030576241517366:e[116]>1e-35?v=-.045086301850604006:e[25]>1e-35?v=-.031665223656767286:e[203]>1e-35?v=-.009444685731407691:v=.0112265153772187;let b;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?b=.022717227245241684:b=-.049700413274686266:b=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?b=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?b=-.12263724050601095:b=.0070743478891288035:e[288]>1e-35?b=-.050439138582109:b=.0255701593657891:b=-.005812703740580558:e[6]>49.50000000000001?b=-.008542694147899113:b=.035147383686665:b=-.0960461939274094:e[32]>1e-35?b=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?b=-.01800870272656664:b=-.07817304234604389:e[30]>1e-35?b=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?b=.08778416018479411:b=-.026563982720830256:b=-.05296139548112329:e[50]>1e-35?b=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?b=-.036572140520852024:e[183]>1e-35?b=-.10766853736801459:b=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?b=.09513215942486053:b=-.03641865277445567:e[10]>59.50000000000001?b=.03177172388687933:e[39]>1e-35?b=-.10234241303898953:e[243]>1e-35?b=-.02966738115984321:e[190]>1e-35?b=-.04312785336449181:e[118]>1e-35?b=-.05808521194081524:b=.006720381600740378;let E;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?E=-.046284053681928526:e[210]>1e-35?E=49778070699847876e-21:e[13]>1e-35?E=.03328070054739309:e[128]>1e-35?E=-.054790214922938896:e[126]>1e-35?E=-.08524792218532945:E=.014414055975542446:e[1]>38.50000000000001?E=-.07287851335872973:E=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?E=-.12459748864088374:E=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?E=.13044981041138526:e[9]>71.50000000000001?E=-.056068402282406865:e[9]>12.500000000000002?E=.038957722962512764:E=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?E=-.0852126122372075:e[225]>1e-35?E=.10082066771689505:e[1]>161.50000000000003?E=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?E=-.010835400874777133:E=.004607419973807752:E=-.016989075258564062:E=.009205417251698097:e[23]>1e-35?e[20]>1e-35?E=.10184317139657878:e[0]>5724.500000000001?E=-.1163666496650542:e[1]>106.50000000000001?E=.1303850608190687:e[129]>1e-35?E=.10745031509534769:E=.006166901738036226:e[31]>1e-35?E=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?E=.005004582564506611:E=-.10481581731668346:e[19]>1e-35?E=-.009850706427306281:E=-.02608226348051303;let _;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?_=-.0024117174588695603:_=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?_=.04575380761203418:_=-.10025595041353463:e[15]>1e-35?_=.17705790384964004:_=.0073813837628615014:_=.07676373681392407:_=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?_=.07078572910026419:e[4]>23.500000000000004?_=.005513918674164821:_=.0206586476926392:e[0]>5269.500000000001?_=.07706773525822633:_=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?_=-.03204783603215824:_=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?_=-.0930246911392012:_=.011173087289703683:e[3]>24.500000000000004?_=.03281421918878597:_=.12449335091369843:e[204]>1e-35?_=.06634531187326123:_=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?_=-.041196758517013515:e[4]>7.500000000000001?_=-2942718111029724e-20:e[4]>6.500000000000001?_=.11953909558532852:_=.03188615019450534:e[122]>1e-35?_=-.0616037324662157:e[101]>1e-35?_=.027230889593349412:e[8]>4968.500000000001?_=-.1113986516540856:e[3]>2.5000000000000004?_=-.002045140426885727:e[129]>1e-35?_=.12641163374304432:_=.014909826232873194;let k;e[308]>1e-35?e[0]>7277.500000000001?k=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?k=-.040884836258675006:e[210]>1e-35?k=-.0003719413278428804:e[13]>1e-35?k=.030287610160818174:k=.011174130013595384:e[1]>38.50000000000001?k=-.0662442170185784:k=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?k=-.08092286307197555:k=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?k=-.1155211149523894:k=-.0032903546638958538:e[149]>1e-35?k=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?k=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?k=-.025416927789760076:k=.02777568919793122:k=-.10310351509769732:k=.013549608903688785:e[186]>1e-35?k=.08513865847420551:k=-.009306721292510369:e[31]>1e-35?k=.009780833952582307:e[23]>1e-35?k=.011143773934157629:e[210]>1e-35?k=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?k=-.04846287537743046:k=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?k=-.034224938681445764:e[8]>1641.5000000000002?k=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?k=-.027950103994861836:k=.14575930827829034:k=-.007124740389354946:e[10]>22.500000000000004?k=.013173304107866726:k=-.11119620042551365;let B;e[131]>1e-35?B=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?B=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?B=-.022305242912035072:B=.024792895826340516:B=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?B=.2080083584805785:B=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?B=.060783227455868206:B=-.056904865557409035:B=-.03278952553107572:e[192]>1e-35?B=.13117402617043625:B=.01647119888257836:B=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?B=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?B=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?B=-.11083976837572328:e[146]>1e-35?B=-.03359294484446772:B=-.0042815953591236475:e[190]>1e-35?B=-.09264239592903775:e[10]>1e-35?B=.022282638485105657:B=-.0205994057928458:e[5]>4918.500000000001?B=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?B=.08935072241972036:B=-.03781647876237494:B=.0062655753179671515:e[31]>1e-35?B=.008603500300349887:e[230]>1e-35?B=.03350056932774173:e[23]>1e-35?e[241]>1e-35?B=.10277555508503314:B=.0017901817172993888:e[2]>98.50000000000001?B=-.05920081229672715:B=-.015722173275739208;let N;e[13]>1e-35?e[118]>1e-35?N=.07957905150112207:e[1]>125.50000000000001?N=-.0662620579858685:e[145]>1e-35?N=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?N=-.0009597832580977798:N=-.081474760755753:e[212]>1e-35?N=.03637001492325179:N=.006912305498963309:e[32]>1e-35?N=-.03919900630910754:e[134]>1e-35?N=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?N=.06671440854602108:e[136]>1e-35?N=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?N=.026430947016830915:N=-.04075501264495112:e[9]>93.50000000000001?N=-.04353169430417609:e[50]>1e-35?N=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?N=.068392679163672:e[10]>1.5000000000000002?N=-.0209659792007492:N=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?N=.07254524592323175:N=-.0319087835282534:N=.00037444813327793425:N=-.025138768151370408:e[243]>1e-35?N=-.050010891710502096:e[94]>1e-35?N=-.0817513550778599:e[122]>1e-35?N=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?N=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?N=.1454877641381946:N=.053787998331240316:e[9]>33.50000000000001?N=.08602629796680285:N=-.03895127455803038:N=.008830878042315722;let M;e[131]>1e-35?M=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?M=.07473600489975568:e[0]>93.50000000000001?M=-.021596848506011502:M=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?M=.10264284346448256:M=.031042487183181262:M=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?M=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?M=.006271403149804702:M=-.030013637555715046:e[0]>4449.500000000001?M=-.06556876058654929:M=.06437994816903034:e[32]>1e-35?M=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?M=-.09349726304052086:e[210]>1e-35?M=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?M=-.029188394315052574:M=.017219308333820193:M=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?M=-.04428555753857688:M=.0001456106867817353:e[5]>213.50000000000003?M=.01740292726636365:M=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?M=.03410288911259329:e[121]>1e-35?M=-.06056527462120627:e[8]>2592.5000000000005?M=.12166808844363577:e[191]>1e-35?M=.11669879218998758:M=-.001664858391716235:M=-.01262927450503166:M=-.04506589951879664:e[227]>1e-35?M=-.08548904959752329:M=.02156080776537726;let re;e[306]>1e-35?e[149]>1e-35?re=-.1389218965136736:re=-.032218642644416894:e[13]>1e-35?re=.006465035217331847:e[50]>1e-35?re=-.1381687930130022:e[179]>1e-35?re=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?re=-.03262719498763048:re=.023342916702125613:e[191]>1e-35?re=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?re=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?re=-.09989343595668776:re=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?re=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?re=-.09165257825246746:e[9]>32.50000000000001?re=.02484870392366004:re=-.008499493096971395:e[8]>24.500000000000004?re=.02459679192828244:re=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?re=.0015644546318714849:re=-.06579524865022705:re=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?re=.03331853632960164:re=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?re=-.019091477207111116:re=.037878468575478504:e[94]>1e-35?re=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?re=.16919658785098224:e[243]>1e-35?re=-.06580584936754524:re=.01567555159935563:e[129]>1e-35?re=.06721746994993226:e[10]>32.50000000000001?re=-.046394462507797975:re=-.006436180519584767;let pe;e[131]>1e-35?pe=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?pe=.019122095523977856:e[298]>1e-35?pe=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?pe=-.026094309429557913:e[204]>1e-35?pe=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?pe=.012643810980689466:pe=-.07884161741497837:pe=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?pe=.04493082949897325:pe=.18046359750455776:e[7]>18.500000000000004?pe=-.018667348656891496:pe=.02584325784698236:pe=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?pe=.04749240016989375:pe=-.0333334578246718:e[5]>3276.5000000000005?pe=.11330554740098908:e[7]>94.50000000000001?pe=.1296600395033268:pe=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?pe=-.13787130789142835:e[0]>1847.5000000000002?pe=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?pe=.028856848462727104:pe=-.11197632885851168:pe=.08169801342016791:e[1]>22.500000000000004?pe=-.021052888644970163:pe=.019048604298876753:e[7]>4.500000000000001?pe=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?pe=.03432638833359197:pe=-.0036767863082454973:e[1]>48.50000000000001?pe=.03087375270128195:e[2]>3.5000000000000004?pe=-.04219917149740248:pe=.018818493993207935;let Z;e[306]>1e-35?Z=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Z=-.09091897542577475:Z=.04042943082645558:e[218]>1e-35?Z=.056254985867151:Z=-.053848117950183044:Z=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Z=.021581808008986944:Z=-.05639286496176611:Z=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Z=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Z=.023885302967553288:Z=.1617794086125622:e[212]>1e-35?Z=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Z=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Z=.01894935813286188:Z=-.06449356357429188:Z=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Z=-.034718828212885515:Z=.0898976288814321:e[1]>17.500000000000004?Z=-.15440137451988326:Z=-.03864183216821465:Z=.009988507307006308:Z=-.08540311947043305:e[50]>1e-35?Z=-.13323659732101975:e[134]>1e-35?Z=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Z=.08082476177379844:Z=-.041665761903645876:e[179]>1e-35?Z=-.12405023987936657:e[39]>1e-35?Z=-.06247416524997478:e[138]>1e-35?Z=-.10724031753676487:Z=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let q;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?q=-.03461119351456781:q=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?q=-.12404435523286539:q=-.0034376913880382956:q=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?q=.0037507103585310234:q=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?q=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?q=-.04832024079663151:e[37]>1e-35?q=-.037103393468366934:q=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?q=.032539071163832034:e[5]>1643.5000000000002?q=.036408625378035665:e[0]>1500.5000000000002?q=-.1346358322854993:q=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?q=-.1133991164577881:e[9]>52.50000000000001?q=-.024478640359723122:q=.03673777861098756:q=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?q=.002583438691776944:q=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?q=-.02141222346712401:q=.06392462314316179:e[4]>12.500000000000002?q=.08700122294434816:e[8]>267.50000000000006?q=.056923170082743224:q=-.07716309825583327:e[32]>1e-35?q=-.03961343943752142:q=.002674914122888783:e[1]>42.50000000000001?q=-.05217539654421676:e[145]>1e-35?q=.09553630282946368:q=-.009424791262477729;let ie;e[183]>1e-35?ie=-.05753337139158443:e[308]>1e-35?ie=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?ie=-.10477869875380448:ie=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?ie=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?ie=-.04442302951713574:ie=.00012409888451734224:ie=-.092199119633697:e[225]>1e-35?ie=.13773072450201831:e[0]>2882.5000000000005?ie=.0028540012229920533:e[298]>1e-35?ie=.07134486044361629:ie=.014297412329837425:e[145]>1e-35?ie=.05608385321902638:e[92]>1e-35?ie=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?ie=-.0039957800609801315:ie=.0776927564241081:e[203]>1e-35?ie=-.05502900859432093:e[105]>1e-35?ie=.06062892720841595:ie=-.009574839629252128:e[31]>1e-35?ie=.009488858841144216:e[23]>1e-35?e[20]>1e-35?ie=.08818126313644752:e[8]>161.50000000000003?ie=.014353968957885408:ie=-.022240738532827903:e[210]>1e-35?ie=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?ie=-.043902062079383485:ie=-.014741559220396223:ie=-.00934935734853194:e[6]>32.50000000000001?ie=.1514593126307404:ie=.010771222510801532:e[10]>22.500000000000004?ie=.01412495209334078:ie=-.08576940379502533;let z;e[0]>384.50000000000006?e[84]>1e-35?z=-.06647690967306838:e[2]>101.50000000000001?z=-.024451334501552457:e[306]>1e-35?z=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?z=.0031858381443673127:z=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?z=-.08601340441214533:e[1]>29.500000000000004?z=.10487598629539963:e[8]>597.5000000000001?z=-.0786529133673238:z=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?z=-.04883600353740688:e[126]>1e-35?z=-.03794042763348827:z=-.003358871967539988:e[210]>1e-35?z=.054991356498447566:e[6]>19.500000000000004?z=-.007418396981635549:z=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?z=-.02143003429501711:z=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?z=-.006636355416244082:z=-.06483095743431454:e[4]>21.500000000000004?z=-.028975965946833545:z=.022012264796522657:z=-.06653648243193663:e[5]>4593.500000000001?z=.01753551428088607:e[217]>1e-35?z=-.028864824937700297:e[94]>1e-35?z=-.04885192273020658:e[279]>1e-35?z=.08105715462329498:e[121]>1e-35?z=-.04576676034750651:z=.004795141324949362:e[1]>42.50000000000001?z=-.047446619702809195:e[145]>1e-35?z=.08400495571952321:z=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let U;e[0]>384.50000000000006?e[84]>1e-35?U=-.06088131453064195:e[147]>1e-35?U=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?U=.04219361472548491:U=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?U=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?U=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?U=-.11431764534511478:U=.013549717238356157:U=-.020987333767091276:e[6]>2.5000000000000004?U=-.02914877855133127:U=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?U=-.10087072787978416:e[37]>1e-35?U=-.030467397753331196:e[229]>1e-35?U=-.1017559811057469:e[4]>20.500000000000004?U=-.00413177742240167:e[20]>1e-35?U=.05213315982685969:U=.0037921635866823133:e[8]>51.50000000000001?U=.07327913092421544:e[6]>49.50000000000001?U=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?U=.02744420891894289:U=.11288946357194463:U=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?U=-.012329314369909049:U=.026816658655600168:U=-.0872405354618811:U=.007872673500247845:e[1]>42.50000000000001?U=-.04309044198258254:e[145]>1e-35?U=.07572529147860785:e[7]>5.500000000000001?U=-.013837187093264945:e[1]>17.500000000000004?U=.04208698439539668:U=-.06284346769019863;let V;e[294]>1e-35?V=-.0384794324818203:e[266]>1e-35?V=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?V=.07432960094940501:V=-.035248735855751855:e[134]>1e-35?V=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?V=-.01706896375068821:V=.08212247914968074:e[2]>59.50000000000001?V=-.09546478958824225:e[6]>53.50000000000001?V=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?V=.02816463285971267:V=.15449139016588445:V=-.10199787406123524:V=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?V=-.13924786681478077:V=-.0072772442570213335:e[39]>1e-35?V=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?V=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?V=-.11174465335620831:V=.00013144040097180107:V=-.08493919336681105:e[42]>1e-35?V=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?V=-.015540659878839153:V=-.14442609417300142:e[21]>1e-35?V=-.025251979447574083:V=.0023698372645272847:e[18]>1e-35?V=.07269739695712212:e[8]>2592.5000000000005?V=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?V=-.01835130329646532:e[9]>45.50000000000001?V=.02023047454629885:V=.16469378262221102:V=-.042975030085836426;let Y;e[8]>2915.5000000000005?e[297]>1e-35?Y=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?Y=-.01034964686484714:Y=-.07357437440667927:Y=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?Y=-.09476398869062203:e[9]>72.50000000000001?Y=-.0757383854264379:Y=.02806542779508718:Y=-.05147742568418084:Y=.10212721564444344:Y=.0518263760642861:Y=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?Y=-.10669213185972036:Y=.027050434286384796:e[302]>1e-35?Y=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?Y=.06354599160071946:e[1]>67.50000000000001?Y=.05317447949011187:Y=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?Y=-.09369289448773599:e[0]>2215.5000000000005?Y=.04077965380363924:e[0]>807.5000000000001?Y=-.0591771776458298:Y=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?Y=-.016323380219241672:Y=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?Y=.03720704290087811:Y=-.008730548158766654:e[4]>80.50000000000001?Y=-.05346644687473197:Y=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?Y=.019984510398089086:Y=-.03917825025861855:e[9]>170.50000000000003?Y=-.09759719821334525:Y=-.0023586682752856298;let ae;e[183]>1e-35?e[17]>1e-35?ae=.030100940443356424:e[10]>1.5000000000000002?ae=-.10861112216742408:ae=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?ae=-.032062878390325456:ae=-.10808232631806887:e[8]>1641.5000000000002?ae=-.06147013392655731:e[4]>12.500000000000002?ae=.03324767551088266:e[145]>1e-35?ae=.028851633810612017:ae=-.054871239091792784:e[134]>1e-35?ae=-.023813968121342108:e[266]>1e-35?ae=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?ae=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?ae=-.025350325484720576:ae=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?ae=.056817276537534815:ae=-.07674158463557636:ae=-.06335553143454145:e[1]>56.50000000000001?ae=.16390494217299284:ae=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?ae=.041717597065890205:ae=-.10357913492269129:e[10]>29.500000000000004?ae=.1365512866715726:ae=.020600048310575665:ae=.09708785634773187:ae=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?ae=-.03146213719547347:ae=.11784024316238083:ae=-.050940520532045355:ae=-.047988344143075616:e[191]>1e-35?ae=.028764654731460032:ae=.0011911575567860023;let te;e[294]>1e-35?e[10]>50.50000000000001?te=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?te=-.05103908560370243:te=.05002066201169583:te=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?te=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?te=.127983140816313:te=-.05436534163636867:te=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?te=-.009504203657088933:e[8]>819.5000000000001?te=.18689664822602375:te=.03635576744011826:te=-.029862411809998525:e[223]>1e-35?te=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?te=-.09405026597863717:e[0]>4153.500000000001?te=.053577663326799765:te=-.05062127873995668:te=.06512222894425874:e[39]>1e-35?te=-.04985311717827547:e[51]>1e-35?te=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?te=-.02860634573675884:te=.08863753005590103:te=.11158892111063744:e[0]>655.5000000000001?te=-.031005736641654926:te=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?te=-.00843386136334982:te=-.05273594615999777:te=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?te=-.015774115523598486:te=.10147367091236065:te=-.048307000563071016:te=.002118376117677254;let le;e[8]>1014.5000000000001?e[9]>137.50000000000003?le=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?le=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?le=.07211107542565391:le=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?le=-.0751486415451188:e[1]>59.50000000000001?le=.13459005084554104:le=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?le=.06715575425741895:le=-.005895690393702183:e[8]>2915.5000000000005?le=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?le=-.00029068886245881074:le=.0613467393188786:e[148]>1e-35?le=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?le=.003887223773199377:le=-.08553893131979015:le=.025654192706396767:le=-.05651733979610658:le=-.02039913645229667:e[2]>7.500000000000001?le=-.1058450646728524:le=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?le=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?le=.1283258201586378:le=-.01718135372229775:le=-.07702452408491414:e[125]>1e-35?le=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?le=.04273051857848212:le=-.04533122948101463:e[2]>196.50000000000003?le=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?le=.0231032972703664:le=-.04807386814498683:le=.002729435991332102;let ce;e[179]>1e-35?ce=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?ce=.026484626664041125:e[10]>1.5000000000000002?ce=-.10187000872941615:ce=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?ce=.09574540795390041:ce=-.06454986703691233:ce=-.11411849349353141:e[266]>1e-35?ce=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?ce=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?ce=-.04403391373512386:ce=.1132928075412222:e[2]>47.50000000000001?ce=-.09700191391838056:ce=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?ce=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?ce=-.001668912999010927:ce=-.02363511102970245:e[8]>58.50000000000001?ce=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?ce=.0911011436534449:e[1]>28.500000000000004?ce=-.07192390493729035:ce=.06913818091291246:ce=-.012312625373699222:ce=.06784496312307986:ce=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?ce=.0026564453057705273:ce=-.025425772389361445:e[122]>1e-35?ce=-.12046786388602149:e[0]>3183.5000000000005?ce=.01162092842804907:e[91]>1e-35?ce=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?ce=-.0001647792543020228:ce=-.023664538532907665:ce=.01609078206180752;let De;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?De=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?De=-.017696526862422682:De=.1450050954613223:De=-.05406930069823832:De=-.08308700260259043:e[120]>1e-35?De=.058316269489189415:e[297]>1e-35?e[94]>1e-35?De=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?De=.038431826961746934:De=-.05937462906539856:e[9]>65.50000000000001?De=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?De=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?De=-.09579030954062734:De=.025064711572811746:De=.02579440518821548:De=.1044440128091862:De=-.058348633139536844:De=.07766788227934436:De=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?De=.07463684068207214:De=.18244269035484484:e[6]>39.50000000000001?De=-.06050050067471004:De=.05787759066913493:De=.010783225857972171:De=.1674891243602606:e[4]>9.500000000000002?De=-.004814132027475892:De=-.14543299413454813:De=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?De=-.07634466313617769:De=.0287825335169114:De=-.06894721943300268:De=-.00023988459059521937;let be;e[131]>1e-35?e[1]>93.50000000000001?be=-.05706887458825395:e[2]>1.5000000000000002?be=.011446637886629108:be=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?be=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?be=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?be=.026278724448495064:be=.17053138400480508:e[0]>4463.500000000001?be=-.06482289890096041:be=.03026516489536295:be=-.031785170717683144:be=.1312690622980455:e[13]>1e-35?be=.14336922540461444:be=.03523850945454039:be=-.015407465968975714:e[39]>1e-35?be=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?be=-.0659975068798723:be=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?be=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?be=.057409156184759516:be=.2024322059866388:be=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?be=.010648654146284154:e[308]>1e-35?be=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?be=.12364025998551711:be=-.02247495081065243:e[1]>22.500000000000004?be=-.0726295464624251:be=.03481895086048152:e[0]>4331.500000000001?be=-.04775443357020673:be=.07172377425057568:e[2]>89.50000000000001?be=-.11782645274716962:be=.00010092665257989378;let qe;e[147]>1e-35?qe=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?qe=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?qe=-.016101990375700172:e[0]>2579.5000000000005?qe=-.13045089661551845:qe=-.02874367814784938:qe=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?qe=.17084176915326055:qe=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?qe=.10591712319944074:qe=-.024082167264285:qe=.16497698867036126:qe=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?qe=-.021012910475524206:qe=-.13058422554298485:e[0]>1102.5000000000002?qe=.10955864175201457:qe=-.03566689354348996:e[1]>11.500000000000002?qe=-.02093884208606101:qe=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?qe=-.013861861436128482:qe=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?qe=.10163873449625677:qe=-.02779270277623805:e[1]>26.500000000000004?qe=-.08035058228527389:qe=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?qe=-.007028075523033826:qe=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?qe=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?qe=-.0032075580718124892:qe=-.04442829143298883:qe=-.06597073245775804:qe=.0015594090939337751;let Re;e[223]>1e-35?e[8]>668.5000000000001?Re=-.12803889879260094:Re=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?Re=.08967966612917375:e[1]>39.50000000000001?Re=-.059791671514498074:Re=.05648934961902822:e[2]>59.50000000000001?Re=-.08633234097449628:e[6]>53.50000000000001?Re=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?Re=.025606129643140924:Re=.13835395886271978:Re=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?Re=-.09975506556937946:e[10]>36.50000000000001?Re=-.09427724661655643:e[10]>24.500000000000004?Re=.07329330653410447:Re=-.02271182965807972:Re=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?Re=-.05082091374050816:Re=.1687114435254966:e[0]>2314.5000000000005?Re=-.06422664016383926:Re=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Re=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?Re=-.1274167728754332:Re=.01308079126447365:e[4]>73.50000000000001?Re=.13854015371106546:e[4]>48.50000000000001?Re=-.03684255740123261:e[6]>45.50000000000001?Re=.10329912215813097:e[10]>77.50000000000001?Re=-.08630788656925215:Re=.031022006843800853:e[1]>25.500000000000004?Re=-.08278381528048026:Re=.06664374548141594:e[84]>1e-35?Re=-.05624227409079396:Re=.00012184182357340415;let Xe;e[179]>1e-35?Xe=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Xe=-.07595415373151816:Xe=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Xe=.022822510448266862:Xe=.17491569312933697:Xe=-.058362287133533565:e[2]>2.5000000000000004?Xe=-.03633895806364428:Xe=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Xe=-.07294848747514579:Xe=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Xe=-.07009535282685533:e[8]>2640.0000000000005?Xe=-.051761240111316276:e[131]>1e-35?Xe=-.06245774419231631:Xe=.03495606662854905:Xe=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Xe=.0015036626973581122:Xe=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Xe=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Xe=.022343994371919224:Xe=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Xe=.07724450228328664:e[0]>3853.5000000000005?Xe=-.15671707454435677:e[10]>28.500000000000004?Xe=-.10179090671841723:Xe=.014878216919760927:Xe=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Xe=.14054154485273487:Xe=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Xe=-.08632985141410315:Xe=.005524157938954954:Xe=-.08802502622523681:Xe=-.0004649168897260341;let ft;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ft=-.007458687464321174:ft=-.09444966249102484:e[1]>23.500000000000004?ft=.08564129697360716:ft=-.07105002902845851:ft=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ft=-.10326216566705966:e[1]>26.500000000000004?ft=.0050539832484585365:ft=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ft=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ft=.05783632021087773:e[10]>17.500000000000004?ft=-.06720598671764105:e[1]>47.50000000000001?ft=.097495825172558:ft=-.013372242800584872:ft=-.06463226787713715:e[42]>1e-35?ft=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ft=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ft=.11051270080118503:ft=.027719462817590454:e[8]>597.5000000000001?ft=-.08441503592016869:ft=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ft=-.12190088985091102:ft=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ft=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ft=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ft=.016585157185448045:ft=-.11032043771149425:ft=.01586986028570486:e[8]>388.50000000000006?ft=-.10592413013261853:ft=.04930703248769364:e[13]>1e-35?ft=.003621937787920821:ft=-.0013786331198611841;let at;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?at=.009769895322846493:at=-.10620052926943656:e[9]>19.500000000000004?at=.03781202525403449:e[9]>14.500000000000002?at=-.11485785321365344:e[9]>6.500000000000001?at=.07677177833073881:e[0]>4342.500000000001?at=-.07079285609687631:e[49]>1e-35?at=.06156814809246001:at=-.014788509042554625:at=-.032659201618470655:e[5]>5207.500000000001?at=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?at=-.03094160322187924:e[1]>29.500000000000004?at=.09474646043921069:at=.023445783928231618:at=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?at=-.07164443768784848:e[1]>29.500000000000004?at=.089473622509272:e[8]>597.5000000000001?at=-.08155349903101317:at=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?at=-.004003900679358653:e[190]>1e-35?at=-.09236113461485262:e[8]>3198.5000000000005?at=-.0124130160451179:at=.018453070064009328:e[15]>1e-35?at=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?at=-.0009580759587680961:at=-.03227283036698222:at=.01369287669536875:e[1]>50.50000000000001?at=-.04213060332500437:e[35]>1e-35?at=-.11508095777767471:e[190]>1e-35?at=-.08611884672400155:e[297]>1e-35?at=.05723551879433584:at=-.004829340082311461;let lt;e[183]>1e-35?lt=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?lt=-.11753465135886734:lt=-.007515490299047085:lt=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?lt=-.12371142493530439:e[1]>36.50000000000001?lt=.032189417575190435:lt=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?lt=-.0784518658439288:e[2]>54.50000000000001?lt=.12477882322370665:lt=.000313468482399738:lt=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?lt=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?lt=.0353146070135579:lt=-.06327619611098285:lt=.02813577701641991:lt=-.12354390728506215:e[34]>1e-35?lt=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?lt=-.01245803535276381:lt=-.07169472553475001:e[1]>11.500000000000002?lt=.12989984824561698:lt=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?lt=.010390226893521422:e[10]>14.500000000000002?lt=.16790888126487719:lt=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?lt=-.043398307129729134:lt=.09963544907820426:e[9]>30.500000000000004?lt=-.13540713124984502:e[9]>17.500000000000004?lt=.0509435850590757:lt=-.04761897852404613:e[4]>78.50000000000001?lt=.09197086656470652:lt=.0006771050176682337;let oe;e[122]>1e-35?e[6]>36.50000000000001?oe=.05686884451670743:oe=-.05334759543084309:e[266]>1e-35?oe=-.08603579519816038:e[157]>1e-35?oe=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?oe=-.0499592651503952:e[0]>725.5000000000001?oe=.11780353905132664:oe=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?oe=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?oe=-.03190157229022304:oe=.07985197845805492:oe=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?oe=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?oe=-.027174047777029083:oe=.057117284879796476:e[3]>43.50000000000001?oe=-.0016147040913107311:oe=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?oe=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?oe=-.01466076988151239:oe=.13375695925484857:oe=-.04885873081899647:e[0]>5566.500000000001?oe=.11086813028591343:e[8]>992.5000000000001?oe=-.07622304217072383:oe=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?oe=.03285858361708423:oe=-.12354858211764992:oe=.0672788301823281:e[15]>1e-35?oe=.08658836986585006:oe=-.02741484278509758:e[290]>1e-35?oe=-.08161310335133287:e[135]>1e-35?oe=-.04824156054814152:oe=.0009156904299554183;let Ne;e[3]>7.500000000000001?Ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ne=.03642374718166293:Ne=.16379973756366603:Ne=-.03946685266127979:e[186]>1e-35?Ne=.07618896623420895:e[96]>1e-35?Ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Ne=-.022822371600847505:Ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Ne=.044416424920571296:Ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Ne=.1061937286809567:e[7]>54.50000000000001?Ne=.11487507743121311:e[8]>819.5000000000001?Ne=-.07181278009001418:e[10]>25.500000000000004?Ne=.13499019430369633:e[1]>31.500000000000004?Ne=.09032979489780704:Ne=-.12754166393372374:e[9]>37.50000000000001?Ne=-.05093963635361407:Ne=-.005026651151683848:e[9]>2.5000000000000004?Ne=.07619735785573735:Ne=.012363301341532136:e[26]>1e-35?Ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Ne=-.10764172927882483:Ne=.01890760098464703:Ne=.06573095405846417:e[8]>634.5000000000001?Ne=-.00783575973273707:Ne=-.050612689680229306:e[1]>22.500000000000004?Ne=-.0016842490401359626:Ne=.0738227088444087:Ne=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let Ge;e[189]>1e-35?e[0]>5269.500000000001?Ge=-.103183298350443:e[2]>51.50000000000001?Ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?Ge=-.05186168947388339:Ge=.0496996365539082:e[10]>23.500000000000004?Ge=.1404445738719:e[93]>1e-35?Ge=.0027146310074558505:e[5]>3821.5000000000005?Ge=.002153033152069652:e[4]>2.5000000000000004?Ge=.007663539551317215:Ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?Ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?Ge=-.021479467709980358:Ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?Ge=.021660293256233334:Ge=-.0927396152303864:Ge=.0665074081601698:e[0]>1550.5000000000002?Ge=.08972407105958534:Ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?Ge=.06761927942466854:Ge=-.015762168112653286:e[17]>1e-35?Ge=.10311304131145381:Ge=-.017672785252336027:Ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?Ge=-.10638321435298535:Ge=.0007073011744385905:e[18]>1e-35?Ge=-.027056185501334325:e[145]>1e-35?Ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?Ge=.09762140519655171:e[9]>110.50000000000001?Ge=-.06581942957595835:e[6]>54.50000000000001?Ge=.04959634035251596:Ge=.0022616298654554207:Ge=-.007437620924990854;let K;e[179]>1e-35?K=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?K=.1470294450403005:K=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?K=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?K=.07965955447707423:e[10]>10.500000000000002?K=-.09236156404262426:K=.03396273196231458:K=-.13246465021467432:K=.07092822261735353:K=-.08753829085942:K=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?K=.004705878789890202:K=.13775378964952867:K=-.04770928980587811:e[10]>29.500000000000004?K=.011221519891071544:e[0]>3853.5000000000005?K=.06365381191628273:K=.15506252245336827:e[1]>37.50000000000001?K=-.07254777021042061:K=.026514587757252385:e[308]>1e-35?K=.04115804816617256:e[10]>26.500000000000004?K=.02077721353011946:e[5]>3548.5000000000005?K=-.1280907116663952:K=-.021974774274438:e[306]>1e-35?K=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?K=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?K=-.005710865560475598:e[94]>1e-35?K=-.06751507982853555:K=.027250040757588703:e[9]>52.50000000000001?K=.07060357924595577:K=-.030297760713011795:K=-.0006005400085266517;let ne;e[113]>1e-35?ne=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?ne=-.06996356565314456:ne=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?ne=-.08317707559926495:e[21]>1e-35?ne=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?ne=-.010538203005984922:ne=.08454819465349446:e[9]>124.50000000000001?ne=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?ne=-.08542251249346582:e[9]>50.50000000000001?ne=-.023428882537657472:ne=.010042500833979073:ne=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?ne=.03006025206979096:e[9]>108.50000000000001?ne=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?ne=.04222035773042132:ne=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?ne=-.07209095448054853:ne=.028065954981903313:ne=.08714651929917122:ne=-.006678820669279169:e[10]>40.50000000000001?ne=.006982396294941626:ne=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?ne=-.09351114982645548:e[4]>3.5000000000000004?ne=-.004837550129223451:ne=-.08324141237464677:e[303]>1e-35?ne=.10703037493990825:e[9]>156.50000000000003?ne=-.10803018621648303:e[116]>1e-35?ne=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?ne=.10261721665006701:ne=.018994509090668264:ne=.0011244262442038839;let Fe;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Fe=-.08404263465005328:e[0]>3682.5000000000005?Fe=.041259223920298876:e[1]>29.500000000000004?Fe=-.09541257493441671:Fe=.001482192721625409:Fe=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Fe=-.08268996098437432:e[230]>1e-35?Fe=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Fe=-913218977737457e-19:e[4]>10.500000000000002?Fe=-.056334165674005156:e[127]>1e-35?Fe=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Fe=-.04231200150318989:e[10]>42.50000000000001?Fe=.10182973257894812:Fe=.015934763950068445:Fe=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Fe=-.041117068322885315:Fe=.1167767830037126:Fe=.13611206992387337:e[10]>41.50000000000001?Fe=-.07120286010564107:Fe=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Fe=-.07702290997669524:e[198]>1e-35?Fe=.08776558554437136:Fe=-.008290740324975692:e[2]>32.50000000000001?Fe=.07198457624219955:Fe=.005463113714361629:Fe=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Fe=.03295785445437507:Fe=.15140250150674536:Fe=-.035613213948910254:e[186]>1e-35?Fe=.06849425535860769:e[96]>1e-35?Fe=.06028225812727254:Fe=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Ue;e[120]>1e-35?Ue=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Ue=-.042799574885345304:Ue=.07412430171193245:Ue=-.11248270469336048:e[193]>1e-35?Ue=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Ue=.028911612178122104:Ue=.12326369727728437:e[0]>4091.5000000000005?Ue=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Ue=.1159839898100149:Ue=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Ue=-.0216343737351583:Ue=-.1220272260878369:e[2]>18.500000000000004?Ue=.09152924475072398:e[8]>55.50000000000001?Ue=.039508716651005665:Ue=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Ue=.06793009902674053:Ue=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Ue=-.04391068849624096:Ue=.04009967593394672:e[8]>1085.5000000000002?Ue=-.024773826356034825:Ue=-.13919707884246582:Ue=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Ue=-.11567917501901476:Ue=-.006813640337684114:e[3]>7.500000000000001?Ue=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Ue=-.001754586408351048:Ue=-.055422422450722056:Ue=-.06090032532532226:e[0]>5269.500000000001?Ue=.11787981735983527:Ue=-.00198119768540783:Ue=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let tt;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?tt=-.01192072916082109:tt=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?tt=.06874032717466054:e[4]>40.50000000000001?tt=-.07752510020707537:e[1]>76.50000000000001?tt=-.09944032260703917:e[8]>1381.5000000000002?tt=-.054466635810800745:e[1]>32.50000000000001?tt=.05974084520839573:tt=-.0384718740755954:tt=-.11374190719134032:e[0]>2151.5000000000005?tt=-.13703645155803298:tt=.004833344758654556:e[297]>1e-35?e[212]>1e-35?tt=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?tt=.013539805885738608:tt=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?tt=.09941880179344399:tt=-.01608127391210995:tt=.08025226531247417:e[9]>67.50000000000001?tt=.13525448212444113:e[6]>61.50000000000001?tt=-.05511099182158894:e[94]>1e-35?tt=-.06821509831783572:e[128]>1e-35?tt=.11361314817714643:tt=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?tt=-.09954181329804547:e[197]>1e-35?tt=.10102833149755386:e[188]>1e-35?tt=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?tt=-.03781554214742005:tt=.09927933385592314:tt=-.020006000056720083:tt=-.10520473615957895:tt=-.12006990846253787:tt=-.00026111570975317574;let Ct;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?Ct=-.019188245509744628:Ct=-.13354864350075848:e[0]>2461.5000000000005?Ct=.051885477468354396:Ct=-.0833581968852119:Ct=.08233441701532287:Ct=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?Ct=.09926337893072812:Ct=-.027753610497327715:e[0]>1972.5000000000002?Ct=-.09780045823152517:Ct=.032380915168504935:Ct=.11502632261226381:e[17]>1e-35?Ct=-.06094965899579662:e[10]>40.50000000000001?Ct=-.07500475582440802:Ct=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?Ct=-.09584538995220808:Ct=-.00908705814304442:Ct=.03203281520813893:e[10]>49.50000000000001?Ct=-.03146271513986384:e[2]>63.50000000000001?Ct=.13172001315536286:e[224]>1e-35?Ct=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?Ct=.09521549382082259:Ct=-.04414925613522197:e[0]>1847.5000000000002?Ct=-.09118580379557353:Ct=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?Ct=.03525144509943896:Ct=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?Ct=-.04766112322938157:e[2]>10.500000000000002?Ct=.0728516504357201:Ct=-.05049625965272536:Ct=-.10868663055825774:Ct=.0005382613419948969;let Pt;e[147]>1e-35?e[1]>53.50000000000001?Pt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Pt=-.030504020655417463:Pt=.07102458639110094:Pt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Pt=.055304563442710876:e[1]>53.50000000000001?Pt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Pt=-.1568835288372895:Pt=-.0279829124400056:Pt=.04493843959601833:Pt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Pt=-.054133834303687026:e[9]>48.50000000000001?Pt=.11263810289007213:e[9]>9.500000000000002?Pt=-.02202034562838259:e[4]>45.50000000000001?Pt=-.03410927569045158:Pt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Pt=-.029687297407295893:Pt=.10673602850001934:e[4]>42.50000000000001?Pt=.0036275562945108117:Pt=-.0760789221330622:Pt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Pt=.08274426793676076:Pt=-.07076234425516396:Pt=.13890177606150175:Pt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Pt=-.09250637750836187:Pt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Pt=-.01897867921812603:Pt=.04890781705365262:Pt=-.11569892307597907:e[2]>106.50000000000001?Pt=.09032697440623969:Pt=.00047935919155035045;let yt;e[115]>1e-35?yt=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?yt=-.10131179514695865:e[8]>938.5000000000001?yt=.10203729808015481:yt=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?yt=.03574015165562999:yt=-.07763042506449493:yt=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?yt=.0665706259130275:yt=-.06586817559309924:yt=.11925564412287476:yt=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?yt=.046017146627455346:yt=-.08623321630086885:e[8]>1765.5000000000002?yt=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?yt=.11143827902215087:yt=-.01817808730473413:yt=.16980985030210127:yt=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?yt=.010168994879727824:yt=-.09099594488792513:e[9]>1.5000000000000002?yt=.0533459678147928:yt=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?yt=-.062346959148773695:e[1]>47.50000000000001?yt=-.0021578343835599316:e[2]>27.500000000000004?yt=.19567373210166172:yt=.07851555379116423:e[18]>1e-35?yt=.03711549097804649:e[8]>359.50000000000006?yt=.012492346746905587:e[4]>20.500000000000004?yt=.047511695735697544:yt=-.07999269063948773:yt=6802045404471004e-20;let Kt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Kt=.0011484728213539738:Kt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Kt=-.09828874964938798:e[8]>1586.5000000000002?Kt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Kt=.011938269926919522:Kt=.17541983715953954:e[19]>1e-35?Kt=.023002786011088672:Kt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Kt=.06508934844183291:Kt=-.10168553534835639:Kt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Kt=.021140806225203937:Kt=-.1167833342453639:e[2]>33.50000000000001?Kt=.13163585734056618:Kt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Kt=.06314479201263888:Kt=-.09639088327091713:e[10]>29.500000000000004?Kt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Kt=40577156464836036e-21:Kt=.12322387121810757:Kt=-.03697224045046014:e[1]>22.500000000000004?Kt=.016474835887320276:Kt=.16919298733903063:Kt=.07633203630214054:Kt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Kt=.14150493354700563:Kt=-.01831155354975749:e[1]>28.500000000000004?Kt=-.07952557178685365:e[10]>28.500000000000004?Kt=.0665695554984927:Kt=-.053640139319277094:Kt=.0004754840665898665;let Xt;e[76]>1e-35?Xt=-.06814884255939921:e[179]>1e-35?Xt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?Xt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?Xt=.004193658608848433:Xt=-.1066968975983452:e[8]>302.50000000000006?Xt=.05476730110440451:Xt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?Xt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?Xt=.013555772109446666:Xt=-.09856116699770784:Xt=.0284329611813383:e[2]>52.50000000000001?Xt=.04008708444763762:e[9]>29.500000000000004?Xt=-.1289599546008197:Xt=-.018566534248335896:e[8]>747.5000000000001?Xt=.02236484980076122:Xt=.1148871655157582:e[8]>3084.0000000000005?Xt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?Xt=.03164751204281298:Xt=.11752140436184891:e[9]>42.50000000000001?Xt=-.07180559595410106:e[22]>1e-35?Xt=.09325040416256854:Xt=-.016041122807939914:Xt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?Xt=-.010718250133458515:Xt=.09818827994853763:Xt=.010180038981174032:Xt=-.039472162599295535:e[9]>170.50000000000003?Xt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?Xt=-.08674788057474031:Xt=.02077653508548371:Xt=-.0003536561382007414;let ar;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?ar=.018337297491457794:ar=-.05926206443180149:ar=.024026520855881126:e[288]>1e-35?e[184]>1e-35?ar=.10747078482128616:e[126]>1e-35?ar=-.10550625192391357:e[7]>71.50000000000001?ar=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?ar=.1317396472229434:ar=-.025035791351328947:ar=-.0728334305864372:e[8]>963.5000000000001?ar=.023642201723096064:ar=.183010326734258:e[128]>1e-35?ar=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?ar=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?ar=-.1088876900335281:ar=.02758317023002635:ar=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?ar=-.01928020117446408:ar=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?ar=.07893723375925096:ar=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?ar=-.10301657587280551:ar=.005787463140224318:ar=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?ar=-.019296977889522397:ar=-.07274529751752634:e[1]>30.500000000000004?ar=-.050368901143148286:ar=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?ar=.0015332402792773946:ar=.09930153676749967:ar=-.06370844564357069:ar=.00042272155209927616;let ge;e[71]>1e-35?e[4]>17.500000000000004?ge=.12586844370423247:ge=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?ge=-.08474891624263797:e[8]>125.50000000000001?ge=.08125086980439704:ge=-.04082085238068532:e[0]>3863.5000000000005?ge=.020481535807469208:ge=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?ge=-.019110200161573936:ge=-.12387719685855114:e[0]>1102.5000000000002?ge=.08376595701957407:ge=-.031821919580524834:e[9]>4.500000000000001?ge=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?ge=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?ge=.1349841206807871:ge=.011864053595560297:e[1]>41.50000000000001?ge=-.08203662486612544:e[2]>18.500000000000004?ge=-.009541865642346947:ge=.08345043168501759:e[2]>10.500000000000002?ge=-.09585031818030947:ge=.019432330487099865:ge=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ge=.11951517733981365:ge=-.016651014735738538:e[1]>28.500000000000004?ge=-.07410922545030711:e[10]>28.500000000000004?ge=.05886430683844788:ge=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?ge=.04802269879144705:ge=-.026208212831796737:e[4]>45.50000000000001?ge=-.03227476944664786:ge=.05124575625622705:ge=.00020506696916003137;let Me;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Me=-.03042091758483443:e[10]>14.500000000000002?Me=.09816619204768777:Me=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Me=-.02381165060401718:Me=-.10950361804974783:Me=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Me=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Me=-.06371052144380579:Me=.0835500621252692:Me=-.10408255929333915:e[1]>74.50000000000001?Me=.13208968122712403:e[1]>64.50000000000001?Me=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Me=.09922816902423433:Me=.016366955328796718:Me=.1592412560903584:e[1]>39.50000000000001?Me=.05409467990258923:Me=-.08260633210459611:Me=-.06307205775247567:e[9]>36.50000000000001?Me=.040253940015648144:Me=.14202568969471283:Me=-.028761848341594044:Me=.08994073058773508:e[0]>807.5000000000001?Me=-.043427848826323195:Me=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Me=-.0758877731600639:e[23]>1e-35?Me=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Me=.08124700978741987:Me=.013296063087086852:e[7]>5.500000000000001?Me=-.01640196088612987:Me=-.12685498840146067:Me=-.0004940792382459551;let Je;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Je=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Je=.08513773825688947:Je=-.1184664832315282:Je=.05676963535893477:Je=.14263843210340613:Je=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Je=-.10669720555606924:Je=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Je=.0664744575868955:Je=-.08469256188890871:Je=-.026746678040592144:e[281]>1e-35?Je=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Je=.012131807587207655:Je=-.12776015795398743:Je=.04320472481083551:Je=.08390980661550446:e[10]>227.50000000000003?Je=-.09771783809101153:e[10]>130.50000000000003?Je=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Je=-.07610698254064358:e[8]>902.5000000000001?Je=-.03136381213599649:e[131]>1e-35?Je=.0704821739127936:e[224]>1e-35?Je=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Je=.10431473040024908:e[8]>841.5000000000001?Je=.07304745320500514:Je=-.038011541882439825:Je=-.01679746695007364:e[0]>3129.5000000000005?Je=.05589952587431965:e[210]>1e-35?Je=.06227198085800842:Je=-.0011341890997947812:e[8]>740.5000000000001?Je=.04817300084412584:Je=-.000577001010789238;let rt;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?rt=-.10504730480402079:e[5]>3341.5000000000005?rt=.11087894671081754:rt=-.0406668834674614:rt=.03308382165616109:e[8]>104.50000000000001?rt=-.10431436764549162:rt=.0073928337244891455:e[4]>34.50000000000001?rt=-.10571751512748416:rt=-.006081128814142983:e[13]>1e-35?rt=.1299673566095023:e[4]>60.50000000000001?rt=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?rt=.04857126072645073:rt=-.03431365358104773:e[4]>16.500000000000004?rt=.04101865986596709:rt=.16480274980378218:e[10]>26.500000000000004?rt=.03673978504199255:e[10]>9.500000000000002?rt=-.10996402743800027:e[308]>1e-35?rt=.0553693735082498:rt=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?rt=.010902983761213922:rt=.1325118659895645:rt=-.064362945508595:e[1]>66.50000000000001?rt=.033416767779331176:rt=-.054080316225040496:e[42]>1e-35?rt=-.07762364337810815:e[10]>1089.5000000000002?rt=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?rt=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?rt=.0220102041325908:rt=-.06516708740003069:rt=.012833498905748267:e[224]>1e-35?rt=-.007038418272997865:rt=.00037666304316290967;let Rt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Rt=.07554189644995735:Rt=-.052089349455904946:Rt=-.10148206848169845:e[113]>1e-35?Rt=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?Rt=.07172653627995676:Rt=-.07602959317610998:Rt=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Rt=-.0399322883690891:Rt=.06523495517476098:Rt=-.10358715295743802:e[193]>1e-35?Rt=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?Rt=.015928764772252406:Rt=.1341513061552287:Rt=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?Rt=-.033592997607280156:Rt=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?Rt=-.08402551858097379:Rt=.017401984506038796:e[1]>25.500000000000004?Rt=.13337205393591278:Rt=-.01160208350090984:Rt=.06708317942315471:e[8]>227.50000000000003?Rt=-.08486943882418681:Rt=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?Rt=-.10496268177586783:Rt=-.020921489532370493:Rt=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?Rt=.11639296062157028:Rt=-.004275784356569115:e[32]>1e-35?Rt=-.07297384970166025:Rt=.006026841626381599:Rt=.002034611134960428;let bt;e[248]>1e-35?bt=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?bt=-.06455513326540585:e[1]>29.500000000000004?bt=.07718474591552532:e[4]>7.500000000000001?bt=.040139336931404826:bt=-.09685734690563386:bt=.00015327283570347363:e[9]>88.50000000000001?bt=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?bt=-.04077257804338707:bt=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?bt=.03778141591008941:bt=-.06459919920634845:bt=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?bt=.14063930759326346:e[0]>179.50000000000003?bt=.07287482250668585:e[8]>1180.5000000000002?bt=-.14419393112726253:e[10]>28.500000000000004?bt=-.07993142770099469:e[17]>1e-35?bt=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?bt=.05527969663610186:bt=-.10824385941441346:e[3]>11.500000000000002?bt=.12358502961047915:bt=-.017509147119622873:e[0]>74.50000000000001?bt=-.014907705458730486:e[8]>95.50000000000001?bt=-.02225118168342062:bt=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?bt=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?bt=.04962819555610421:bt=-.07213577821855309:bt=.09139529824708481:e[19]>1e-35?bt=.013439401088345224:bt=-.049274647207292056:bt=.10531673719686951;let Mt;e[40]>1e-35?e[0]>1937.5000000000002?Mt=-.06421671152073961:Mt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Mt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Mt=-.03520420769287065:e[8]>1085.5000000000002?Mt=-.019817352506127633:Mt=.11444439424520964:Mt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Mt=-.010490117519863269:Mt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Mt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Mt=.06619344145920268:e[0]>4091.5000000000005?Mt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Mt=.10016091391222309:Mt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Mt=-.019511460451434884:Mt=-.11643672465055221:e[2]>18.500000000000004?Mt=.07848228087333317:e[8]>55.50000000000001?Mt=.032583027899956235:Mt=-.11209832692153521:e[11]>1e-35?Mt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Mt=-.09996887746328006:e[9]>2.5000000000000004?Mt=.02157682011863397:Mt=-.05247727848991843:Mt=.07409150201483244:e[1]>38.50000000000001?Mt=-.11378466075449625:e[224]>1e-35?Mt=-.10741749127732923:e[1]>26.500000000000004?Mt=.07343136534146562:Mt=-.07013573628594773:e[25]>1e-35?Mt=-.04626669734164317:Mt=.05518333197956482:Mt=.00032434010867555516;let Ot;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Ot=.026313251010808853:Ot=-.08997339150292381:Ot=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Ot=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Ot=.0905155504503746:e[8]>1049.5000000000002?Ot=-.062312558183394054:e[8]>719.5000000000001?Ot=.09583836191410239:e[0]>3719.5000000000005?Ot=-.0778097309430818:Ot=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Ot=-.12920865648544927:e[0]>2699.5000000000005?Ot=-.07086587879041864:Ot=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Ot=-.11377786322600797:Ot=-.009486325820117998:e[1]>55.50000000000001?Ot=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Ot=-.07938291201004219:e[2]>36.50000000000001?Ot=.01520046732530246:Ot=.13649854049662832:Ot=-.07145015938528873:e[8]>407.50000000000006?Ot=-.00350257360822279:Ot=.11332047082193297:Ot=-.10060624458629897:Ot=.05429496612497562:e[8]>1446.5000000000002?Ot=.006073419197482838:Ot=-.08718676350883998:Ot=-.11532497988252638:Ot=.10766270463068293:e[34]>1e-35?Ot=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Ot=-.0004109812623829506:Ot=.021601073497455662:Ot=-7343540098965853e-20;let _t;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?_t=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?_t=.05995640200798119:e[0]>3443.5000000000005?_t=-.14698883458733583:_t=-.030039164579240187:e[189]>1e-35?_t=-.06086763220538141:e[1]>86.50000000000001?_t=-.05096727866142538:e[4]>64.50000000000001?_t=.11240554253834577:e[4]>45.50000000000001?_t=-.030279760168394117:e[6]>45.50000000000001?_t=.10161088917815142:e[10]>77.50000000000001?_t=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?_t=-.06672020005240323:_t=.08831457502630258:e[8]>2592.5000000000005?_t=-.052617701047376654:e[10]>29.500000000000004?_t=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?_t=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?_t=-.064099222705728:_t=.044332487521538365:e[0]>2882.5000000000005?_t=.031099546885005065:_t=.12938467051623853:e[0]>4221.500000000001?_t=-.0928676413498701:e[9]>30.500000000000004?_t=-.05781824812803708:_t=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?_t=-.06648105454098469:_t=.05985487552383097:_t=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?_t=.05282385499619401:e[1]>66.50000000000001?_t=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?_t=.027885690791379255:_t=-.08407126408362446:_t=.014432924125571093:_t=-9903435845205118e-20;let kt;e[76]>1e-35?kt=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?kt=.013633653464240465:kt=-.10164319411983509:kt=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?kt=.00632864847804078:kt=-.08393000368134668:kt=.07870508617440916:e[284]>1e-35?kt=.1092302727710421:kt=-.0025505047582483234:e[248]>1e-35?kt=.07101822393621864:e[274]>1e-35?kt=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?kt=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?kt=.025081789181021243:kt=-.014813325803582618:e[9]>33.50000000000001?kt=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?kt=.11926990418060353:kt=.01852125513565268:kt=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?kt=-.1178464984373743:e[283]>1e-35?kt=.043370859226927405:e[5]>4320.500000000001?kt=-.01103141226366587:e[8]>1104.5000000000002?kt=-.023053423988095886:kt=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?kt=.000579145585864887:kt=.03389152834202143:e[128]>1e-35?kt=-.14527722052568462:e[210]>1e-35?kt=-.08915971541902741:e[7]>9.500000000000002?kt=-.03307314577076116:e[18]>1e-35?kt=-.05521712302023565:kt=.009315605032770029:kt=.0036332551852289933;let St;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?St=-.07583539600416284:e[188]>1e-35?St=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?St=-.011038193049597113:St=.08154028164397753:e[1]>85.50000000000001?St=.10259361975201933:St=.011640408330521594:St=-.00023319159023748508:e[92]>1e-35?St=.13771692859530546:St=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?St=.09967230141007705:e[30]>1e-35?St=-.08888529037551285:St=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?St=.08284665960761373:St=-.029292565021289504:e[7]>7.500000000000001?St=-.09945093355204493:St=-.008381393701708593:e[20]>1e-35?St=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?St=.07585582641438211:e[8]>284.50000000000006?St=-.029387993239886723:St=.07716738177321587:e[1]>18.500000000000004?St=.026745348497993746:St=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?St=.02337306890530338:St=-.10390355904767366:St=.07390521199638532:St=-.06788247515155237:St=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?St=-.06360325615644084:St=.04342192339836601:St=-.10598779152030145:St=.05253384605768211;let qt;e[3]>7.500000000000001?e[157]>1e-35?qt=-.07514182877923786:qt=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?qt=.028692053800951845:qt=.14081686716133598:qt=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?qt=.0037139292567243084:qt=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?qt=.01202688580305612:qt=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?qt=.043935495082738626:qt=-.05639305759669704:e[247]>1e-35?qt=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?qt=.10331836202616368:qt=.0006926658459781341:e[96]>1e-35?qt=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?qt=-.0741403257305367:qt=.022900127535540854:e[7]>3.5000000000000004?qt=.038110741403836294:qt=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?qt=-.09552842289807008:e[1]>27.500000000000004?qt=.012505935885798007:qt=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?qt=-.1046104767723845:qt=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?qt=.023466328488582572:qt=.11730925774586994:qt=-.04771965631104874:qt=.17059689880751394:qt=-.08181850955999449:e[26]>1e-35?qt=-.12727482696678769:qt=-.014343123272734182;let $t;e[147]>1e-35?e[1]>53.50000000000001?$t=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?$t=-.02763546051134888:$t=.06423344777499343:$t=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?$t=.049825139823021586:e[7]>22.500000000000004?$t=-.01131680751379858:e[0]>2579.5000000000005?$t=-.10673674485369694:$t=-.015387212937189957:$t=.04347325151148724:e[179]>1e-35?$t=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?$t=.0650355590939066:$t=-.0473332870892226:$t=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?$t=.11139543329789044:e[126]>1e-35?$t=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?$t=.06370903833231022:e[10]>29.500000000000004?$t=.03415223859607161:e[10]>3.5000000000000004?$t=-.07415518117873297:$t=-.0014119203473324082:$t=.12617652343819508:e[9]>41.50000000000001?$t=-.10311145857176976:e[8]>2757.5000000000005?$t=-.08106484219011428:e[7]>71.50000000000001?$t=-.09783384432091176:e[1]>88.50000000000001?$t=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?$t=-.008884084501608536:$t=.061339437777743616:$t=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?$t=.01526664064166223:$t=.13534828515415498:$t=-.06985484465894776:$t=.0005758961943178744;let Zt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?Zt=-.029152732370514342:Zt=.07173628916139178:e[1]>36.50000000000001?Zt=-.08859111297255318:Zt=.0018030071815630785:Zt=.13652461563759322:Zt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?Zt=-.07145140450454163:e[21]>1e-35?Zt=-.07422841663493233:Zt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?Zt=.11864240653986852:e[3]>33.50000000000001?Zt=-.08821209591953476:Zt=.05706392280054726:Zt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?Zt=.01953613016837112:Zt=-.059781039130025006:e[148]>1e-35?Zt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?Zt=.07207826841738371:e[202]>1e-35?Zt=.08163917539410503:Zt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?Zt=-.06858280496900336:Zt=-.1781828899516648:Zt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?Zt=.018232649414147116:Zt=-.04419781124222661:Zt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?Zt=.11452368095776105:Zt=-.036496437259924026:Zt=-.040445338739465486:Zt=.0816572651001145:Zt=-.08968914517368663:Zt=.0002826343082585516;let fr;e[189]>1e-35?e[0]>5269.500000000001?fr=-.08839493050459957:e[10]>85.50000000000001?fr=.10046908365702462:e[8]>2592.5000000000005?fr=-.09632233975926387:e[8]>2000.5000000000002?fr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?fr=.035504970430426296:e[1]>31.500000000000004?fr=-.1133764813142531:fr=-.01138280942244812:e[8]>1125.5000000000002?fr=.09800530246229806:fr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?fr=.07316772160107896:fr=-.059095014819051765:fr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?fr=-.09150209066166894:e[8]>3084.0000000000005?fr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?fr=-.04449234460408263:fr=.05568837973347338:fr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?fr=.12741077850267066:fr=.007372371864985329:e[2]>39.50000000000001?fr=.02295917234617787:fr=.14966532083907075:e[1]>39.50000000000001?fr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?fr=-.02511861881285652:e[1]>27.500000000000004?fr=.08683660011672288:fr=.02956214835267301:e[9]>15.500000000000002?fr=-.016538805462996232:fr=.04352738094981517:fr=-.05561856645643868:e[9]>170.50000000000003?fr=-.07996752635874248:e[179]>1e-35?fr=-.09065975936933919:fr=-.00042817975060427177;let xr;e[39]>1e-35?e[4]>25.500000000000004?xr=.03443173196222934:xr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?xr=-.0013415395759330318:xr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?xr=.002297618040307216:xr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?xr=-.015297257305397608:xr=.09651828834062742:xr=-.06636003334371929:e[10]>11.500000000000002?xr=.17631616138309397:e[0]>1639.5000000000002?xr=3804386478092585e-20:xr=-.09099296398683193:xr=-.06874415876172972:e[0]>2151.5000000000005?xr=-.1311264883406766:xr=.00809052010141122:e[253]>1e-35?xr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?xr=.045038497754638605:xr=-.07770167665661752:xr=-.08596294280650517:xr=.08538655727027213:xr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?xr=.054627956617973275:e[1]>61.50000000000001?xr=-.11994465088415499:e[4]>8.500000000000002?xr=.06676200239406452:xr=-.027503148069376867:e[8]>676.5000000000001?xr=-.10363964928357075:e[4]>8.500000000000002?xr=-.07589816227175682:xr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?xr=.009093153189012338:xr=-.06119765876605404:xr=.0004668642103528348;let cr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?cr=-.10100794502567233:cr=.08000205636470442:cr=-.11945419826856896:e[113]>1e-35?cr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?cr=.1224302423880318:cr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?cr=.0019277012166729114:e[1]>28.500000000000004?cr=-.054445821715687494:cr=.045645722976713245:e[30]>1e-35?cr=.13402660155331655:cr=.008921176001777645:cr=-.058547426505451076:cr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?cr=-.13526418192218206:cr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?cr=.0007263224246135398:cr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?cr=-.11575657261278308:cr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?cr=-.01995960178292952:cr=.11216586049153021:cr=-.10050961087149474:cr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?cr=.10303451081526649:cr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?cr=-.043799548968209395:cr=-.12451444314954115:e[4]>12.500000000000002?cr=-.03838117361958468:cr=.06504990789767144:e[57]>1e-35?cr=.06890006938293915:cr=.0003914274695562949;let mr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?mr=.004271749009686975:mr=-.10523878297127605:mr=.04633982158107851:mr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?mr=-.08655730561951676:e[8]>919.5000000000001?mr=-.0676453705610183:e[7]>18.500000000000004?mr=-.027787974193650575:mr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?mr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?mr=-.03473877164537313:e[8]>719.5000000000001?mr=.10471053866934404:mr=.008236107678382981:e[4]>57.50000000000001?mr=.09412219478825269:e[10]>66.50000000000001?mr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?mr=-.040681323751002293:mr=.06374650297561021:mr=.12884615227401788:e[10]>5.500000000000001?mr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?mr=-.05474068967150784:mr=.03744700650806603:mr=-.07846396348680855:e[1]>42.50000000000001?mr=.018972315810821302:mr=.10953621007604744:e[5]>4439.500000000001?mr=.010999776705494586:e[1]>40.50000000000001?mr=-.12394200059775967:e[10]>2.5000000000000004?mr=.013528093962849453:mr=-.09222088417048682:mr=-.12662967149701485:mr=.09327296405849603:e[3]>99.50000000000001?mr=-.013581954439986752:mr=.0005526498251862075;let nr;e[187]>1e-35?e[243]>1e-35?nr=-.08392792551692502:e[10]>68.50000000000001?nr=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?nr=-.0825306209711224:nr=.049559996084532945:nr=-.1064938580886302:nr=.03353240732240275:nr=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?nr=.16966001471529374:e[1]>57.50000000000001?nr=-.005772777673676247:nr=.09383677041525058:e[8]>747.5000000000001?nr=.054068175469351235:nr=-.049968216310277036:e[8]>753.5000000000001?nr=-.0679383555784074:e[4]>8.500000000000002?nr=-.059757341189735386:nr=.05701083682780414:nr=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?nr=.05820296128730006:nr=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?nr=.15340611616954566:nr=.04385036188666874:e[0]>4449.500000000001?nr=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?nr=.004840354641006495:nr=.09967827580276283:nr=.11605363537391578:e[9]>19.500000000000004?nr=-.0735831692725717:nr=.019973331823355176:e[306]>1e-35?e[149]>1e-35?nr=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?nr=-.02442182361342386:nr=.10334853004243093:nr=-.030431948680167104:nr=-956078595250818e-19;let hr;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?hr=-.040232505718244854:e[0]>3030.5000000000005?hr=.0634109586813073:hr=-.04043617034245621:hr=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?hr=-.007859096946435131:hr=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?hr=.05515771679628051:hr=-.04214471312668263:hr=-.09589322222261765:e[193]>1e-35?hr=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?hr=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?hr=-.08152604001147906:e[11]>1e-35?hr=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?hr=.13100930780107503:e[10]>25.500000000000004?hr=.05921074710011526:hr=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?hr=.0009447118243153454:hr=-.09820565036865991:hr=.057146909749745546:e[0]>2115.5000000000005?hr=-.12331216726611678:hr=.007281983677694285:e[2]>56.50000000000001?hr=.012310154675612615:hr=-.08873665774670461:e[6]>25.500000000000004?hr=.134708740821879:e[9]>5.500000000000001?hr=-.0805901581148979:e[224]>1e-35?hr=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?hr=.10842593386554122:e[2]>13.500000000000002?hr=.06466798320378395:hr=-.08578130788886655:hr=-.03590892078300114:hr=.0003499894043880708;let Ie;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?Ie=.10839808814624702:Ie=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?Ie=-.007478368069393829:Ie=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?Ie=.04035247751736232:e[0]>4255.500000000001?Ie=-.1310865624507367:e[0]>4004.5000000000005?Ie=.06647367311982634:Ie=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?Ie=-.011618902907510411:Ie=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?Ie=.09356028223727986:Ie=-.03811765057032162:Ie=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?Ie=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?Ie=.1146142460964847:e[1]>62.50000000000001?Ie=-.09679869865322362:e[9]>71.50000000000001?Ie=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?Ie=-.039046426387852974:Ie=.04558778688367152:Ie=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?Ie=.03261697816211156:e[15]>1e-35?Ie=.02586252542264368:e[2]>14.500000000000002?Ie=-.016420452667484604:Ie=-.1011799626006976:Ie=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?Ie=.010193588102560583:Ie=.11748729525930773:Ie=-.04468162226743652:Ie=-.028365274393617957:e[71]>1e-35?Ie=.05115139346588793:Ie=-.0001510425316936658;let O;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?O=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?O=.020637047900190317:O=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?O=-.04632587527094407:O=.08603684785510396:O=-.05101401015448496:O=.025466432054358498:O=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?O=.020385355430046367:O=.12032592051335252:O=-.012387370292173013:e[2]>23.500000000000004?O=-.12568545484492677:O=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?O=.043528764484784536:O=.14352071657196003:O=-.009332833816977268:O=.11186782227735846:O=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?O=-.05649104643152564:O=.03884200719305747:e[42]>1e-35?O=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?O=-.04103416502526736:O=.04881823954656287:e[4]>15.500000000000002?O=.009342724662897898:e[0]>3969.5000000000005?O=-.025637309961309498:O=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?O=-.08185697075265091:e[0]>2215.5000000000005?O=.030063975892297354:e[0]>807.5000000000001?O=-.03924325550733229:O=.0415330999189793:O=-.00024374664461674863;let de;e[3]>7.500000000000001?de=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?de=.025798416259686565:de=.13251610353146012:de=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?de=-.11098564237775424:de=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?de=.15347826616466054:e[3]>4.500000000000001?de=.10379320730958941:de=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?de=.03159791088468647:de=-.10612873364104258:de=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?de=-.02335760775001469:de=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?de=-.011164334474672973:de=-.06594044410501655:e[207]>1e-35?de=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?de=-.01725821503981916:de=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?de=-.04226531631656534:de=-.14409800530171432:de=-.03245576341206398:e[8]>4214.500000000001?de=.0895409165534886:e[247]>1e-35?de=-.06506383629143335:e[118]>1e-35?de=-.07214270121257443:e[8]>546.5000000000001?de=-.004385020865473831:de=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?de=.046278501133958524:de=-.030835570926968044:e[0]>493.50000000000006?de=-.12794504651610425:de=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let J;e[7]>17.500000000000004?e[115]>1e-35?J=.08741852531696623:e[167]>1e-35?J=.10078975495600809:J=-.0018324767784017562:e[290]>1e-35?J=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?J=.1379733311640402:J=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?J=-.09360083033774169:J=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?J=-.015599362579530679:e[0]>4593.500000000001?J=-.12029549262691491:J=-.018917032256501397:J=.04632831686576592:J=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?J=-.05894883236412263:J=.05213944998315824:J=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?J=.07577412405680808:J=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?J=-.0277076900736147:e[1]>65.50000000000001?J=-.023587471585763506:J=.10184896592433082:J=-.057699270527916825:J=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?J=.06566902102799584:e[10]>25.500000000000004?J=-.07033633753181047:J=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?J=-.08108035861059537:J=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?J=-.12431182772561139:J=.01886235886984271:J=.0025579594894418116;let F;e[8]>2915.5000000000005?e[101]>1e-35?F=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?F=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?F=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?F=.0687641681341721:e[10]>102.50000000000001?F=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?F=-.06762578396473291:e[10]>65.50000000000001?F=-.05226727783610509:e[282]>1e-35?F=.09911438410640917:e[19]>1e-35?F=.06915156336429933:F=-.006565637886508241:F=-.08344300251849307:F=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?F=.19428463865406298:F=.016073883020956765:e[13]>1e-35?F=.06864077097923665:F=-.01388867527034731:e[0]>1847.5000000000002?F=.004655280608161356:e[1]>40.50000000000001?F=.031406054057765996:F=.12798062439212832:F=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?F=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?F=-.0706095614785733:F=.04227164041372561:F=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?F=-.07139533369873902:F=.008952586782921625:F=.06086212582180936:F=-.0816938490403437:F=-.051224901945956025:F=-.10525399124186095:F=.000270924147208224;let Te;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Te=.029186512383291244:e[7]>1.5000000000000002?Te=-.14984127276725573:e[1]>40.50000000000001?Te=.032757060730648144:Te=-.07675575422749602:e[6]>8.500000000000002?Te=.10599766037117893:Te=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Te=-.051394622947855385:Te=.03237141302699347:Te=.12526173027943244:Te=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Te=-.07383912482657777:e[0]>5147.500000000001?Te=.07008813937042091:e[10]>38.50000000000001?Te=-.06779203808365307:Te=-.013782769999524498:Te=.0880038869117715:Te=-.12846294176070952:e[281]>1e-35?Te=-.06810806903850834:e[10]>227.50000000000003?Te=-.08937977001661111:e[10]>130.50000000000003?Te=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Te=.011036530162093841:Te=-.11500797478569702:Te=.03702229366129399:Te=.07242026683784307:e[189]>1e-35?Te=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Te=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Te=-.02608892716555304:Te=.09609599320761308:e[9]>105.50000000000001?Te=-.06848127135991534:Te=.0023675721254089715:e[86]>1e-35?Te=-.11049635625500497:Te=-.004847764219432233;let Oe;e[125]>1e-35?e[0]>3969.5000000000005?Oe=-.09462233499115416:Oe=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Oe=-.030700661288166148:Oe=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Oe=.03149547314036763:Oe=-.08166208257451366:e[0]>5850.500000000001?Oe=-.10228136324773157:e[102]>1e-35?Oe=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Oe=.01782894842128785:e[13]>1e-35?Oe=.002680190260979968:Oe=.1773965720476949:e[2]>72.50000000000001?Oe=.09090831938627947:e[1]>59.50000000000001?Oe=-.12297206702816128:e[0]>4977.500000000001?Oe=.09899015653118268:Oe=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Oe=-.0675900954187773:Oe=.012336403425364092:Oe=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Oe=-.02671721777458802:Oe=-.09242452991958029:e[284]>1e-35?Oe=-.08585691288582491:Oe=.013332890564324447:e[4]>14.500000000000002?Oe=-.005245022074799553:e[23]>1e-35?Oe=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Oe=-.09289852307936758:e[116]>1e-35?Oe=-.09686573010015055:e[8]>804.5000000000001?Oe=.03812547148215318:Oe=.005162744968176633:e[9]>43.50000000000001?Oe=-.059246106396159376:Oe=.050370113808135275:Oe=.000794041852811028;let xt;e[3]>7.500000000000001?xt=.0004981426543104341:e[9]>114.50000000000001?xt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?xt=-.019061766497948867:xt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?xt=-.006044199577160493:xt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?xt=.11486607015912494:e[9]>16.500000000000004?xt=-.08686820858087294:xt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?xt=-.022230207980026437:xt=.1056683690528792:xt=-.05859530800943035:xt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?xt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?xt=-.05177544573528314:xt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?xt=.15159657923771555:xt=-.0060542654587671055:e[9]>5.500000000000001?xt=-.042808028205051786:e[1]>48.50000000000001?xt=-.010449538258110742:xt=.10026907521968294:xt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?xt=-.02272452389409874:xt=-.11202691218244319:e[5]>1809.5000000000002?xt=-.04460413584255906:xt=.08196329474205256:e[10]>69.50000000000001?xt=.10221481166238167:xt=.0004063052701699382:e[243]>1e-35?xt=-.07563941678849846:e[18]>1e-35?xt=.02563513231103432:xt=-.004740081147303786;let Wt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.057446442918106:Wt=-.04404018270156349:Wt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Wt=-.05930486238817954:e[1]>29.500000000000004?Wt=.06955866121256543:e[8]>597.5000000000001?Wt=-.06538593556505168:Wt=.06212512595497445:Wt=.00021102929959182257:e[9]>90.50000000000001?Wt=.0958061289119631:e[102]>1e-35?Wt=.07172059675638813:e[1]>47.50000000000001?Wt=-.03879798603977766:e[297]>1e-35?Wt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Wt=.003805910996312012:Wt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Wt=.11252376801858695:e[288]>1e-35?Wt=-.10293901912180432:Wt=.014669268837893872:e[1]>42.50000000000001?Wt=-.05988274123836837:e[145]>1e-35?Wt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Wt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Wt=-.03366718308159971:Wt=.11936550608549797:e[1]>31.500000000000004?Wt=-.07454716789539667:Wt=.027859650621164217:e[10]>10.500000000000002?Wt=-.11806374092321247:Wt=-.03506042229223101:Wt=-.0007080765837654515:e[10]>6.500000000000001?Wt=-.028077713664996503:e[2]>7.500000000000001?Wt=.15803724124216814:Wt=.0351381284833169:Wt=-.07877953381054767;let Lt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Lt=.14144941521975005:Lt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Lt=.10514088112381886:e[7]>18.500000000000004?Lt=-.10370643555956745:Lt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Lt=-.0508129468802936:e[224]>1e-35?Lt=-.037816066368733595:e[10]>43.50000000000001?Lt=.07793408602607932:Lt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Lt=.036972453794202324:Lt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Lt=.09475302525132188:Lt=-.03580104945898193:Lt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Lt=-.1282448778804823:Lt=-.014395808269207212:Lt=-.008940927190750592:Lt=-.1459118815453748:e[0]>4897.500000000001?Lt=-.09733068457286576:e[1]>57.50000000000001?Lt=.06575271409540207:Lt=-.019556422817450115:Lt=-.10623959222984136:e[18]>1e-35?Lt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Lt=.008125645893104896:Lt=-.11084368630465868:Lt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Lt=-.05854904579626861:e[4]>5.500000000000001?Lt=.02985784951394175:Lt=-.03247600140149334:Lt=-.11152899295304973:Lt=-.00035424577714215764;let or;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?or=-.06563670567578264:or=.067656954313663:or=-.10388217548685377:e[8]>2302.5000000000005?or=.07190621943790435:e[4]>67.50000000000001?or=.060020507643618604:e[4]>38.50000000000001?or=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?or=-.06568134366461277:e[8]>1075.5000000000002?or=-.004768057709758692:or=.11785959165999467:or=-.05080221682879267:or=.14814206127494542:or=-.07241946332311736:e[253]>1e-35?or=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?or=-.02471195342450034:or=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?or=-.10741850739482771:or=.010051635824944:or=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?or=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?or=-.08992396138178163:or=.010944365997007212:or=.06221307021813793:or=.1286024087559141:e[127]>1e-35?or=.06568148624531012:e[10]>40.50000000000001?or=-.07567979134643352:e[5]>5647.500000000001?or=.07594672895572069:or=-.018158016446439187:e[6]>55.50000000000001?or=.009293422430111872:e[4]>45.50000000000001?or=-.017749818406964022:e[2]>46.50000000000001?or=.01714136511113982:or=-724762291423549e-19;let lr;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?lr=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?lr=.07084726276890757:lr=-.11232323677722932:lr=.04812773089510436:lr=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?lr=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?lr=.0879462816013881:lr=-.002966662093626573:e[306]>1e-35?lr=-.04588085188342676:lr=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?lr=-.006600332774461143:lr=.1272481351557754:lr=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?lr=.011884312066620044:lr=.11678751052403374:e[4]>8.500000000000002?lr=.03627129613273813:lr=-.12132783497902287:lr=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?lr=-.06830131718398992:e[0]>5147.500000000001?lr=.062360406249609306:e[4]>4.500000000000001?lr=-.013162203864592055:lr=-.07153029184927609:lr=.07628618062271557:lr=-.12085065687320373:e[190]>1e-35?lr=-.045816889524231186:e[137]>1e-35?lr=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?lr=.025895337822752502:lr=-.06503949350616421:e[10]>227.50000000000003?lr=-.09989456525790491:e[10]>130.50000000000003?lr=.08616651057030683:lr=.0001234981796706021;let Ut;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ut=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ut=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ut=-.141732381961068:Ut=-.0317152307496497:Ut=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ut=.12191801556691254:Ut=-.0003444689085397977:Ut=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ut=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ut=-.05676033995381961:Ut=.10933961076803381:e[4]>26.500000000000004?Ut=-.11667582544549814:e[8]>1765.5000000000002?Ut=.032174455312047705:Ut=-.0755016390126608:e[293]>1e-35?Ut=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ut=.026571311956824436:e[15]>1e-35?Ut=.06175459479851121:Ut=-.018778084411148754:e[9]>40.50000000000001?Ut=-.09420232889965811:Ut=-.004578248021263184:e[2]>1.5000000000000002?Ut=.005453714644971445:Ut=-.03907138175699279:Ut=-.055296364182154736:e[23]>1e-35?Ut=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ut=-.09358146510580179:Ut=.060524657996178094:Ut=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ut=-.12698331085931538:Ut=.006059605604079918:e[2]>196.50000000000003?Ut=-.09451315810804783:Ut=.0011390147031687425;let It;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?It=.05517359070460923:It=-.04758751221404857:It=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?It=.1040436595565776:e[9]>21.500000000000004?It=.04032250517675179:e[107]>1e-35?It=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?It=.1192453009230486:e[1]>51.50000000000001?It=.0443376336292195:It=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?It=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?It=-.08999822408398037:It=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?It=-.061850439226075:It=.08849196353361093:It=.10536348167793089:e[92]>1e-35?It=.04894947712119185:e[9]>16.500000000000004?It=.05900227903883853:e[9]>5.500000000000001?It=-.11946594348916476:It=-.03652096348071964:e[1]>41.50000000000001?It=-.07411603110840567:It=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?It=.08493634342741495:e[11]>1e-35?It=-.10899097825564363:It=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?It=.08356655906359918:e[7]>25.500000000000004?It=-.09475076526194888:e[10]>5.500000000000001?It=-.01999406228763778:It=.06696212545889428:e[6]>20.500000000000004?It=.14713592661393468:It=.0459917279002218:It=.00027445928493734093;let ur;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?ur=-.06904501553217077:ur=.05696231672035904:ur=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?ur=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?ur=-.011419256378538392:e[0]>3830.5000000000005?ur=.140315841503076:ur=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?ur=-.04027822909411164:ur=.03176085103667189:ur=.06779515865838849:e[4]>15.500000000000002?ur=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?ur=.06124039747298539:ur=-.04312732764434027:ur=.09161522761808062:ur=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?ur=.11211681010488772:e[13]>1e-35?ur=.06725735814960367:ur=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?ur=.11743605068905603:ur=-.011309033539148687:ur=-.07896094707523052:ur=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?ur=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?ur=.02836295848998302:ur=.12210680366745175:ur=-.058302317470509096:e[5]>4144.500000000001?ur=.06123341960495106:ur=-.03840046906926525:ur=-.05221474543453495:ur=.03988215485860711:ur=-.00033074684693083496;let zo=Edt(t+r+n+i+o+a+l+c+u+f+m+h+p+g+y+v+b+E+_+k+B+N+M+re+pe+Z+G+q+ie+z+H+U+V+Y+ae+te+le+ce+De+be+qe+Re+Xe+ft+at+lt+oe+Ne+Ae+Ge+K+ne+Fe+Se+Ce+Ue+Ve+tt+Ct+Pt+yt+Kt+Xt+ar+ge+Me+Je+rt+Rt+bt+Mt+Ot+_t+kt+St+qt+$t+Zt+fr+xr+cr+mr+nr+hr+Ie+O+de+ye+J+F+Te+Oe+xt+Wt+Lt+or+lr+Ut+It+ur);return[1-zo,zo]}s(QIe,"multilineModelPredict");function Edt(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}s(Edt,"sigmoid");var Idt={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},OIe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function UIe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let o=i[t];return(Idt[r]??[]).some(l=>o.includes(l))}s(UIe,"hasComment");var tO=class{static{s(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),o=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=o[1].length,this.rstripLastLineStripLength=o[1].trim().length,this.secondToLastLineHasComment=UIe(t,-2,r),this.rstripSecondToLastLineHasComment=UIe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],o=r[n-1];return o==""&&n>1&&(o=r[n-2]),[i,o]}},vre=class{static{s(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new tO(t,n),this.suffixFeatures=new tO(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(OIe).length+1).fill(0);r[OIe[this.language]??0]=1;let n=new Array(Object.keys(au).length+1).fill(0);n[au[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(au).length+1).fill(0);i[au[this.prefixFeatures.rstripLastChar]??0]=1;let o=new Array(Object.keys(au).length+1).fill(0);o[au[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(au).length+1).fill(0);return a[au[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,o,a)}};function Tdt(e,t){return new vre(e.prefix,e.suffix,t)}s(Tdt,"constructMultilineFeatures");function qIe(e,t){let r=Tdt(e,t).constructFeatures();return QIe(r)[1]}s(qIe,"requestMultilineScore");d();d();d();d();async function*CA(e,t){for await(let r of e)yield t(r)}s(CA,"asyncIterableMap");async function*WIe(e,t){for await(let r of e)await t(r)&&(yield r)}s(WIe,"asyncIterableFilter");async function*gS(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}s(gS,"asyncIterableMapFilter");async function*GIe(...e){for(let t of e)yield*t}s(GIe,"asyncIterableConcat");d();async function AS(e,t,r,n){let i=dn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(dr).updateExPValuesAndAssignments(n,i)}s(AS,"createTelemetryWithExpWithId");function g0(e,{turn:t,conversation:r}={},n){return AS(e,t?.telemetryId??"",r?.telemetryId??"",n)}s(g0,"createTelemetryWithExpWithTurn");function yS(e,t,r,n,i,o,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),o&&(u.suggestionId=o),l.length>0&&(u.skillResolutionsJson=JSON.stringify(wdt(l))),a=a.extendedBy(u,f),a}s(yS,"extendUserMessageTelemetryData");function wdt(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}s(wdt,"mapSkillResolutionsForTelemetry");function HIe(e,t,r,n,i,o,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),rO(e,o,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}s(HIe,"createUserMessageTelemetryData");function jIe(e,t,r,n,i,o,a,l){let c=Sdt(n);return rO(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:o,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}s(jIe,"createModelMessageTelemetryData");function VIe(e,t,r,n,i,o,a){rO(e,o,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}s(VIe,"createOffTopicMessageTelemetryData");function $Ie(e,t,r,n,i,o,a,l,c){let u=rO(e,l,r,n,{source:"suggestion",suggestion:o,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return _dt(e,r,o,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}s($Ie,"createSuggestionMessageTelemetryData");var zIe={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function YIe(e,t,r){let n=await g0(e.ctx,e),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";Af(e.ctx,void 0,{conversationId:e.conversation.telemetryId,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.telemetryId,provider:t,uiKind:i},r,"index.codesearch",n)}s(YIe,"telemetryIndexCodesearch");function rO(e,t,r,n,i,o,a){let l=a??dn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=_r();i.messageId=h,c.messageId=h}t&&(i.languageId=t.detectedLanguageId,o.documentLength=t.getText().length,o.documentLineCount=t.lineCount);let u=l.extendedBy(i,o),f=l.extendedBy(c),m=lu(r);return jt(e,`${m}.message`,u),jt(e,`${m}.messageText`,f,1),u}s(rO,"telemetryMessage");function KIe(e,t,r,n){Af(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}s(KIe,"createSuggestionShownTelemetryData");function _dt(e,t,r,n,i,o,a,l){Af(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:o,uiKind:t},{},"conversation.suggestionSelected",a)}s(_dt,"createSuggestionSelectedTelemetryData");function Af(e,t,r,n,i,o){let a=o??dn.createAndMarkAsIssued();t&&(r.languageId=t.detectedLanguageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return jt(e,i,l),l}s(Af,"telemetryUserAction");function F8(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return jt(e,"engine.messages",n,1)}s(F8,"logEngineMessages");function lu(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}s(lu,"telemetryPrefixForUiKind");function Sdt(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let o=t[i];o.startsWith("```")&&(n.length>0&&o==="```"?r.push(n.pop()):n.length===0&&n.push(o.substring(3)))}return r}s(Sdt,"getCodeBlocks");function JIe(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}s(JIe,"uiKindToIntent");function W5(e){return e==="inline"?"conversationInline":"conversationPanel"}s(W5,"conversationSourceToUiKind");d();var uu=new Gt("streamChoices"),bre=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new Tre;this.tool_calls=[];this.function_call=new Ire;this.copilot_references=[];this.yielded=!1}static{s(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new Ere),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function Rdt(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}s(Rdt,"splitChunk");var Ere=class{constructor(){this.arguments=[]}static{s(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},Ire=class{constructor(){this.arguments=[]}static{s(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},Tre=class{constructor(){this.current={}}static{s(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(o=>o.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},G5=class e{constructor(t,r,n,i,o,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=o;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=H5(this.response);this.stats=new wre;this.solutions={}}static{s(this,"SSEProcessor")}static create(t,r,n,i,o,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,i,o??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),uu.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),uu.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,o;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;uu.debug(this.ctx,"chunk",a.toString());let[l,c]=Rdt(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,o,t);return}n=null;let m;try{m=JSON.parse(f)}catch{uu.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&kdt(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?uu.error(this.ctx,"Error in response:",m.error.message):uu.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=H5(this.response,m),this.requestId.created===0&&m.choices?.length&&uu.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),o===void 0&&m.usage&&(o=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];uu.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new bre);let g=this.solutions[p.index];if(g==null)continue;g.append(p);let y=this.asSolutionDecision(),v=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||v){let E=g.text.join("");if(y=this.asSolutionDecision(await t(E,{text:E,index:p.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:s(()=>CS(g),"getAPIJsonData"),finished:!!p.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&g.function_call.name!==void 0){n=p.finish_reason;continue}if(p.finish_reason&&(y.yieldSolution=!0,y.continueStreaming=!1),!y.yieldSolution)continue;let b=p.finish_reason??"client-trimmed";if(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:b,engineName:i??"",engineChoiceSource:T5(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:g.yielded||(this.stats.markYielded(p.index),yield{solution:g,finishOffset:y.finishOffset,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:o},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;y.continueStreaming||(this.solutions[p.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:o},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&uu.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{uu.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[o,a]of Object.entries(this.solutions)){let l=Number(o);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:s(()=>CS(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(uu.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function nO(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(uu.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),uu.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),uu.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=CS(t.solution);return iO(e,n,o,t.index,t.requestId,i,r)}s(nO,"prepareSolutionForReturn");function CS(e){let t=e.text.join(""),r=Bdt(e),n=Ddt(e),i=e.copilot_annotations.current,o={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return o;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...o,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}s(CS,"convertToAPIJsonData");function kdt(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}s(kdt,"isCopilotConfirmation");function Bdt(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}s(Bdt,"extractToolCalls");function Ddt(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}s(Ddt,"extractFunctionCall");var wre=class{constructor(){this.choices=new Map}static{s(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new _re,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},_re=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{s(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function oO(e,t){return e!==null&&typeof e=="object"&&t in e}s(oO,"hasKey");function A0(e,t){return oO(e,t)?e[t]:void 0}s(A0,"getKey");var ZIe=Ze(ni());var Js=new Gt("fetchCompletions");function H5(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}s(H5,"getRequestId");function M8(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}s(M8,"getProcessingTime");function e8e(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(e8e,"uiKindToIntent");var fu=class{static{s(this,"OpenAIFetcher")}};function Pdt(e,t,r,n){return ZI(e,t,"proxy","v1/engines",r,n)}s(Pdt,"getProxyEngineUrl");async function XIe(e,t,r,n,i,o,a,l,c,u,f){let m=e.get(Yi),h=Pdt(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},JI(t));for(let[v,b]of Object.entries(o))v=="prompt"||v=="suffix"||v=="context"||(p.properties[`request.option.${v}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=i,jt(e,"request.sent",p);let g=oa(),y=e8e(l);return kx(e,h,a.token,y,i,o,u,f).then(v=>{let b=H5(v,void 0);p.extendWithRequestId(b);let E=oa()-g;return p.measurements.totalTimeMs=E,Js.info(e,`Request ${i} at <${h}> finished with ${v.status} status after ${E}ms`),Js.debug(e,"request.response properties",p.properties),Js.debug(e,"request.response measurements",p.measurements),Js.debug(e,"prompt:",t),jt(e,"request.response",p),v}).catch(v=>{if(Sc(v))throw jt(e,"request.cancel",p),v;m.setWarning(A0(v,"message")??"");let b=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",b),p.properties.message=String(A0(v,"name")??""),p.properties.code=String(A0(v,"code")??""),p.properties.errno=String(A0(v,"errno")??""),p.properties.type=String(A0(v,"type")??"");let E=oa()-g;throw p.measurements.totalTimeMs=E,Js.info(e,`Request ${i} at <${h}> rejected with ${String(v)} after ${E}ms`),Js.debug(e,"request.error properties",p.properties),Js.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),v}).finally(()=>{x3e(e,t,p)})}s(XIe,"fetchWithInstrumentation");async function Ndt(e,t,r,n,i,o,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});for(let[g,y]of Object.entries(o))g!=="messages"&&(f.properties[`request.option.${g}`]=JSON.stringify(y)??"undefined");f.properties.headerRequestId=i,jt(e,"request.sent",f);let m=oa(),h=e8e(l),p={...b5(e)};try{let g=await kx(e,n,a.token,h,i,o,u,p),y=H5(g,void 0);f.extendWithRequestId(y);let v=oa()-m;return f.measurements.totalTimeMs=v,Js.info(e,`Request ${i} at <${n}> finished with ${g.status} status after ${v}ms`),Js.debug(e,"request.response properties",f.properties),Js.debug(e,"request.response measurements",f.measurements),Js.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",f),g}catch(g){if(Sc(g))throw jt(e,"request.cancel",f),g;let y=f.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",y),f.properties.message=String(A0(g,"name")??""),f.properties.code=String(A0(g,"code")??""),f.properties.errno=String(A0(g,"errno")??""),f.properties.type=String(A0(g,"type")??"");let v=oa()-m;throw f.measurements.totalTimeMs=v,Js.info(e,`Request ${i} at <${n}> rejected with ${String(g)} after ${v}ms`),Js.debug(e,"request.error properties",f.properties),Js.debug(e,"request.error measurements",f.measurements),jt(e,"request.error",f),g}finally{F8(e,t,f)}}s(Ndt,"fetchChatWithInstrumentation");function Sre(e){return WIe(e,t=>t.completionText.trim().length>0)}s(Sre,"postProcessChoices");var Ldt="github.copilot.completions.quotaExceeded",xS=class extends fu{static{s(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,o){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="completions",c=await t.get(en).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,o);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o?.isCancellationRequested){let p=u.body();try{p&&"destroy"in p&&typeof p.destroy=="function"?p.destroy():p instanceof ReadableStream&&p.cancel()}catch(g){Js.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let p=this.createTelemetryData(l,t,r);return this.handleError(t,a,p,u,c)}let m=G5.create(t,r.count,u,n,[],o).processSSE(i),h=CA(m,p=>nO(t,p,n));return{type:"success",choices:Sre(h),getProcessingTime:s(()=>M8(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,o,a,l,c={},u){if(this.#e)return{type:"canceled",reason:this.#e};let f="https://copilot-proxy.githubusercontent.com/chat/completions",m={messages:r,model:l.id,stream:!0,...c},h=n.extendedBy({endpoint:f,model:l.name}),p=t.get(Yi),g=await t.get(en).getToken(),y=await Ndt(t,r,l.id,f,o,m,g,i,h,u);if(u?.isCancellationRequested){let _=y.body();try{_&&"destroy"in _&&typeof _.destroy=="function"?_.destroy():_ instanceof ReadableStream&&_.cancel()}catch(k){Js.exception(t,k,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(y.status!==200){let _=dn.createAndMarkAsIssued({endpoint:f,engineName:l.name,uiKind:i,headerRequestId:o});return this.handleError(t,p,_,y,g)}let b=G5.create(t,1,y,h,[],ZIe.CancellationToken.None).processSSE(),E=CA(b,_=>nO(t,_,n));return{type:"success",choices:Sre(E),getProcessingTime:s(()=>M8(y),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,o){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="speculation",c=await t.get(en).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:_r(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,o);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o?.isCancellationRequested){let g=f.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(y){Js.exception(t,y,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let g=this.createTelemetryData(l,t,u);return this.handleError(t,a,g,f,c)}let h=G5.create(t,1,f,n,[],o).processSSE(i),p=CA(h,g=>nO(t,g,n));return{type:"success",choices:Sre(p),getProcessingTime:s(()=>M8(f),"getProcessingTime")}}createTelemetryData(t,r,n){return dn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,o,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await Rv(0),a?.isCancellationRequested?"not-sent":await XIe(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,o,a,n.headers)}async fetchWithParameters(t,r,n,i,o,a){let l=t.get(dr).disableLogProb(o),c=t.get(dr).enablePromptContextProxyField(o),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:aO(t),temperature:Q8(t,n.count),top_p:sO(t),n:n.count,stop:t8e(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=fA(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await Rv(0),a?.isCancellationRequested?"not-sent":await XIe(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,o,a,n.headers)}async handleError(t,r,n,i,o){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Ldt,title:"Learn More"});let c=Ks(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Js.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Js.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Js.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),jt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(en).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Js.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Js.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Js.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function iO(e,t,r,n,i,o,a){return C3e(e,t,r,i,n),{completionText:t,meanLogProb:Fdt(e,r),meanAlternativeLogProb:Mdt(e,r),choiceIndex:n,requestId:i,blockFinished:o,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:_r(),finishReason:r.finish_reason}}s(iO,"convertToAPIChoice");function Fdt(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let o=0;o<t.logprobs.token_logprobs.length-1&&i>0;o++,i--)r+=t.logprobs.token_logprobs[o],n+=1;return n>0?r/n:void 0}catch(r){Zn.exception(e,r,"Error calculating mean prob")}}s(Fdt,"calculateMeanLogProb");function Mdt(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let o=0;o<t.logprobs.token_logprobs.length-1&&i>0;o++,i--){let a={...t.logprobs.top_logprobs[o]};delete a[t.logprobs.tokens[o]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Zn.exception(e,r,"Error calculating mean prob")}}s(Mdt,"calculateMeanAlternativeLogProb");function Q8(e,t){return nh(e)||t<=1?0:t<10?.2:t<20?.4:.8}s(Q8,"getTemperatureForSamples");var Qdt={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function t8e(e,t){return Qdt[t??""]??[`


`,"\n```"]}s(t8e,"getStops");function sO(e){return 1}s(sO,"getTopP");function aO(e){return k_}s(aO,"getMaxSolutionTokens");var Rre=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{s(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},lO=class{constructor(t,r,n,i,o,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=o;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{s(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let o={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(o.finishOffset),r.finished&&await this.trimAll(r,i),o}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new Rre(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new eO(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let o=iO(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);o.copilotAnnotations=this.adjustedAnnotations(o,r,i),o.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,o)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,u]of Object.entries(t.copilotAnnotations)){let f=u.filter(m=>m.start_offset-i<t.completionText.length&&m.stop_offset-i>0).map(m=>{let h={...m};return h.start_offset-=i,h.stop_offset-=i,a||(h.stop_offset=Math.min(h.stop_offset,t.completionText.length)),h});f.length>0&&(l[c]=f)}return Object.keys(l).length>0?l:void 0}};d();var cO=new Gt("getCompletions");function uO(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=O8(r.resultType),jt(e,`${t}.shown`,r.telemetry)}s(uO,"telemetryShown");function r8e(e,t,r){let n=t+".accepted",i=e.get(gf);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}s(r8e,"telemetryAccepted");function n8e(e,t,r){let n=t+".rejected",i=e.get(gf);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}s(n8e,"telemetryRejected");function cg(e,t={}){return{...t,telemetryBlob:e}}s(cg,"mkCanceledResultTelemetry");function Xs(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}s(Xs,"mkBasicResultTelemetry");function i8e(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=oa()-t.telemetryBlob.issuedTime,n=O8(t.resultType),i=JSON.stringify(t.performanceMetrics),o={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return cO.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),PZ(e,"ghostText.produced",o,{timeToProduceMs:r,foundOffset:a}),t.value}if(cO.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){jt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}PZ(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}s(i8e,"handleGhostTextResultTelemetry");function O8(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}s(O8,"resultTypeToString");d();d();var fO=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{s(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await dA(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let o=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(o){if(this.languageId=="python"&&o.parent){let a=o.parent.type==":"?o.parent.parent:o.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==o.endPosition.row&&l.startPosition.column>=o.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)o=l,l=l.nextSibling;else break}}if(!(o.endIndex>=o.tree.rootNode.endIndex-1&&(o.hasError()||o.parent.hasError())))return n(o)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),o=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(o!==void 0&&o<i.length){let a=o-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},dO=class extends fO{constructor(r,n,i,o,a){super(r,o,a);this.blockEmptyMatch=n;this.lineMatch=i}static{s(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,o=>{o.startIndex<n&&(n=o.startIndex);let a=r.substring(n,o.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=s8e(r,n),this.isBlockStart(Odt(r,n))&&this.isBlockBodyEmpty(r,n)}};function Odt(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}s(Odt,"getLineAtOffset");function s8e(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}s(s8e,"rewindToNearestNonWs");function o8e(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}s(o8e,"indent");function Udt(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=o8e(e,r),i=o8e(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}s(Udt,"outdented");var xA=class extends fO{constructor(r,n,i,o,a,l,c){super(r,n,i);this.startKeywords=o;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{s(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&uve(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let o=n;o<r.length&&r.charAt(o)!=`
`;o++)if(/\S/.test(r.charAt(o)))return!1;n=s8e(r,n);let i=await dA(this.languageId,r);try{let o=i.rootNode.descendantForIndex(n-1);if(o==null||this.curlyBraceLanguage&&o.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&o.parent&&o.parent.type=="object"&&o.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=o;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=o.nextSibling;return m&&f.hasError()&&Udt(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=o;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&o.type=="identifier"&&o.text.length>4&&(h=f.find(y=>y.hasError())?.children.find(y=>y.type=="block"));let p,g=0;for(let y of a.children){if(y.type==":"&&g==0){p=y;break}y.type=="("&&(g+=1),y.type==")"&&(g-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let y=p.nextSibling;if(y.type=='"'||y.type=="'"||y.type=="ERROR"&&(y.text=='"""'||y.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(v=>v.type=="formal_parameters");if(m.type=="class"&&p)return!0;let g=f.find(v=>v.type=="{");if(g&&g.startIndex>m.endIndex&&g.nextSibling!=null||f.find(v=>v.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(y=>y.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(y=>y.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},qdt={python:new xA("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new xA("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new xA("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new xA("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new dO("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new dO("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new xA("csharp",{},new Map([]),[],"block",null,!0),java:new xA("java",{},new Map([]),[],"block",null,!0),php:new xA("php",{},new Map([]),[],"block",null,!0)};function kre(e){if(!af(e))throw new Error(`Language ${e} is not supported`);return qdt[KF(e)]}s(kre,"getBlockParser");async function a8e(e,t,r){return af(e)?kre(e).isEmptyBlockStart(t,r):!1}s(a8e,"isEmptyBlockStart");async function l8e(e,t,r,n){if(af(e))return kre(e).isBlockBodyFinished(t,r,n)}s(l8e,"isBlockBodyFinished");async function c8e(e,t,r){if(af(e))return kre(e).getNodeStart(t,r)}s(c8e,"getNodeStart");var K7r=new Gt("parseBlock");function bS(e,t,r,n){let i=t.getText(Lo.range(Lo.position(0,0),r))+(n?`
`:""),o=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>l8e(a,i,l,o)}s(bS,"parsingBlockFinished");function hO(e,t){return a8e(e.detectedLanguageId,e.getText(),e.offsetAt(t))}s(hO,"isEmptyBlockStartUtil");async function u8e(e,t,r,n){let o=t.getText(Lo.range(Lo.position(0,0),r))+n,a=await c8e(t.detectedLanguageId,o,t.offsetAt(r));if(a)return t.positionAt(a)}s(u8e,"getNodeStartUtil");var Wdt=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Gdt=new RegExp(`^(${Wdt.join("|")})`);function Hdt(e){return Gdt.test(e.trimLeft().toLowerCase())}s(Hdt,"isContinuationLine");function mO(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}s(mO,"indentationOfLine");function ES(e,t){let r=e.getText(),n=e.offsetAt(t);return Bre(r,n,e.detectedLanguageId)}s(ES,"contextIndentation");function Bre(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function o(f,m,h){let p=m,g,y;for(;g===void 0&&p>=0&&p<f.length;)g=mO(f[p]),y=p,p+=h;if(r==="python"&&h===-1){p++;let v=f[p].trim();if(v.endsWith('"""')){if(!(v.startsWith('"""')&&v!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(g=void 0,p--;g===void 0&&p>=0;)g=mO(f[p]),y=p,p--}}return[g,y]}s(o,"seekNonBlank");let[a,l]=o(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=mO(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=o(i,1,1);return{prev:c,current:a??0,next:u}}s(Bre,"contextIndentationFromText");var jdt=!1;function Vdt(e,t,r){let n=e.split(`
`),i=r!==void 0,o=r?.split(`
`).pop(),a=0;if(i&&o?.trim()!=""&&n[0].trim()!==""&&a++,!i&&jdt&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&o!==void 0&&(u=o+u);let f=mO(u);if(f!==void 0&&(f<l||f===l&&!Hdt(u)))return n.slice(0,c).join(`
`).length}return"continue"}s(Vdt,"completionCutOrContinue");function f8e(e,t){return async r=>{let n=Vdt(r,e,t);return n==="continue"?void 0:n}}s(f8e,"indentationBlockFinished");d();d();d();function d8e(e,t){return{...XF,useSubsetMatching:Dre(e,t)}}s(d8e,"getCppSimilarFilesOptions");function m8e(e){return XF.maxTopSnippets}s(m8e,"getCppNumberOfSnippets");var $dt=new Map([["cpp",d8e]]);function pO(e,t,r){let n=$dt.get(r);return n?n(e,t):{...pee,useSubsetMatching:Dre(e,t)}}s(pO,"getSimilarFilesOptions");var zdt=new Map([["cpp",m8e]]);function h8e(e,t){let r=zdt.get(t);return r?r(e):dve}s(h8e,"getNumberOfSnippets");function Dre(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||qn(e,wt.UseSubsetMatching))??!1}s(Dre,"useSubsetMatching");d();d();var Ydt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Kdt(e){return Ydt.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(Kdt,"isOomError");function gO(e,t,r,n=Zn){if(!Sc(t)){if(t instanceof Error){let i=t;Kdt(i)?e.get(Yi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Yi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Yi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Yi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Yi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}s(gO,"handleException");function p8e(e){process.addListener("uncaughtException",r=>{gO(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,gO(e,r,"unhandledRejection")}finally{t=!1}})}s(p8e,"registerDefaultHandlers");d();d();d();var Dl=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{s(this,"ContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let o=[];for(let[u,f]of n){let m={id:u.id,type:u.type};if(u.origin&&(m.origin=u.origin),f==="content_excluded"){o.push({...m,usage:"none_content_excluded"});continue}let h=t.find(p=>p.source===u);h===void 0?o.push({...m,usage:"error"}):o.push({...m,usage:h.expectedTokens>0&&h.expectedTokens===h.actualTokens?"full":h.actualTokens>0?"partial":"none",expectedTokens:h.expectedTokens,actualTokens:h.actualTokens})}let l=o.reduce((u,f)=>f.usage==="full"?u+1:f.usage==="partial"?u+.5:u,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:o})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function g8e(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}s(g8e,"componentStatisticsToPromptMatcher");d();var A8e=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),y8e=I.Intersect([I.Object({name:I.String(),value:I.String()}),A8e]),C8e=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),A8e]),Jdt=[y8e,C8e],Xdt=I.Union(Jdt),Zdt=new Map([["Trait",ms.Compile(y8e)],["CodeSnippet",ms.Compile(C8e)]]),emt=s(e=>e,"ensureTypesAreEqual");emt(!0);var tmt=I.Object({contextItems:I.Array(Xdt)}),rmt=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),Pre=I.Object({id:I.String()}),nmt=I.Intersect([Pre,rmt]),imt=I.Intersect([Pre,tmt]),x8e=I.Object({providers:I.Array(nmt)}),v8e=I.Object({providers:I.Array(Pre)}),Nre=I.Object({providers:I.Array(imt),updating:I.Optional(I.Array(I.String()))}),AO=I.Intersect([OCe,I.Object({contextItems:I.Optional(Nre)})]);function yO(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}s(yO,"filterContextItemsByType");function b8e(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[o,a]of Zdt.entries())if(a.Check(n)){t.push({...n,type:o}),i=!0;break}i||r++}),[t,r]}s(b8e,"filterSupportedContextItems");function omt(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}s(omt,"validateContextItemId");function E8e(e,t){let r=new Set,n=[];for(let i of t){let o=i.id??_r();if(!omt(o)){let a=_r();Zn.error(e,`Invalid context item ID ${o}, replacing with ${a}`),o=a}if(r.has(o)){let a=_r();Zn.error(e,`Duplicate context item ID ${o}, replacing with ${a}`),o=a}r.add(o),n.push({...i,id:o})}return n}s(E8e,"addOrValidateContextItemsIDs");var smt="content_excluded";async function I8e(e,t,r){let n=yO(t,"CodeSnippet");if(n.length===0)return[];let i=new Set,o=n.flatMap(u=>u.data.map(f=>(i.add(f.uri),f.additionalUris?.forEach(m=>i.add(m)),{providerId:u.providerId,data:f}))),a=e.get(Vr),l=new Map;await Promise.all(Array.from(i).map(async u=>{l.set(u,await a.getTextDocumentValidation({uri:u}))}));let c=e.get(Dl);return o.filter(u=>{let m=[u.data.uri,...u.data.additionalUris??[]].every(h=>l.get(h)?.status==="valid");return m?c.addExpectations(u.providerId,[[u.data,"included"]]):c.addExpectations(u.providerId,[[u.data,smt]]),m}).map(u=>u.data)}s(I8e,"getCodeSnippetsFromContextItems");function T8e(e,t){let r=e.get(Vr);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}s(T8e,"addRelativePathToCodeSnippets");d();function aa(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}s(aa,"Text");function CO(e){return e.children}s(CO,"Chunk");d();function Vn(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}s(Vn,"functionComponentFunction");function vA(e){return{type:"f",children:e}}s(vA,"fragmentFunction");vA.isFragmentFunction=!0;var w8e=s((e,t)=>{let[r,n]=t.useState(),[i,o]=t.useState();if(t.useData(du,u=>{u.codeSnippets!==r&&n(u.codeSnippets),u.document.uri!==i?.uri&&o(u.document)}),!r||r.length===0||!i)return;let a=T8e(e.ctx,r),l=new Map;for(let u of a){let f=u.relativePath??u.snippet.uri,m=l.get(f);m===void 0&&(m=[],l.set(f,m)),m.push(u)}let c=[];for(let[u,f]of l.entries()){let m=f.filter(h=>h.snippet.value.length>0);m.length>0&&c.push({chunkElements:m.map(h=>h.snippet),importance:Math.max(...m.map(h=>h.snippet.importance??0)),uri:u})}if(c.length!==0)return c.sort((u,f)=>f.importance-u.importance),c.reverse(),c.map(u=>{let f=[];return f.push(Vn(aa,{children:`Compare ${u.chunkElements.length>1?"these snippets":"this snippet"} from ${u.uri}:`})),u.chunkElements.forEach((m,h)=>{f.push(Vn(aa,{source:m,children:m.value},m.id)),u.chunkElements.length>1&&h<u.chunkElements.length-1&&f.push(Vn(aa,{children:"---"}))}),Vn(CO,{children:f})})},"CodeSnippets");d();d();d();function _8e(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}s(_8e,"findEditDistanceScore");var S8e=50;function amt(e){let t=e*4,r=e*.1;return Math.floor(t+r)}s(amt,"approximateMaxCharacters");function IS(e,t){let[r,n]=t.useState(),[i,o]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(du,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&o(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=amt(a);return Vn(vA,{children:[Vn(lmt,{document:r,position:i,maxCharacters:f}),Vn(Lre,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}s(IS,"CurrentFile");function lmt(e){if(e.document===void 0||e.position===void 0)return Vn(aa,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),Vn(aa,{children:t})}s(lmt,"BeforeCursor");function Lre(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return Vn(aa,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let o=i.replace(/^.*/,"").trimStart();if(o==="")return Vn(aa,{});if(r===o)return Vn(aa,{children:r});let a=o;if(r!==""){let l=Xi(),c=l.takeFirstTokens(o,S8e);c.tokens.length>0&&100*_8e(c.tokens,l.takeFirstTokens(r,S8e).tokens)?.score<(e.suffixMatchThreshold??ZF)*c.tokens.length&&(a=r)}return a!==r&&n(a),Vn(aa,{children:a})}s(Lre,"AfterCursor");d();var xO=class{constructor(t){this.tokenizer=t}static{s(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[o,a]=this.preparePrefixBlocks(t),{elidedSuffix:l,adjustedPrefixTokenLimit:c}=this.elideSuffix(n,i,r,a),u=this.elidePrefix(o,c,a);return[l,...u]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((o,a)=>{let l=this.tokenizer.tokenLength(o.value);r+=l;let c=o.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...o,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let o=t.value;if(o.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(o,r);return{elidedSuffix:{...t,value:o,tokens:this.tokenizer.tokenLength(o),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),o=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(o.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(o,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((o,a)=>o.weight-a.weight);for(let o of t){if(i<=r)break;if(o.weight!==1&&!(o.chunk&&o.markedForRemoval))if(o.chunk)for(let a of t)a.chunk===o.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else o.markedForRemoval=!0,i-=o.tokens}return t.sort((o,a)=>o.originalIndex-a.originalIndex).map(o=>{let{originalIndex:a,...l}=o;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let o=t.length-1;o>=0;o--){let a=t[o],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let o=t[t.length-1];if(o&&o.line.length>0){let l=this.tokenizer.takeLastTokens(o.line,r);return i.push({line:l.text,componentPath:o.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function Fre(e){return e.map(t=>t.elidedValue).join("")}s(Fre,"makePrompt");function k8e(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}s(k8e,"makePrefixPrompt");function B8e(e){return e.filter(t=>t.type==="context").map(t=>t.elidedValue).join("").trim()}s(B8e,"makeContextPrompt");var vO=class{constructor(t="[...]",r=`
`,n=Xi()){this.ellipsis=t;this.delimiter=r;this.tokenizer=n;this.approxTokenizer=Xi("approximate")}static{s(this,"ElidableTextElision")}elide(t,r,n,i=0){let[o,...a]=this.elideImpl(t,r,n,i,this.approxTokenizer),l=Fre(a),c=o.elidedValue;return this.tokenizer.tokenLength(l+c)>r+i?this.elideImpl(t,r,n,i,this.tokenizer):[o,...a]}elideImpl(t,r,n,i,o){let a=new Yt(t.map(m=>R8e(m,o)),void 0,o),l;if(n.value.length===0||i<=o.tokenLength(this.ellipsis))l=[],r=r+Math.max(0,i);else{let h=R8e(n,o).elide(i,this.ellipsis,!0,"removeLeastDesirable",o,"bottomToTop");r=r+Math.max(0,i-o.tokenLength(h.getText())),l=h.getLines()}let c=a.elide(r),u=r-o.tokenLength(c.getText()),f=[...c.getLines(),...l];return[n,...t].map((m,h)=>{let p=f.filter(g=>g.metadata?.get("componentPath")===m.componentPath);if(p.length===0)return{...m,tokens:o.tokenLength(m.value),elidedValue:"",elidedTokens:0};{let g=p.map(y=>y.text).join(this.delimiter);return h===t.length&&u>0&&g.trim()===this.ellipsis&&(g=this.ellipsis+o.takeLastTokens(m.value,u-o.tokenLength(this.ellipsis)).text),{...m,tokens:o.tokenLength(m.value),elidedValue:g,elidedTokens:o.tokenLength(g)}}})}};function R8e(e,t){let r=new Map([["componentPath",e.componentPath]]);return new Yt([[e.value,e.weight]],r,t)}s(R8e,"prepareWeightedBlock");d();var bO=class{constructor(t,r=Mre()){this.snapshot=t;this.transformers=r}static{s(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,i){let o=this.transformers.reduce((l,c)=>c(t,r,l),{...i});if(n(t,r,o))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,o)}};function Mre(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(e,t,r)=>e.name===CO.name?{...r,chunk:e}:r,(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r]}s(Mre,"defaultTransformers");d();var TS={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Qre={};for(let[e,t]of Object.entries(TS))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)Qre[r]=e;else Qre[e]=e;function P8e(e){return Qre[e]}s(P8e,"mdCodeBlockLangToLanguageId");var cmt={start:"//",end:""},umt=["php","plaintext"],Ore={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function N8e(e){return Object.values(Ore).includes(e.trim())}s(N8e,"isShebangLine");function fmt({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}s(fmt,"hasLanguageMarker");function dmt(e,t){let r=TS[t]?TS[t].lineComment:cmt;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}s(dmt,"comment");function EO(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(o=>dmt(o,t)).join(`
`);return r?i+`
`:i}s(EO,"commentBlockAsSingles");function L8e(e){let{languageId:t}=e;return umt.indexOf(t)===-1&&!fmt(e)?t in Ore?Ore[t]:`Language: ${t}`:""}s(L8e,"getLanguageMarker");function F8e(e){return e.relativePath?`Path: ${e.relativePath}`:""}s(F8e,"getPathMarker");function wS(e){return e===""||e.endsWith(`
`)?e:e+`
`}s(wS,"newLineEnded");function M8e(e){return D8e(typeof e=="string"?e:"plaintext")}s(M8e,"getLanguage");function D8e(e){return TS[e]!==void 0?{languageId:e,...TS[e]}:{languageId:e,lineComment:{start:"//",end:""}}}s(D8e,"_getLanguage");var mmt=5;function Ure(e){return e.children}s(Ure,"CompletionsContext");var IO=class{constructor(){this.renderId=0}static{s(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,o=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??Xi(),{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a,r.languageId,r.separateContext),{prefixTokenLimit:m,suffixTokenLimit:h}=this.getPromptLimits(u,r),p=performance.now(),g=r.elisionStrategy==="elidableText"?new vO(r.ellipsis,r.delimiter):new xO(l),[y,...v]=g.elide(c,m,u,h),b=performance.now(),E=r.separateContext?k8e(v):Fre(v),_=r.separateContext?B8e(v):void 0,k=y.elidedValue,B=v.reduce((M,re)=>M+re.elidedTokens,0),N=B+y.elidedTokens;return f.push(...pmt([...v,y])),{prefix:E,prefixTokens:B,suffix:k,suffixTokens:y.elidedTokens,context:_,tokens:N,status:"ok",metadata:{actualTokens:N,renderId:i,elisionTimeMs:b-p,renderTimeMs:performance.now()-o,componentStatistics:f,updateDataTimeMs:f.reduce((M,re)=>M+(re.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,o=r.suffixPercent;if(n.length==0||o==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-mmt:i;let a=Math.ceil(i*(o/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r,n,i){let o=[],a=[],l=[],c=!1,u=!1;if(new bO(t,hmt).walkSnapshot((h,p,g)=>{if(h===t||(h.name===IS.name?c=!0:h.name===Lre.name&&(u=!0),h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&l.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.value===void 0||h.value===""))return!0;let y=g.chunk?g.chunk.path:void 0;if(u)a.push({value:Q8e(h.value),type:"suffix",weight:g.weight,componentPath:h.path,nodeStatistics:h.statistics,chunk:y,source:g.source});else{let v=h.value.endsWith(r)?h.value:h.value+r,b=g.isInCompletionsContext?this.contextValue(v,i,n):h.value;o.push({type:g.isInCompletionsContext?"context":"prefix",value:Q8e(b),weight:g.weight,componentPath:h.path,nodeStatistics:h.statistics,chunk:y,source:g.source})}return!0}),!c)throw new Error(`Node of type ${IS.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let m=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:m,componentStatistics:l}}contextValue(t,r,n){return r||N8e(t)?t:EO(t,n)}},hmt=[...Mre(),(e,t,r)=>e.name===Ure.name?{...r,isInCompletionsContext:!0}:r];function pmt(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}s(pmt,"computeComponentStatistics");function Q8e(e){return e.replace(/\r\n?/g,`
`)}s(Q8e,"normalizeLineEndings");d();var O8e=s((e,t)=>{let[r,n]=t.useState();if(t.useData(du,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var U8e=s((e,t)=>{let[r,n]=t.useState();if(t.useData(du,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Vr),o=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:o,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?Vn(gmt,{docInfo:a}):Vn(Amt,{docInfo:a})}},"DocumentMarker"),gmt=s(e=>Vn(aa,{children:F8e(e.docInfo)}),"PathMarker"),Amt=s(e=>Vn(aa,{children:L8e(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var qre=class{static{s(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?TO.isErrorNoTelemetry(t)?new TO(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},q8e=new qre;function kv(e){q8e.onUnexpectedError(e)}s(kv,"onBugIndicatingError");function U8(e){ymt(e)||q8e.onUnexpectedError(e)}s(U8,"onUnexpectedError");var Wre="Canceled";function ymt(e){return e instanceof ug?!0:e instanceof Error&&e.name===Wre&&e.message===Wre}s(ymt,"isCancellationError");var ug=class extends Error{static{s(this,"CancellationError")}constructor(){super(Wre),this.name=this.message}};function _S(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}s(_S,"illegalArgument");function W8e(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}s(W8e,"illegalState");var TO=class e extends Error{static{s(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},xn=class e extends Error{static{s(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function SS(e,t="Unreachable"){throw new Error(t)}s(SS,"assertNever");function Pl(e,t="unexpected state"){if(!e)throw new xn(`Assertion Failed: ${t}`)}s(Pl,"assert");function y0(e){if(!e()){debugger;e(),U8(new xn("Assertion Failed"))}}s(y0,"assertFn");function j5(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}s(j5,"checkAdjacentItems");d();d();d();function bA(e,t){let r=yf(e,t);return r===-1?void 0:e[r]}s(bA,"findLastMonotonous");function yf(e,t,r=0,n=e.length){let i=r,o=n;for(;i<o;){let a=Math.floor((i+o)/2);t(e[a])?i=a+1:o=a}return i-1}s(yf,"findLastIdxMonotonous");function G8e(e,t){let r=Bv(e,t);return r===e.length?void 0:e[r]}s(G8e,"findFirstMonotonous");function Bv(e,t,r=0,n=e.length){let i=r,o=n;for(;i<o;){let a=Math.floor((i+o)/2);t(e[a])?o=a:i=a+1}return i}s(Bv,"findFirstIdxMonotonousOrArrLen");var RS=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{s(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=yf(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function Dv(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}s(Dv,"equals");function*q8(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}s(q8,"groupAdjacentBy");function j8e(e,t){for(let r=0;r<=e.length;r++)t(r===0?void 0:e[r-1],r===e.length?void 0:e[r])}s(j8e,"forEachAdjacent");function V8e(e,t){for(let r=0;r<e.length;r++)t(r===0?void 0:e[r-1],e[r],r+1===e.length?void 0:e[r+1])}s(V8e,"forEachWithNeighbors");function $8e(e){return e.filter(t=>!!t)}s($8e,"coalesce");function z8e(e,t){for(let r of t)e.push(r)}s(z8e,"pushMany");var Y8e;(l=>{function e(c){return c<0}l.isLessThan=e,s(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,s(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,s(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,s(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(Y8e||={});function Cf(e,t){return(r,n)=>t(e(r),e(n))}s(Cf,"compareBy");var xf=s((e,t)=>e-t,"numberComparator");function K8e(e){return(t,r)=>-e(t,r)}s(K8e,"reverseOrder");var wO=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{s(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},H8e=class e{constructor(t){this.iterate=t}static{s(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||Y8e.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function e6e(e,t){let r=Object.create(null);for(let n of e){let i=t(n),o=r[i];o||(o=r[i]=[]),o.push(n)}return r}s(e6e,"groupBy");var X8e,Z8e,J8e=class{constructor(t,r){this.toKey=r;this._map=new Map;this[X8e]="SetWithKey";for(let n of t)this.add(n)}static{s(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(Z8e=Symbol.iterator,X8e=Symbol.toStringTag,Z8e)](){return this.values()}};d();function Gre(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}s(Gre,"createSingleCallFunction");d();var Hre;(_=>{function e(k){return k&&typeof k=="object"&&typeof k[Symbol.iterator]=="function"}_.is=e,s(e,"is");let t=Object.freeze([]);function r(){return t}_.empty=r,s(r,"empty");function*n(k){yield k}_.single=n,s(n,"single");function i(k){return e(k)?k:n(k)}_.wrap=i,s(i,"wrap");function o(k){return k||t}_.from=o,s(o,"from");function*a(k){for(let B=k.length-1;B>=0;B--)yield k[B]}_.reverse=a,s(a,"reverse");function l(k){return!k||k[Symbol.iterator]().next().done===!0}_.isEmpty=l,s(l,"isEmpty");function c(k){return k[Symbol.iterator]().next().value}_.first=c,s(c,"first");function u(k,B){let N=0;for(let M of k)if(B(M,N++))return!0;return!1}_.some=u,s(u,"some");function f(k,B){for(let N of k)if(B(N))return N}_.find=f,s(f,"find");function*m(k,B){for(let N of k)B(N)&&(yield N)}_.filter=m,s(m,"filter");function*h(k,B){let N=0;for(let M of k)yield B(M,N++)}_.map=h,s(h,"map");function*p(k,B){let N=0;for(let M of k)yield*B(M,N++)}_.flatMap=p,s(p,"flatMap");function*g(...k){for(let B of k)yield*B}_.concat=g,s(g,"concat");function y(k,B,N){let M=N;for(let re of k)M=B(M,re);return M}_.reduce=y,s(y,"reduce");function*v(k,B,N=k.length){for(B<-k.length&&(B=0),B<0&&(B+=k.length),N<0?N+=k.length:N>k.length&&(N=k.length);B<N;B++)yield k[B]}_.slice=v,s(v,"slice");function b(k,B=Number.POSITIVE_INFINITY){let N=[];if(B===0)return[N,k];let M=k[Symbol.iterator]();for(let re=0;re<B;re++){let pe=M.next();if(pe.done)return[N,_.empty()];N.push(pe.value)}return[N,{[Symbol.iterator](){return M}}]}_.consume=b,s(b,"consume");async function E(k){let B=[];for await(let N of k)B.push(N);return Promise.resolve(B)}_.asyncToArray=E,s(E,"asyncToArray")})(Hre||={});d();var jre=class{constructor(t,r){this.uri=t;this.value=r}static{s(this,"ResourceMapEntry")}};function xmt(e){return Array.isArray(e)}s(xmt,"isEntries");var r6e,_O=class e{constructor(t,r){this[r6e]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(xmt(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{s(this,"ResourceMap")}static{this.defaultToKey=s(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new jre(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(r6e=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},n6e,t6e=class{constructor(t,r){this[n6e]="ResourceSet";!t||typeof t=="function"?this._map=new _O(t):(this._map=new _O(r),t.forEach(this.add,this))}static{s(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(n6e=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var i6e,Vre=class{constructor(){this[i6e]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{s(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}[(i6e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},$re=class extends Vre{static{s(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},SO=class extends $re{static{s(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var W8=class{constructor(){this.map=new Map}static{s(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var vmt=!1,G8=null;var o6e=class e{constructor(){this.livingDisposables=new Map}static{s(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}s(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}s(i,"getStackTracePath");let o=new W8;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)o.add(u.slice(0,f).join(`
`),c)}n.sort(Cf(c=>c.idx,xf));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${o.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let g=o.get(u.slice(0,m).join(`
`)),y=e6e([...g].map(v=>i(v)[m]),v=>v);delete y[u[m]];for(let[v,b]of Object.entries(y))f.unshift(`    - stacktraces of ${b.length} other leaks continue with ${v}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function bmt(e){G8=e}s(bmt,"setDisposableTracker");if(vmt){let e="__is_disposable_tracked__";bmt(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==Zs.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==Zs.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function H8(e){return G8?.trackDisposable(e),e}s(H8,"trackDisposable");function j8(e){G8?.markAsDisposed(e)}s(j8,"markAsDisposed");function zre(e,t){G8?.setParent(e,t)}s(zre,"setParentOfDisposable");function Emt(e,t){if(G8)for(let r of e)G8.setParent(r,t)}s(Emt,"setParentOfDisposables");function s6e(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}s(s6e,"isDisposable");function RO(e){if(Hre.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}s(RO,"dispose");function a6e(...e){let t=Sa(()=>RO(e));return Emt(e,t),t}s(a6e,"combinedDisposable");function Sa(e){let t=H8({dispose:Gre(()=>{j8(t),e()})});return t}s(Sa,"toDisposable");var C0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;H8(this)}static{s(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(j8(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{RO(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return zre(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),zre(t,null))}},Zs=class{constructor(){this._store=new C0;H8(this),zre(this._store,this)}static{s(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){j8(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var EA=s((e,t)=>e===t,"strictEquals");d();d();var Cs=class e{static{s(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}},kS=class{constructor(){this._first=Cs.Undefined;this._last=Cs.Undefined;this._size=0}static{s(this,"LinkedList")}get size(){return this._size}isEmpty(){return this._first===Cs.Undefined}clear(){let t=this._first;for(;t!==Cs.Undefined;){let r=t.next;t.prev=Cs.Undefined,t.next=Cs.Undefined,t=r}this._first=Cs.Undefined,this._last=Cs.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,r){let n=new Cs(t);if(this._first===Cs.Undefined)this._first=n,this._last=n;else if(r){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==Cs.Undefined){let t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==Cs.Undefined){let t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==Cs.Undefined&&t.next!==Cs.Undefined){let r=t.prev;r.next=t.next,t.next.prev=r}else t.prev===Cs.Undefined&&t.next===Cs.Undefined?(this._first=Cs.Undefined,this._last=Cs.Undefined):t.next===Cs.Undefined?(this._last=this._last.prev,this._last.next=Cs.Undefined):t.prev===Cs.Undefined&&(this._first=this._first.next,this._first.prev=Cs.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==Cs.Undefined;)yield t.element,t=t.next}};d();var Imt=globalThis.performance&&typeof globalThis.performance.now=="function",V8=class e{static{s(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=Imt&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var l6e=!1,Tmt=!1,Pv;(z=>{z.None=s(()=>Zs.None,"None");function t(H){if(Tmt){let{onDidAddListener:U}=H,V=BS.create(),Y=0;H.onDidAddListener=()=>{++Y===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),V.print()),U?.()}}}s(t,"_addLeakageTraceLogic");function r(H,U){return p(H,()=>{},0,void 0,!0,void 0,U)}z.defer=r,s(r,"defer");function n(H){return(U,V=null,Y)=>{let ae=!1,te;return te=H(le=>{if(!ae)return te?te.dispose():ae=!0,U.call(V,le)},null,Y),ae&&te.dispose(),te}}z.once=n,s(n,"once");function i(H,U){return z.once(z.filter(H,U))}z.onceIf=i,s(i,"onceIf");function o(H,U,V){return m((Y,ae=null,te)=>H(le=>Y.call(ae,U(le)),null,te),V)}z.map=o,s(o,"map");function a(H,U,V){return m((Y,ae=null,te)=>H(le=>{U(le),Y.call(ae,le)},null,te),V)}z.forEach=a,s(a,"forEach");function l(H,U,V){return m((Y,ae=null,te)=>H(le=>U(le)&&Y.call(ae,le),null,te),V)}z.filter=l,s(l,"filter");function c(H){return H}z.signal=c,s(c,"signal");function u(...H){return(U,V=null,Y)=>{let ae=a6e(...H.map(te=>te(le=>U.call(V,le))));return h(ae,Y)}}z.any=u,s(u,"any");function f(H,U,V,Y){let ae=V;return o(H,te=>(ae=U(ae,te),ae),Y)}z.reduce=f,s(f,"reduce");function m(H,U){let V,Y={onWillAddFirstListener(){V=H(ae.fire,ae)},onDidRemoveLastListener(){V?.dispose()}};U||t(Y);let ae=new vf(Y);return U?.add(ae),ae.event}s(m,"snapshot");function h(H,U){return U instanceof Array?U.push(H):U&&U.add(H),H}s(h,"addAndReturnDisposable");function p(H,U,V=100,Y=!1,ae=!1,te,le){let ce,De,be,qe=0,Re,Xe={leakWarningThreshold:te,onWillAddFirstListener(){ce=H(at=>{qe++,De=U(De,at),Y&&!be&&(ft.fire(De),De=void 0),Re=s(()=>{let lt=De;De=void 0,be=void 0,(!Y||qe>1)&&ft.fire(lt),qe=0},"doFire"),typeof V=="number"?(clearTimeout(be),be=setTimeout(Re,V)):be===void 0&&(be=0,queueMicrotask(Re))})},onWillRemoveListener(){ae&&qe>0&&Re?.()},onDidRemoveLastListener(){Re=void 0,ce.dispose()}};le||t(Xe);let ft=new vf(Xe);return le?.add(ft),ft.event}z.debounce=p,s(p,"debounce");function g(H,U=0,V){return z.debounce(H,(Y,ae)=>Y?(Y.push(ae),Y):[ae],U,void 0,!0,void 0,V)}z.accumulate=g,s(g,"accumulate");function y(H,U=(Y,ae)=>Y===ae,V){let Y=!0,ae;return l(H,te=>{let le=Y||!U(te,ae);return Y=!1,ae=te,le},V)}z.latch=y,s(y,"latch");function v(H,U,V){return[z.filter(H,U,V),z.filter(H,Y=>!U(Y),V)]}z.split=v,s(v,"split");function b(H,U=!1,V=[],Y){let ae=V.slice(),te=H(De=>{ae?ae.push(De):ce.fire(De)});Y&&Y.add(te);let le=s(()=>{ae?.forEach(De=>ce.fire(De)),ae=null},"flush"),ce=new vf({onWillAddFirstListener(){te||(te=H(De=>ce.fire(De)),Y&&Y.add(te))},onDidAddFirstListener(){ae&&(U?setTimeout(le):le())},onDidRemoveLastListener(){te&&te.dispose(),te=null}});return Y&&Y.add(ce),ce.event}z.buffer=b,s(b,"buffer");function E(H,U){return s((Y,ae,te)=>{let le=U(new k);return H(function(ce){let De=le.evaluate(ce);De!==_&&Y.call(ae,De)},void 0,te)},"fn")}z.chain=E,s(E,"chain");let _=Symbol("HaltChainable");class k{constructor(){this.steps=[]}static{s(this,"ChainableSynthesis")}map(U){return this.steps.push(U),this}forEach(U){return this.steps.push(V=>(U(V),V)),this}filter(U){return this.steps.push(V=>U(V)?V:_),this}reduce(U,V){let Y=V;return this.steps.push(ae=>(Y=U(Y,ae),Y)),this}latch(U=(V,Y)=>V===Y){let V=!0,Y;return this.steps.push(ae=>{let te=V||!U(ae,Y);return V=!1,Y=ae,te?ae:_}),this}evaluate(U){for(let V of this.steps)if(U=V(U),U===_)break;return U}}function B(H,U,V=Y=>Y){let Y=s((...ce)=>le.fire(V(...ce)),"fn"),ae=s(()=>H.on(U,Y),"onFirstListenerAdd"),te=s(()=>H.removeListener(U,Y),"onLastListenerRemove"),le=new vf({onWillAddFirstListener:ae,onDidRemoveLastListener:te});return le.event}z.fromNodeEventEmitter=B,s(B,"fromNodeEventEmitter");function N(H,U,V=Y=>Y){let Y=s((...ce)=>le.fire(V(...ce)),"fn"),ae=s(()=>H.addEventListener(U,Y),"onFirstListenerAdd"),te=s(()=>H.removeEventListener(U,Y),"onLastListenerRemove"),le=new vf({onWillAddFirstListener:ae,onDidRemoveLastListener:te});return le.event}z.fromDOMEventEmitter=N,s(N,"fromDOMEventEmitter");function M(H,U){return new Promise(V=>n(H)(V,null,U))}z.toPromise=M,s(M,"toPromise");function re(H){let U=new vf;return H.then(V=>{U.fire(V)},()=>{U.fire(void 0)}).finally(()=>{U.dispose()}),U.event}z.fromPromise=re,s(re,"fromPromise");function pe(H,U){return H(V=>U.fire(V))}z.forward=pe,s(pe,"forward");function Z(H,U,V){return U(V),H(Y=>U(Y))}z.runAndSubscribe=Z,s(Z,"runAndSubscribe");class G{constructor(U,V){this._observable=U;this._counter=0;this._hasChanged=!1;let Y={onWillAddFirstListener:s(()=>{U.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{U.removeObserver(this)},"onDidRemoveLastListener")};V||t(Y),this.emitter=new vf(Y),V&&V.add(this.emitter)}static{s(this,"EmitterObserver")}beginUpdate(U){this._counter++}handlePossibleChange(U){}handleChange(U,V){this._hasChanged=!0}endUpdate(U){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function q(H,U){return new G(H,U).emitter.event}z.fromObservable=q,s(q,"fromObservable");function ie(H){return(U,V,Y)=>{let ae=0,te=!1,le={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(H.reportChanges(),te&&(te=!1,U.call(V)))},handlePossibleChange(){},handleChange(){te=!0}};H.addObserver(le),H.reportChanges();let ce={dispose(){H.removeObserver(le)}};return Y instanceof C0?Y.add(ce):Array.isArray(Y)&&Y.push(ce),ce}}z.fromObservableLight=ie,s(ie,"fromObservableLight")})(Pv||={});var Yre=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{s(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new V8,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},c6e=-1;var Kre=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{s(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[o,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(o);let c=new Jre(l,o);this._errorHandler(c)}return()=>{let o=this._stacks.get(t.value)||0;this._stacks.set(t.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},BS=class e{constructor(t){this.value=t}static{s(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Jre=class extends Error{static{s(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},Xre=class extends Error{static{s(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},wmt=0,$8=class{constructor(t){this.value=t;this.id=wmt++}static{s(this,"UniqueContainer")}},_mt=2,Smt=s((e,t)=>{if(e instanceof $8)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),vf=class{constructor(t){this._size=0;this._options=t,this._leakageMon=c6e>0||this._options?.leakWarningThreshold?new Kre(t?.onListenerError??U8,this._options?.leakWarningThreshold??c6e):void 0,this._perfMon=this._options?._profName?new Yre(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{s(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(l6e){let t=this._listeners;queueMicrotask(()=>{Smt(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new Xre(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||U8)(f),Zs.None}if(this._disposed)return Zs.None;r&&(t=t.bind(r));let i=new $8(t),o,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=BS.create(),o=this._leakageMon.check(i.stack,this._size+1)),l6e&&(i.stack=a??BS.create()),this._listeners?this._listeners instanceof $8?(this._deliveryQueue??=new Zre,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Sa(()=>{o?.(),this._removeListener(i)});return n instanceof C0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*_mt<=r.length){let o=0;for(let a=0;a<r.length;a++)r[a]?r[o++]=r[a]:i&&o<this._deliveryQueue.end&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=o}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||U8;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof $8)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Zre=class{constructor(){this.i=-1;this.end=0}static{s(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var x0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{s(this,"DebugNameData")}getDebugName(t){return m6e(t,this)}},u6e=new Map,ene=new WeakMap;function m6e(e,t){let r=ene.get(e);if(r)return r;let n=Rmt(e,t);if(n){let i=u6e.get(n)??0;i++,u6e.set(n,i);let o=i===1?n:`${n}#${i}`;return ene.set(e,o),o}}s(m6e,"getDebugName");function Rmt(e,t){let r=ene.get(e);if(r)return r;let n=t.owner?Bmt(t.owner)+".":"",i,o=t.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(i=o(),i!==void 0)return n+i}else return n+o;let a=t.referenceFn;if(a!==void 0&&(i=kO(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=kmt(t.owner,e);if(l!==void 0)return n+l}}s(Rmt,"computeDebugName");function kmt(e,t){for(let r in e)if(e[r]===t)return r}s(kmt,"findKey");var f6e=new Map,d6e=new WeakMap;function Bmt(e){let t=d6e.get(e);if(t)return t;let r=Dmt(e),n=f6e.get(r)??0;n++,f6e.set(r,n);let i=n===1?r:`${r}#${n}`;return d6e.set(e,i),i}s(Bmt,"formatOwner");function Dmt(e){let t=e.constructor;return t?t.name:"Object"}s(Dmt,"getClassName");function kO(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}s(kO,"getFunctionName");d();var Nv;function DO(e){Nv?Nv instanceof BO?Nv.loggers.push(e):Nv=new BO([Nv,e]):Nv=e}s(DO,"addLogger");function Ms(){return Nv}s(Ms,"getLogger");var tne;function h6e(e){tne=e}s(h6e,"setLogObservableFn");function p6e(e){tne&&tne(e)}s(p6e,"logObservable");var BO=class{constructor(t){this.loggers=t}static{s(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var g6e;function A6e(e){g6e=e}s(A6e,"_setRecomputeInitiallyAndOnChange");var y6e;function C6e(e){y6e=e}s(C6e,"_setKeepObserved");var rne;function x6e(e){rne=e}s(x6e,"_setDerivedOpts");var PO=class{static{s(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return rne({owner:n,debugName:s(()=>{let o=kO(i);if(o!==void 0)return o;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},o=>i(this.read(o),o))}flatten(){return rne({owner:void 0,debugName:s(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(g6e(this,r)),this}keepObserved(t){return t.add(y6e(this)),this}get debugValue(){return this.get()}},V5=class extends PO{constructor(){super();this.observers=new Set;Ms()?.handleObservableCreated(this)}static{s(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Ms()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Ms()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Ms();return p6e(this),r||Ms()?.handleObservableCreated(this),this}};function LO(e,t){let r=new z8(e,t);try{e(r)}finally{r.finish()}}s(LO,"transaction");function nne(e,t,r){e?t(e):LO(t,r)}s(nne,"subtransaction");var z8=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];Ms()?.handleBeginTransaction(this)}static{s(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():kO(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,Ms()?.handleEndTransaction(this)}};function vh(e,t){let r;return typeof e=="string"?r=new x0(void 0,e,void 0):r=new x0(e,void 0,void 0),new NO(r,t,EA)}s(vh,"observableValue");var NO=class extends V5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,Ms()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{s(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let o;n||(n=o=new z8(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),Ms()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function Lv(e){return new Y8(new x0(void 0,void 0,e),e,void 0,void 0)}s(Lv,"autorun");function ine(e,t){return new Y8(new x0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}s(ine,"autorunOpts");function FO(e,t){return new Y8(new x0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}s(FO,"autorunHandleChanges");function one(e,t){let r=new C0,n=FO({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,o)=>{r.clear(),t(i,o,r)});return Sa(()=>{n.dispose(),r.dispose()})}s(one,"autorunWithStoreHandleChanges");function sne(e){let t=new C0,r=ine({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return Sa(()=>{r.dispose(),t.dispose()})}s(sne,"autorunWithStore");var Y8=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Ms()?.handleAutorunCreated(this),this._runIfNeeded(),H8(this)}static{s(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),Ms()?.handleAutorunDisposed(this),j8(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){Ms()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){kv(n)}finally{this._isRunning=!1}}}finally{this.disposed||Ms()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}y0(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){Ms()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:s(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){kv(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new xn("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=Y8)(Lv||={});d();function MO(e,t){return new Fv(new x0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??EA)}s(MO,"derivedOpts");x6e(MO);var Fv=class extends V5{constructor(r,n,i,o,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=o;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{s(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Ms()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let o=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}o=n&&!this._equalityComparator(i,this.value),Ms()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:o,hadValue:n})}catch(a){kv(a)}if(this._isComputing=!1,o)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new xn("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let o of i)o.endUpdate(this)}}y0(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Ms()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:s(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){kv(a)}let o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new xn("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function ane(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new $5(new x0(t,void 0,n),r,n,()=>$5.globalTransaction,EA)}s(ane,"observableFromEvent");var $5=class extends V5{constructor(r,n,i,o,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=o;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=s(r=>{let n=this._getValue(r),i=this.value,o=!this.hasValue||!this._equalityComparator(i,n),a=!1;o&&(this.value=n,this.hasValue&&(a=!0,nne(this._getTransaction(),l=>{Ms()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||Ms()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue})},"handleEvent")}static{s(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=$5;function t(n,i){let o=!1;$5.globalTransaction===void 0&&($5.globalTransaction=n,o=!0);try{i()}finally{o&&($5.globalTransaction=void 0)}}r.batchEventsGlobally=t,s(t,"batchEventsGlobally")})(ane||={});function b6e(e){let t=new QO(!1,void 0);return e.addObserver(t),Sa(()=>{e.removeObserver(t)})}s(b6e,"keepObserved");C6e(b6e);function E6e(e,t){let r=new QO(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),Sa(()=>{e.removeObserver(r)})}s(E6e,"recomputeInitiallyAndOnChange");A6e(E6e);var QO=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{s(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function bh(e,t,r,n){let i=new OO(r,n);return MO({debugReferenceFn:r,owner:e,onLastObserverRemoved:s(()=>{i.dispose(),i=new OO(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}s(bh,"mapObservableArrayCached");var OO=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{s(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let o=this._keySelector?this._keySelector(i):i,a=this._cache.get(o);if(a)n.delete(o);else{let l=new C0;a={out:this._map(i,l),store:l},this._cache.set(o,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function lne(e,t){let r;return one({createEmptyChangeSummary:s(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:s((n,i)=>{if(n.didChange(e)){let o=n.change;o!==void 0&&i.deltas.push(o),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let o=e.read(n),a=r;i.didChange&&(r=o,t(o,a,i.deltas))})}s(lne,"runOnChange");d();d();d();var I6e=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),UO;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof K8?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,s(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Pv.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:I6e})})(UO||={});var K8=class{constructor(){this._isCancelled=!1;this._emitter=null}static{s(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?I6e:(this._emitter||(this._emitter=new vf),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},IA=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new K8),this._token}cancel(){this._token?this._token instanceof K8&&this._token.cancel():this._token=UO.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof K8&&this._token.dispose():this._token=UO.None}};d();var qO;function T6e(e){qO||(qO=new PS,DO(qO)),qO.addFilteredObj(e)}s(T6e,"logObservableToConsole");var PS=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{s(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Pmt([J8(Fmt("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[J8(" "),Gd(DS(t.oldValue,70),{color:"red",strikeThrough:!0}),J8(" "),Gd(DS(t.newValue,60),{color:"green"})]:[J8(" (unchanged)")]:[J8(" "),Gd(DS(t.newValue,60),{color:"green"}),J8(" (initial)")]}handleObservableCreated(t){if(t instanceof Fv){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let o=r.beginUpdate;r.beginUpdate=l=>(i.push(l),o.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof Fv){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([X8("observable value changed"),Gd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return Gd(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([X8("derived recomputed"),Gd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([X8("derived cleared"),Gd(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([X8("observable from event triggered"),Gd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([X8("autorun"),Gd(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([X8("transaction"),Gd(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Pmt(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}s(i,"process"),i(e);let o=[n,...t];return o.push(...r),o}s(Pmt,"consoleTextToArgs");function J8(e){return Gd(e,{color:"black"})}s(J8,"normalText");function X8(e){return Gd(Mmt(`${e}: `,10),{color:"black",bold:!0})}s(X8,"formatKind");function Gd(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((o,[a,l])=>`${o}${a}:${l};`,"")}s(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}s(Gd,"styled");function DS(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?Nmt(e,t):Lmt(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}s(DS,"formatValue");function Nmt(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${DS(i,t-r.length)}`}return r+=" ]",r}s(Nmt,"formatArray");function Lmt(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,o]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${DS(o,t-r.length)}`}return r+=" }",r}s(Lmt,"formatObject");function Fmt(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}s(Fmt,"repeat");function Mmt(e,t){for(;e.length<t;)e+=" ";return e}s(Mmt,"padStr");h6e(T6e);var Qmt=!1;Qmt&&DO(new PS);d();var Mv;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,s(t,"create")})(Mv||={});d();d();d();function w6e(e){return e}s(w6e,"identity");var WO=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=w6e):(this._fn=r,this._computeKey=t.getCacheKey)}static{s(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},TA=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=w6e):(this._fn=r,this._computeKey=t.getCacheKey)}static{s(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var fg=class{constructor(t){this.executor=t;this._didRun=!1}static{s(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function Qv(e){return e<0?0:e>4294967295?4294967295:e|0}s(Qv,"toUint32");function cne(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}s(cne,"escapeRegExpCharacters");function dg(e){return e.split(/\r\n|\r|\n/)}s(dg,"splitLines");function NS(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}s(NS,"commonPrefixLength");function e6(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,o=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(o-n))return n;return r}s(e6,"commonSuffixLength");var Umt=/^[\t\n\r\x20-\x7E]*$/;function une(e){return Umt.test(e)}s(une,"isBasicASCII");var NPr=String.fromCharCode(65279);var _6e=class e{static{s(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=qmt()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function qmt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}s(qmt,"getGraphemeBreakRawData");var S6e=class e{constructor(t){this.confusableDictionary=t}static{s(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new fg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new WO({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}s(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,g]of m)h.set(p,g);return h}s(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,g]of f)m.has(p)&&h.set(p,g);return h}s(i,"intersectMaps");let o=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in o);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(o[f]);l=i(l,m)}let c=r(o._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new fg(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},R6e=class e{static{s(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Vt=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new xn(`Invalid range: ${this.toString()}`)}static{s(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let o=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(o,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new xn(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new xn(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var nn=class e{static{s(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let o=t.column|0,a=r.column|0;return o-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var Ar=class e{static{s(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,o,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(o=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(o=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(o=t.endLineNumber,a=t.endColumn),new e(n,i,o,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,o=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),o>u?(o=u,a=f):o===u&&(a=Math.min(a,f)),n>o||n===o&&i>a?null:new e(n,i,o,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new nn(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new nn(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let o=t.startLineNumber|0,a=r.startLineNumber|0;if(o===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return o-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var yr=class e{static{s(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new Ov(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new Ov(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new xn("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new xn(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Ar(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Ar(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Vt(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},Ov=class e{constructor(t=[]){this._normalizedRanges=t}static{s(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=Bv(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=yf(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=bA(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=bA(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,o=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);o===null?o=a:o.endLineNumberExclusive>=a.startLineNumber?o=new yr(o.startLineNumber,Math.max(o.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(o),o=a)}return o!==null&&r.push(o),new e(r)}subtractFrom(t){let r=Bv(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=yf(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],o=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>o&&i.push(new yr(o,l.startLineNumber)),o=l.endLineNumberExclusive}return o<t.endLineNumberExclusive&&i.push(new yr(o,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let o=this._normalizedRanges[n],a=t._normalizedRanges[i],l=o.intersect(a);l&&!l.isEmpty&&r.push(l),o.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var Nl=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{s(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new Ar(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new Ar(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new Ar(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return yr.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new nn(t.lineNumber,t.column+this.columnCount):new nn(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return Ar.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var Ll=class e{constructor(t){this.value=t}static{s(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new fne(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return dg(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},fne=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{s(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Vt(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=yf(this.lineStartOffsetByLineIdx,o=>o<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new nn(n,i)}getRange(t){return Ar.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Nl.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Nl(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var mg=class{static{s(this,"ObservableWorkspace")}getDocument(t){return Promise.resolve(this.openDocuments.get().find(r=>r.id===t))}};var GO=class extends Zs{constructor(r,n,i,o,a,l){super();this.id=r;this.workspaceRoot=l;this.value=vh(this,n),this.selection=vh(this,i),this.languageId=vh(this,o),this._register(Sa(a))}static{s(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var j6e=Ze(ni());d();d();d();d();var jO=!1,VO=!1,HO=!1,Wmt=!1,Gmt=!1,k6e=!1,Hmt=!1,jmt=!1,Vmt=!1,$mt=!1;var wA,_A=globalThis,Hd;typeof _A.vscode<"u"&&typeof _A.vscode.process<"u"?Hd=_A.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Hd=process);var B6e=typeof Hd?.versions?.electron=="string",zmt=B6e&&Hd?.type==="renderer";typeof Hd=="object"?(jO=Hd.platform==="win32",VO=Hd.platform==="darwin",HO=Hd.platform==="linux",Wmt=HO&&!!Hd.env.SNAP&&!!Hd.env.SNAP_REVISION,Hmt=B6e,Vmt=!!Hd.env.CI||!!Hd.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Gmt=!0):typeof navigator=="object"&&!zmt?(wA=navigator.userAgent,jO=wA.indexOf("Windows")>=0,VO=wA.indexOf("Macintosh")>=0,jmt=(wA.indexOf("Macintosh")>=0||wA.indexOf("iPad")>=0||wA.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,HO=wA.indexOf("Linux")>=0,$mt=wA?.indexOf("Mobi")>=0,k6e=!0):console.error("Unable to resolve platform.");var dne=0;VO?dne=1:jO?dne=3:HO&&(dne=2);var Uv=jO,D6e=VO;var Ymt=k6e&&typeof _A.importScripts=="function",kNr=Ymt?_A.origin:void 0;var hg=wA;var Kmt=typeof _A.postMessage=="function"&&!_A.importScripts,BNr=(()=>{if(Kmt){let e=[];_A.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let o=e[n];if(o.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),o.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),_A.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var Jmt=!!(hg&&hg.indexOf("Chrome")>=0),DNr=!!(hg&&hg.indexOf("Firefox")>=0),PNr=!!(!Jmt&&hg&&hg.indexOf("Safari")>=0),NNr=!!(hg&&hg.indexOf("Edg/")>=0),LNr=!!(hg&&hg.indexOf("Android")>=0);var qv,mne=globalThis.vscode;if(typeof mne<"u"&&typeof mne.process<"u"){let e=mne.process;qv={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?qv={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:qv={get platform(){return Uv?"win32":D6e?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var LS=qv.cwd,P6e=qv.env,N6e=qv.platform,qNr=qv.arch;var Zmt=65,eht=97,tht=90,rht=122,K5=46,Fl=47,mu=92,z5=58,nht=63,$O=class extends Error{static{s(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let o=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${o} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function iht(e,t){if(e===null||typeof e!="object")throw new $O(t,"Object",e)}s(iht,"validateObject");function la(e,t){if(typeof e!="string")throw new $O(t,"string",e)}s(la,"validateString");var hu=N6e==="win32";function ii(e){return e===Fl||e===mu}s(ii,"isPathSeparator");function hne(e){return e===Fl}s(hne,"isPosixPathSeparator");function Y5(e){return e>=Zmt&&e<=tht||e>=eht&&e<=rht}s(Y5,"isWindowsDeviceRoot");function zO(e,t,r,n){let i="",o=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Fl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==K5||i.charCodeAt(i.length-2)!==K5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",o=0):(i=i.slice(0,f),o=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",o=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",o=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),o=u-a-1;a=u,l=0}else c===K5&&l!==-1?++l:l=-1}return i}s(zO,"normalizeString");function oht(e){return e?`${e[0]==="."?"":"."}${e}`:""}s(oht,"formatExt");function L6e(e,t){iht(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${oht(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}s(L6e,"_format");var ca={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let o;if(i>=0){if(o=e[i],la(o,`paths[${i}]`),o.length===0)continue}else t.length===0?o=LS():(o=P6e[`=${t}`]||LS(),(o===void 0||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===mu)&&(o=`${t}\\`));let a=o.length,l=0,c="",u=!1,f=o.charCodeAt(0);if(a===1)ii(f)&&(l=1,u=!0);else if(ii(f))if(u=!0,ii(o.charCodeAt(1))){let m=2,h=m;for(;m<a&&!ii(o.charCodeAt(m));)m++;if(m<a&&m!==h){let p=o.slice(h,m);for(h=m;m<a&&ii(o.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!ii(o.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${o.slice(h,m)}`,l=m)}}}else l=1;else Y5(f)&&o.charCodeAt(1)===z5&&(c=o.slice(0,2),l=2,a>2&&ii(o.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${o.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=zO(r,!n,"\\",ii),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){la(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,o=e.charCodeAt(0);if(t===1)return hne(o)?"\\":e;if(ii(o))if(i=!0,ii(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ii(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&ii(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ii(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else Y5(o)&&e.charCodeAt(1)===z5&&(n=e.slice(0,2),r=2,t>2&&ii(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?zO(e.slice(r),!i,"\\",ii):"";return a.length===0&&!i&&(a="."),a.length>0&&ii(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){la(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return ii(r)||t>2&&Y5(r)&&e.charCodeAt(1)===z5&&ii(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let o=0;o<e.length;++o){let a=e[o];la(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&ii(r.charCodeAt(0))){++i;let o=r.length;o>1&&ii(r.charCodeAt(1))&&(++i,o>2&&(ii(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&ii(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return ca.normalize(t)},relative(e,t){if(la(e,"from"),la(t,"to"),e===t)return"";let r=ca.resolve(e),n=ca.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===mu;)i++;let o=e.length;for(;o-1>i&&e.charCodeAt(o-1)===mu;)o--;let a=o-i,l=0;for(;l<t.length&&t.charCodeAt(l)===mu;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===mu;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let g=e.charCodeAt(i+h);if(g!==t.charCodeAt(l+h))break;g===mu&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===mu)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===mu?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=o;++h)(h===o||e.charCodeAt(h)===mu)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===mu&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=ca.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===mu){if(t.charCodeAt(1)===mu){let r=t.charCodeAt(2);if(r!==nht&&r!==K5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(Y5(t.charCodeAt(0))&&t.charCodeAt(1)===z5&&t.charCodeAt(2)===mu)return`\\\\?\\${t}`;return e},dirname(e){la(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return ii(i)?e:".";if(ii(i)){if(r=n=1,ii(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ii(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&ii(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ii(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else Y5(i)&&e.charCodeAt(1)===z5&&(r=t>2&&ii(e.charCodeAt(2))?3:2,n=r);let o=-1,a=!0;for(let l=t-1;l>=n;--l)if(ii(e.charCodeAt(l))){if(!a){o=l;break}}else a=!1;if(o===-1){if(r===-1)return".";o=r}return e.slice(0,o)},basename(e,t){t!==void 0&&la(t,"suffix"),la(e,"path");let r=0,n=-1,i=!0,o;if(e.length>=2&&Y5(e.charCodeAt(0))&&e.charCodeAt(1)===z5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=r;--o){let c=e.charCodeAt(o);if(ii(c)){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=r;--o)if(ii(e.charCodeAt(o))){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){la(e,"path");let t=0,r=-1,n=0,i=-1,o=!0,a=0;e.length>=2&&e.charCodeAt(1)===z5&&Y5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(ii(c)){if(!o){n=l+1;break}continue}i===-1&&(o=!1,i=l+1),c===K5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:L6e.bind(null,"\\"),parse(e){la(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return ii(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ii(i)){if(n=1,ii(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!ii(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&ii(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!ii(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(Y5(i)&&e.charCodeAt(1)===z5){if(r<=2)return t.root=t.dir=e,t;if(n=2,ii(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let o=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),ii(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===K5?o===-1?o=u:f!==1&&(f=1):o!==-1&&(f=-1)}return l!==-1&&(o===-1||f===0||f===1&&o===l-1&&o===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,o),t.base=e.slice(a,l),t.ext=e.slice(o,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},sht=(()=>{if(hu){let e=/\\/g;return()=>{let t=LS().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>LS()})(),Ra={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:sht();la(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Fl)}return t=zO(t,!r,"/",hne),r?`/${t}`:t.length>0?t:"."},normalize(e){if(la(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Fl,r=e.charCodeAt(e.length-1)===Fl;return e=zO(e,!t,"/",hne),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return la(e,"path"),e.length>0&&e.charCodeAt(0)===Fl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];la(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Ra.normalize(t)},relative(e,t){if(la(e,"from"),la(t,"to"),e===t||(e=Ra.resolve(e),t=Ra.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,o=1,a=t.length-o,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(o+u))break;m===Fl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(o+u)===Fl)return t.slice(o+u+1);if(u===0)return t.slice(o+u)}else i>l&&(e.charCodeAt(r+u)===Fl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Fl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(o+c)}`},toNamespacedPath(e){return e},dirname(e){if(la(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Fl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Fl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&la(t,"ext"),la(e,"path");let r=0,n=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=0;--o){let c=e.charCodeAt(o);if(c===Fl){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===Fl){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){la(e,"path");let t=-1,r=0,n=-1,i=!0,o=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Fl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===K5?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:L6e.bind(null,"/"),parse(e){la(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Fl,n;r?(t.root="/",n=1):n=0;let i=-1,o=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Fl){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===K5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=o===0&&r?1:o;i===-1||u===0||u===1&&i===a-1&&i===o+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return o>0?t.dir=e.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Ra.win32=ca.win32=ca;Ra.posix=ca.posix=Ra;var GNr=hu?ca.normalize:Ra.normalize,HNr=hu?ca.isAbsolute:Ra.isAbsolute,jNr=hu?ca.join:Ra.join,VNr=hu?ca.resolve:Ra.resolve,$Nr=hu?ca.relative:Ra.relative,zNr=hu?ca.dirname:Ra.dirname,F6e=hu?ca.basename:Ra.basename,M6e=hu?ca.extname:Ra.extname,YNr=hu?ca.format:Ra.format,KNr=hu?ca.parse:Ra.parse,JNr=hu?ca.toNamespacedPath:Ra.toNamespacedPath,XNr=hu?ca.sep:Ra.sep,ZNr=hu?ca.delimiter:Ra.delimiter;d();d();var lht=/^\w[\w\d+.-]*$/,cht=/^\//,uht=/^\/\//;function fht(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!lht.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!cht.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(uht.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(fht,"_validateUri");function dht(e,t){return!e&&!t?"file":e}s(dht,"_schemeFix");function mht(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Eh&&(t=Eh+t):t=Eh;break}return t}s(mht,"_referenceResolution");var Ho="",Eh="/",hht=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,X5=class e{static{s(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,o,a=!1){typeof t=="object"?(this.scheme=t.scheme||Ho,this.authority=t.authority||Ho,this.path=t.path||Ho,this.query=t.query||Ho,this.fragment=t.fragment||Ho):(this.scheme=dht(t,a),this.authority=r||Ho,this.path=mht(this.scheme,n||Ho),this.query=i||Ho,this.fragment=o||Ho,fht(this,a))}get fsPath(){return pne(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:o,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Ho),n===void 0?n=this.authority:n===null&&(n=Ho),i===void 0?i=this.path:i===null&&(i=Ho),o===void 0?o=this.query:o===null&&(o=Ho),a===void 0?a=this.fragment:a===null&&(a=Ho),r===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&a===this.fragment?this:new J5(r,n,i,o,a)}static parse(t,r=!1){let n=hht.exec(t);return n?new J5(n[2]||Ho,YO(n[4]||Ho),YO(n[5]||Ho),YO(n[7]||Ho),YO(n[9]||Ho),r):new J5(Ho,Ho,Ho,Ho,Ho)}static file(t){let r=Ho;if(Uv&&(t=t.replace(/\\/g,Eh)),t[0]===Eh&&t[1]===Eh){let n=t.indexOf(Eh,2);n===-1?(r=t.substring(2),t=Eh):(r=t.substring(2,n),t=t.substring(n)||Eh)}return new J5("file",r,t,Ho,Ho)}static from(t,r){return new J5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return Uv&&t.scheme==="file"?n=e.file(ca.join(pne(t,!0),...r)).path:n=Ra.join(t.path,...r),t.with({path:n})}toString(t=!1){return gne(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new J5(t);return r._formatted=t.external??null,r._fsPath=t._sep===U6e?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var U6e=Uv?1:void 0,J5=class extends X5{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{s(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=pne(this,!1)),this._fsPath}toString(r=!1){return r?gne(this,!0):(this._formatted||(this._formatted=gne(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=U6e),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},q6e={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Q6e(e,t,r){let n,i=-1;for(let o=0;o<e.length;o++){let a=e.charCodeAt(o);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n!==void 0&&(n+=e.charAt(o));else{n===void 0&&(n=e.substr(0,o));let l=q6e[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n+=l):i===-1&&(i=o)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}s(Q6e,"encodeURIComponentFast");function pht(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=q6e[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}s(pht,"encodeURIComponentMinimal");function pne(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,Uv&&(r=r.replace(/\//g,"\\")),r}s(pne,"uriToFsPath");function gne(e,t){let r=t?pht:Q6e,n="",{scheme:i,authority:o,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(o||i==="file")&&(n+=Eh,n+=Eh),o){let u=o.indexOf("@");if(u!==-1){let f=o.substr(0,u);o=o.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}o=o.toLowerCase(),u=o.lastIndexOf(":"),u===-1?n+=r(o,!1,!0):(n+=r(o.substr(0,u),!1,!0),n+=o.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:Q6e(c,!1,!1)),n}s(gne,"_asFormatted");function W6e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+W6e(e.substr(3)):e}}s(W6e,"decodeURIComponentGraceful");var O6e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function YO(e){return e.match(O6e)?e.replace(O6e,t=>W6e(t)):e}s(YO,"percentDecode");var jd=class e{constructor(t){this.uri=t;this._uri=X5.parse(ac(this.uri))}static{s(this,"DocumentId")}static{this._cache=new TA({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return F6e(this.uri)}get extension(){return M6e(this.uri)}toUri(){return this._uri}};function Ane(e){return jd.create(e)}s(Ane,"createDocumentId");d();d();var Vd=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new xn(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{s(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(Ka.fromJson))}static from(t){let r=t.map(i=>new Ka(Vt.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new Ka(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new Ka(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return ght(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new Ka(Vt.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Vt.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,o=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new Ka(l.replaceRange.delta(o),l.newText)),i++):(n++,o+=a.newText.length-a.replaceRange.length):(r.push(new Ka(l.replaceRange.delta(o),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Vt(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Vt(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},Ka=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{s(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Vt.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=NS(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,e6(r,this.newText)),o=new Vt(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(o,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function ght(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let o of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=o.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>o.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new Ka(o.replaceRange.delta(-i),o.newText));else{let u="",f=o.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-o.replaceRange.endExclusive;if(m>0){let g=new Ka(Vt.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(g),i-=g.newText.length-g.replaceRange.length}let h=u+o.newText,p=new Vt(Math.min(l.replaceRange.start,o.replaceRange.start-a),o.replaceRange.endExclusive-i);n.push(new Ka(p,h))}}for(;;){let o=r.shift();if(!o)break;n.push(o)}return new Vd(n).normalize()}s(ght,"joinEdits");d();d();var G6e=-1;function t6(){return G6e!==-1?G6e:Date.now()}s(t6,"now");function H6e(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}s(H6e,"lineRangeDistance");d();var r6=class e{constructor(t){this.edits=t}static{s(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new SA(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Qs.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return xs.create(r)}mapEdits(t){return new e(this.edits.map(t))}},SA=class e{constructor(t,r){this.range=t;this.newText=r}static{s(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new xn;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),o="";for(let a=0;a<t.length;a++){let l=t[a];if(o+=l.newText,a<t.length-1){let c=t[a+1],u=Ar.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);o+=f}}return new e(Ar.fromPositions(n,i),o)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(Ar.fromPositions(n.getStartPosition(),this.range.getStartPosition())),o=r.getValueOfRange(Ar.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+o;return new e(n,a)}extendToFullLine(t){let r=new Ar(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Qs.replace(n,this.newText)}};var yo=class e{constructor(t){this.edits=t;Pl(j5(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{s(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>Ih.deserialize(r)))}static fromEdit(t){let r=r6.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],o=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(o.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=SA.joinEdits(o,r);o.length=0;let f=Ih.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(Cf(n=>n.lineRange.startLineNumber,xf)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return xs.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(yr.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new yr(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new Ih(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}s(n,"pushLine");function i(){r.push("---")}s(i,"pushSeperator");let o=0,a=!0;for(let l of q8(this.edits,(c,u)=>H6e(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+o,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+o+h,"added",p)}c=f.endLineNumberExclusive,o+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+o,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let o of i.newLines)r.push(o);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new Ih(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},Ih=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{s(this,"SingleLineEdit")}static deserialize(t){return new e(yr.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=dg(t.newText),i=t.range.startLineNumber,o=r.getValueOfRange(Ar.fromPositions(new nn(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=o+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(Ar.fromPositions(t.range.getEndPosition(),new nn(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===o.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new yr(i,a),n)}toLineEdit(){return new yo([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let o=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(o)+1;n=new nn(o,a)}else n=new nn(1,1);let i=r.addToPosition(new nn(1,1));return new SA(Ar.fromPositions(n,i),"")}else return new SA(new Ar(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,o=this.lineRange.startLineNumber;return o===t.getTransformer().textLength.lineCount+2?(r=o-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=o,n=1,i=this.newLines.map(a=>a+`
`).join("")),new SA(Ar.fromPositions(new nn(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new Ar(this.lineRange.startLineNumber,1,r,n),o=this.newLines.join(`
`);return new SA(i,o)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Qs.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let o=0;for(;r<n&&o+i<this.newLines.length&&this.newLines[this.newLines.length-1-o]===t.getLineAt(n-1);)n--,o++;return i===0&&o===0?this:new e(new yr(r,n),this.newLines.slice(i,this.newLines.length-o))}},Aht;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,s(e,"is")})(Aht||={});var pg=class e{constructor(t,r){this.base=t;this.edit=r}static{s(this,"RootedLineEdit")}static fromEdit(t){let r=yo.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new Wc(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=s(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new yo(r))}};var xs=class e{constructor(t){this.edits=t;Pl(j5(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{s(this,"Edit")}static deserialize(t){return new e(t.map(r=>Qs.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Qs.replace(t,r)])}static insert(t,r){return new e([Qs.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Qs.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let o=t.tryRebase(i);if(o)return{e1:i,e2:o}}toOffsetEdit(){return new Vd(this.edits.map(t=>new Ka(t.range,t.newText)))}compose(t){return yht(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Qs.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Qs.replace(Vt.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],o=0;for(let a of this.edits)i.push(Qs.replaceWithData(Vt.ofStartAndLength(a.range.start+o,a.range.length),a.newText,a.data)),o+=a.newText.length-a.range.length;return new KO(i)}if(this.edits.length!==t.arrayLength)throw _S(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let o=t.mapIndexBack(i),a=n[o];r.push(a);for(let l=o;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Qs.replaceWithData(Vt.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new KO(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Vt(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Qs.replace(Vt.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,o=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Qs.replace(l.range.delta(o),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Qs.replace(l.range.delta(o),l.newText)),i++):(n++,o+=a.newText.length-a.range.length)}else break}return new e(r)}};function yht(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let o of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=o.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>o.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Qs.replaceWithData(o.range.delta(-i),o.newText,o.data));else{let u=o.range.start-a-l.range.start;u>0&&n.push(Qs.replaceWithData(Vt.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-o.range.endExclusive;if(f>0){let h=Qs.replaceWithData(Vt.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Vt(Math.min(l.range.start,o.range.start-a),o.range.endExclusive-i);n.push(Qs.replaceWithData(m,o.newText,o.data))}}for(;;){let o=r.shift();if(!o)break;n.push(o)}return xs.create(n).normalize()}s(yht,"joinEdits");var Qs=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{s(this,"SingleEdit")}static deserialize(t){return new e(new Vt(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Vt(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Vt(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return xs.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=Cht(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=xht(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function Cht(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}s(Cht,"commonPrefixLength");function xht(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}s(xht,"commonSuffixLength");var Wc=class e{constructor(t,r){this.base=t;this.edit=r}static{s(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return y0(()=>null.base.equals(this.base.apply(t))),y0(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return pg.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},KO=class e{constructor(t){this.edits=t}static{s(this,"SingleEdits")}static{this.empty=new e([])}compose(){return xs.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new gg(this.edits.map(t=>t.toEdit()))}},gg=class e{constructor(t){this.edits=t}static{s(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return xs.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let o=xs.trySwap(r,i);if(!o)return;n.push(o.e1),r=o.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>xs.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let o=yo.fromEdit(new Wc(r,i));n.push(o.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var n6=class extends mg{constructor(r,n=!1){super();this._openDocuments=vh(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{s(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Vr);for(let n of r.getTextDocumentsUnsafe())n&&this.addLspDocument(n.uri,n.clientLanguageId,n.getText());r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document.languageId,n.document.text)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges)})}addLspDocument(r,n,i){let o=jd.create(r);return this.addDocument({id:o,initialValue:i,languageId:Mv.create(n)},void 0)}onDidChangeLspDocument(r,n){let i=jd.create(r),o=this._documents.get(i);o&&o.applyLspContentChanges(n)}onUserPositionChange(r,n){let i=jd.create(r),o=this._documents.get(i);o&&o.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=jd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let o=new yne(r.id,new Ll(r.initialValue??""),[],r.languageId??Mv.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==o.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[o]})},r.workspaceRoot);return this._documents.set(r.id,o),this._openDocuments.set([...this._openDocuments.get(),o],n,{added:[o],removed:[]}),o}async getDocument(r){if(await this.ctx.get(Vr).getTextDocument(r))return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},yne=class extends GO{static{s(this,"MutableObservableLspDocument")}constructor(t,r,n,i,o,a){super(t,r,n,i,o,a)}applyLspContentChanges(t){let r=this.editFromLspContentChanges(t);this.applyEdit(r.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new nn(t.lineNumber+1,t.column+1));this.updateSelection([new Vt(r,r)])}editFromLspContentChanges(t){return new gg(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(j6e.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new nn(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new nn(t.range.end.line+1,t.range.end.character+1));if(n>i)throw new xn(`Invalid range: [${n}, ${i}) from ${JSON.stringify(t.range)}`);return xs.replace(new Vt(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function V6e(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}s(V6e,"isObject");function JO(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}s(JO,"assertType");d();d();d();var Wv=0;function XO(e){return e===0}s(XO,"lengthIsZero");var bf=2**26;function i6(e,t){return e*bf+t}s(i6,"toLength");function RA(e){let t=e,r=Math.floor(t/bf),n=t-r*bf;return new Nl(r,n)}s(RA,"lengthToObj");function MS(e,t){let r=e+t;return t>=bf&&(r=r-e%bf),r}s(MS,"lengthAdd");function $6e(e,t){return e.reduce((r,n)=>MS(r,t(n)),Wv)}s($6e,"sumLengths");function Cne(e,t){return e===t}s(Cne,"lengthEquals");function QS(e,t){let r=e,n=t;if(n-r<=0)return Wv;let o=Math.floor(r/bf),a=Math.floor(n/bf),l=n-a*bf;if(o===a){let c=r-o*bf;return i6(0,l-c)}else return i6(a-o,l)}s(QS,"lengthDiffNonNegative");function z6e(e,t){let r=e,n=Math.floor(r/bf),i=r-n*bf,o=t,a=Math.floor(o/bf),l=o-a*bf;return new Ar(n+1,i+1,a+1,l+1)}s(z6e,"lengthsToRange");d();var o6=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{s(this,"TextEditInfo")}toString(){return`[${RA(this.startOffset)}...${RA(this.endOffset)}) -> ${RA(this.newLength)}`}};function K6e(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new wO(Y6e(e)),n=Y6e(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function o(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!XO(u);){let[m,h]=i.splitAt(u);f.push(m),u=QS(m.lengthAfter,u),i=h??r.dequeue()}return XO(u)||f.push(new OS(!1,u,u)),f}s(o,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&Cne(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new o6(h.startOffset,f,MS(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}s(l,"pushEdit");let c=Wv;for(let u of n){let f=o(u.lengthBefore);if(u.modified){let m=$6e(f,p=>p.lengthBefore),h=MS(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=MS(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}s(K6e,"combineTextEditInfos");var OS=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{s(this,"LengthMapping")}splitAt(t){let r=QS(t,this.lengthAfter);return Cne(r,Wv)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,Wv,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${RA(this.lengthBefore)} -> ${RA(this.lengthAfter)}`}};function Y6e(e){let t=[],r=Wv;for(let n of e){let i=QS(r,n.startOffset);XO(i)||t.push(new OS(!1,i,i));let o=QS(n.startOffset,n.endOffset);t.push(new OS(!0,o,n.newLength)),r=n.endOffset}return t}s(Y6e,"toLengthMapping");var US=class e{constructor(t){this.edits=t}static{s(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new ZO(n.range,Nl.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=RA(n.newLength);return new ZO(z6e(n.startOffset,n.endOffset),new Nl(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new o6(i6(t.range.startLineNumber-1,t.range.startColumn-1),i6(t.range.endLineNumber-1,t.range.endColumn-1),i6(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=K6e(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return Ar.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},ZO=class{constructor(t,r){this.range=t;this.newLength=r}static{s(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function Z5(e,t,r){let n=new Map(Object.entries(t).map(([o,a])=>[a,o])),i=new Map(Object.keys(t).map(o=>[o,void 0]));return FO({owner:e,createEmptyChangeSummary:s(()=>({}),"createEmptyChangeSummary"),handleChange:s((o,a)=>{let l=n.get(o.changedObservable);return a[l]===void 0&&(a[l]={value:void 0,changes:[]}),a[l].changes.push(o.change),!0},"handleChange")},(o,a)=>{for(let[l,c]of Object.entries(t)){let u=c.read(o);a[l]===void 0&&(a[l]={value:u,changes:[],previous:i.get(l)}),a[l].value=u,a[l].previous=i.get(l)===void 0?void 0:i.get(l),i.set(l,u)}r(a)})}s(Z5,"autorunWithChanges");d();var eU=class{constructor(t){this.documents=t;Pl(t.length>0)}static{s(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},tU=class{constructor(t,r,n,i,o){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=o;this.lastEdit=new Wc(this.base,this.lastEdits.compose())}static{s(this,"DocumentHistory")}};d();var rU=class extends Zs{constructor(){super();this.branch=vh("branchName",void 0);this._register(sne((r,n)=>{this.init(n)}))}static{s(this,"ObservableGitStub")}async init(r){}};var s6=class extends Zs{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new vne(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{s(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new rU;this._register(Lv(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=t6(),this._documentState.forEach(o=>o.applyAllEdits()))})),bh(this,this.workspace.openDocuments,(n,i)=>{let o=n.selection.get().at(0),a=new xne(n.id,n.value.get().value,n.languageId.get(),o);this._documentState.set(a.docId,a),o&&this._lastDocuments.push(a),i.add(Z5(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(Sa(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}async getHistoryContext(r,n=5,i=100){let o=this._documentState.get(r);if(!o||!this._lastDocuments.has(o)||!await this.workspace.getDocument(r))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0){if(u.editCount===0&&l)break;if(await this.workspace.getDocument(c.docId)&&(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0))break}}if(a.reverse(),!!a.some(c=>c.docId===r))return new eU(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=t6()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}getRecentDocumentUris(){return this._lastDocuments.getItems().map(r=>r.docId.uri)}},xne=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new Ll(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{s(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=r6.fromEdit(t,this._currentValue),i=US.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function o(l){return nU(l.edits,c=>c.newText.length)}s(o,"editInsertSize");let a=this._edits.at(-1);a&&o(a.edit)<200&&vht(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=t6(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:t6()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new gg(this._edits.map(o=>o.edit));return{history:new tU(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=xs.empty,o=US.empty,a,l=0,c=xs.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(t6()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(o),m=f.getRange();JO(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=nU(u.textLengthEdit.edits,B=>B.range.endLineNumber-B.range.startLineNumber+B.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||nU(u.edit.edits,B=>B.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||nU(u.edit.edits,B=>B.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let B=xs.trySwap(u.edit,c);if(B)c=B.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let v=u.edit.inverseOnString(n.value);n=n.apply(v);let b=u.edit.compose(i),E=yo.fromEdit(new Wc(n,b)),k=new pg(n,E).removeCommonSuffixPrefixLines().edit.edits.length;if(k>t)break;l=k,i=b,o=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new gg(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function nU(e,t){let r=0;for(let n of e)r+=t(n);return r}s(nU,"sum");function vht(e,t){let r=t.getNewRanges();return e.edits.every(n=>bht(n.range,r))}s(vht,"editExtends");function bht(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}s(bht,"doesTouch");var vne=class{constructor(t){this.maxSize=t;this._arr=[]}static{s(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItems(){return this._arr}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function J6e(e,t,r){return e.get(bne).safeStartIfApplicable(t,r)}s(J6e,"startRecentEditsPromptFeatureIfApplicable");var bne=class{static{s(this,"RecentEditsPromptFeatureLifecycle")}};function Eht(e,t,r){return qn(e,wt.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}s(Eht,"isRecentEditsActive");var Z6e=s((e,t)=>{let r=e.get(dr);return Eht(e,r,t)},"recentEditsPredicate");function X6e(e,t){return Math.abs(e-t)}s(X6e,"lineDistance");function Iht(e,t,r=0,n=!1,i=!1,o=!1,a=!1,l,c,u="diff"){let f=[];if(a&&(l===void 0||c===void 0))throw new Error("cursorLine and distanceLimitFromCursor are required when filterByCursorLine is true");for(let m of e.edits){let h=m.lineRange.startLineNumber-1,p=m.lineRange.endLineNumberExclusive-1,g=t.slice(h,p),y=m.newLines;if(a&&(X6e(h,l)<=c||X6e(p,l)<=c))continue;let v=g.filter(k=>k.trim().length>0),b=y.filter(k=>k.trim().length>0);if(v.length===0&&b.length===0||n&&b.length===0||v.join("").trim()===b.join("").trim())continue;let E=Math.max(0,h-r),_=Math.min(t.length,p+r);if(u==="aiders-diff")f.push(...wht(h,g,y,E,t,p,_));else if(u==="diff")f.push(...Tht(h,g,y,E,t,n,i,o,p,_));else if(u==="find-replace")f.push(..._ht(h,g,y,E,t,p,_));else throw new Error(`Unknown summarization format: ${u}`)}return f}s(Iht,"summarizeEdits");function Tht(e,t,r,n,i,o,a,l,c,u){let f=[];f.push(`@@ -${e+1},${t.length} +${e+1},${r.length} @@`);for(let m=n;m<e;m++)f.push(` ${i[m]}`);a&&f.push(...r.map(m=>`+${m}`)),o||(l?f.push(...t.map(m=>`-${m} --- IGNORE ---`)):f.push(...t.map(m=>`-${m}`))),a||f.push(...r.map(m=>`+${m}`));for(let m=c;m<u;m++)f.push(` ${i[m]}`);return f}s(Tht,"summarizeEditAsDiff");function wht(e,t,r,n,i,o,a){let l=[];l.push(">>>>>>> SEARCH");let c=i.slice(n,e),u=i.slice(o,a);return l.push(...c),l.push(...t),l.push(...u),l.push("======="),l.push(...c),l.push(...r),l.push(...u),l.push("<<<<<<<<< REPLACE"),l}s(wht,"summarizeEditAsAidersDiff");function _ht(e,t,r,n,i,o,a){let l=[],c=i.slice(n,e),u=i.slice(o,a);t=t.map(h=>`${h} --- DO NOT REPLY WITH CODE FROM THIS LINE ---`);let f=[...c,...t,...u],m=[...c,...r,...u];return l.push("--- User edited code: ---"),l.push(...f),t.length===0?l.push(`--- and added ${r.length} line${r.length===1?"":"s"} to make: ---`):r.length===0?l.push(`--- and deleted ${t.length} line${t.length===1?"":"s"} to make: ---`):l.push("--- and replaced it with: ---"),l.push(...m),l.push("--- End of edit ---"),l}s(_ht,"summarizeEditAsFindReplace");var e9e=s((e,t)=>{let[r,n]=t.useState();return t.useData(du,async i=>{if(!i.document)return;let o=i.telemetryData,a=e.ctx.get(dr);J6e(e.ctx,o,a);let l=qn(e.ctx,wt.RecentEditsMaxFiles)??a.recentEditsMaxFiles(o),c=qn(e.ctx,wt.RecentEditsEditCount)??a.recentEditsEditCount(o),u=qn(e.ctx,wt.RecentEditsContextLines)??a.recentEditsContextLines(o),f=qn(e.ctx,wt.RecentEditsRemoveDeletedLines)??a.recentEditsRemoveDeletedLines(o),m=qn(e.ctx,wt.InsertionsBeforeDeletions)??a.recentEditsInsertionsBeforeDeletions(o),h=qn(e.ctx,wt.RecentEditsAppendNoReplyMarker)??a.recentEditsAppendNoReplyMarker(o),p=qn(e.ctx,wt.RecentEditsMaxLinesBetweenEdits)??a.recentEditsMaxLinesBetweenEdits(o),g=qn(e.ctx,wt.RecentEditsActiveDocDistanceLimitFromCursor)??a.recentEditsActiveDocDistanceLimitFromCursor(o),y=qn(e.ctx,wt.RecentEditsSummarizationFormat)??a.recentEditsSummarizationFormat(o),v=e.ctx.get(s6),b=e.ctx.get(n6),E=e.ctx.get(Vr),_=v.getRecentDocumentUris(),k=[],B=0;for(let re of _){if(B>=l)break;b.onUserPositionChange(re,new nn(0,0));let Z=(await v.getHistoryContext(Ane(re),c,p))?.getDocument(Ane(re)),G=Z?.base.getLines();if(Z&&G){let q=Z.lastEdit,ie=yo.fromEdit(q),z=re===i.document?.uri?0:u,H=re===i.document?.uri,U=H?i.position.line:void 0,V=Iht(ie,G,z,f,m,h,H,U,g,y);if(V.length>0){let Y={value:V.join(`
`),relativePathOrUri:E.getRelativePath({uri:re})??re};k.push(Y),B++}}}let N=k;if(!N||N.length===0){n(void 0);return}let M=wS("These are recently edited files. Do not suggest code that has been deleted.");for(let re of N)M+=wS(`File: ${re.relativePathOrUri}`),M+=wS(re.value);M+=wS("End of recent edits"),n(M)}),r?Vn(aa,{children:r}):void 0},"RecentEdits");d();d();function t9e(e,t){let r=yO(t,"Trait");for(let i of r)Sht(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,o)=>(i.importance??0)-(o.importance??0))}s(t9e,"getTraitsFromContextItems");function Sht(e,t,r){let n=e.get(Dl);t.forEach(i=>{n.addExpectations(r,[[i,"included"]])})}s(Sht,"setupExpectationsForTraits");function r9e(e){return e.map(t=>({name:t.name,value:t.value}))}s(r9e,"convertRelatedFileTraitsToTraits");function n9e(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}s(n9e,"addKindToRelatedFileTrait");var Rht=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function iU(e,t,r,n,i,o){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let c of r){let u=Rht.get(c.name);u&&(a[u]=c.value)}let l=o.extendedBy(a,{});return jt(t,e,l)}}s(iU,"ReportTraitsTelemetry");d();d();d();var Ene=new Sn;function i9e(e){return[...e].sort((t,r)=>{let n=Ene.get(t.uri)??0;return(Ene.get(r.uri)??0)-n})}s(i9e,"sortByAccessTimes");var o9e=s(e=>e.get(Vr).onDidFocusTextDocument(t=>{t&&Ene.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var oU=class{constructor(t){this.docManager=t}static{s(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let o=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Gv.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&sU(n,l.detectedLanguageId)&&(o.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),o.size>=i))break;return o}async getNeighborFiles(t,r,n){let i=new Map,o=new Map;return i=await this.truncateDocs(i9e(await this.docManager.textDocuments()),t,r,n),o.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:o}}};d();d();function s9e(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}s(s9e,"shortCircuit");d();function Bht(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}s(Bht,"defaultHash");function Ine(e,t={}){let{hash:r=Bht,cache:n=new Map}=t;return function(...i){let o=r.apply(this,i);if(n.has(o))return n.get(o);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(o),l})),n.set(o,a),a}}s(Ine,"memoize");var a9e={entries:[],traits:[]},aU={entries:new Map,traits:[]},Tne=class extends Sn{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{s(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},dl=new Gt("relatedFiles"),Dht=1e3,lU=class extends Error{static{s(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},Hv=class e{constructor(t){this.context=t}static{s(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let o={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=o.entries.get(a.type);l||(l=new Map,o.entries.set(a.type,l));for(let c of a.uris)try{dl.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){dl.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){dl.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){dl.warn(this.context,u)}}return o}async getFileContent(t){try{return this.context.get(bo).readFileString(t)}catch(r){dl.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(qc).evaluate(t,r)).isBlocked}catch(n){dl.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},Pht=3,l9e=new Tne(Dht);async function c9e(e,t,r,n,i){let o=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){dl.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(l9e.bumpRetryCount(t.uri)>=Pht?a=aU:a=void 0);let l=performance.now()-o;if(dl.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new lU;return a}s(c9e,"getRelatedFiles");var wne=Ine(c9e,{cache:l9e,hash:s((e,t,r,n,i)=>`${t.uri}`,"hash")});wne=s9e(wne,200,aU);async function u9e(e,t,r,n,i,o=!1){let a=e.get(Hv),l=aU;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=o?await c9e(e,c,r,n,a):await wne(e,c,r,n,a)}catch(c){l=aU,c instanceof lU&&jt(e,"getRelatedFilesList",r)}return iU("related.traits",e,r9e(l.traits),t.detectedLanguageId,t.clientLanguageId,r),dl.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}s(u9e,"getRelatedFilesAndTraits");function sU(e,t){return D_(e)===D_(t)}s(sU,"considerNeighborFile");var Gv=class e{static{s(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,o,a,l){let c=t.get(Vr);e.instance===void 0&&(e.instance=new oU(c));let u=Wht(t,n,i),f=Uht(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return dl.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=c.getWorkspaceFolder(h);if(!p)return dl.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let g=await u9e(t,h,i,o,a,l);if(g.entries.size===0)return dl.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...g.traits),m;let y=u?e.defaultEmptyResult():m;return g.entries.forEach((v,b)=>{let E=[];v.forEach((_,k)=>{let B=e.getRelativePath(k,p.uri);if(!B||y.docs.has(k))return;let N={relativePath:B,uri:k,source:_};E.unshift(N),y.docs.set(k,N)}),E.length>0&&y.neighborSource.set(b,E.map(_=>_.uri.toString()))}),y.traits.push(...g.traits),y}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},Nht=["cpp","c"],Lht=["typescript","javascript","typescriptreact","javascriptreact"],Fht=["csharp"];function Mht(e,t){return e.get(dr).excludeOpenTabFilesCSharp(t)||qn(e,wt.ExcludeOpenTabFilesCSharp)}s(Mht,"isExcludeOpenTabFilesCSharpActive");function Qht(e,t){return e.get(dr).excludeOpenTabFilesCpp(t)||qn(e,wt.ExcludeOpenTabFilesCpp)}s(Qht,"isExcludeOpenTabFilesCppActive");function Oht(e,t){return e.get(dr).excludeOpenTabFilesTypeScript(t)||qn(e,wt.ExcludeOpenTabFilesTypeScript)}s(Oht,"isExcludeOpenTabFilesTypeScriptActive");function Uht(e,t){return e.get(dr).fallbackToOpenTabFilesWithNoRelatedFiles(t)||qn(e,wt.FallbackToOpenTabFilesWithNoRelatedFiles)}s(Uht,"isFallbackToOpenTabFilesActive");var qht=new Map([...Nht.map(e=>[e,Qht]),...Lht.map(e=>[e,Oht]),...Fht.map(e=>[e,Mht])]);function Wht(e,t,r){let n=qht.get(t);return n?n(e,r):!1}s(Wht,"isExcludeOpenTabFilesActive");function f9e(e,t){return e.get(dr).includeNeighboringFiles(t)||qn(e,wt.IncludeNeighboringFiles)}s(f9e,"isIncludeNeighborFilesActive");var d9e=s((e,t)=>{let[r,n]=t.useState(),[i,o]=t.useState([]),[a,l]=t.useState();t.useData(du,async m=>{m.document.uri!==r?.uri&&o([]),n(m.document);let h=m.turnOffSimilarFiles?Gv.defaultEmptyResult():await Gv.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);o(p);let g=h.traits.filter(y=>y.includeInPrompt).map(n9e);l(f(g,m.document))});async function c(m,h,p,g){let y=cU(e.ctx,m,h.detectedLanguageId);return(await u(y,m,h,p,g)).filter(b=>b.snippet.length>0).sort((b,E)=>b.score-E.score).map(b=>({text:rve(b,h.detectedLanguageId),score:b.score}))}s(c,"produceSimilarFiles");async function u(m,h,p,g,y){let v=m.similarFilesOptions||pO(e.ctx,h,p.detectedLanguageId),E=e.ctx.get(Vr).getRelativePath(p),_={uri:p.uri,source:p.getText(),offset:p.offsetAt(g.position),relativePath:E,languageId:p.detectedLanguageId};return await fve(_,Array.from(y.docs.values()),v)}s(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`)}return s(f,"produceTraitsText"),Vn(vA,{children:[a!==void 0?Vn(aa,{children:a}):void 0,...i.map((m,h)=>Vn(Ght,{text:m.text}))]})},"SimilarFiles"),Ght=s((e,t)=>Vn(aa,{children:e.text}),"SimilarFile");d();var m9e=s((e,t)=>{let[r,n]=t.useState(),[i,o]=t.useState();if(t.useData(du,a=>{a.traits!==r&&n(a.traits);let l=D_(a.document.detectedLanguageId);l!==i&&o(l)}),!(!r||r.length===0||!i))return Vn(vA,{children:[Vn(aa,{children:`Consider this related information:
`}),...r.map(a=>Vn(aa,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");d();d();function uU(e,t,r){try{let n=e.get(dr).cppContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[o,a]of Object.entries(i))t.set(o,a)}}catch(n){return Zn.debug(e,"Failed to get the active C++ experiments for the Context Provider API",n),!1}return!0}s(uU,"fillInCppActiveExperiments");var h9e=Ze(ni());var ml=class{static{s(this,"ContextProviderRegistry")}},_ne=class extends ml{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{s(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,o){if(i?.isCancellationRequested)return Zn.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;uU(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,g])=>{let y={providerId:p.id,matchScore:g,resolution:"none",resolutionTimeMs:0,data:[]};l.push(y)}),u.length===0)return l;if(i?.isCancellationRequested)return Zn.debug(this.ctx,"Resolving context providers cancelled"),[];let m=h_(this.ctx)&&!zL(this.ctx)?0:qn(this.ctx,wt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,g]of u){let y={completionId:A9e(n),documentContext:r,activeExperiments:a,timeBudget:h,data:o},v=this.ctx.get(Dl).pop(p.id);v&&(y.previousUsageStatistics=v);let b=new h9e.CancellationTokenSource;i?.onCancellationRequested(G=>{b.cancel()});let E=performance.now(),_=p.resolver.resolve(y,b.token),[k,B]=await Hht(this.ctx,_,y,p,b),N=performance.now();this.ctx.get(Dl).setLastResolution(p.id,B);let[M,re]=b8e(k);re&&Zn.error(this.ctx,`Dropped ${re} context items from ${p.id} due to invalid schema`);let pe=E8e(this.ctx,M),Z={providerId:p.id,matchScore:g,resolution:B,resolutionTimeMs:N-E,data:pe};l.push(Z)}return l.sort((p,g)=>g.matchScore-p.matchScore)}async matchProviders(r,n){let i=dU(this.ctx,n),o=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!o&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},Sne=class extends ml{constructor(r){super();this.delegate=r;this._cachedContextItems=new Sn(5)}static{s(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,o){let a=A9e(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,o);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function p9e(e){return e>0?Rv(e,null):new Promise(()=>{})}s(p9e,"nullTimeout");async function Hht(e,t,r,n,i){let o=[],a;return t instanceof Promise?[o,a]=await jht(e,t,r,n,i):[o,a]=await Vht(e,t,r,n,i),[o,a]}s(Hht,"extractDataFromPendingContextItem");async function jht(e,t,r,n,i){let o=[],a,l=p9e(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),Zn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?o.push(...c):o.push(c))}catch(c){return O_(c)||Zn.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[o,a]}s(jht,"handlePromiseContextItem");async function Vht(e,t,r,n,i){let o=[],a,l=p9e(r.timeBudget),c=(async()=>{for await(let u of t)o.push(u);return o})();try{await Promise.race([c,l])===null?(a=o.length>0?"partial":"none",i.cancel(),Zn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return O_(u)||Zn.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[o,a]}s(Vht,"handleAsyncIteratorContextItem");function fU(e,t){return new Sne(new _ne(e,t))}s(fU,"getContextProviderRegistry");function g9e(e,t){let r=e.get(Dl);return t.map(i=>{let{providerId:o,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(o),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:o,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(y=>y.usage==="full"||y.usage==="partial"||y.usage==="partial_content_excluded").length:void 0,g=f?.usageDetails!==void 0?f?.usageDetails.filter(y=>y.usage==="partial"||y.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),g!==void 0&&(h.numPartiallyUsedItems=g),h})}s(g9e,"telemetrizeContextItems");function A9e(e){return e.properties.headerRequestId}s(A9e,"extractCompletionId");function y9e(e){return e.matchScore>0&&e.resolution!=="error"}s(y9e,"matchContextItems");function dU(e,t){let r=Rne(e,t),n=qn(e,wt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}s(dU,"getActiveContextProviders");function Rne(e,t){return h_(e)?["*"]:e.get(dr).contextProviders(t)}s(Rne,"getExpContextProviders");function kne(e,t){return dU(e,t).length>0}s(kne,"useContextProviderAPI");d();d();d();var mU=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{s(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=s(i=>{let o=typeof i=="function"?i(this.states[r]):i;this.states[r]=o,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},hU=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{s(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var pU=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{s(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let o=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);o=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(o);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}o.children=l}return o}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if($ht(t.type)){let i=t.type(t.props.children),o=r!=="$"?`[${n}]`:"",a=`${r}${o}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let o=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${o}.${i.name}`,l=new Dne(this.getOrCreateLifecycleData(a)),c=i(n.props,l),m=(Array.isArray(c)?c:[c]).map((h,p)=>this.virtualizeElement(h,a,p)).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let o=i.props?.key;o&&r.set(o,(r.get(o)||0)+1)}let n=Array.from(r.entries()).filter(([i,o])=>o>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new Bne([])),this.lifecycleData.get(t)}createPipe(){return{pump:s(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},Bne=class{static{s(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},Dne=class{constructor(t){this.lifecycleData=t;this.stateHook=new mU(t.state),this.dataHook=new hU(r=>{t._updateTimeMs=r})}static{s(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function $ht(e){return typeof e=="function"&&"isFragmentFunction"in e}s($ht,"isFragmentFunction");var qS=class{static{s(this,"VirtualPrompt")}constructor(t){this.reconciler=new pU(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let o=this.snapshotNode(i,r);if(o==="cancelled")return"cancelled";o!==void 0&&n.push(o)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var Th=class{static{s(this,"CompletionsPromptFactory")}};function gU(e,t){return new Pne(new Nne(new Lne(e,t)))}s(gU,"createCompletionsPromptFactory");var Pne=class extends Th{constructor(r){super();this.delegate=r}static{s(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return a6;try{return await this.delegate.prompt(r,n)}catch{return Fne}}},zht=1200,Nne=class extends Th{constructor(r){super();this.delegate=r}static{s(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new Fn.CancellationTokenSource,o=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,o),new Promise(a=>{setTimeout(()=>{i.cancel(),a(E9e)},zht)})])}};function du(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}s(du,"isCompletionRequestData");var Lne=class extends Th{constructor(r,n){super();this.ctx=r;this.renderer=new IO;this.virtualPrompt=n??new qS(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}static{s(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({completionState:r,telemetryData:n,promptOpts:i},o){let{maxPromptLength:a,suffixPercent:l,suffixMatchThreshold:c}=cU(this.ctx,n,r.textDocument.detectedLanguageId),u=await this.failFastPrompt(r.textDocument,r.position,l??0,o);if(u)return u;let f=performance.now(),{traits:m,codeSnippets:h,turnOffSimilarFiles:p,resolvedContextItems:g}=await this.resolveContext(r,n,o,i);if(await this.updateComponentData(r.textDocument,r.position,m,h,n,p,a??B_,o,i,c),o?.isCancellationRequested)return a6;let y=this.virtualPrompt.snapshot(o),v=y.status;if(v==="cancelled")return a6;if(v==="error")return this.errorPrompt(y.error);let b=this.renderer.render(y.snapshot,{delimiter:`
`,tokenizer:Xi(),promptTokenLimit:a??B_,suffixPercent:l??eM,separateContext:i?.separateContext??!1,elisionStrategy:this.ctx.get(dr).completionsElisionStrategy(n),languageId:r.textDocument.detectedLanguageId},o);if(b.status==="cancelled")return a6;if(b.status==="error")return this.errorPrompt(b.error);let[E,_]=l6(b.prefix),k={...b,prefix:E},B;if(kne(this.ctx,n)){let M=g8e(b.metadata.componentStatistics);this.ctx.get(Dl).computeMatch(M),B=g9e(this.ctx,g),Zn.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(B)}'`)}let N=performance.now();return this.resetIfEmpty(b),this.successPrompt(k,N,f,_,B)}async updateComponentData(r,n,i,o,a,l,c,u,f={},m){let h=this.createRequestData(r,n,a,u,f,c,i,o,l,m);await this.pipe.pump(h)}async resolveContext(r,n,i,o={}){let a=[],l,c,u=!1;if(kne(this.ctx,n)){let f=this.ctx.get(ml),{textDocument:m,position:h,originalPosition:p,editsWithPosition:g}=r;a=await f.resolveAllProviders({uri:m.uri,languageId:m.detectedLanguageId,version:r.originalVersion,offset:m.offsetAt(h),position:p,proposedEdits:g.length>0?g:void 0},n,i,o.data);let y=a.filter(y9e);!f9e(this.ctx,n)&&y.length>0&&(u=!0),l=t9e(this.ctx,y),iU("contextProvider.traits",this.ctx,l,m.detectedLanguageId,m.detectedLanguageId,n),c=await I8e(this.ctx,y,m.detectedLanguageId)}return{traits:l,codeSnippets:c,turnOffSimilarFiles:u,resolvedContextItems:a}}async failFastPrompt(r,n,i,o){if(o?.isCancellationRequested)return a6;if((await this.ctx.get(qc).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return b9e;if((i>0?r.getText().length:r.offsetAt(n))<x9e)return v9e}completionsPrompt(){return Vn(vA,{children:[Vn(Ure,{children:[Vn(U8e,{ctx:this.ctx,weight:.7}),Vn(m9e,{weight:.6}),Vn(w8e,{ctx:this.ctx,weight:.9}),Vn(d9e,{ctx:this.ctx,weight:.8}),Vn(O8e,{ctx:this.ctx,by:Z6e,children:Vn(e9e,{ctx:this.ctx,weight:.99})})]}),Vn(IS,{weight:1})]})}createRequestData(r,n,i,o,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:o,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,o,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:o,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return Ia(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),Fne}reset(){this.virtualPrompt=new qS(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}};async function C9e(e){try{await iee}catch(t){gO(e,t,"initializeTokenizers")}}s(C9e,"waitForTokenizers");var x9e=10,v9e={type:"contextTooShort"},b9e={type:"copilotContentExclusion"},Fne={type:"promptError"},a6={type:"promptCancelled"},E9e={type:"promptTimeout"};function l6(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),o=e.slice(i.length);return[r.length==n?i:e,o]}s(l6,"trimLastLine");function c6(e,t,r,n,i={}){let a=e.get(Vr).findNotebook(t.textDocument),l=a?.getCellFor(t.textDocument);a&&l&&(t=Kht(t,a,l)),r.extendWithConfigProperties(e),r.sanitizeKeys();let c=e.get(dr).enablePromptContextProxyField(r);return e.get(Th).prompt({completionState:t,telemetryData:r,promptOpts:{...i,separateContext:c}},n)}s(c6,"extractPrompt");function Yht(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:EO(n,t)}s(Yht,"addNeighboringCellsToPrompt");function Kht(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&sU(r.document.detectedLanguageId,l.document.detectedLanguageId)),o=i.length>0?i.map(l=>Yht(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return e.applyEdits([{newText:o,range:{start:a,end:a}}])}s(Kht,"applyEditsForNotebook");function cU(e,t,r){let i=e.get(dr).maxPromptCompletionTokens(t)-aO(e),o=h8e(t,r),a=pO(e,t,r),l={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:o},c=e.get(dr).suffixPercent(t),u=e.get(dr).suffixMatchThreshold(t);return c>0&&u>0&&(l={...l,suffixPercent:c,suffixMatchThreshold:u}),l}s(cU,"getPromptOptions");d();d();var I9e=2.98410452738298,T9e=-.838732736843507,w9e=1.50314646255716,_9e=-.237798634012662,AU={python:.314368072478742},S9e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Jht={link:s(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:s(e=>Math.log(e/(1-e)),"unlink")};function Xht(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),o=t.get(n);return o+(i-o)*(e-n)/(r-n)}s(Xht,"linearInterpolation");var u6=class{static{s(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},Mne=class{constructor(t,r,n){this.link=Jht;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{s(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let o=r[i.name];if(o===void 0)return NaN;n+=i.contribution(o)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Xht(n,this.logitsToQuantiles)}},R9e=new Mne(I9e,[new u6("compCharLen",T9e,e=>Math.log(1+e)),new u6("meanLogProb",w9e),new u6("meanAlternativeLogProb",_9e)].concat(Object.entries(AU).map(e=>new u6(e[0],e[1]))),S9e);function k9e(e,t){let r={...t.measurements};return Object.keys(AU).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),R9e.predict(e,r)}s(k9e,"ghostTextScoreConfidence");function B9e(e,t){let r={...t.measurements};return Object.keys(AU).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),R9e.quantile(e,r)}s(B9e,"ghostTextScoreQuantile");d();d();var Zht=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function yU(e){let t=e.slice();return t.reverse(),D9e(t)||D9e(t.filter(r=>r.trim().length>0))}s(yU,"isRepetitive");function D9e(e){let t=ept(e);for(let r of Zht){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}s(D9e,"isRepeatedPattern");function ept(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}s(ept,"kmp_prefix_function");function tpt(e,t,r,n){let i="}";try{i=cve(t.detectedLanguageId)??"}"}catch{}return rpt({getLineText:s(o=>t.lineAt(o).text,"getLineText"),getLineCount:s(()=>t.lineCount,"getLineCount")},r,n,i)}s(tpt,"maybeSnipCompletion");function rpt(e,t,r,n){let i=npt(r),o=i.lines;if(o.length===1)return r;for(let a=1;a<o.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<o.length;f++){let m;for(;;){let y=t.line+1+f+c;if(m=y>=e.getLineCount()?void 0:e.getLineText(y),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=o.length?void 0:o[h],p!==void 0&&p.trim()==="";)u++;let g=h===o.length-1;if(!p||!(m&&(g?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return o.slice(0,a).join(i.newLineCharacter)}return r}s(rpt,"maybeSnipCompletionImpl");function npt(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}s(npt,"splitByNewLine");function ipt(e,t,r,n){let i="",o=t.line+1,a=n?r.trim():r;for(;i===""&&o<e.lineCount;){if(i=e.lineAt(o).text,n&&(i=i.trim()),i===a)return!0;o++}return!1}s(ipt,"matchesNextLine");function WS(e,t,r,n,i,o){if(yU(n.tokens)){let l=dn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"repetition.detected",l,1),o.info(e,"Filtered out repetitive solution");return}let a={...n};if(ipt(t,r,a.completionText,!i)){let l=dn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"completion.alreadyInDocument",l),jt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),o.info(e,"Filtered out solution matching next line");return}return a.completionText=tpt(e,t,r,a.completionText),a.completionText?a:void 0}s(WS,"postProcessChoiceInContext");function P9e(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let o=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,o+1);if(c>o)a++,o=c;else break}return a}}return 0}s(P9e,"checkSuffix");var L9e=Ze(Xy());var Li=new Gt("ghostText");async function F9e(e,t,r,n,i,o,a){Li.debug(e,`Getting ${o} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=Q8(e,l),u={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:pve(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},f={stream:!0,n:l,temperature:c,extra:u},m=t.blockMode==="moremultiline"&&q5.isSupported(t.languageId);!t.multiline&&!m&&(f.stop=[`
`]);let h=Date.now(),p={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(f.stop)??"unset",logit_bias:JSON.stringify(f.logit_bias??null)};Object.assign(r.properties,p);try{let g={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:f,headers:t.headers},y=await e.get(fu).fetchAndStreamCompletions(e,g,r,i,n);return y.type==="failed"?{type:"failed",reason:y.reason,telemetryData:Xs(r)}:y.type==="canceled"?(Li.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:y.reason,telemetryData:cg(r)}):a(h,y.getProcessingTime(),y.choices)}catch(g){if(Sc(g))return{type:"canceled",reason:"network request aborted",telemetryData:cg(r,{cancelledNetworkRequest:!0})};if(Li.exception(e,g,"Error on ghost text request"),e.get(tu).notifyUser(e,g),GI(e))throw g;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:Xs(r)}}}s(F9e,"genericGetCompletionsFromNetwork");function Qne(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}s(Qne,"postProcessChoices");async function apt(e,t,r,n,i){return F9e(e,t,r,n,i,"completions",async(o,a,l)=>{let u=await l[Symbol.asyncIterator]().next();if(u.done)return Li.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:Xs(r)};if(n?.isCancellationRequested)return Li.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:cg(r)};let f=u.value;if(f===void 0)return Li.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:Xs(r)};Q9e(e,"performance",f,o,a),Li.debug(e,`Awaited first result, id:  ${f.choiceIndex}`);let m=Qne(f,t);m&&(xU(e,t,{multiline:t.multiline,choices:[m]},r),Li.debug(e,`GhostText first completion (index ${m?.choiceIndex}): ${JSON.stringify(m?.completionText)}`));let h=(async()=>{let p=m!==void 0?[m]:[];for await(let g of l){if(g===void 0)continue;Li.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let y=Qne(g,t,p);y&&(p.push(y),xU(e,t,{multiline:t.multiline,choices:[y]},r))}})();return nh(e)&&await h,m?{type:"success",value:[CU(m,{forceSingleLine:!1}),h],telemetryData:Xs(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:Xs(r)}})}s(apt,"getCompletionsFromNetwork");async function lpt(e,t,r,n,i){return F9e(e,t,r,n,i,"all completions",async(o,a,l)=>{let c=[];for await(let u of l){if(n?.isCancellationRequested)return Li.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:cg(r)};let f=Qne(u,t,c);f&&c.push(f)}return c.length>0&&(xU(e,t,{multiline:t.multiline,choices:c},r),Q9e(e,"cyclingPerformance",c[0],o,a)),{type:"success",value:[c,Promise.resolve()],telemetryData:Xs(r),telemetryBlob:r,resultType:3}})}s(lpt,"getAllCompletionsFromNetwork");function CU(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}s(CU,"makeGhostAPIChoice");async function cpt(e,t,r,n,i,o,a,l,c){if(o&&l)return{blockMode:"parsing",requestMultiline:!0,finishedCb:s(f=>{let m=f?.split(`
`)??[];if(m.length>4)return m.slice(0,4).join(`
`).length},"finishedCb")};let u=e.get(fh).forLanguage(e,t.textDocument.detectedLanguageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,finishedCb:s(f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f;try{f=await Apt(e,u,t.textDocument,t.position,i,o,a,r)}catch(m){Li.exception(e,m,".getGhostTextStrategy"),f={requestMultiline:!1}}if(f.requestMultiline){let m;return r.trailingWs.length>0&&!r.prompt.prefix.endsWith(r.trailingWs)?m=Lo.position(t.position.line,Math.max(t.position.character-r.trailingWs.length,0)):m=t.position,{blockMode:u,requestMultiline:!0,finishedCb:N9e(e,u,t.textDocument,m,f.blockPosition,a,!0,r.prompt)}}return{blockMode:u,requestMultiline:!1,finishedCb:N9e(e,u,t.textDocument,t.position,f.blockPosition,a,!1,r.prompt)}}}}s(cpt,"getGhostTextStrategy");function N9e(e,t,r,n,i,o,a,l){if(t==="moremultiline"&&q5.isSupported(r.detectedLanguageId)){let c=r.getText(Lo.range(Lo.position(0,0),n))+(o?`
`:""),u=i==="empty-block"||i==="block-end"?7:3;return new lO(e,c,r.detectedLanguageId,!a,u,(f,m)=>{let h={prefix:c+f,prompt:{...l,prefix:l.prefix+f}};xU(e,h,{multiline:!0,choices:[m]},m.telemetryData)}).getFinishedCallback()}return a?bS(e,r,n,o):c=>{}}s(N9e,"buildFinishedCallback");var upt={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function fpt(e,t,r,n,i,o){let a=n.issuedTime,l=[];function c(_){let k=oa();l.push([_,k-a]),a=k}s(c,"recordPerformance"),c("telemetry");let u={...upt,...o},f=e.get($d),m=f.clientCompletionId,h=e.get(dr);if(i?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:Xs(n)};let p=mpt(t.textDocument,t.position);if(p===void 0)return Li.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:Xs(n)};let g=e.get(Ch).isEnabled(n)?e.get(Ch):void 0,y=i,v=new Fn.CancellationTokenSource;g&&(i=v.token);let b=await c6(e,t,n,i,u);return c("prompt"),b.type==="copilotContentExclusion"?(Li.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:Xs(n)}):b.type==="contextTooShort"?(Li.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:Xs(n)}):b.type==="promptError"?(Li.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:Xs(n)}):u.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:b}:b.type==="promptCancelled"?(Li.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:Xs(n)}):b.type==="promptTimeout"?(Li.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:Xs(n)}):b.prompt.prefix.length===0&&b.prompt.suffix.length===0?(Li.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:Xs(n)}):i?.isCancellationRequested?(Li.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:Xs(n)}):e.get(Yi).withProgress(async()=>{let[_]=l6(t.textDocument.getText(Lo.range(Lo.position(0,0),t.position))),k=h.triggerCompletionAfterAccept(n),B=e.get($d).hasAcceptedCurrentCompletion(_,b.prompt.suffix),N=qn(e,wt.MultilineAfterAccept)??h.enableMultilineAfterAccept(n),M=k&&!N?B:void 0,re=b.prompt;M&&(b.prompt={...b.prompt,prefix:b.prompt.prefix+`
`});let pe=await cpt(e,t,b,u.isCycling,p,B,M??!1,N,n);if(c("strategy"),i?.isCancellationRequested)return Li.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:Xs(n)};let Z=dpt(e,_,re,pe.requestMultiline,n);c("cache");let G=w5(e,t.textDocument.uri),q=T5(e,n),ie={blockMode:pe.blockMode,languageId:t.textDocument.detectedLanguageId,repoInfo:G,engineModelId:q.modelId,ourRequestId:r,prefix:_,prompt:b.prompt,multiline:pe.requestMultiline,indentation:ES(t.textDocument,t.position),isCycling:u.isCycling,headers:q.headers,requestForNextLine:M};ie.headers={...ie.headers,"X-Copilot-Async":g?"true":"false","X-Copilot-Speculative":u.isSpeculative?"true":"false"};let z=Ipt(e,t.textDocument,ie,t.position,b,n,q,u),H=qn(e,wt.EnableSpeculativeRequests),U=h.enableSpeculativeRequests(n),V=(H??U)&&!u.isSpeculative&&!u.isCycling,Y=Promise.resolve();if(g&&Z===void 0&&!u.isCycling&&g.shouldWaitForAsyncCompletions(_,b.prompt)){let be=await g.getFirstMatchingRequestWithTimeout(r,_,b.prompt,u.isSpeculative,z);if(c("asyncWait"),be){let qe=!pe.requestMultiline;Z=[[CU(be[0],{forceSingleLine:qe})],4],Y=be[1]}if(y?.isCancellationRequested)return Li.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:Xs(z)}}let ae=pe.blockMode==="moremultiline"&&q5.isSupported(t.textDocument.detectedLanguageId);if(Z!==void 0&&(Z[0]=Z[0].map(be=>WS(e,t.textDocument,t.position,be,ae,Li)).filter(be=>be!==void 0)),Z!==void 0&&Z[0].length===0)return Li.debug(e,`Found empty inline suggestions locally via ${O8(Z[1])}`),{type:"empty",reason:"cached results empty after post-processing",telemetryData:Xs(z)};if(Z!==void 0&&Z[0].length>0&&(!u.isCycling||Z[0].length>1))Li.debug(e,`Found inline suggestions locally via ${O8(Z[1])}`);else{if(u.isCycling){let be=await lpt(e,ie,z,i,pe.finishedCb);if(be.type==="success"){let qe=Z?.[0]??[];be.value[0].forEach(Re=>{qe.findIndex(Xe=>Xe.completionText.trim()===Re.completionText.trim())===-1&&qe.push(Re)}),Z=[qe,3]}else if(Z===void 0)return be}else{if(i?.isCancellationRequested)return Li.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:cg(z)};if(!h.disableContextualFilter(n)&&z.measurements.contextualFilterScore<35/100)return Li.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:cg(z)};let be=g?(Re,Xe)=>(g.updateCompletion(r,Re),pe.finishedCb(Re,Xe)):pe.finishedCb,qe=apt(e,ie,z,i,be);if(g){g.queueCompletionRequest(r,_,b.prompt,v,qe);let Re=await g.getFirstMatchingRequest(r,_,b.prompt,u.isSpeculative);if(Re===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:Xs(z)};Z=[[Re[0]],4],Y=Re[1]}else{let Re=await qe;if(Re.type!=="success")return Re;Z=[[Re.value[0]],0],Y=Re.value[1]}}c("network")}if(Z===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:Xs(z)};let[te,le]=Z,ce=te.map(be=>WS(e,t.textDocument,t.position,be,ae,Li)).filter(be=>be!==void 0),De=[];for(let be of ce){let qe=Ept(e,t.textDocument,ie,be,z),Re=p?P9e(t.textDocument,t.position,be):0,ft={completion:Cpt(be.choiceIndex,be.completionText,b.trailingWs),telemetry:qe,isMiddleOfTheLine:p,suffixCoverage:Re,copilotAnnotations:be.copilotAnnotations};De.push(ft)}if(y?.isCancellationRequested)return Li.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:cg(z)};if(z.properties.clientCompletionId=De?.[0]?.telemetry?.properties.clientCompletionId,z.measurements.foundOffset=De?.[0]?.telemetry?.measurements?.foundOffset??-1,Li.debug(e,`Produced ${De.length} results from ${O8(le)} at ${z.measurements.foundOffset} offset`),m!==f.clientCompletionId){let be=f.getCompletionsForUserTyping(_,b.prompt.suffix);if(be&&be.length>0)return Li.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:cg(z)}}if(V&&De.length>0&&le!==2){t=t.applyEdits([{newText:De[0].completion.completionText,range:{start:t.position,end:t.position}}]);let be=new Fn.CancellationTokenSource().token;Y.then(()=>{One(e,t,be,{isSpeculative:!0,opportunityId:u.opportunityId})})}return u.isSpeculative||f.setGhostText(_,b.prompt.suffix,ce,le),c("complete"),{type:"success",value:[De,le],telemetryData:Xs(z),telemetryBlob:z,resultType:le,performanceMetrics:l}})}s(fpt,"getGhostTextWithoutAbortHandling");async function One(e,t,r,n){let i=_r(),o=await bpt(e,t.textDocument,i,n);try{return await fpt(e,t,i,o,r,n)}catch(a){if(Sc(a))return{type:"canceled",reason:"aborted at unknown location",telemetryData:cg(o,{cancelledNetworkRequest:!0})};throw a}}s(One,"getGhostText");function dpt(e,t,r,n,i){let o=e.get($d).getCompletionsForUserTyping(t,r.suffix),a=vpt(e,t,r,n,i);if(o&&o.length>0){let l=(a??[]).filter(c=>!o.some(u=>u.completionText===c.completionText));return[o.concat(l),2]}if(a&&a.length>0)return[a,1]}s(dpt,"getLocalInlineSuggestion");function mpt(e,t){let r=hpt(t,e),n=ppt(t,e);return r&&!n?void 0:r&&n}s(mpt,"isInlineSuggestion");function hpt(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}s(hpt,"isMiddleOfTheLine");function ppt(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}s(ppt,"isValidMiddleOfTheLinePosition");function gpt(e,t){return t.lineAt(e).text.trim().length===0}s(gpt,"isNewLine");var kA=class e{constructor(t=!1){this.requestMultilineOverride=t}static{s(this,"ForceMultiLine")}static{this.default=new e}};async function Apt(e,t,r,n,i,o,a,l){if(e.get(kA).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)jt(e,"ghostText.longFileMultilineSkip",dn.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&q5.isSupported(r.detectedLanguageId)){let f=await MIe(r,n);return o||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=ES(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=r.applyEdits([h])}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&gpt(n,r))return{requestMultiline:!0};let u=!1;return!i&&af(r.detectedLanguageId)?u=await hO(r,n):i&&af(r.detectedLanguageId)&&(u=await hO(r,n)||await hO(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=qIe(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}s(Apt,"shouldRequestMultiline");function xU(e,t,r,n){if(qn(e,wt.EnablePrefixCache)??e.get(dr).enablePrefixCompletionsCache(n)){e.get(xh).append(t.prefix,r.choices);return}let i={...t.prompt};t.requestForNextLine&&(i.prefix=i.prefix.slice(0,-1));let o=jK(i),a=e.get(pf).get(o);a&&a.multiline===r.multiline?e.get(pf).set(o,{multiline:a.multiline,choices:a.choices.concat(r.choices)}):e.get(pf).set(o,r),Li.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${o}, multiline: ${r.multiline}, total number of suggestions: ${(a?.choices.length??0)+r.choices.length}`)}s(xU,"appendToCache");function ypt(e,t,r){let n=e.get(pf).get(t);if(n&&!(r&&!n.multiline))return n.choices}s(ypt,"getCachedChoices");function Cpt(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}s(Cpt,"adjustLeadingWhitespace");var xpt=50;function vpt(e,t,r,n,i){if(qn(e,wt.EnablePrefixCache)??e.get(dr).enablePrefixCompletionsCache(i)){let o=e.get(xh).findAll(t);return o.length===0?(Li.debug(e,"Found no completions in prefix cache"),[]):(Li.debug(e,`Found ${o.length} completions in prefix cache`),o.map(a=>CU(a,{forceSingleLine:!n})))}for(let o=0;o<xpt;o++){let a=[],l=r.prefix.substring(0,r.prefix.length-o),c=jK({prefix:l,suffix:r.suffix}),u=ypt(e,c,n);if(!u)continue;Li.debug(e,`Got completions from cache at ${o} characters back for key: ${c}, multiline: ${n}`);let f=r.prefix.substring(l.length);for(let m of u){let h=m.completionText;if(!h.startsWith(f)||h.length<=f.length)continue;h=h.substring(f.length);let p=CU({...m,completionText:h},{forceSingleLine:!n});p.telemetryData.measurements.foundOffset=o,p.completionText!==""&&a.push(p)}if(Li.debug(e,`Found ${a.length} matching completions from cache at ${o} characters back`),a.length>0)return a}return[]}s(vpt,"getCompletionsFromCache");async function bpt(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let o=dn.createAndMarkAsIssued(i);return await e.get(dr).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},o)}s(bpt,"createTelemetryWithExp");function Ept(e,t,r,n,i){let o=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,M9e(u,t),u.extendWithRequestId(o),u.measurements.confidence=k9e(e,u),u.measurements.quantile=B9e(e,u),Li.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}s(Ept,"telemetryWithAddData");function Ipt(e,t,r,n,i,o,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=o.extendedBy(c);M9e(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(Lo.range(m.range.start,n)),p=t.getText(Lo.range(n,m.range.end)),g=Array.from(i.neighborSource.entries()).map(E=>[E[0],E[1].map(_=>(0,L9e.SHA256)(_).toString())]),y={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},v={...JI(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(y.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(y.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let b=u.extendedBy(y,v);return b.measurements.contextualFilterScore=FIe(e,b,i.prompt),jt(e,"ghostText.issued",b),u}s(Ipt,"telemetryIssued");function M9e(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}s(M9e,"addDocumentTelemetry");function Q9e(e,t,r,n,i){let o=Date.now()-n,a=o-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:o,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),jt(e,`ghostText.${t}`,l)}s(Q9e,"telemetryPerformance");var $d=class{constructor(){this.choices=[]}static{s(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&O9e(this.choices[0].completionText,n))return Tpt(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,o=this.choices?.[0].finishReason;return i&&o==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function Tpt(e,t){return e.filter(r=>O9e(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}s(Tpt,"adjustChoicesStart");function O9e(e,t){return e.startsWith(t)&&e.length>t.length}s(O9e,"startsWithAndExceeds");d();d();d();var jv=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Vr);this._tracker=i.onDidChangeTextDocument(o=>{if(o.document.uri===r){for(let a of o.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{s(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();var Une=class e{constructor(t,r,n=[],i,o){this._textDocument=t;this._position=r;this.originalPosition=i??Fn.Position.create(r.line,r.character),this.originalVersion=o??t.version,this._editsWithPosition=[...n]}static{s(this,"CompletionState")}get textDocument(){return this._textDocument}get position(){return this._position}get editsWithPosition(){return[...this._editsWithPosition]}updateState(t,r,n){return new e(t,r,n??this.editsWithPosition,this.originalPosition,this.originalVersion)}updatePosition(t){return this.updateState(this._textDocument,t)}addSelectedCompletionInfo(t){if(this.editsWithPosition.find(n=>n.source==="selectedCompletionInfo"))throw new Error("Selected completion info already applied");let r={range:t.range,newText:t.text};return this.applyEdits([r],!0)}applyEdits(t,r=!1){if(r&&t.length>1)throw new Error("Selected completion info should be a single edit");let n=this._textDocument,i=this._position,o=n.offsetAt(i),a=this.editsWithPosition;for(let{range:l,newText:c}of t){let u=n.getText(l),f=n.offsetAt(l.end);if(n=n.applyEdits([{range:l,newText:c}]),o<n.offsetAt(l.start)){let h={range:l,newText:c,positionAfterEdit:Fn.Position.create(i.line,i.character)};r&&(h.source="selectedCompletionInfo"),a.push(h);continue}o<f&&(o=f),o+=c.length-u.length,i=n.positionAt(o);let m={range:l,newText:c,positionAfterEdit:Fn.Position.create(i.line,i.character)};r&&(m.source="selectedCompletionInfo"),a.push(m)}return this.updateState(n,i,a)}};function Ag(e,t){return new Une(e,t)}s(Ag,"createCompletionState");d();function qne(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),o=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=o;o=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+o[m],p=1+n[m-1],g=r(e[m-1],l,m-1,u)+o[m-1];n[m]=Math.min(p,h,g),n[m]===g?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}s(qne,"editDistance");function wpt(){return new Map}s(wpt,"emptyLexDictionary");function _pt(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}s(_pt,"reverseLexDictionary");function*Spt(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let o;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?o=0:i===" "?o=1:o=2,o===n&&o!==2?t+=i:(t.length>0&&(yield t),t=i,n=o)}t.length>0&&(yield t)}s(Spt,"lexGeneratorWords");function U9e(e,t,r,n){let i=[],o=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),o])),o+=a.length;return[i,t]}s(U9e,"lexicalAnalyzer");function q9e(e){return e!==" "}s(q9e,"notSingleSpace");function W9e(e,t,r=Spt){let[n,i]=U9e(e,wpt(),r,q9e),[o,a]=U9e(t,i,r,q9e);if(o.length===0||n.length===0)return{lexDistance:o.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:o.length};let l=_pt(a),c=o.length,u=l[o[0][0]],f=l[o[c-1][0]];function m(y,v,b,E){if(E===0||E===c-1){let _=l[n[b][0]];return E==0&&_.endsWith(u)||E==c-1&&_.startsWith(f)?0:1}else return y===v?0:1}s(m,"compare");let h=qne(n.map(y=>y[0]),o.map(y=>y[0]),m),p=n[h.startOffset][1],g=h.endOffset<n.length?n[h.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:h.distance,startOffset:p,endOffset:g,haystackLexLength:n.length,needleLexLength:o.length}}s(W9e,"lexEditDistance");d();function G9e(e,t){return e.compType==="partial"?e.acceptedLength:t.length}s(G9e,"computeCompCharLen");function H9e(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}s(H9e,"computeCompletionText");function j9e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}s(j9e,"computePartialLength");var eC=new Gt("postInsertion"),V9e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],$9e=50,Rpt=1500,kpt=.5,Bpt=500,Wne={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function z9e(e,t,r,n,i){let o=await e.get(Qn).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(o.status!=="valid")return eC.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=o.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await c6(e,Ag(a,u),r),m=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(m.isFimEnabled&&i!==void 0){let h=l.substring(n,i);return m.suffix=l.substring(i),{prompt:m,capturedCode:h,terminationOffset:0}}else{let h=l.substring(n),p=Bre(c,n,a.detectedLanguageId),y=await f8e(p,void 0)(h),v=Math.min(l.length,n+(y?y*2:Bpt)),b=l.substring(n,v);return{prompt:m,capturedCode:b,terminationOffset:y??-1}}}s(z9e,"captureCode");function vU(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{eC.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),n8e(e,t,u)});let o=new jv(e,n,r-1),a=new jv(e,n,r),l=s(async c=>{eC.debug(e,`Original offset: ${r}, Tracked offset: ${o.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await z9e(e,n,u,o.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let g=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:o.offset,terminationOffsetInCapturedCode:h});eC.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,g),jt(e,t+".capturedAfterRejected",g,1)},"checkInCode");V9e.filter(c=>c.captureRejection).map(c=>o.push(Zu(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}s(vU,"postRejectionTasks");function Vv(e,t,r,n,i,o,a,l){let c=o.extendedBy({compType:a.compType},{compCharLen:G9e(a,r)});eC.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),r8e(e,t,c);let u=r;r=H9e(r,a);let f=r.trim(),m=new jv(e,i,n),h=new jv(e,i,n+r.length),p=s(async g=>{await Lpt(e,t,f,n,i,g,c,m,h)},"stillInCodeCheck");if(Wne.triggerPostInsertionSynchroneously&&nh(e)){let g=p({seconds:0,captureCode:Wne.captureCode,captureRejection:Wne.captureRejection});e.get(Bo).register(g)}else V9e.map(g=>m.push(Zu(e,()=>p(g),"postInsertionTasks"),g.seconds*1e3));Zu(e,Dpt,"post insertion citation check")(e,i,u,r,n,l)}s(Vv,"postInsertionTasks");async function Dpt(e,t,r,n,i,o){if(!o||(o.ip_code_citations?.length??0)<1)return;let a=await e.get(Vr).getTextDocument({uri:t});if(a){let l=Gne(a.getText(),n,$9e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of o.ip_code_citations){let c=Ppt(r.length,n.length,l.start_offset);if(c===void 0){eC.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+Npt(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(hf).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}s(Dpt,"citationCheck");function Ppt(e,t,r){if(!(t<e&&r>t))return r}s(Ppt,"computeCitationStart");function Npt(e,t,r){return t<e?Math.min(r,t):r}s(Npt,"computeCitationEnd");function Gne(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),o=W9e(i,t),a=o.lexDistance/o.needleLexLength,{distance:l}=qne(i.substring(o.startOffset,o.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:o.needleLexLength,foundOffset:o.startOffset+Math.max(0,n-r),lexEditDistance:o.lexDistance,stillInCodeHeuristic:a<=kpt?1:0}}s(Gne,"find");async function Lpt(e,t,r,n,i,o,a,l,c){let u=await e.get(Qn).getOrReadTextDocument({uri:i});if(u.status==="valid"){let m=u.document.getText(),h=Gne(m,r,$9e,l.offset);h.stillInCodeHeuristic||(h=Gne(m,r,Rpt,l.offset)),eC.debug(e,`stillInCode: ${h.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${h.relativeLexEditDistance}. Char edit distance was ${h.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${h.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:o.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},h);if(jt(e,t+".stillInCode",p),o.captureCode){let{prompt:g,capturedCode:y,terminationOffset:v}=await z9e(e,i,p,l.offset,c.offset),b;g.isFimEnabled?b={hypotheticalPromptPrefixJson:JSON.stringify(g.prefix),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)}:b={hypotheticalPromptJson:JSON.stringify(g.prefix)};let E=a.extendedBy({...b,capturedCodeJson:JSON.stringify(y)},{timeout:o.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:v});eC.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),jt(e,t+".capturedAfterAccepted",E,1)}}}s(Lpt,"checkStillInCode");var Hne=new Gt("ghostText"),v0=class{static{s(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function Fpt(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let o={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(o)}}),t}s(Fpt,"computeRejectedCompletions");function jne(e,t){let r=e.get(v0);if(!r.position||!r.uri)return;let n=Fpt(r);n.length>0&&vU(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}s(jne,"rejectLastShown");function Y9e(e,t,r,n){let i=e.get(v0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&jne(e,t.offsetAt(i.position)),i.setState(t,r),i.index}s(Y9e,"setLastShown");function K9e(e,t){let r=e.get(v0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;Hne.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,uO(e,"ghostText",t)}}s(K9e,"handleGhostTextShown");function bU(e,t){let r=e.get(v0);r.resetState(),Hne.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),Vv(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}s(bU,"handleGhostTextPostInsert");function J9e(e,t,r,n=0){let i=e.get(v0);r===t.insertText.length&&i.resetState(),Hne.debug(e,"Ghost text partial post insert");let o=j9e(t,r,n);if(o)return i.partiallyAcceptedLength=r,Vv(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:o},t.copilotAnnotations)}s(J9e,"handlePartialGhostTextPostInsert");function X9e(e){let t=new S8;return t.set(sg,e),t.set(Gp,new Gp),t.set(Ao,new Ao),t.set(xh,new xh),t.set(pf,new pf),t.set(Xp,new Xp),t.set(dr,new dr(t)),t.set(eg,new eg),t.set(ic,new ic(t)),t.set(Fs,new Fs),t.set(nf,new nf),t.set(tu,new tu),t.set(gf,new gf),t.set(fu,new xS),t.set(fh,new u8),t.set(sh,new y_),t.set(Bo,new Bo),t.set(Qn,new Qn(t)),t.set(Th,gU(t)),t.set(v0,new v0),t.set($d,new $d),t.set(kA,kA.default),t.set(yA,new yA(t)),t.set(Sd,new Sd(t)),t.set(Ta,new Ta),t.set(Ch,new Ch(t)),t.set(Go,new Go),t}s(X9e,"createCommonContext");d();d();var EU=class extends Error{static{s(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var f6=class extends Error{static{s(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};var XGr=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),$v=class{static{s(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},o=await this.ctx.get(dr).updateExPValuesAndAssignments(),a=await this.ctx.get(fu).fetchAndStreamSpeculation(this.ctx,i,o,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new EU(a.reason);case"failed":throw new f6(a.reason)}}};d();d();var Z9e=Ze(require("node:util"));function eTe(e,...t){return`[${e}] ${Mpt(t)}`}s(eTe,"formatLogMessage");function Mpt(e){return Z9e.default.formatWithOptions({maxStringLength:1/0},...e)}s(Mpt,"format");function IU(e){return ZCe(e)}s(IU,"verboseLogging");var TU=class extends Ha{constructor(r){super();this.console=r}static{s(this,"ConsoleLog")}logIt(r,n,i,...o){n==1?this.console.error(`[${i}]`,...o):(n==2||IU(r))&&this.console.warn(`[${i}]`,...o)}};d();var tTe=require("node:util");var d6=class extends ng{static{s(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){$x(t,"log",dn.createAndMarkAsIssued({context:r,level:Kx[1],message:Qpt(...n)}),1)}sendException(t,r,n){Ia(t,r,n)}};function Qpt(...e){return e.map(t=>(0,tTe.inspect)(t)).join(" ")}s(Qpt,"telemetryMessage");d();var gNe=Ze(require("crypto")),ANe=Ze(require("fs")),yNe=Ze(hNe()),CNe=require("tls"),xNe=Ze(pNe());var v9=new Gt("certificates"),el=class{static{s(this,"RootCertificateReader")}};function rG(e,t=process.platform){return new gle(e,[new Ale,new yle,O9t(e,t)])}s(rG,"getRootCertificateReader");function O9t(e,t){switch(t){case"linux":return new Cle(e);case"darwin":return new xle(e);case"win32":return new vle(e);default:return new ble}}s(O9t,"createPlatformReader");var ple=class extends el{constructor(r,n){super();this.ctx=r;this.delegate=n}static{s(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return v9.warn(this.ctx,"Failed to read root certificates:",r),[]}}},gle=class extends el{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new ple(r,i))}static{s(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(o=>{try{let a=new gNe.X509Certificate(o),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return v9.warn(this.ctx,"Failed to parse certificate",o,a),!1}});return r.length!==i.length&&v9.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},Ale=class extends el{static{s(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return CNe.rootCertificates}},yle=class extends el{static{s(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await vNe(t):[]}},Cle=class extends el{constructor(r){super();this.ctx=r}static{s(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await vNe(n);v9.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},xle=class extends el{constructor(r){super();this.ctx=r}static{s(this,"MacRootCertificateReader")}getAllRootCAs(){let r=yNe.get();return v9.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},vle=class extends el{constructor(r){super();this.ctx=r}static{s(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=xNe.all();return v9.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},ble=class extends el{static{s(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function vNe(e){try{let r=(await ANe.promises.readFile(e,{encoding:"utf8"})).match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(o=>o.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}s(vNe,"readCertsFromFile");d();var PNe=Ze(require("http"));var uTt=407,pc=new Gt("proxySocketFactory"),Og=class{static{s(this,"ProxySocketFactory")}},wb=class extends Error{static{s(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function nG(e){return new Tle(e,new wle(e))}s(nG,"getProxySocketFactory");var Tle=class extends Og{constructor(r,n,i=new ak,o=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=o;this.successfullyAuthorized=new Sn(20)}static{s(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(pc.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof wb&&i.code===`ProxyStatusCode${uTt}`){pc.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let o=await this.authorizeAndCreateSocket(r,n);if(o)return pc.debug(this.ctx,"Proxy authorization successful, caching result"),jt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),o}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(pc.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(pc.debug(this.ctx,"Proxy authorization successful, received token"),i)return pc.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){pc.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);pc.debug(this.ctx,"Initializing kerberos client using spn",i);let o=await n.initializeClient(i);pc.debug(this.ctx,"Perform client side kerberos step");let a=await o.step("");return pc.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return pc.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return pc.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},wle=class extends Og{constructor(r){super();this.ctx=r}static{s(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((o,a)=>{pc.debug(this.ctx,"Attempting to establish connection to proxy");let l=PNe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{pc.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new wb(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new wb(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(pc.debug(this.ctx,"Successfully established tunneling connection to proxy"),o(u))}),l.once("error",c=>{pc.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new wb(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{pc.debug(this.ctx,"Proxy socket connection timeout"),a(new wb(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,o={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(o.localAddress=r.localAddress),this.configureProxyAuthorization(o,r),o}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},ak=class{static{s(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>Ze(DNe()))}};d();var MNe=require("node:os");var fTt=new Gt("repository"),_b="\\\\",QNe="(?:[#;].*)",I9=`(?:[^"${_b}]|${_b}.)`,dTt="[0-9A-Za-z-]",NNe=`[A-Za-z]${dTt}*`,ONe=`\\s*${QNe}?$`,UNe=`(?:[^"${_b};#]|${_b}.)`,mTt=`(?:"${I9}*"|"${I9}*(?<strCont>${_b})$)`,hTt=`(?:${UNe}|${mTt})+`,pTt=`(?:(?<cont>${_b})$)`,qNe=`(?<value>${hTt})${pTt}?${ONe}`,LNe=new RegExp(`^${qNe}`),gTt=new RegExp(`^(?<value>${I9}*(?:(?<strCont>${_b})$|(?<quote>")))`),ATt=new RegExp(`^\\s*(?:(?<key>${NNe})\\s*=\\s*${qNe}|(?<soloKey>${NNe})${ONe})`),yTt=new RegExp(`(?<value>${UNe}+)|"(?<string>${I9}*)"`,"g"),FNe="[-.0-9A-Za-z]+",CTt=`\\s+"(?<ext>${I9}*)"`,xTt=`\\s+"(?<extOnly>${I9}*)"`,vTt=new RegExp(`^\\s*\\[(?:(?<simple>${FNe})${CTt}|${xTt}|(?<simpleOnly>${FNe}))\\]`),bTt=new RegExp(`^\\s*${QNe}$`),_le=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{s(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(vTt);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(ATt);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(gTt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(LNe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(LNe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(yTt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){bTt.test(this.line)&&(this.line="")}},iG=class extends yh{static{s(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await yA.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new _v)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let o=new _le(i),a=new _v;return o.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(bo).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&fTt.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Po(this.xdgConfigUri(),"git","config"),o=Po(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,o,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Pi(r).toLowerCase()!=="config.worktree")return;let n=tf(r),i=Po(n,"commondir");try{let o=(await t.get(bo).readFileString(i)).trimEnd();return Po(Yx(n,o),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?ul(process.env.XDG_CONFIG_HOME):Po(this.homeUri(),".config")}homeUri(){return ul((0,MNe.homedir)())}};d();var WNe=require("child_process");var oG=class extends yh{static{s(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,o)=>{(0,WNe.execFile)(r,n,{cwd:t},(a,l)=>{a?o(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(o){rIe.info(t,`Failed to run command '${n}' in ${r}:`,o);return}}async getConfig(t,r){let n=Xo(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new _v;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],o=n.slice(i.length+1);r.add(i,o)}return r}extraArgs(){return[]}};d();var HNe=Ze(require("node:events"));var GNe="onWorkspaceChanged",Pf=class{constructor(){this.emitter=new HNe.default}static{s(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(GNe,t)}emit(t){this.emitter.emit(GNe,t)}};function jNe(e){let t=X9e(e);return ETt(t),t.set(el,rG(t)),t.set(Og,nG(t)),t.set(yh,new HQ([new oG,new iG])),t.set(Pf,new Pf),t.set($v,new $v(t)),t}s(jNe,"createProductionContext");function ETt(e){e.set(Ed,Ed.fromEnvironment(!1)),e.set(ng,new d6),e.set(Ha,new TU(console))}s(ETt,"setupRudimentaryLogging");var FXr=new Gt("context");d();d();var Kr=new Gt("chat");d();d();var pl=(o=>(o.System="system",o.User="user",o.Assistant="assistant",o.Function="function",o.Tool="tool",o))(pl||{});function cn(e){return e?(e=Nf(e),typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join("")):""}s(cn,"getTextPart");var VNe=s((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),$Ne=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function DC(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}s(DC,"parseToolCallArguments");function zNe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}s(zNe,"toOpenAIToolCall");function YNe(e,t,r,n,i,o,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),F8(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:o,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}s(YNe,"convertToChatCompletion");function Sle(e){return Array.isArray(e)&&e.every(t=>"type"in t&&!("role"in t))}s(Sle,"isChatCompletionContentPartArray");function sG(e){return Array.isArray(e)&&e.every(t=>"role"in t)}s(sG,"isChatMessageArray");function Nf(e){if(typeof e=="string")return e;if(Sle(e))return e;if(sG(e)){let t=e.filter(n=>n.role==="assistant"),r=[];for(let n of t)Array.isArray(n.content)?r.push(...n.content):r.push({type:"text",text:n.content});return r}return""}s(Nf,"resolveAsChatMessageContent");function lk(e,t){return(typeof e=="string"||Sle(e))&&(e=[{role:"assistant",content:e}]),e.push(t),e}s(lk,"appendChatMessageContent");function Rle(e,t){if(e){if(typeof e=="string"||Sle(e))return[{role:"assistant",content:e}];if(sG(e))return t?e:e.filter(r=>r.role!=="tool").map(r=>r.tool_calls?{...r,tool_calls:void 0,tool_call_id:void 0}:r)}else return[];return[]}s(Rle,"resolveResponseAsChatMessages");d();var kle=new Gt("streamMessages");function KNe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(kle.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),kle.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),kle.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=CS(t.solution),a={role:"assistant",content:n};return YNe(e,a,o,t.index,t.requestId,i,t.reason??"",r)}s(KNe,"prepareChatCompletionForReturn");var lm=new Gt("fetchChat"),aG=class{static{s(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,o){let a=await this.fetchWithParameters(t,r.endpoint,r,n,o);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){lm.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??_r(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:cn(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=cn(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:s(()=>M8(a),"getProcessingTime")}}else{let c=G5.create(t,r.count,a,n,[],o).processSSE(i);return{type:"success",chatCompletions:CA(c,f=>KNe(t,f,n)),getProcessingTime:s(()=>M8(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return dn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,o){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:Q8(t,n.count),top_p:sO(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=fA(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),o?.isCancellationRequested?"not-sent":await ITt(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,o)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let o=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;lm.error(t,o),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),jt(t,"request.shownWarning",r),n.status===401)try{let o=await n.text(),a=JSON.parse(o);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(en).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return lm.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return lm.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){if(i.includes("free_quota_exceeded")){let l=n.headers.get("retry-after");return{type:"failed",reason:l?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(l).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}else if(i.includes("overage_limit_reached"))return{type:"failed",reason:"You cannot accrue additional overages at this time. Please contact [GitHub Support](https://support.github.com/contact) to continue using Copilot.",code:n.status};return{type:"failed",reason:"Quota Exceeded.",code:n.status}}return lm.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function ITt(e,t,r,n,i,o,a,l,c,u,f,m){let h=Po(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[b,E]of Object.entries(a))b!="messages"&&(p.properties[`request.option.${b}`]=JSON.stringify(E)??"undefined");p.properties.headerRequestId=o,jt(e,"request.sent",p);let g=oa(),y=JIe(c),v={...b5(e),...f.toCapiHeaders()};return a.messages?.some(b=>Array.isArray(b.content)?b.content.some(E=>"image_url"in E):!1)&&(v["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(b=>{TTt(b)&&b.tool_calls&&(b.tool_calls=b.tool_calls.map(E=>zNe(E)))}),kx(e,h,l,y,o,a,m,v).then(b=>{let E=H5(b,void 0);p.extendWithRequestId(E);let _=oa()-g;return p.measurements.totalTimeMs=_,lm.info(e,`Request ${o} at <${h}> finished with ${b.status} status after ${_}ms`),lm.debug(e,"request.response properties",p.properties),lm.debug(e,"request.response measurements",p.measurements),lm.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",p),b}).catch(b=>{if(Sc(b))throw b;let E=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",E),p.properties.message=String(A0(b,"name")??""),p.properties.code=String(A0(b,"code")??""),p.properties.errno=String(A0(b,"errno")??""),p.properties.type=String(A0(b,"type")??"");let _=oa()-g;throw p.measurements.totalTimeMs=_,lm.info(e,`Request ${o} at <${h}> rejected with ${String(b)} after ${_}ms`),lm.debug(e,"request.error properties",p.properties),lm.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),b}).finally(()=>{F8(e,t,p)})}s(ITt,"fetchWithInstrumentation");function TTt(e){return"tool_calls"in e}s(TTt,"isChatMessageWithToolCalls");var Da=class{constructor(t){this.ctx=t;this.fetcher=new aG}static{s(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let o=_r(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(en).getToken(),u=n8(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:o,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let o=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(()=>{}),n);switch(o.type){case"success":return await this.processSuccessfulResponse(t,o,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(o,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(o,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:o.authUrl,requestId:t.ourRequestId}}}catch(o){return this.processError(o,t.ourRequestId)}}async processSuccessfulResponse(t,r,n,i){let o=[],a=gS(r.chatCompletions,c=>this.postProcess(c,i));Kr.debug(this.ctx,`Process success response for request ${t.ourRequestId} with chatParams: ${JSON.stringify(t,null,2)}`);let l=0;for await(let c of a)Kr.debug(this.ctx,`Received choice #${l} for request ${t.ourRequestId}: ${JSON.stringify(c,null,2)}`),o.push(c),l++;if(o.length==1){let c=o[0];switch(c.finishReason){case"stop":return{type:"success",value:cn(c.message?.content)??"",toolCalls:c.tool_calls,requestId:n,numTokens:c.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:c.tool_calls,requestId:n};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:n};case"length":return{type:"length",reason:"Response too long.",requestId:n};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:n};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:n}}}else if(o.length>1){let c=o.filter(u=>u.finishReason=="stop"||u.finishReason=="tool_calls");if(c.length>0)return{type:"successMultiple",value:c.map(u=>cn(u.message.content)),toolCalls:c.map(u=>u.tool_calls).filter(u=>u),requestId:n}}return{type:"no_choices",reason:"Response contained no choices.",requestId:n}}postProcess(t,r){return yU(t.tokens)?(r.extendWithRequestId(t.requestId),jt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Kr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return Sc(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Kr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var Ug=class{constructor(t){this.ctx=t}static{s(this,"AbstractClientToolConfirmationInvoker")}};d();var PC=class{constructor(t){this.ctx=t}static{s(this,"AbstractClientToolInvoker")}};d();var gc=class{constructor(t){this.ctx=t}static{s(this,"EditProgressReporter")}},lG=class extends gc{constructor(){super(...arguments);this.items=[]}static{s(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();function cG(){return _r()}s(cG,"uuidV4");d();var NC=class extends Error{static{s(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var LC=class extends Error{static{s(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();d();var ck="filepath:",Gl="...existing code...",Sb="copilot-edited-file";d();function FC(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}s(FC,"getFenceForCodeBlock");var Lf=class{constructor(t){this.params=t;this.params.noFilePath===void 0&&(this.params.noFilePath=!1)}static{s(this,"CodeBlock")}renderAsArray(){let t=FC(this.params.code),r=[`${t}${this.params.languageId}`];return!this.params.noFilePath&&this.params.uri&&r.push(`// ${ck} ${Ga(this.params.uri)}`),r.push(this.params.code,t),r}renderAsString(t=`
`){return this.renderAsArray().join(t)}};var Ble=class{constructor(t){this.props=t}static{s(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},uG=class{constructor(t){this.props=t}static{s(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((o,a)=>{if(a.role==="system"){let l=cn(a.content).endsWith(`
`)?cn(a.content):`${cn(a.content)}
`;return`${o}<SYSTEM>
${l}
End your response with </${Sb}>.
</SYSTEM>


`}return o+cn(a.content)},"")+`


The resulting document:
<${Sb}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.detectedLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${Gl}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=new Lf({code:t.document.getText(),languageId:t.document.detectedLanguageId,noFilePath:!0});r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,...a.renderAsArray())}else r.push("I am in an empty editor.");let i=new Ble({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let o=new Lf({code:this.props.codeBlock,languageId:t.document.detectedLanguageId,noFilePath:!0});return r.push("This is the code block that represents the suggested code change:",...o.renderAsArray(),"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();var qg=class{constructor(t){this.ctx=t}static{s(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(Qn).getOrReadTextDocument({uri:t})}};var T9=class{static{s(this,"CodeMapper")}constructor(t){this.ctx=t,this.logger=new Gt("CopilotEditsCodeMapper")}async mapCode(t,r,n,i=!1){if(!t.resource)throw new LC("No uri found in code block");if(r.isCancellationRequested)throw new NC;if(!t.code.includes(Gl))if(this.logger.debug(this.ctx,`Code block for uri ${t.resource} does not contain existing code marker`),i)this.logger.debug(this.ctx,`Running in agent mode, continue to do the speculation for ${t.resource}`);else return n&&await this.reportCodeBlock(t,n),t.code;let o=await this.ctx.get(Qn).getOrReadTextDocument({uri:t.resource});if(o.status==="notfound")return n&&await this.reportCodeBlock(t,n),t.code;if(o.status==="invalid"){let b=`Failed to find file ${t.resource} with status ${o.status} and reason ${o.reason}`,E=new LC(b);throw this.logger.error(this.ctx,b,E),E}let a=new uG({documentContext:{document:o},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new qg(this.ctx)}),l=await a.render(),c=o.document.detectedLanguageId,u=FC(t.code),f=o.document.getText();if(f.length>0){let b=FC(f);b.length>u.length&&(u=b)}let m=a.transformToSpeculationPrompt(l,c,u);n&&await n({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Pi(t.resource),editDescription:t.markdownBeforeBlock});let h=cG(),p={prompt:m,speculation:o.document.getText(),languageId:c,stops:[`${u}
</${Sb}>`,`${u}\r
</${Sb}>`,`</${Sb}>`]};this.logger.debug(this.ctx,`Send speculation request ${h} with params: ${JSON.stringify(p,null,2)}`);let g=await this.ctx.get($v).fetchSpeculation(p,r),y=[];for await(let b of g.choices)y.push(b.completionText);this.logger.debug(this.ctx,`Received speculation response ${h} with completions: ${JSON.stringify(y,null,2)}`);let v=y.find(b=>b.length>0);if(v)return n&&await n({fileGenerationStatus:"updated-code-generated",uri:t.resource,basename:Pi(t.resource),partialText:v,languageId:c,markdownCodeFence:FC(v)}),v;{let b=`No valid completion found for uri ${t.resource}`;throw new LC(b)}}async reportCodeBlock(t,r){await r({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Pi(t.resource),editDescription:t.markdownBeforeBlock}),await r({fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource,basename:Pi(t.resource)})}};d();var S0=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{s(this,"EditConversationException")}};d();d();var MC=class{static{s(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var fG=class extends Error{static{s(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var QC=class{constructor(t,r){this.request=t;this.id=_r();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{s(this,"EditTurn")}},Dle=class{constructor(t=[]){this.turns=[];this.turns=t}static{s(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},dG=class{constructor(t=[],r="panel",n="en"){this._id=_r();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new Dle(t)}static{s(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new fG(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var mG=class{static{s(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new S0({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:A5,type:"user"},new S0({message:A5});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new S0({message:MC.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new S0({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new S0({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new S0({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new S0({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new S0({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new S0({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new S0({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*XNe(e){yield e}s(XNe,"stringToAsyncIterable");d();d();var YA=class{static{s(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||ul(r)}static uriToPath(t){let r=Xo(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var hG=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{s(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath(YA.posixFilePathToUri(t))}getFilePath(t){return YA.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${ck} ${this.exampleFilePath}`,`// ${Gl}`,"{ changed code }",`// ${Gl}`,"{ changed code }",`// ${Gl}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${ck} ${this.tsExampleFilePath}`,"class Person {",`   // ${Gl}`,"   age: number;",`   // ${Gl}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let o=new Lf({code:i.getText(),languageId:i.detectedLanguageId,uri:n});r.push("<file>",...o.renderAsArray(),"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${Gl}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var pG=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{s(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var Ple="<file>",uk="```",dk="###",_Tt=/^(`+)([^ \n]*)/,fk="filepath:";async function*eLe(e,t){let r=new pG(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let y=await r.peek(Math.max(uk.length,Ple.length,dk.length));if(y.startsWith(Ple)||y.startsWith(uk))break;if(y.startsWith(dk)){let v=await r.readLineIncludingLF(),b=v.substring(dk.length).trim();await t(b)?n.length=0:n.push(v)}else await ZNe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),o=i.startsWith(Ple);for(;!r.endOfStream&&!i.startsWith(uk);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(_Tt),l=a?a[2]:void 0,c=M8e(l?P8e(l):void 0),u=[`${c.lineComment.start} ${fk}`,`:: ${fk}`,`<!-- ${fk}`,`// ${fk}`,`# ${fk}`],f=Math.max(...u.map(y=>y.length)),m=c.lineComment.end??"",h="</file>",p,g=[];for(;!r.endOfStream;){let y=await r.peek(Math.max(uk.length,f));if(y.startsWith(uk)){let v=await r.readLineIncludingLF();if(!o)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{g.push(v);continue}}if(!p&&u.some(v=>y.startsWith(v))){let v=await r.readLineIncludingLF(),b=u.reduce((E,_)=>y.startsWith(_)?v.substring(_.length):E,v);b=b.split("-->")[0].trim(),b.endsWith(m)&&(b=b.substring(0,b.length-m.length)),b=b.trim(),p=await t(b);continue}await ZNe(r,g)}yield{resource:p,language:l,code:g.join(""),markdownBeforeBlock:n.join("")},n.length=0}}s(eLe,"getCodeBlocksFromResponse");async function ZNe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}s(ZNe,"pipeOneLine");function tLe(e){if(e.startsWith(`${dk} `))return"";let t=e.indexOf(`
${dk} `);return t===-1?"":e.substring(0,t)+`
`}s(tLe,"parseOverallDescription");d();d();var gG=class extends Error{static{s(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var STt=new Gt("CopilotEditsConversations"),tl=class{constructor(t){this.editConversations=new Sn(50);this.ctx=t}static{s(this,"EditConversations")}create(t="panel",r){let n=new dG([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&STt.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new gG(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var di=class{static{s(this,"ModelConfigurationProvider")}},AG=class extends di{constructor(r){super();this.ctx=r}static{s(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let o of r){let a=await this.getFirstMatchingChatModelConfiguration(o,n);a&&i.push(a)}if(i.length>0){let o=i.find(a=>a.isExperimental);return o||i[0]}throw Kr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(of).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(of).getMetadata(),i=kTt(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===ui.Gpt35turbo||r===ui.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:Lle(6144,i),maxResponseTokens:Nle(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===ui.Gpt4||r===ui.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:Lle(10240,i),maxResponseTokens:Nle(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===ui.Gpt4o?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await RTt(this.ctx,i),maxResponseTokens:Nle(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:i.capabilities.limits?.max_prompt_tokens??8192,maxResponseTokens:i.capabilities.limits?.max_output_tokens??4096,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case xF.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function RTt(e,t){let r=e.get(dr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),Lle(i,t)}s(RTt,"getExpRequestTokens");function Lle(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}s(Lle,"getRequestTokens");function Nle(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}s(Nle,"getResponseTokens");function kTt(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}s(kTt,"filterModelsByCapabilities");var Oh=class{static{s(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(di).getBestChatModelConfig(n?[n]:ps(r))}static transformMessages(t,r){return r===ui.O1Ga||r===ui.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var KA=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new Da(t)}static{s(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=mG.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof NC)await this.reportEnd(t,{message:A5});else if(n instanceof S0)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(dr).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let o=await Oh.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=Oh.transformMessages(n,o.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:o,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await Oh.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),o=i.length>1?i.slice(0,-1):[];return await new hG({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new qg(this.ctx),modelName:n.uiName,history:o}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:A5,type:"user"},new NC;this.ctx.get(tl).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=XNe(r),o=new T9(this.ctx),a=s(async u=>YA.pathToUri(t,u),"createUri"),l=[],c=tLe(r);c&&await this.ctx.get(gc).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of eLe(i,a))l.push(o.mapCode(u,n,async f=>{await this.ctx.get(gc).reportTurn(t,f)}));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof LC||i instanceof f6)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof NC)t.currentTurn.status="cancelled",t.currentTurn.response={message:A5,type:"user"},await this.reportEnd(t,{message:A5});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(gc).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(gc).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(gc).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var nLe="github.com",rLe=`https://${nLe}`,w9=class extends hs{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(rLe),Ks(r,i=>this.onCopilotToken(r,i))}static{s(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??sF)[r],n)}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(ja).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=rLe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(en).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let o=r.get(nf);o.isInitialized&&o.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api,o=this.baseUrlObject.host!==nLe;this.apiUrl=i.href,this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.telemetryUrl=this.join(o?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:sF.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!aF(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var dnn=new Gt("exp");function iLe(e){let t=e.get(dr);t.registerStaticFilters(PTt(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>qn(e,wt.DebugOverrideEngine)||qn(e,wt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(pn).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>Fle(!e.get(Ao).isProduction()&&e.get(pn).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(pn).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>BTt(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(pn).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>Fle(e.get(pn).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>DTt(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(pn).getRelatedPluginInfo()){let i=dd+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(F7).includes(i)){nF(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=Fle(n.version)}return r})}s(iLe,"setupExperimentationService");function BTt(e){let t=e.get(pn).getEditorPluginInfo();return t.name==="copilot"&&Td(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}s(BTt,"getPluginRelease");function DTt(e){let t=e.get(pn).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}s(DTt,"getTargetPopulation");function PTt(e){return NTt(e)}s(PTt,"createAllFilters");function NTt(e){let t=e.get(Bs);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":zx(e)}}s(NTt,"createDefaultFilters");function Fle(e){return e.split("-")[0]}s(Fle,"trimVersionSuffix");d();var mk=(r=>(r.enabled="enabled",r.disabled="disabled",r))(mk||{}),Ff=class{static{s(this,"McpManager")}};d();d();d();var Mle=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{s(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},yG=class{constructor(){this._recentUserActions=[]}static{s(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new Mle(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var Oo;(n=>{function e(i){return new Qle(i)}n.ok=e,s(e,"ok");function t(i){return new Ole(i)}n.error=t,s(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,s(r,"fromString")})(Oo||={});var Qle=class e{constructor(t){this.val=t}static{s(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},Ole=class{constructor(t){this.err=t}static{s(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};d();var CG=class e{constructor(t){this._indexMap=t}static{s(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,o)=>r(t[i],t[o]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw _S(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw _S(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();d();var Sk=Ze(Gh());function xFe(e){return e.map(Mwt).join(`
`)}s(xFe,"stringifyChatMessages");function Mwt({role:e,content:t}){if(e!==Sk.Raw.ChatRole.User&&e!==Sk.Raw.ChatRole.System)return"omitted because of non-user and non-system role";let r=e===Sk.Raw.ChatRole.User?"User":"System",n=t.at(0);return n?.type!==Sk.Raw.ChatCompletionContentPartKind.Text?"omitted because of non-text content":`${r}
------
${n.text}
==================`}s(Mwt,"stringifyMessage");d();d();var Qwt=Symbol("MicrotaskDelay");function Owt(e){let t=new IA,r=e(t.token),n=new Promise((i,o)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),o(new ug)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),o(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,o){return n.then(i,o)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}s(Owt,"createCancelablePromise");function r2(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{o.dispose(),r()},e),o=t.onCancellationRequested(()=>{clearTimeout(i),o.dispose(),n(new ug)})}):Owt(r=>r2(e,r))}s(r2,"timeout");var $G=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{s(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new xn("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new xn("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var Rk=class{static{s(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new ug)}},Uwt;(r=>{async function e(n){let i,o=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return o}r.settled=e,s(e,"settled");function t(n){return new Promise(async(i,o)=>{try{await n(i,o)}catch(a){o(a)}})}r.withAsyncBody=t,s(t,"withAsyncBody")})(Uwt||={});var kk=class e{static{s(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new vf,queueMicrotask(async()=>{let n={emitOne:s(i=>this.emitOne(i),"emitOne"),emitMany:s(i=>this.emitMany(i),"emitMany"),reject:s(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:s(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await Pv.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:s(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var zG=class{constructor(t){this._deferred=new Rk;this._asyncIterable=new kk(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=o=>i.reject(o),this._emitFn=o=>i.emitOne(o),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{s(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var Bk=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{s(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},YG=class e{constructor(t,r,n,i,o){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.xtabEditHistory=i;this.options=o;this.seqid=String(++e.ID);this.cancellationTokenSource=new IA;this.liveDependentants=0;this.fetchIssued=!1;this._result=new Rk;Pl(r.length>0),Pl(n>=0&&n<r.length)}static{s(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>Dk.deserialize(r)),t.activeDocumentIdx,[],Bk.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},Dk=class e{constructor(t,r,n,i,o,a,l,c,u,f,m,h,p=i.length,g=new yr(1,i.length+1),y=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=o;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=g;this.lastSelectionInAfterEdit=y;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:yr.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new Ll(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{s(this,"StatelessNextEditDocument")}static deserialize(t){return new e(jd.create(t.id),t.workspaceRoot?X5.parse(t.workspaceRoot):void 0,Mv.create(t.languageId),t.documentLinesBeforeEdit,yo.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?Ar.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new Ll(t.documentBeforeEdits),gg.deserialize(t.recentEdits),new Ll(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,yr.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var Si=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{s(this,"StatelessNextEditResult")}static noEdit(t,r){let n=Oo.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=Oo.ok(t),i=r.build(n);return new e(n,i)}},zC=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{s(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?xFe(this._prompt):void 0,o=i?.split(`
`).length,a=i?.length,l=t.isOk(),c=t.isOk()?void 0:t.err.kind,u;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":u=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":u=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:SS(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:l,noNextEditReasonKind:c,noNextEditReasonMessage:u,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:o,promptCharCount:a,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,ttft:this._ttft,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,response:this._response,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setTtft(t){return this._ttft=t,this}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,Pl(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setResponse(t){return this._response=t,this}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function qwt(e,...t){let r=e;for(let n of t)r=n(r);return r}s(qwt,"chainStatelessNextEditProviders");var P9=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:s((i,o)=>this.provideNextEditBase(i,o),"provideNextEdit")};this._impl=qwt(n,...this._providers)}static{s(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},N9=class{constructor(t){this._baseProvider=t}static{s(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,o=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),o);if(a.length===o.length)return n;if(a.length===0)return new Si(Oo.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=CG.createSortPermutation(a,Cf(u=>u.lineRange.startLineNumber,xf)),c=new yo(l.apply(a));return new Si(Oo.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},L9=class extends N9{static{s(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines,o=i.length===0;if(o&&n.every(a=>a.trim()==="")||!o&&i.every(a=>a.trim()===""))return!0;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],c=i[a];if(l.trim()!==c.trim())return!1}return!0}},F9=class extends N9{static{s(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var Wwt=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),Gwt=new Map(Object.entries(Wwt).map(([e,t])=>[e,{languageId:e,...t}]));function bFe(e){return Dce(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}s(bFe,"getLanguage");function Dce(e){return Gwt.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}s(Dce,"_getLanguage");d();var M9=class e{static{s(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?wu.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new wu(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new wu(new To(0,0),new To(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!wu.isRange(t))throw YC("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw YC("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw YC("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var To=class e{static{s(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw YC("line must be non-negative");if(r<0)throw YC("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw YC();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw YC();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},wu=class e{static{s(this,"Range")}static isRange(t){return t instanceof e?!0:t?To.isPosition(t.start)&&To.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let o,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(o=new To(t,r),a=new To(n,i)):To.isPosition(t)&&To.isPosition(r)&&(o=t,a=r),!o||!a)throw new Error("Invalid arguments");o.isBefore(a)?(this._start=o,this._end=a):(this._start=a,this._end=o)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):To.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=To.Max(t.start,this._start),n=To.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=To.Min(t.start,this._start),n=To.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw YC();let n;return t?To.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return Hwt(this)}};function YC(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}s(YC,"illegalArgument");function Hwt(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}s(Hwt,"getDebugDescriptionOfRange");d();function EFe(e){let r=e.split(/\r?\n/).map(jwt),n=r.filter(o=>o===1).length,i=r.filter(o=>o===2).length;return n>i}s(EFe,"looksLikeCode");function jwt(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),une(e)||(t+=1);{une(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let o=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=o}return t>r?2:r>t?1:0}s(jwt,"guessLineType");var Q9;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,s(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let o=0;o<n.lineCount;o++)i.push(n.lineAt(o).text);return i}r.fromDocument=t,s(t,"fromDocument")})(Q9||={});function Vwt(e){return e.replace(/^\s+/g,"")}s(Vwt,"trimLeadingWhitespace");function Pce(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}s(Pce,"isImportStatement");var $wt=new TA(e=>{let t=bFe(e),{start:r,end:n}=t.lineComment,i=`(?:${cne(r)})`,o=n?`(?:${cne(n)})?`:"";return new RegExp(`${i}(.*)${o}$`)});function Nce(e,t){let r=e.match($wt.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),o=r[0],a=Vwt(r[1]||"");return{content:i,commentWithTokens:o,commentWithoutTokens:a}}s(Nce,"extractEndLineComment");function JG(e,t){let r=Nce(e,t);if(!(r&&r.content.trim().length>0&&EFe(r.commentWithoutTokens)))return r}s(JG,"extractExplicativeEndLineComment");var O9=class e extends N9{static{s(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Pce(i,r))||zwt(t,n).some(i=>Pce(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(o=>!e.isImportChange(o,n,t.documentLinesBeforeEdit))}};function zwt(e,t){return $8e(e.lineRange.mapToLineArray(r=>t[r-1]))}s(zwt,"getOldLines");d();var Fce=Ze(Gh());d();d();d();var jh;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(o){return o[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,s(n,"getServiceDependencies")})(jh||={});var jg=Of("instantiationService");function Ywt(e,t,r){t[jh.DI_TARGET]===t?t[jh.DI_DEPENDENCIES].push({id:e,index:r}):(t[jh.DI_DEPENDENCIES]=[{id:e,index:r}],t[jh.DI_TARGET]=t)}s(Ywt,"storeServiceDependency");function Of(e){if(jh.serviceIds.has(e))return jh.serviceIds.get(e);let t=s(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Ywt(t,r,i)},"id");return t.toString=()=>e,jh.serviceIds.set(e,t),t}s(Of,"createDecorator");d();d();var Uf=class{static{s(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Lce=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{s(this,"Node")}},Pk=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{s(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Lce(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let o=this._findCycle(i,r);if(o)return o;r.delete(n)}}};d();var Fb=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{s(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var Kwt=!1,XG=class extends Error{static{s(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},ZG=class e{constructor(t=new Fb,r=!1,n,i=Kwt){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(jg,this),this._globalGraph=i?n?._globalGraph??new Pk(o=>o):void 0}static{s(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,RO(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)s6e(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=Nk.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:s(a=>{if(i)throw W8e("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof Uf?(n=Nk.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=Nk.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=jh.getServiceDependencies(t).sort((l,c)=>l.index-c.index),o=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),o.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(o))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof Uf)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof Uf?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new Pk(c=>c.id.toString()),o=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),o++>1e3)throw new XG(i);for(let u of jh.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof Uf){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new XG(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof Uf){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,o){if(this._services.get(t)instanceof Uf)return this._createServiceInstance(t,r,n,i,o,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,o);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,o,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,o);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var Nk=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{s(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(o,a){let l=[],c=new Array(o+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(o+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}s(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var eH=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new Fb(...t):t??new Fb}static{s(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new ZG(this._collection,!0)}};var rH=Of("ITelemetrySender"),Vh=Of("IChatMLFetcher");var tH=class{constructor(){this._stream=new zG;this._seenAnnotationTypes=new Set}static{s(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};d();var n2=Of("IParserService");d();var U9=class{static{s(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},Lk=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{s(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},Fk=class{static{s(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},KC=class{static{s(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},JC=class{static{s(this,"MyArray")}static Copy(t,r,n,i,o){for(let a=0;a<o;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,o){for(let a=0;a<o;a++)n[i+a]=t[r+a]}};var nH=class{static{s(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new U9(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Mk=class e{static{s(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[o,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=o,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,o=r.length;i<o;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(KC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new U9(t,0,n,i-n+1)]):t<=r?(KC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new U9(t,r-t+1,n,0)]):(KC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),KC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let o=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,o,a),c=o[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,o,a,l,c,u,f,m,h,p,g,y,v,b){let E=null,_=null,k=new nH,B=r,N=n,M=p[0]-v[0]-i,re=-1073741824,pe=this.m_forwardHistory.length-1;do{let Z=M+t;Z===B||Z<N&&u[Z-1]<u[Z+1]?(m=u[Z+1],g=m-M-i,m<re&&k.MarkNextChange(),re=m,k.AddModifiedElement(m+1,g),M=Z+1-t):(m=u[Z-1]+1,g=m-M-i,m<re&&k.MarkNextChange(),re=m-1,k.AddOriginalElement(m,g+1),M=Z-1-t),pe>=0&&(u=this.m_forwardHistory[pe],t=u[0],B=1,N=u.length-1)}while(--pe>=-1);E=k.getReverseChanges(),k=new nH,B=a,N=l,M=p[0]-v[0]-c,re=1073741824,pe=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let Z=M+o;Z===B||Z<N&&f[Z-1]>=f[Z+1]?(m=f[Z+1]-1,g=m-M-c,m>re&&k.MarkNextChange(),re=m+1,k.AddOriginalElement(m+1,g+1),M=Z+1-o):(m=f[Z-1],g=m-M-c,m>re&&k.MarkNextChange(),re=m,k.AddModifiedElement(m+1,g+1),M=Z-1-o),pe>=0&&(f=this.m_reverseHistory[pe],o=f[0],B=1,N=f.length-1)}while(--pe>=-1);return _=k.getChanges(),this.ConcatenateChanges(E,_)}ComputeRecursionPoint(t,r,n,i,o,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,o[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),g=p+1,y=new Int32Array(g),v=new Int32Array(g),b=i-n,E=r-t,_=t-n,k=r-i,N=(E-b)%2===0;y[b]=t,v[E]=r;for(let M=1;M<=p/2+1;M++){let re=0,pe=0;u=this.ClipDiagonalBound(b-M,M,b,g),f=this.ClipDiagonalBound(b+M,M,b,g);for(let Z=u;Z<=f;Z+=2){Z===u||Z<f&&y[Z-1]<y[Z+1]?l=y[Z+1]:l=y[Z-1]+1,c=l-(Z-b)-_;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(y[Z]=l,l+c>re+pe&&(re=l,pe=c),!N&&Math.abs(Z-E)<=M-1&&l>=v[Z])return o[0]=l,a[0]=c,G<=v[Z]&&M<=1448?this.WALKTRACE(b,u,f,_,E,m,h,k,y,v,l,r,o,c,i,a,N):null}m=this.ClipDiagonalBound(E-M,M,E,g),h=this.ClipDiagonalBound(E+M,M,E,g);for(let Z=m;Z<=h;Z+=2){Z===m||Z<h&&v[Z-1]>=v[Z+1]?l=v[Z+1]-1:l=v[Z-1],c=l-(Z-E)-k;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(v[Z]=l,N&&Math.abs(Z-b)<=M&&l<=y[Z])return o[0]=l,a[0]=c,G>=y[Z]&&M<=1448?this.WALKTRACE(b,u,f,_,E,m,h,k,y,v,l,r,o,c,i,a,N):null}if(M<=1447){let Z=new Int32Array(f-u+2);Z[0]=b-u+1,JC.Copy2(y,u,Z,1,f-u+1),this.m_forwardHistory.push(Z),Z=new Int32Array(h-m+2),Z[0]=E-m+1,JC.Copy2(v,m,Z,1,h-m+1),this.m_reverseHistory.push(Z)}}return this.WALKTRACE(b,u,f,_,E,m,h,k,y,v,l,r,o,c,i,a,N)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return JC.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],JC.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return JC.Copy(t,0,i,0,t.length),JC.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(KC.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),KC.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,o=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(o=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new U9(i,o,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let o=n,a=i-n-1,l=r%2===0;if(t<0){let c=o%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function IFe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(V6e(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}s(IFe,"safeStringify");var iH=!1,Oce=!0,Jwt=200,Qk=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{s(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new zC(t),i=t.getActiveDocument(),o=Mb(i);if(!o||!o.isEmpty())return Si.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let E of t.documents)E.id!==i.id&&(c.push(`RELATED DOC: ${E.getDisplayPath()}`),c.push("```patch"),c.push(...r7t(E)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new yr(1,Math.max(1,o.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let E=m<l.length;c.push(`IN PROGRESS VERSION ${E?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),E&&(c.push(u),h={editRange:new yr(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),g=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return Si.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(g.isError())return g.err.kind==="cancel"?Si.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):Si.noEdit({kind:"fetchFailure",error:new Error(IFe(g.err))},n);let{result:y}=g.val;if(y.trim().length===0)return Si.noEdit({kind:"noSuggestions"},n);let v=oH(i.languageId,l,f,void 0,y,h),b=await Wce(this._parserService,v,i,{requireEditWithinNLines:5});if(b){let E=new yo([b]);return Si.edit({edit:E},n)}else return Si.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};Qk=a0([js(1,n2)],Qk);var q9=class extends Qk{constructor(r,n){super(q9.ID,r);this._chatMLFetcher=n}static{s(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return Oo.error({kind:"cancel"});let o=await Uce(this.ID,this._chatMLFetcher,[{role:Fce.OpenAI.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Fce.OpenAI.ChatRole.User,content:r}],{convergence:n},i);if(o.isError())return o;let{ignored:a,result:l,headersTime:c}=o.val;return l=l.replace(/^```[^\n]*\n/,""),Oo.ok({ignored:a,result:l,headersTime:c})}};q9=a0([js(0,n2),js(1,Vh)],q9);async function Uce(e,t,r,n,i){let o=new tH,a=!1,l,c=o.stream.map(y=>({choices:[{index:0,finish_reason:null,logprobs:null,text:y.delta.text}]})),u=Zwt(c,n),f=t.fetchOne(r,async(y,v,b)=>(typeof l>"u"&&(l=Date.now()),o.update(y,b),a?y.length:void 0),{id:"copilot-nes-v",name:"proxy-4o-mini"},{},i);(async()=>{try{await f}finally{o.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let g=await f;return g.type!=="success"?Oo.error({kind:"failure",err:new Error(`Fetch failed (${g.type}, ${g.reason})`)}):Oo.ok({headersTime:l,ignored:m,result:h})}s(Uce,"fetchUntilConvergence");function Mb(e){let t=new Vt(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:Xwt(e)}s(Mb,"getOrDeduceSelectionFromLastEdit");function Xwt(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,o=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new Ar(i,o.length+1,i,o.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=e6(a,o),c=o.length-l+1;return new Ar(i,c,i,c)}s(Xwt,"deduceSelectionFromLastEdit");async function Zwt(e,t){let r=e7t(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,o=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=s(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let g=c[h.index];if(n.startsWith(g))continue;let y=g.split(`
`).slice(-4,-1);if(y.length<3||n.indexOf(y.join(`
`)+`
`)<=0)continue;let b=f[h.index].substring(f[h.index].length-o);if(a.indexOf(b)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}s(Zwt,"fetchCompletionUntilConvergence");function e7t(e,t){let r=[],n=[];return new kk(async i=>{for await(let o of e)for(let a of o.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let o=0;o<n.length;o++)typeof n[o]<"u"&&i.emitOne({kind:"ignore",index:o,text:n[o]})})}s(e7t,"getTextAfterFirstPattern");function t7t(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,o=r.slice(0);for(;n+1<i&&o.length>0;){let a=e[i-2],l=o[o.length-1];if(a!==l)break;i--,o.pop()}for(;n+1<i&&o.length>0;){let a=e[n-1],l=o[0];if(a!==l)break;n++,o.shift()}return new Ih(new yr(n,i),o)}s(t7t,"createReducedLineEdit");var W9=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=t7t(r,n,i);let o=new yo([this.edit]);this.newLines=o.apply(r)}static{s(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return o(r,n)<t;function o(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=s((m,h,p)=>m.map(g=>{let y=h.lines.slice(g.originalStart,g.originalStart+g.originalLength),v=p.lines.slice(g.modifiedStart,g.modifiedStart+g.modifiedLength),b=y.join(`
`),E=v.join(`
`),{editDistance:_}=f(b,E);return new Mce(g.originalStart,g.originalLength,g.modifiedStart,g.modifiedLength,_)}),"computeEditDistances"),r=s(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new Lk(this.oldLines,n),o=new Lk(this.newLines,n),a=new Mk(i,o),l=t(a.ComputeDiff(),i,o),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(Dv(this.newLines,u))return new Qce(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return wFe(this.languageId,this.oldLines,u);function f(m,h){let p=new Fk(m),g=new Fk(h),v=new Mk(p,g).ComputeDiff(),b=0,E=0;for(let N of v)b+=N.originalLength,E+=N.modifiedLength;let _=m.length,k=h.length,B=b+E;return{aChanged:b,bChanged:E,aLength:_,bLength:k,editDistance:B}}}},Mce=class{constructor(t,r,n,i,o){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=o}static{s(this,"DiffChangeWithEditDistance")}},Qce=class{constructor(t,r,n,i,o,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=o;this.diffMetrics=a;this.parseErrorCount="unknown"}static{s(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new yo([this.edit]);{let r=this.groupInHunks();return new yo(r.map(n=>{let i=n[0],o=n[n.length-1];return new Ih(new yr(i.originalStart+1,o.originalStart+o.originalLength+1),this.newLines.slice(i.modifiedStart,o.modifiedStart+o.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Oce)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(o=>o.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>Jwt&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let o of i){let a=o.originalStart+1,l=o.originalStart+o.originalLength+1;if(!qce(new yr(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],o=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(o.length>1){t.push([r]);continue}if(o[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new yo([this.edit]),i=r(n);this.parseErrorCount=await Ok(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=s(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let o=0;o<n.length&&o<i.length;o++){let a=n[o],l=i[o],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+o,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+o,1),t(f)}}}for(let o=1;o<=n.length&&o<=i.length;o++){let a=n[n.length-o],l=i[i.length-o],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-o+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-o,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let o=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(o,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=JG(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>JG(c,this.languageId)),i=r.map(c=>JG(c,this.languageId)),o=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(o===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(o>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return wFe(this.languageId,this.oldLines,t)}};function qce(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}s(qce,"editIsInsideEditWindow");function wFe(e,t,r){let i=t.length+1,o=r.slice(0);return new W9(e,t,new yr(1,i),o).resolveDiff()}s(wFe,"createPossibleEditFromLines");function oH(e,t,r,n,i,o){if(i.trim().length===0)return[];let a=Q9.fromString(i.trimEnd()),l=o?a.some(v=>v.indexOf(o.omittedMessage)>=0):!1,c=[],u=s((v,b)=>{c.push(new W9(e,t,v,b))},"generateEdit");function f(){n&&u(n,a)}s(f,"generateEditCompletionRange");function m(){if(l)return;let b=new yr(r.endLineNumberExclusive,t.length+1);b.length>a.length+5||u(b,a)}s(m,"generateEditAllDoc");function h(){for(let v=1;v<a.length;v++){let E=a.slice(a.length-v).join(`
`);for(let _=r.endLineNumberExclusive-1;_<t.length;_++){let B=t.slice(_,_+v).join(`
`);E===B&&u(new yr(r.endLineNumberExclusive,_+1),a.slice(0,a.length-v))}}}s(h,"generateEditsUsingOverlappingLines");function p(){if(!o||!l)return;let v=[];for(let b of a){if(b.indexOf(o.omittedMessage)>=0){u(o.editRange,v.map(E=>E));return}v.push(b)}}if(s(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let v=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...oH(e,t,r,n,v,o))}return g(c);function g(v){return y(v,s(E=>E.edit.lineRange.startLineNumber+","+E.edit.lineRange.endLineNumberExclusive+","+E.edit.newLines.join("|"),"keyfn"))}function y(v,b){let E=new Set,_=[];for(let k of v){let B=b(k);E.has(B)||(E.add(B),_.push(k))}return _}}s(oH,"generatePossibleEdits");async function Wce(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=iH?await Ok(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(iH){let m=s(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=s(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}s(Wce,"selectBestEdit");function r7t(e){let r=[],n=e.documentLinesBeforeEdit,i=0,o=0,a=-1,l=s((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,o>0?i-o-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),o=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-o+2<=2&&l(i,!1),i++;return r.push("[...]"),r}s(r7t,"summariseDocDiff");function _Fe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let o=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${o},${n.length} +${o},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}s(_Fe,"summarizeEditsAsUnifiedDiff");async function Ok(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:s(()=>r,"getText")})?.getParseErrorCount()??"unknown"}s(Ok,"getParseErrorCount");d();var i2=Ze(Gh());d();var Uk=Of("ITokenizerProvider");var XC=class extends i2.PromptRenderer{constructor(r,n,i={validate:!0},o,a,l){let c=o.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{s(this,"PromptRenderer")}static create(r,n,i,o={validate:!0}){return r.invokeFunction(a=>{let l=a.get(Uk);return new XC(n,i,o,l,r,a.get(Vh))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let o=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<o.messages.length;c++){let u=o.messages[c],f=o.messages[c-1];if(u.role===i2.Raw.ChatRole.System&&f.role===i2.Raw.ChatRole.System){let m=f.content.at(-1),h=u.content.at(0);m&&h&&m.type===i2.Raw.ChatCompletionContentPartKind.Text&&h.type===i2.Raw.ChatCompletionContentPartKind.Text?(m.text=m.text.trimEnd()+`
`+h.text,f.content=f.content.concat(u.content.slice(1))):(f.content.push({type:i2.Raw.ChatCompletionContentPartKind.Text,text:`
`}),f.content=f.content.concat(u.content)),o.messages.splice(c,1),c--}}let l=o.messages[o.messages.length-1];if(this.options.validate&&l&&l.role!==i2.Raw.ChatRole.User)throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...o,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};XC=a0([js(3,Uk),js(4,jg),js(5,Vh)],XC);d();var SFe=Ze(Gh());var sH=class extends SFe.PromptElement{static{s(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var Qb=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{s(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Vt(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=yf(this.lineStartOffsetByLineIdx,o=>o<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new nn(n,i)}getRange(t){return Ar.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Nl.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Nl(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Gce=class{static{s(this,"AbstractDocument")}rangeToOffsetRange(t){return new Vt(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new wu(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},$h=class extends Gce{constructor(r){super();this.value=r;this._transformer=new Qb(this.value)}static{s(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new nn(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return n7t(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(i7t(r))}_validatePosition(r){if(r.line<0)return new To(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let o=this._transformer.getLineLength(n);return new To(n-1,o)}if(r.character<0)return new To(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new To(r.line,i):r}};function n7t(e){return new To(e.lineNumber-1,e.column-1)}s(n7t,"corePositionToVSCodePosition");function i7t(e){return new nn(e.line+1,e.character+1)}s(i7t,"vsCodePositionToCorePosition");d();d();function RFe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}s(RFe,"min");d();function Hce(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>Hce(n,t))}}s(Hce,"toAstNode");function kFe(e,t){let r=Bv(t,a=>a.endExclusive>=e.start),n=yf(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],o=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>o&&i.push(new Vt(o,l.start)),o=l.endExclusive}return o<e.endExclusive&&i.push(new Vt(o,e.endExclusive)),i}s(kFe,"subtractRange");d();d();d();var aH=class{static{s(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=Qv(t);let n=this.values,i=this.prefixSum,o=r.length;return o===0?!1:(this.values=new Uint32Array(n.length+o),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+o),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=Qv(t),r=Qv(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=Qv(t),r=Qv(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let o=n.length-t;return r>=o&&(r=o),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=Qv(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,o=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,o=this.prefixSum[i],a=o-this.values[i],t<a)n=i-1;else if(t>=o)r=i+1;else break;return new jce(i,t-a)}};var jce=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{s(this,"PrefixSumIndexOfResult")}};var qk=class{static{s(this,"PositionOffsetTransformer")}constructor(t){this._lines=dg(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new aH(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],o=this.toRange(i.replaceRange);this._acceptDeleteRange(o),this._acceptInsertText(o.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=dg(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let o=1;o<n.length;o++)this._lines.splice(t.line+1+o-1,0,n[o]),i[o-1]=n[o].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new To(r.index,Math.min(r.remainder,n))}toRange(t){return new wu(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Vt(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new M9(this.validateRange(n.range),n.newText));return new Vd(r.map(n=>new Ka(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new M9(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof To))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let o=this._lines[r].length;n<0?(n=0,i=!0):n>o&&(n=o,i=!0)}return i?new To(r,n):t}validateRange(t){return new wu(this.validatePosition(t.start),this.validatePosition(t.end))}};var lH=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new fg(()=>new qk(this.text));this._originalPositionOffsetTransformer=new fg(()=>new qk(this.originalText));this._text=new fg(()=>this.edits.apply(this.originalText))}static{s(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Vce=class{constructor(t,r,n,i,o){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=o}static{s(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},Ub=class extends lH{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{s(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function uH(e,t,r){let n=[],i=[],o=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=BFe(u,c),g=$ce.fromRootNode(p,m),y=zce.fromNode(g,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&y.visitAll(M=>M.node.range.intersectsOrTouches(h)?(M.node.children.length===0&&M.markAsSurviving(),!0):!1),n.push(y),i.push(y.getTextFragment());let v=s(M=>h?M.range.endExclusive<h.start?h.start-M.range.endExclusive:M.range.start>h.endExclusive?3*(M.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),b=new TA(M=>h?M.children.length===0?M.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:RFe(M.children.map(re=>b.get(re)))+1:0),E=new TA(M=>{let re=M.parent?E.get(M.parent):Number.MAX_SAFE_INTEGER,pe=b.get(M);return Math.min(re,pe)}),_=!!t.tryPreserveTypeChecking,k=s(M=>_&&M.node?.kind==="import_statement"?0:100*E.get(M)+M.depth+10*(v(M)/m.length),"costFn"),B=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(B!==void 0){let M=k;k=s(re=>{let pe=M(re);return pe===!1?!1:re.node?B(re.node,pe,c):pe},"costFn")}let N=y.getDescendantsAndSelf();for(let M of N){if(!M.node.node)continue;let re=k(M.node);re!==!1&&o.push({idx:l,node:M,cost:re})}}o.sort(Cf(l=>l.cost,xf));for(let{node:l,idx:c}of o){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new Ub(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:kFe(Vt.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:Hce(h,p=>({label:(p.node.node?.kind||"unknown")+` (${o.find(g=>g.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}s(uH,"summarizeDocumentsSyncImpl");function BFe(e,t,r=void 0){let n=new Vt(e.startIndex,e.endIndex),i=[],o=new Vce(r,e,n,i,t);for(let a of e.children)i.push(BFe(a,t,o));return o}s(BFe,"createRemovableNodeFromOverlayNode");var $ce=class e{constructor(t,r,n,i,o,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=o;this.document=a}static{s(this,"TextNode")}static fromRootNode(t,r){let n=new Vt(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Vt(0,t.range.start),o=new Vt(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),o.isEmpty||a.push(new e(void 0,o,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let o=[],a=new e(t,t.range,o,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Vt(l,u.range.start);f.isEmpty||o.push(new e(void 0,f,[],n,a,r)),o.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Vt(l,t.range.endExclusive);c.isEmpty||o.push(new e(void 0,c,[],n,a,r))}return a}getLeadingWs(){return o7t(this.document,this.range)}getTrailingWs(){return s7t(this.document,this.range)}};function o7t(e,t){let r=t.substring(e),n=r.length-r.trimStart().length;return r.substring(0,n)}s(o7t,"getLeadingWs");function s7t(e,t){let r=t.substring(e),n=r.length-r.trimEnd().length;return r.substring(r.length-n)}s(s7t,"getTrailingWs");var zce=class e{constructor(t,r,n,i,o){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=o;this._surviving=!1;this._textFragment=null}static{s(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let o=[],a=new e(t,r,o,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);o.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new ZC(this.node.range,this.node.document);if(!this._surviving)return new Ob("");let t=Array.from(q8(this.childNodes.map(n=>({node:n,fragment:n.getTextFragment()})),(n,i)=>n.fragment.length===0==(i.fragment.length===0)));for(let n=0;n<t.length;n++){let i=t[n],o=i[0].fragment.length===0;if(o&&n>0&&n<t.length-1){let a=t[n-1].at(-1),l=t[n+1].at(0);if(a.fragment instanceof ZC&&l.fragment instanceof ZC){let c=a.fragment.trimEnd(),u=l.fragment.trimStart();if(c.endsWith("{")&&u.startsWith("}")){t[n-1][t[n-1].length-1].fragment=c,i.length=1,i[0].fragment=new Ob(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026"),t[n+1][0].fragment=u;continue}}}if(this._alwaysUseEllipsisForElisions&&o&&(n>0||n<t.length-1)){i.length=1;let a=i.at(0).node.node.getLeadingWs(),l=a.lastIndexOf(`
`);l!==-1&&(a=a.substring(l+1));let c=i.at(-1).node.node.getTrailingWs();i[0].fragment=new Ob(a+(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026")+c)}}let r=[];for(let n of t)for(let i of n)a7t(r,i.fragment);return cH.from(r)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},Wk=class{static{s(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function o(l){(n!==l||i.length>0)&&(r.push(new Ka(new Vt(n,l),i)),i="")}s(o,"emit");function a(l){if(l instanceof cH)for(let c of l.fragments)a(c);else l instanceof Ob?i+=l.text:l instanceof ZC&&(o(l.range.start),n=l.range.endExclusive)}return s(a,"process"),a(this),o(t),new Vd(r)}},Ob=class extends Wk{constructor(r){super();this.text=r}static{s(this,"LiteralTextFragment")}get length(){return this.text.length}},ZC=class e extends Wk{constructor(r,n){super();this.range=r;this.originalText=n}static{s(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Vt(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Vt(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Vt(this.range.start,r.range.endExclusive),this.originalText):null}},cH=class e extends Wk{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{s(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new Ob(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function a7t(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof ZC&&t instanceof ZC){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}s(a7t,"pushFragment");d();var fH=Ze(Gh());function Gk(e){if(Array.isArray(e))return e.map(r=>Gk(r));let t=(0,fH.toMode)(fH.OutputMode.OpenAI,e);if("copilot_references"in e&&(t.copilot_references=e.copilot_references),"copilot_confirmations"in e&&(t.copilot_confirmations=e.copilot_confirmations),typeof t.content=="string")t.content=t.content.trimEnd();else for(let r of t.content)r.type==="text"&&(r.text=r.text.trimEnd());return t}s(Gk,"rawMessageToCAPI");d();d();var dH=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new xn("startIndex must be less than endIndex");let o=t;for(let a of i){if(a.startIndex<o)throw new xn("Invalid child startIndex");if(a.endIndex>r)throw new xn("Invalid child endIndex");o=Math.max(a.endIndex,o)}}static{s(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(o=>r(o,i+"    "))}return s(r,"toString"),r(this),t.join(`
`)}};function PFe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},o={getLineCount:s(()=>n.length,"getLineCount"),getLineContent:s(a=>n[a-1],"getLineContent"),getOptions:s(()=>i,"getOptions")};try{let a=l7t(o,t),[l]=NFe(e,a,void 0);return l.adjust(e,LFe(t)),l.toOverlayNode(e,!0)}catch{return new mH(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}s(PFe,"getStructureUsingIndentation");function NFe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),o=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=NFe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new xn("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new xn("Invalid Folding Ranges: child starts before parent");o.push(a)}return[new mH(n,i,o),r]}s(NFe,"createFoldingRangeTree");var mH=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new xn("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{s(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),o=/^<\/\w/.test(n);(i||o)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],o=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,o)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let o of this.children){for(let a=i;a<o.startLineNumber;a++){let l=Yce(t,a,a,"LINE",[]);l&&n.push(l)}n.push(o.toOverlayNode(t,!1)),i=o.endLineNumber+1}for(let o=i;o<this.endLineNumber;o++){let a=Yce(t,o,o,"LINE",[]);a&&n.push(a)}return Yce(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function Yce(e,t,r,n,i){let o=e.getOffsetAtPosition(new To(t-1,0)),a=r<e.getLineCount()?new To(r,0):new To(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new dH(o,l,n,i)}s(Yce,"createOverlayNode");function l7t(e,t){return c7t(e,LFe(t))}s(l7t,"generateFoldingRegions");function LFe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}s(LFe,"isOffSide");function c7t(e,t){let r=e.getOptions().tabSize,n=new Kce,i=[],o=e.getLineCount()+1;i.push({indent:-1,endAbove:o,line:o});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=f7t(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}s(c7t,"_computeRanges");var u7t=65535,qb=16777215,DFe=4278190080,Kce=class{static{s(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>qb||r>qb)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new Jce(t,r)}};function f7t(e,t){let r=0,n=0,i=e.length;for(;n<i;){let o=e.charCodeAt(n);if(o===32)r++;else if(o===9)r=r-r%t+t;else break;n++}return n===i?-1:r}s(f7t,"computeIndentLevel");var Jce=class{static{s(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=s((n,i)=>{let o=t[t.length-1];return this.getStartLineNumber(o)<=n&&this.getEndLineNumber(o)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let o=this._startIndexes[n],a=this._endIndexes[n];if(o>qb||a>qb)throw new Error("startLineNumber or endLineNumber must not exceed "+qb);for(;t.length>0&&!r(o,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=o+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&qb}getEndLineNumber(t){return this._endIndexes[t]&qb}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&DFe)>>>24)+((this._endIndexes[t]&DFe)>>>16);return r===u7t?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function Wb(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}s(Wb,"fromUnknown");var gl=Ze(Gh());var hH="current-version",qf="next-version",MFe=2,QFe=10,OFe=.7,d7t=/```[^\n]*\n/,o2=class extends P9{constructor(r,n,i){super(o2.ID,[o=>new O9(o),o=>new L9(o),o=>new F9(o)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new yG}static{s(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!o(l,a))return!1}return!0;function o(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=Mb(a),u=c?Xce(a,c):null,f=Mb(l),m=f?Xce(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(MFe,QFe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new zC(r),o=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,o,n)}catch(c){return Si.noEdit({kind:"unexpected",error:Wb(c)},i)}let l=o.getArtificalDelay();return l>0&&await r2(l),a}async doGetNextEdit(r,n,i,o){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,o,n):Si.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,o){let a=await this.createPrompt(r,i);if(!a)return Si.noEdit({kind:"noSuggestions"},o);if(!a.editWindowIsInPrompt)return Si.noEdit({kind:"filteredOut",message:"promptTooLarge"},o);if(await this.debounce(n,o),i.isCancellationRequested){let k={kind:"gotCancelled",message:"afterDebounce"};return Si.noEdit(k,o)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:g,activeDocument:y,activeDocumentLines:v}=a;o.setFetchStartedAt(),r.fetchIssued=!0;let b=await Uce(this.ID,this.fetcher,Gk(m),{convergence:g,ignoreReplyTextBefore:d7t,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(o.setFetchResultIfNotSet(b.isOk()?"success":b.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return Si.noEdit({kind:"gotCancelled",message:"afterFetchCall"},o);if(b.isError())return b.err.kind==="cancel"?Si.noEdit({kind:"gotCancelled",message:"afterFetchCall"},o):Si.noEdit({kind:"fetchFailure",error:Wb(b.err.err)},o);let{result:E}=b.val;if(E.length===0){let k=`<${qf}>
`,B=b.val.ignored.indexOf(k);B>=0&&(E=b.val.ignored.substring(B+k.length))}if(E=m7t(E),E.trim().length===0)return Si.noEdit({kind:"noSuggestions"},o);let _;if(l&&c&&u){let k=h7t(y,l,c,E);if(!k||k.edits.length===0)return Si.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},o);let B=p7t(l,k);if(B.edits.length===0)return Si.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},o);if(iH){let re=await Ok(this._parserService,y.languageId,y.documentAfterEditsNoShortening.value),pe=B.apply(y.documentAfterEditsNoShortening.value);if(await Ok(this._parserService,y.languageId,pe)>re)return Si.noEdit({kind:"filteredOut",message:"More parse errors after edit"},o)}_=g7t(y,B);let N=_.edits[0].lineRange.startLineNumber,M=_.edits[_.edits.length-1].lineRange.endLineNumberExclusive;if(!qce(new yr(N,M),u))return Si.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},o)}else{let k=oH(y.languageId,v,h,p,E,void 0),B=await Wce(this._parserService,k,y,{requireEditWithinNLines:100});if(!B)return Si.noEdit({kind:"filteredOut",message:"Could not identify best edit"},o);_=new yo([B])}return A7t(y,_)?Si.noEdit({kind:"filteredOut",message:"Undo of recent edit"},o):y7t(y,_)?Si.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},o):C7t(y,_)?Si.noEdit({kind:"filteredOut",message:"uncategorized"},o):x7t(y,_)?Si.noEdit({kind:"filteredOut",message:"uncategorized"},o):Si.edit({edit:_},o)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await r2(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=Mb(i);if(c===null)return;let u=Xce(i,c),f=new $h(i.documentAfterEditsNoShortening.value),m=await E7t(this._parserService,{getText:s(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:g}=function(){let pe=v7t(i.documentAfterEditsLines,c.startLineNumber),Z=Math.max(1,Math.min(pe,c.startLineNumber-MFe)),G=c.startLineNumber-Z,q=Math.min(l.length,c.endLineNumber+QFe),ie=q-c.endLineNumber,z=u.line-G,H=u.line+ie,U=new wu(z,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:Z,lastEditableLineInShortenedDocument:q,editWindow:U}}(),y=uH(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:g}])[0],v=new yr(1,h),b=new yr(h,p+1),E=y.text,{messages:_,prediction:k,editWindowIsInPrompt:B}=await this._renderPrompt({request:r,activeDocumentSlice:E,languageId:i.languageId},n),N=E.split(/\r\n|\r|\n/).length,M=y.projectRange(g),re=y.positionOffsetTransformer.toOffsetRange(M);return{summarizedEditWindow:y,editWindowAllowedEditLineRange:new yr(M.start.line+1,M.end.line+2),allowedEditLineRange:new yr(h,p+1),messages:_,prediction:k,editWindowIsInPrompt:B,activeDocument:i,activeDocumentLines:l,completionPrefixRange:v,completionRange:b,convergence:E,expectedConvergencePrefix:re.start,maxCompletionLineCount:N+20}}async _renderPrompt(r,n){let o=await XC.create(this._instantiationService,e0e,r).render(void 0,n,{trace:!1}),a=o.metadata.get(CH)?.prediction,l=!!o.metadata.get(gH);return{messages:o.messages,prediction:a,editWindowIsInPrompt:l}}};o2=a0([js(0,Vh),js(1,n2),js(2,jg)],o2);function m7t(e){function t(r,n,i){let o=r.lastIndexOf(n);if(o===-1)return r;let a=r.slice(0,o);return a.trim().length>0?a+i:a}return s(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${qf}>`,`
`),e=t(e,`\`\`\`
</${qf}>`,`
`),e=t(e,`</${qf}>`,`
`),e}s(m7t,"removeSuffixFromReply");function Xce(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new $h(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}s(Xce,"getCursorPositionInOuterDocument");function h7t(e,t,r,n){let i=Q9.fromString(t.text),o=Q9.fromString(n.trimEnd()),l=new W9(e.languageId,i,new yr(1,i.length+1),o).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Oce?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}s(h7t,"generateSummarizedEditWindowEdit");function p7t(e,t){let r=t.toEdit(new Ll(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}s(p7t,"convertSummarizedEditWindowEditToOuterDocumentEdit");function g7t(e,t){let r=t.edits.map(i=>{let o=i.replaceRange.start,a=e.toProjectedOffset(o);return Qs.replace(new Vt(a,a+i.replaceRange.length),i.newText)}),n=new Wc(e.documentAfterEdits,xs.create(r));return yo.fromEdit(n)}s(g7t,"convertOuterDocumentEditToProjectedEdit");function A7t(e,t){let r=t.toEdit(e.documentAfterEdits),n=UFe(e.documentAfterEdits.value,r),i=new pH,o=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(UFe(o,a)),o=a.apply(o);return!!i.isUndoneBy(n)}s(A7t,"editWouldUndo");function y7t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!jFe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],o=r.tryRebase(i);if(!o)return!0;r=o}return!1}s(y7t,"editWouldDeleteWhatWasJustInserted");function C7t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!jFe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(Nce(i,e.languageId))return!0}return!1}s(C7t,"editWouldDeleteAComment");function x7t(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=s(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size<=1)return!1;let o=new Set(e.documentAfterEditsLines.filter(n));return Zce(o,i)/i.size>.8}s(x7t,"editWouldDuplicateExistingLines");function jFe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}s(jFe,"editIsDeletion");function v7t(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}s(v7t,"findLineNumberAboveWithContent");var pH=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{s(this,"InformationDelta")}combine(t){return new e(WFe(this.inserted,t.inserted),WFe(this.deleted,t.deleted))}isUndoneBy(t){let r=GFe(t.inserted,t.deleted),n=GFe(t.deleted,t.inserted),i=Zce(n,this.inserted),o=Zce(r,this.deleted);return n.size>6&&i/n.size>OFe||r.size>6&&o/r.size>OFe}};function UFe(e,t){let r=new Set,n=new Set,i=s(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of qFe(c))n.add(u)}},"tryAddDeleted"),o=s(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of qFe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),o(b7t(l.newText,c.newText)))}return new pH(r,n)}s(UFe,"getInformationDelta");function b7t(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),o=t.slice(n);if(i===o)return i}return""}s(b7t,"trimOverlap");function qFe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}s(qFe,"to4grams");function WFe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}s(WFe,"setUnion");function GFe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}s(GFe,"setMinus");function Zce(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}s(Zce,"setIntersectionCount");async function E7t(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||PFe(new $h(t.getText()),t.languageId,void 0)}s(E7t,"getStructure");var e0e=class extends gl.PromptElement{static{s(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:o}=this.props,a=[`<${qf}>`,`\`\`\`${o}`,`${i}`,"```",`</${qf}>`].join(`
`),l=(0,gl.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new CH(a)}),vscpp(gl.SystemMessage,{priority:1e3},vscpp(sH,null),this._getInstructions()),vscpp(gl.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(gl.Chunk,{priority:300},vscpp(AH,{doc:c}))):vscpp(gl.Chunk,{priority:100+u},vscpp(AH,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(gl.Chunk,{priority:300},vscpp(yH,{doc:c}))):vscpp(gl.Chunk,{priority:200+u},vscpp(yH,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(gl.Chunk,{priority:300},vscpp("meta",{local:!0,value:new gH}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",hH,">",vscpp("br",null),"```",o,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",hH,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",hH,"> and </",hH,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",qf,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",qf,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",qf,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",qf,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",qf,">IDENTICAL</",qf,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",qf,">.")}}},gH=class extends gl.PromptMetadata{static{s(this,"EditWindowMarkerMetadata")}},AH=class extends gl.PromptElement{static{s(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let o=0;o<n.documentLinesBeforeEdit.length;o++){let a=n.documentLinesBeforeEdit[o];i.push(`${n.clippingRange.startLineNumber+o}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},yH=class extends gl.PromptElement{static{s(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(..._Fe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},CH=class extends gl.PromptMetadata{constructor(r){super();this.prediction=r}static{s(this,"PredictionMetadata")}};d();d();function VFe(e,t){let r=[];for(let[n,i]of e.entries())i===t&&r.push(n);return r}s(VFe,"findIndexes");function I7t(e,t,r,n=10){if(t.length===0)return t;let i=[...t],o=t.length-1;for(;o>=0&&t[o].trim()==="";)o--;if(o<0)return t;let a=VFe(r,t[o]).slice(0,n);for(let m of a){let h=!1,p=o;for(;p>=0&&m>=0;){let g=t[p],y=r[m];if(g===y)p--,m--;else if(y.trim()==="")m--;else{h=!0;break}}if(!h&&m===-1&&p!==t.length-1){t=t.slice(0,p+1);break}else t=[...i]}if(!t.length)return t;let l=0;for(;t.length&&t[l].trim()==="";)l++;let c=[...t],f=VFe(e,t[l]).slice(-n).reverse();for(let m of f){let h=!1,p=l;for(;p<t.length&&m<e.length;){let g=t[p],y=e[m];if(g===y)p++,m++;else if(y.trim()==="")m++;else{h=!0;break}}if(!h&&m===e.length&&p!==0){t=t.slice(p);break}else t=[...c]}return t}s(I7t,"deduplicateEditRegion");function $Fe(e,t,r){let n=e.getLines(),i=n.slice(0,t[0]),o=n.slice(t[1]+1);return{updatedEditWindow:I7t(i,r.split(/\r?\n/),o).join(`
`)}}s($Fe,"postProcessUpdatedEditWindow");d();var t0e={id:"xtab-274-2-full-ft",name:"xtab-4o-mini-finetuned"};d();var xH=Ze(Gh());function zFe(e){return e?typeof e=="string"?e:Array.isArray(e)?e.map(t=>t.type===xH.Raw.ChatCompletionContentPartKind.Text?t.text:"").join(""):e.type===xH.Raw.ChatCompletionContentPartKind.Text?e.text:"":""}s(zFe,"getTextPart");function T7t(e){return{type:xH.Raw.ChatCompletionContentPartKind.Text,text:e}}s(T7t,"toTextPart");function r0e(e){return[T7t(e)]}s(r0e,"toTextParts");d();var vH=Of("IDiffService");var a0e=Ze(Gh());d();var bH="<|cursor|>",Gb="<|code_to_edit|>",G9="<|/code_to_edit|>",KFe="<|area_around_code_to_edit|>",JFe="<|/area_around_code_to_edit|>",w7t="<|current_file_content|>",_7t="<|/current_file_content|>",S7t="<|edit_diff_history|>",R7t="<|/edit_diff_history|>",k7t="<|recently_viewed_code_snippets|>",B7t="<|/recently_viewed_code_snippets|>",D7t="<|recently_viewed_code_snippet|>",P7t="<|/recently_viewed_code_snippet|>",XFe=`Your role as an AI assistant is to help developers complete their code tasks by assisting in editing specific sections of code marked by the ${Gb} and ${G9} tags, while adhering to Microsoft's content policies and avoiding the creation of content that violates copyrights.

You have access to the following information to help you make informed suggestions:

- recently_viewed_code_snippets: These are code snippets that the developer has recently looked at, which might provide context or examples relevant to the current task. They are listed from oldest to newest, with line numbers in the form #| to help you understand the edit diff history. It's possible these are entirely irrelevant to the developer's change.
- current_file_content: The content of the file the developer is currently working on, providing the broader context of the code. Line numbers in the form #| are included to help you understand the edit diff history.
- edit_diff_history: A record of changes made to the code, helping you understand the evolution of the code and the developer's intentions. These changes are listed from oldest to latest. It's possible a lot of old edit diff history is entirely irrelevant to the developer's change.
- area_around_code_to_edit: The context showing the code surrounding the section to be edited.
- cursor position marked as ${bH}: Indicates where the developer's cursor is currently located, which can be crucial for understanding what part of the code they are focusing on.

Your task is to predict and complete the changes the developer would have made next in the ${Gb} section. The developer may have stopped in the middle of typing. Your goal is to keep the developer on the path that you think they're following. Some examples include further implementing a class, method, or variable, or improving the quality of the code. Make sure the developer doesn't get distracted and ensure your suggestion is relevant. Consider what changes need to be made next, if any. If you think changes should be made, ask yourself if this is truly what needs to happen. If you are confident about it, then proceed with the changes.

# Steps

1. **Review Context**: Analyze the context from the resources provided, such as recently viewed snippets, edit history, surrounding code, and cursor location.
2. **Evaluate Current Code**: Determine if the current code within the tags requires any corrections or enhancements.
3. **Suggest Edits**: If changes are required, ensure they align with the developer's patterns and improve code quality.
4. **Maintain Consistency**: Ensure indentation and formatting follow the existing code style.

# Output Format

- Provide only the revised code within the tags. If no changes are necessary, simply return the original code from within the ${Gb} and ${G9} tags.
- There are line numbers in the form #| in the code displayed to you above, but these are just for your reference. Please do not include the numbers of the form #| in your response.
- Ensure that you do not output duplicate code that exists outside of these tags. The output should be the revised code that was between these tags and should not include the ${Gb} or ${G9} tags.

\`\`\`
// Your revised code goes here
\`\`\`

# Notes

- Apologize with "Sorry, I can't assist with that." for requests that may breach Microsoft content guidelines.
- Avoid undoing or reverting the developer's last change unless there are obvious typos or errors.
- Don't include the line numbers of the form #| in your response.`;function ZFe(e,t,r,n){let i=e.getActiveDocument(),o=F7t(e,n),a=N7t(e,n,2e3),l=i.workspaceRoot===void 0?i.id.path:i.id.path.startsWith(i.workspaceRoot.path)?i.id.path.substring(i.workspaceRoot.path.length+1):i.id.path;return`
\`\`\`
${k7t}
${o}
${B7t}

${w7t}
current_file_path: ${l}
${t}
${_7t}

${S7t}
${a}
${R7t}

${r}
\`\`\`

The developer was working on a section of code within the tags \`code_to_edit\` in the file located at \`${l}\`. Using the given \`recently_viewed_code_snippets\`, \`current_file_content\`, \`edit_diff_history\`, \`area_around_code_to_edit\`, and the cursor position marked as \`${bH}\`, please continue the developer's work. Update the \`code_to_edit\` section by predicting and completing the changes they would have made next. Provide the revised code that was between the \`${Gb}\` and \`${G9}\` tags with the following format, but do not include the tags themselves.
\`\`\`
// Your revised code goes here
\`\`\`
`.trim()}s(ZFe,"getUserPrompt");function N7t(e,t,r){let n=[];for(let a of e.xtabEditHistory.reverse()){let l=L7t(a);if(l===null)continue;let c=t(l);if(r-=c,r<0)break;n.push(l)}let i=n.reverse(),o=i.join(`

`);return i.length>0&&(o+=`
`),o}s(N7t,"getEditDiffHistory");function L7t(e){let t=[],r=yo.fromEdit(e.edit);for(let i of r.edits){let o=e.edit.base.getLines().slice(i.lineRange.startLineNumber-1,i.lineRange.endLineNumberExclusive-1),a=i.newLines;if(o.filter(c=>c.trim().length>0).length===0&&a.filter(c=>c.trim().length>0).length===0)continue;let l=i.lineRange.startLineNumber-1;t.push(`@@ -${l},${o.length} +${l},${a.length} @@`),t.push(...o.map(c=>`-${c}`)),t.push(...a.map(c=>`+${c}`))}return t.length===0?null:[`--- ${e.docId.path}`,`+++ ${e.docId.path}`,...t].join(`
`)}s(L7t,"generateDocDiff");function YFe(e,t,r=!1){let n=r?`code_snippet_file_path: ${e} (truncated)`:`code_snippet_file_path: ${e}`;return[D7t,n,t,P7t].join(`
`)}s(YFe,"formatCodeSnippet");function F7t(e,t,r=2e3,n=!1){r=r||Number.POSITIVE_INFINITY;let i=e.getActiveDocument(),a=e.documents.filter(u=>u.id!==i.id).map(u=>({path:u.id.path,content:u.documentAfterEdits.value})),l=[],c=0;for(let u=a.length-1;u>=0;u--){let f=a[u],m=f.content.split(/\r?\n/);n&&(m=m.map((v,b)=>`${b+1}|${v}`));let h=m.map(v=>t(v)+1),p=t(YFe(f.path,"",!0)),g=h.reduce((v,b)=>v+b,0)+p,y=!1;for(;m.length>0&&c+g>r;)m.pop(),g-=h.pop()||0,y=!0;m.length>0&&(c+=g,l.push(YFe(f.path,m.join(`
`),y)))}return l.join(`

`)}s(F7t,"getRecentCodeSnippets");function n0e(e,t,r){if(!e.length)return[0,0];let n=r*4,i=0,o=t?e.length-1:0;for(;i<n;)if(i+=e[o].length+1,t){if(o--,o<0)break}else if(o++,o>=e.length)break;return t?[o+1,e.length]:[0,o]}s(n0e,"truncateCode");var eMe=2,tMe=10,i0e=15,o0e=1e3,s0e=2e3;var Vg=class extends P9{constructor(r,n){super(Vg.ID,[i=>new O9(i),i=>new L9(i),i=>new F9(i)]);this.diffService=r;this._chatMLFetcher=n;this.documentShorteningStrategy="noShortening";this.dependsOnSelection=!0;this.showNextEditPreference="always"}static{s(this,"XtabProvider")}static{this.ID="XtabProvider"}static{this.DEBOUNCE_MS=200}async provideNextEditBase(r,n){let i=new zC(r);try{if(r.xtabEditHistory.length===0)return Si.noEdit({kind:"activeDocumentHasNoEdits"},i);let o=await this.doGetNextEdit(r,n,i);return new Si(o,i.build(o))}catch(o){return Si.noEdit({kind:"unexpected",error:Wb(o)},i)}}async doGetNextEdit(r,n,i){let o=r.getActiveDocument(),a=Mb(o);if(a===null)return Oo.error({kind:"uncategorized",error:Wb(new Error("NoSelection"))});let l=s(Y=>Math.floor(Y.length/4),"computeTokens"),c=new nn(a.endLineNumber,a.endColumn),u=o.documentAfterEdits.getTransformer().getOffset(c),f=o.documentAfterEdits.value,m=f.substring(0,u)+bH+f.substring(u),h=c.lineNumber-1,p=m.split(/\r?\n/),g=Math.max(0,h-i0e),y=Math.min(p.length,h+i0e+1),v=eMe,b=tMe,E=Math.max(0,h-v),_=Math.min(p.length,h+b+1),k=o.documentAfterEdits.getTransformer().getOffsetRange(new Ar(E,0,_,0)),B;B=f.split(/\r?\n/).slice(E,_);let N=[E,_],M=p.slice(E,_),re=[KFe,...p.slice(g,E),Gb,...M,G9,...p.slice(_,y),JFe].join(`
`),pe=re,Z;{let Y=l(re),ae=0;if(Y>=s0e)Z=re,ae=g;else{let te=Math.floor((s0e-Y)/2),[le]=n0e(p.slice(0,g),!0,te),[,ce]=n0e(p.slice(y),!1,te);ae=Math.max(le,h-o0e);let De=Math.min(ce+y,h+o0e+1);Z=[...p.slice(ae,g),re,...p.slice(y,De)].join(`
`)}}let G=ZFe(r,Z,pe,l),q=[{role:a0e.Raw.ChatRole.System,content:r0e(XFe)},{role:a0e.Raw.ChatRole.User,content:r0e(G)}];if(i.setPrompt(q),await this.debounce(i),n.isCancellationRequested)return Oo.error({kind:"gotCancelled",message:"afterDebounce"});r.fetchIssued=!0;let ie=new V8,z,H=await this._chatMLFetcher.fetchOne(Gk(q),async(Y,ae,te)=>{z===void 0&&(z=ie.elapsed())},{id:t0e.id,name:t0e.name},{temperature:0},n);if(H.type==="canceled")return Oo.error({kind:"gotCancelled",message:"afterFetchCall"});if(H.type!=="success")return Oo.error({kind:"fetchFailure",error:Wb(H)});z&&i.setTtft(z),i.setResponse(H.value);let U=Vg.getBacktickSection(H.value);return await this.generateReturnEditFormat(o,k,B.join(`
`),U,N,i)}async generateReturnEditFormat(r,n,i,o,a,l){let{updatedEditWindow:c}=$Fe(r.documentAfterEdits,a,o),u=await this.diffService.computeDiff(i,c,{ignoreTrimWhitespace:!1,maxComputationTimeMs:0,computeMoves:!1}),f=c.split(/\r?\n/),m=u.changes.map(h=>new Ih(new yr(a[0]+h.original.startLineNumber,a[0]+h.original.endLineNumberExclusive),f.slice(h.modified.startLineNumber-1,h.modified.endLineNumberExclusive-1)));return m.length<1?Oo.error({kind:"noSuggestions"}):Oo.ok({editWindow:n,edit:new yo(m)})}static getBacktickSection(r){return r.replace(/^\`\`\`[a-zA-Z]*\r?\n/,"").replace(/(\r?\n)\`\`\`$/,"")}async debounce(r){let n=Date.now()-r.startTime,i=Math.max(0,Vg.DEBOUNCE_MS-n);r.setDebounceTime(i),await r2(i)}};Vg=a0([js(0,vH),js(1,Vh)],Vg);d();var EH=class e extends Zs{constructor(r,n=e.MAX_HISTORY_SIZE){super();this.maxHistorySize=n;this.idToEntry=new Map,this.history=new kS,bh(this,r.openDocuments,(i,o)=>{o.add(Z5(this,{rootedEdits:i.value},a=>{if(a.rootedEdits.changes.length<1||a.rootedEdits.previous===void 0)return;Pl(a.rootedEdits.changes.length===1,`Expected 1 edit change but got ${a.rootedEdits.changes.length}`);let l=a.rootedEdits.changes[0];if(l.edits.length===0)return;let c=this.idToEntry.get(i.id),u=a.rootedEdits.previous,f=new Wc(u,l);if(c===void 0){this.pushToHistory(i.id,f);return}let m=c.entry.edit,h=yo.fromEdit(m),p=yo.fromEdit(f);if(!p.isEmpty()&&!h.isEmpty()&&h.edits[0].lineRange.startLineNumber===p.edits[0].lineRange.startLineNumber){c.removeFromHistory();let g=m.edit.compose(l),y=new Wc(m.base,g);this.pushToHistory(i.id,y)}else this.pushToHistory(i.id,f)}))},i=>i.id).recomputeInitiallyAndOnChange(this._store)}static{s(this,"NesXtabHistoryTracker")}static{this.MAX_HISTORY_SIZE=50}getHistory(){return[...this.history]}pushToHistory(r,n){let i={docId:r,edit:n},o=this.history.push(i);if(this.idToEntry.set(r,{entry:i,removeFromHistory:o}),this.history.size>this.maxHistorySize){let a=this.history.shift();if(a!==void 0){let l=this.idToEntry.get(a.docId);l!==void 0&&a===l.entry&&this.idToEntry.delete(a.docId)}}}};d();d();d();d();var l0e=class e{constructor(t){this.edits=t;y0(()=>j5(t,(r,n)=>r.range.getEndPosition().isBeforeOrEqual(n.range.getStartPosition())))}static{s(this,"TextEdit")}static fromOffsetEdit(t,r){let n=t.edits.map(i=>new $g(r.getTransformer().getRange(i.replaceRange),i.newText));return new e(n)}static single(t,r){return new e([new $g(t,r)])}static insert(t,r){return new e([new $g(Ar.fromPositions(t,t),r)])}normalize(){let t=[];for(let r of this.edits)if(t.length>0&&t[t.length-1].range.getEndPosition().equals(r.range.getStartPosition())){let n=t[t.length-1];t[t.length-1]=new $g(n.range.plusRange(r.range),n.text+r.text)}else r.isEmpty||t.push(r);return new e(t)}mapPosition(t){let r=0,n=0,i=0;for(let o of this.edits){let a=o.range.getStartPosition();if(t.isBeforeOrEqual(a))break;let l=o.range.getEndPosition(),c=Nl.ofText(o.text);if(t.isBefore(l)){let u=new nn(a.lineNumber+r,a.column+(a.lineNumber+r===n?i:0)),f=c.addToPosition(u);return IH(u,f)}a.lineNumber+r!==n&&(i=0),r+=c.lineCount-(o.range.endLineNumber-o.range.startLineNumber),c.lineCount===0?l.lineNumber!==a.lineNumber?i+=c.columnCount-(l.column-1):i+=c.columnCount-(l.column-a.column):i=c.columnCount,n=l.lineNumber+r}return new nn(t.lineNumber+r,t.column+(t.lineNumber+r===n?i:0))}mapRange(t){function r(a){return a instanceof nn?a:a.getStartPosition()}s(r,"getStart");function n(a){return a instanceof nn?a:a.getEndPosition()}s(n,"getEnd");let i=r(this.mapPosition(t.getStartPosition())),o=n(this.mapPosition(t.getEndPosition()));return IH(i,o)}inverseMapPosition(t,r){return this.inverse(r).mapPosition(t)}inverseMapRange(t,r){return this.inverse(r).mapRange(t)}apply(t){let r="",n=new nn(1,1);for(let o of this.edits){let a=o.range,l=a.getStartPosition(),c=a.getEndPosition(),u=IH(n,l);u.isEmpty()||(r+=t.getValueOfRange(u)),r+=o.text,n=c}let i=IH(n,t.endPositionExclusive);return i.isEmpty()||(r+=t.getValueOfRange(i)),r}applyToString(t){let r=new u0e(t);return this.apply(r)}inverse(t){let r=this.getNewRanges();return new e(this.edits.map((n,i)=>new $g(r[i],t.getValueOfRange(n.range))))}getNewRanges(){let t=[],r=0,n=0,i=0;for(let o of this.edits){let a=Nl.ofText(o.text),l=nn.lift({lineNumber:o.range.startLineNumber+n,column:o.range.startColumn+(o.range.startLineNumber===r?i:0)}),c=a.createRange(l);t.push(c),n=c.endLineNumber-o.range.endLineNumber,i=c.endColumn-o.range.endColumn,r=o.range.endLineNumber}return t}toSingle(t){if(this.edits.length===0)throw new xn;if(this.edits.length===1)return this.edits[0];let r=this.edits[0].range.getStartPosition(),n=this.edits[this.edits.length-1].range.getEndPosition(),i="";for(let o=0;o<this.edits.length;o++){let a=this.edits[o];if(i+=a.text,o<this.edits.length-1){let l=this.edits[o+1],c=Ar.fromPositions(a.range.getEndPosition(),l.range.getStartPosition()),u=t.getValueOfRange(c);i+=u}}return new $g(Ar.fromPositions(r,n),i)}equals(t){return Dv(this.edits,t.edits,(r,n)=>r.equals(n))}},$g=class e{constructor(t,r){this.range=t;this.text=r}static{s(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new xn;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),o="";for(let a=0;a<t.length;a++){let l=t[a];if(o+=l.text,a<t.length-1){let c=t[a+1],u=Ar.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);o+=f}}return new e(Ar.fromPositions(n,i),o)}get isEmpty(){return this.range.isEmpty()&&this.text.length===0}static equals(t,r){return t.range.equalsRange(r.range)&&t.text===r.text}toSingleEditOperation(){return{range:this.range,text:this.text}}toEdit(){return new l0e([this])}equals(t){return e.equals(this,t)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(Ar.fromPositions(n.getStartPosition(),this.range.getStartPosition())),o=r.getValueOfRange(Ar.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.text+o;return new e(n,a)}extendToFullLine(t){let r=new Ar(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}removeCommonPrefix(t){let r=t.getValueOfRange(this.range).replaceAll(`\r
`,`
`),n=this.text.replaceAll(`\r
`,`
`),i=NS(r,n),o=Nl.ofText(r.substring(0,i)).addToPosition(this.range.getStartPosition()),a=n.substring(i),l=Ar.fromPositions(o,this.range.getEndPosition());return new e(l,a)}isEffectiveDeletion(t){let r=this.text.replaceAll(`\r
`,`
`),n=t.getValueOfRange(this.range).replaceAll(`\r
`,`
`),i=NS(r,n);r=r.substring(i),n=n.substring(i);let o=e6(r,n);return r=r.substring(0,r.length-o),n=n.substring(0,n.length-o),r===""}};function IH(e,t){if(e.lineNumber===t.lineNumber&&e.column===Number.MAX_SAFE_INTEGER)return Ar.fromPositions(t,t);if(!e.isBeforeOrEqual(t))throw new xn("start must be before end");return new Ar(e.lineNumber,e.column,t.lineNumber,t.column)}s(IH,"rangeFromPositions");var TH=class{constructor(){this._transformer=void 0}static{s(this,"AbstractText")}get endPositionExclusive(){return this.length.addToPosition(new nn(1,1))}get lineRange(){return this.length.toLineRange()}getValue(){return this.getValueOfRange(this.length.toRange())}getLineLength(t){return this.getValueOfRange(new Ar(t,1,t,Number.MAX_SAFE_INTEGER)).length}getTransformer(){return this._transformer||(this._transformer=new Qb(this.getValue())),this._transformer}getLineAt(t){return this.getValueOfRange(new Ar(t,1,t,Number.MAX_SAFE_INTEGER))}getLines(){let t=this.getValue();return dg(t)}},c0e=class extends TH{constructor(r,n){Pl(n>=1);super();this._getLineContent=r;this._lineCount=n}static{s(this,"LineBasedText")}getValueOfRange(r){if(r.startLineNumber===r.endLineNumber)return this._getLineContent(r.startLineNumber).substring(r.startColumn-1,r.endColumn-1);let n=this._getLineContent(r.startLineNumber).substring(r.startColumn-1);for(let i=r.startLineNumber+1;i<r.endLineNumber;i++)n+=`
`+this._getLineContent(i);return n+=`
`+this._getLineContent(r.endLineNumber).substring(0,r.endColumn-1),n}getLineLength(r){return this._getLineContent(r).length}get length(){let r=this._getLineContent(this._lineCount);return new Nl(this._lineCount-1,r.length)}},Hb=class extends c0e{static{s(this,"ArrayText")}constructor(t){super(r=>t[r-1],t.length)}},u0e=class extends TH{constructor(r){super();this.value=r;this._t=new Qb(this.value)}static{s(this,"StringText")}getValueOfRange(r){return this._t.getOffsetRange(r).substring(this.value)}get length(){return this._t.textLength}};d();var H9=class{constructor(t,r,n){this.changes=t;this.moves=r;this.hitTimeout=n}static{s(this,"LinesDiff")}},j9=class e{static{s(this,"MovedText")}constructor(t,r){this.lineRangeMapping=t,this.changes=r}flip(){return new e(this.lineRangeMapping.flip(),this.changes.map(t=>t.flip()))}};d();var um=class e{static{s(this,"LineRangeMapping")}static inverse(t,r,n){let i=[],o=1,a=1;for(let c of t){let u=new e(new yr(o,c.original.startLineNumber),new yr(a,c.modified.startLineNumber));u.modified.isEmpty||i.push(u),o=c.original.endLineNumberExclusive,a=c.modified.endLineNumberExclusive}let l=new e(new yr(o,r+1),new yr(a,n+1));return l.modified.isEmpty||i.push(l),i}static clip(t,r,n){let i=[];for(let o of t){let a=o.original.intersect(r),l=o.modified.intersect(n);a&&!a.isEmpty&&l&&!l.isEmpty&&i.push(new e(a,l))}return i}constructor(t,r){this.original=t,this.modified=r}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new e(this.modified,this.original)}join(t){return new e(this.original.join(t.original),this.modified.join(t.modified))}get changedLineCount(){return Math.max(this.original.length,this.modified.length)}toRangeMapping(){let t=this.original.toInclusiveRange(),r=this.modified.toInclusiveRange();if(t&&r)return new _u(t,r);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new xn("not a valid diff");return new _u(new Ar(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new Ar(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new _u(new Ar(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new Ar(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(t,r){if(rMe(this.original.endLineNumberExclusive,t)&&rMe(this.modified.endLineNumberExclusive,r))return new _u(new Ar(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new Ar(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new _u(Ar.fromPositions(new nn(this.original.startLineNumber,1),V9(new nn(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)),Ar.fromPositions(new nn(this.modified.startLineNumber,1),V9(new nn(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),r)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new _u(Ar.fromPositions(V9(new nn(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),V9(new nn(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)),Ar.fromPositions(V9(new nn(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),r),V9(new nn(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),r)));throw new xn}};function V9(e,t){if(e.lineNumber<1)return new nn(1,1);if(e.lineNumber>t.length)return new nn(t.length,t[t.length-1].length+1);let r=t[e.lineNumber-1];return e.column>r.length+1?new nn(e.lineNumber,r.length+1):e}s(V9,"normalizePosition");function rMe(e,t){return e>=1&&e<=t.length}s(rMe,"isValidLineNumber");var e3=class e extends um{static{s(this,"DetailedLineRangeMapping")}static fromRangeMappings(t){let r=yr.join(t.map(i=>yr.fromRangeInclusive(i.originalRange))),n=yr.join(t.map(i=>yr.fromRangeInclusive(i.modifiedRange)));return new e(r,n,t)}constructor(t,r,n){super(t,r),this.innerChanges=n}flip(){return new e(this.modified,this.original,this.innerChanges?.map(t=>t.flip()))}withInnerChangesFromLineRanges(){return new e(this.original,this.modified,[this.toRangeMapping()])}},_u=class e{static{s(this,"RangeMapping")}static fromEdit(t){let r=t.getNewRanges();return t.edits.map((i,o)=>new e(i.range,r[o]))}static fromEditJoin(t){let r=t.getNewRanges(),n=t.edits.map((i,o)=>new e(i.range,r[o]));return e.join(n)}static join(t){if(t.length===0)throw new xn("Cannot join an empty list of range mappings");let r=t[0];for(let n=1;n<t.length;n++)r=r.join(t[n]);return r}static assertSorted(t){for(let r=1;r<t.length;r++){let n=t[r-1],i=t[r];if(!(n.originalRange.getEndPosition().isBeforeOrEqual(i.originalRange.getStartPosition())&&n.modifiedRange.getEndPosition().isBeforeOrEqual(i.modifiedRange.getStartPosition())))throw new xn("Range mappings must be sorted")}}constructor(t,r){this.originalRange=t,this.modifiedRange=r}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new e(this.modifiedRange,this.originalRange)}toTextEdit(t){let r=t.getValueOfRange(this.modifiedRange);return new $g(this.originalRange,r)}join(t){return new e(this.originalRange.plusRange(t.originalRange),this.modifiedRange.plusRange(t.modifiedRange))}};function f0e(e,t,r,n=!1){let i=[];for(let o of q8(e.map(a=>Q7t(a,t,r)),(a,l)=>a.original.overlapOrTouch(l.original)||a.modified.overlapOrTouch(l.modified))){let a=o[0],l=o[o.length-1];i.push(new e3(a.original.join(l.original),a.modified.join(l.modified),o.map(c=>c.innerChanges[0])))}return y0(()=>!n&&i.length>0&&(i[0].modified.startLineNumber!==i[0].original.startLineNumber||r.length.lineCount-i[i.length-1].modified.endLineNumberExclusive!==t.length.lineCount-i[i.length-1].original.endLineNumberExclusive)?!1:j5(i,(o,a)=>a.original.startLineNumber-o.original.endLineNumberExclusive===a.modified.startLineNumber-o.modified.endLineNumberExclusive&&o.original.endLineNumberExclusive<a.original.startLineNumber&&o.modified.endLineNumberExclusive<a.modified.startLineNumber)),i}s(f0e,"lineRangeMappingFromRangeMappings");function Q7t(e,t,r){let n=0,i=0;e.modifiedRange.endColumn===1&&e.originalRange.endColumn===1&&e.originalRange.startLineNumber+n<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+n<=e.modifiedRange.endLineNumber&&(i=-1),e.modifiedRange.startColumn-1>=r.getLineLength(e.modifiedRange.startLineNumber)&&e.originalRange.startColumn-1>=t.getLineLength(e.originalRange.startLineNumber)&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+i&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+i&&(n=1);let o=new yr(e.originalRange.startLineNumber+n,e.originalRange.endLineNumber+1+i),a=new yr(e.modifiedRange.startLineNumber+n,e.modifiedRange.endLineNumber+1+i);return new e3(o,a,[e])}s(Q7t,"getLineRangeMapping");d();var Yg=class e{constructor(t,r){this.diffs=t;this.hitTimeout=r}static{s(this,"DiffAlgorithmResult")}static trivial(t,r){return new e([new $o(Vt.ofLength(t.length),Vt.ofLength(r.length))],!1)}static trivialTimedOut(t,r){return new e([new $o(Vt.ofLength(t.length),Vt.ofLength(r.length))],!0)}},$o=class e{constructor(t,r){this.seq1Range=t;this.seq2Range=r}static{s(this,"SequenceDiff")}static invert(t,r){let n=[];return j8e(t,(i,o)=>{n.push(e.fromOffsetPairs(i?i.getEndExclusives():zg.zero,o?o.getStarts():new zg(r,(i?i.seq2Range.endExclusive-i.seq1Range.endExclusive:0)+r)))}),n}static fromOffsetPairs(t,r){return new e(new Vt(t.offset1,r.offset1),new Vt(t.offset2,r.offset2))}static assertSorted(t){let r;for(let n of t){if(r&&!(r.seq1Range.endExclusive<=n.seq1Range.start&&r.seq2Range.endExclusive<=n.seq2Range.start))throw new xn("Sequence diffs must be sorted");r=n}}swap(){return new e(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(t){return new e(this.seq1Range.join(t.seq1Range),this.seq2Range.join(t.seq2Range))}delta(t){return t===0?this:new e(this.seq1Range.delta(t),this.seq2Range.delta(t))}deltaStart(t){return t===0?this:new e(this.seq1Range.deltaStart(t),this.seq2Range.deltaStart(t))}deltaEnd(t){return t===0?this:new e(this.seq1Range.deltaEnd(t),this.seq2Range.deltaEnd(t))}intersectsOrTouches(t){return this.seq1Range.intersectsOrTouches(t.seq1Range)||this.seq2Range.intersectsOrTouches(t.seq2Range)}intersect(t){let r=this.seq1Range.intersect(t.seq1Range),n=this.seq2Range.intersect(t.seq2Range);if(!(!r||!n))return new e(r,n)}getStarts(){return new zg(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new zg(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}},zg=class e{constructor(t,r){this.offset1=t;this.offset2=r}static{s(this,"OffsetPair")}static{this.zero=new e(0,0)}static{this.max=new e(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(t){return t===0?this:new e(this.offset1+t,this.offset2+t)}equals(t){return this.offset1===t.offset1&&this.offset2===t.offset2}},t3=class e{static{s(this,"InfiniteTimeout")}static{this.instance=new e}isValid(){return!0}},wH=class{constructor(t){this.timeout=t;this.startTime=Date.now();this.valid=!0;if(t<=0)throw new xn("timeout must be positive")}static{s(this,"DateTimeout")}isValid(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}disable(){this.timeout=Number.MAX_SAFE_INTEGER,this.isValid=()=>!0,this.valid=!0}};d();d();var $9=class{constructor(t,r){this.width=t;this.height=r;this.array=[];this.array=new Array(t*r)}static{s(this,"Array2D")}get(t,r){return this.array[t+r*this.width]}set(t,r,n){this.array[t+r*this.width]=n}};function jk(e){return e===32||e===9}s(jk,"isSpace");var Hk=class e{constructor(t,r,n){this.range=t;this.lines=r;this.source=n;this.histogram=[];let i=0;for(let o=t.startLineNumber-1;o<t.endLineNumberExclusive-1;o++){let a=r[o];for(let c=0;c<a.length;c++){i++;let u=a[c],f=e.getKey(u);this.histogram[f]=(this.histogram[f]||0)+1}i++;let l=e.getKey(`
`);this.histogram[l]=(this.histogram[l]||0)+1}this.totalCount=i}static{s(this,"LineRangeFragment")}static{this.chrKeys=new Map}static getKey(t){let r=this.chrKeys.get(t);return r===void 0&&(r=this.chrKeys.size,this.chrKeys.set(t,r)),r}computeSimilarity(t){let r=0,n=Math.max(this.histogram.length,t.histogram.length);for(let i=0;i<n;i++)r+=Math.abs((this.histogram[i]??0)-(t.histogram[i]??0));return 1-r/(this.totalCount+t.totalCount)}};var _H=class{static{s(this,"DynamicProgrammingDiffing")}compute(t,r,n=t3.instance,i){if(t.length===0||r.length===0)return Yg.trivial(t,r);let o=new $9(t.length,r.length),a=new $9(t.length,r.length),l=new $9(t.length,r.length);for(let g=0;g<t.length;g++)for(let y=0;y<r.length;y++){if(!n.isValid())return Yg.trivialTimedOut(t,r);let v=g===0?0:o.get(g-1,y),b=y===0?0:o.get(g,y-1),E;t.getElement(g)===r.getElement(y)?(g===0||y===0?E=0:E=o.get(g-1,y-1),g>0&&y>0&&a.get(g-1,y-1)===3&&(E+=l.get(g-1,y-1)),E+=i?i(g,y):1):E=-1;let _=Math.max(v,b,E);if(_===E){let k=g>0&&y>0?l.get(g-1,y-1):0;l.set(g,y,k+1),a.set(g,y,3)}else _===v?(l.set(g,y,0),a.set(g,y,1)):_===b&&(l.set(g,y,0),a.set(g,y,2));o.set(g,y,_)}let c=[],u=t.length,f=r.length;function m(g,y){(g+1!==u||y+1!==f)&&c.push(new $o(new Vt(g+1,u),new Vt(y+1,f))),u=g,f=y}s(m,"reportDecreasingAligningPositions");let h=t.length-1,p=r.length-1;for(;h>=0&&p>=0;)a.get(h,p)===3?(m(h,p),h--,p--):a.get(h,p)===1?h--:p--;return m(-1,-1),c.reverse(),new Yg(c,!1)}};d();var z9=class{static{s(this,"MyersDiffAlgorithm")}compute(t,r,n=t3.instance){if(t.length===0||r.length===0)return Yg.trivial(t,r);let i=t,o=r;function a(y,v){for(;y<i.length&&v<o.length&&i.getElement(y)===o.getElement(v);)y++,v++;return y}s(a,"getXAfterSnake");let l=0,c=new d0e;c.set(0,a(0,0));let u=new m0e;u.set(0,c.get(0)===0?null:new SH(null,0,0,c.get(0)));let f=0;e:for(;;){if(l++,!n.isValid())return Yg.trivialTimedOut(i,o);let y=-Math.min(l,o.length+l%2),v=Math.min(l,i.length+l%2);for(f=y;f<=v;f+=2){let b=0,E=f===v?-1:c.get(f+1),_=f===y?-1:c.get(f-1)+1;b++;let k=Math.min(Math.max(E,_),i.length),B=k-f;if(b++,k>i.length||B>o.length)continue;let N=a(k,B);c.set(f,N);let M=k===E?u.get(f+1):u.get(f-1);if(u.set(f,N!==k?new SH(M,k,B,N-k):M),c.get(f)===i.length&&c.get(f)-f===o.length)break e}}let m=u.get(f),h=[],p=i.length,g=o.length;for(;;){let y=m?m.x+m.length:0,v=m?m.y+m.length:0;if((y!==p||v!==g)&&h.push(new $o(new Vt(y,p),new Vt(v,g))),!m)break;p=m.x,g=m.y,m=m.prev}return h.reverse(),new Yg(h,!1)}},SH=class{constructor(t,r,n,i){this.prev=t;this.x=r;this.y=n;this.length=i}static{s(this,"SnakePath")}},d0e=class{constructor(){this.positiveArr=new Int32Array(10);this.negativeArr=new Int32Array(10)}static{s(this,"FastInt32Array")}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,r){if(t<0){if(t=-t-1,t>=this.negativeArr.length){let n=this.negativeArr;this.negativeArr=new Int32Array(n.length*2),this.negativeArr.set(n)}this.negativeArr[t]=r}else{if(t>=this.positiveArr.length){let n=this.positiveArr;this.positiveArr=new Int32Array(n.length*2),this.positiveArr.set(n)}this.positiveArr[t]=r}}},m0e=class{constructor(){this.positiveArr=[];this.negativeArr=[]}static{s(this,"FastArrayNegativeIndices")}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,r){t<0?(t=-t-1,this.negativeArr[t]=r):this.positiveArr[t]=r}};d();d();var r3=class{constructor(t,r,n){this.lines=t;this.range=r;this.considerWhitespaceChanges=n;this.elements=[];this.firstElementOffsetByLineIdx=[];this.lineStartOffsets=[];this.trimmedWsLengthsByLineIdx=[];this.firstElementOffsetByLineIdx.push(0);for(let i=this.range.startLineNumber;i<=this.range.endLineNumber;i++){let o=t[i-1],a=0;i===this.range.startLineNumber&&this.range.startColumn>1&&(a=this.range.startColumn-1,o=o.substring(a)),this.lineStartOffsets.push(a);let l=0;if(!n){let u=o.trimStart();l=o.length-u.length,o=u.trimEnd()}this.trimmedWsLengthsByLineIdx.push(l);let c=i===this.range.endLineNumber?Math.min(this.range.endColumn-1-a-l,o.length):o.length;for(let u=0;u<c;u++)this.elements.push(o.charCodeAt(u));i<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}static{s(this,"LinesSliceCharSequence")}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new Vt(0,this.length))}getText(t){return this.elements.slice(t.start,t.endExclusive).map(r=>String.fromCharCode(r)).join("")}getElement(t){return this.elements[t]}get length(){return this.elements.length}getBoundaryScore(t){let r=oMe(t>0?this.elements[t-1]:-1),n=oMe(t<this.elements.length?this.elements[t]:-1);if(r===7&&n===8)return 0;if(r===8)return 150;let i=0;return r!==n&&(i+=10,r===0&&n===1&&(i+=1)),i+=iMe(r),i+=iMe(n),i}translateOffset(t,r="right"){let n=yf(this.firstElementOffsetByLineIdx,o=>o<=t),i=t-this.firstElementOffsetByLineIdx[n];return new nn(this.range.startLineNumber+n,1+this.lineStartOffsets[n]+i+(i===0&&r==="left"?0:this.trimmedWsLengthsByLineIdx[n]))}translateRange(t){let r=this.translateOffset(t.start,"right"),n=this.translateOffset(t.endExclusive,"left");return n.isBefore(r)?Ar.fromPositions(n,n):Ar.fromPositions(r,n)}findWordContaining(t){if(t<0||t>=this.elements.length||!Y9(this.elements[t]))return;let r=t;for(;r>0&&Y9(this.elements[r-1]);)r--;let n=t;for(;n<this.elements.length&&Y9(this.elements[n]);)n++;return new Vt(r,n)}findSubWordContaining(t){if(t<0||t>=this.elements.length||!Y9(this.elements[t]))return;let r=t;for(;r>0&&Y9(this.elements[r-1])&&!nMe(this.elements[r]);)r--;let n=t;for(;n<this.elements.length&&Y9(this.elements[n])&&!nMe(this.elements[n]);)n++;return new Vt(r,n)}countLinesIn(t){return this.translateOffset(t.endExclusive).lineNumber-this.translateOffset(t.start).lineNumber}isStronglyEqual(t,r){return this.elements[t]===this.elements[r]}extendToFullLines(t){let r=bA(this.firstElementOffsetByLineIdx,i=>i<=t.start)??0,n=G8e(this.firstElementOffsetByLineIdx,i=>t.endExclusive<=i)??this.elements.length;return new Vt(r,n)}};function Y9(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}s(Y9,"isWordChar");function nMe(e){return e>=65&&e<=90}s(nMe,"isUpperCase");var O7t={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function iMe(e){return O7t[e]}s(iMe,"getCategoryBoundaryScore");function oMe(e){return e===10?8:e===13?7:jk(e)?6:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:e===-1?3:e===44||e===59?5:4}s(oMe,"getCategory");function aMe(e,t,r,n,i,o){let{moves:a,excludedChanges:l}=q7t(e,t,r,o);if(!o.isValid())return[];let c=e.filter(f=>!l.has(f)),u=W7t(c,n,i,t,r,o);return z8e(a,u),a=G7t(a),a=a.filter(f=>{let m=f.original.toOffsetRange().slice(t).map(p=>p.trim());return m.join(`
`).length>=15&&U7t(m,p=>p.length>=2)>=2}),a=H7t(e,a),a}s(aMe,"computeMovedLines");function U7t(e,t){let r=0;for(let n of e)t(n)&&r++;return r}s(U7t,"countWhere");function q7t(e,t,r,n){let i=[],o=e.filter(c=>c.modified.isEmpty&&c.original.length>=3).map(c=>new Hk(c.original,t,c)),a=new Set(e.filter(c=>c.original.isEmpty&&c.modified.length>=3).map(c=>new Hk(c.modified,r,c))),l=new Set;for(let c of o){let u=-1,f;for(let m of a){let h=c.computeSimilarity(m);h>u&&(u=h,f=m)}if(u>.9&&f&&(a.delete(f),i.push(new um(c.range,f.range)),l.add(c.source),l.add(f.source)),!n.isValid())return{moves:i,excludedChanges:l}}return{moves:i,excludedChanges:l}}s(q7t,"computeMovesFromSimpleDeletionsToSimpleInsertions");function W7t(e,t,r,n,i,o){let a=[],l=new W8;for(let h of e)for(let p=h.original.startLineNumber;p<h.original.endLineNumberExclusive-2;p++){let g=`${t[p-1]}:${t[p+1-1]}:${t[p+2-1]}`;l.add(g,{range:new yr(p,p+3)})}let c=[];e.sort(Cf(h=>h.modified.startLineNumber,xf));for(let h of e){let p=[];for(let g=h.modified.startLineNumber;g<h.modified.endLineNumberExclusive-2;g++){let y=`${r[g-1]}:${r[g+1-1]}:${r[g+2-1]}`,v=new yr(g,g+3),b=[];l.forEach(y,({range:E})=>{for(let k of p)if(k.originalLineRange.endLineNumberExclusive+1===E.endLineNumberExclusive&&k.modifiedLineRange.endLineNumberExclusive+1===v.endLineNumberExclusive){k.originalLineRange=new yr(k.originalLineRange.startLineNumber,E.endLineNumberExclusive),k.modifiedLineRange=new yr(k.modifiedLineRange.startLineNumber,v.endLineNumberExclusive),b.push(k);return}let _={modifiedLineRange:v,originalLineRange:E};c.push(_),b.push(_)}),p=b}if(!o.isValid())return[]}c.sort(K8e(Cf(h=>h.modifiedLineRange.length,xf)));let u=new Ov,f=new Ov;for(let h of c){let p=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,g=u.subtractFrom(h.modifiedLineRange),y=f.subtractFrom(h.originalLineRange).getWithDelta(p),v=g.getIntersection(y);for(let b of v.ranges){if(b.length<3)continue;let E=b,_=b.delta(-p);a.push(new um(_,E)),u.addRange(E),f.addRange(_)}}a.sort(Cf(h=>h.original.startLineNumber,xf));let m=new RS(e);for(let h=0;h<a.length;h++){let p=a[h],g=m.findLastMonotonous(N=>N.original.startLineNumber<=p.original.startLineNumber),y=bA(e,N=>N.modified.startLineNumber<=p.modified.startLineNumber),v=Math.max(p.original.startLineNumber-g.original.startLineNumber,p.modified.startLineNumber-y.modified.startLineNumber),b=m.findLastMonotonous(N=>N.original.startLineNumber<p.original.endLineNumberExclusive),E=bA(e,N=>N.modified.startLineNumber<p.modified.endLineNumberExclusive),_=Math.max(b.original.endLineNumberExclusive-p.original.endLineNumberExclusive,E.modified.endLineNumberExclusive-p.modified.endLineNumberExclusive),k;for(k=0;k<v;k++){let N=p.original.startLineNumber-k-1,M=p.modified.startLineNumber-k-1;if(N>n.length||M>i.length||u.contains(M)||f.contains(N)||!sMe(n[N-1],i[M-1],o))break}k>0&&(f.addRange(new yr(p.original.startLineNumber-k,p.original.startLineNumber)),u.addRange(new yr(p.modified.startLineNumber-k,p.modified.startLineNumber)));let B;for(B=0;B<_;B++){let N=p.original.endLineNumberExclusive+B,M=p.modified.endLineNumberExclusive+B;if(N>n.length||M>i.length||u.contains(M)||f.contains(N)||!sMe(n[N-1],i[M-1],o))break}B>0&&(f.addRange(new yr(p.original.endLineNumberExclusive,p.original.endLineNumberExclusive+B)),u.addRange(new yr(p.modified.endLineNumberExclusive,p.modified.endLineNumberExclusive+B))),(k>0||B>0)&&(a[h]=new um(new yr(p.original.startLineNumber-k,p.original.endLineNumberExclusive+B),new yr(p.modified.startLineNumber-k,p.modified.endLineNumberExclusive+B)))}return a}s(W7t,"computeUnchangedMoves");function sMe(e,t,r){if(e.trim()===t.trim())return!0;if(e.length>300&&t.length>300)return!1;let i=new z9().compute(new r3([e],new Ar(1,1,1,e.length),!1),new r3([t],new Ar(1,1,1,t.length),!1),r),o=0,a=$o.invert(i.diffs,e.length);for(let f of a)f.seq1Range.forEach(m=>{jk(e.charCodeAt(m))||o++});function l(f){let m=0;for(let h=0;h<e.length;h++)jk(f.charCodeAt(h))||m++;return m}s(l,"countNonWsChars");let c=l(e.length>t.length?e:t);return o/c>.6&&c>10}s(sMe,"areLinesSimilar");function G7t(e){if(e.length===0)return e;e.sort(Cf(r=>r.original.startLineNumber,xf));let t=[e[0]];for(let r=1;r<e.length;r++){let n=t[t.length-1],i=e[r],o=i.original.startLineNumber-n.original.endLineNumberExclusive,a=i.modified.startLineNumber-n.modified.endLineNumberExclusive;if(o>=0&&a>=0&&o+a<=2){t[t.length-1]=n.join(i);continue}t.push(i)}return t}s(G7t,"joinCloseConsecutiveMoves");function H7t(e,t){let r=new RS(e);return t=t.filter(n=>{let i=r.findLastMonotonous(l=>l.original.startLineNumber<n.original.endLineNumberExclusive)||new um(new yr(1,1),new yr(1,1)),o=bA(e,l=>l.modified.startLineNumber<n.modified.endLineNumberExclusive);return i!==o}),t}s(H7t,"removeMovesInSameDiff");d();function h0e(e,t,r){let n=r;return n=lMe(e,t,n),n=lMe(e,t,n),n=j7t(e,t,n),n}s(h0e,"optimizeSequenceDiffs");function lMe(e,t,r){if(r.length===0)return r;let n=[];n.push(r[0]);for(let o=1;o<r.length;o++){let a=n[n.length-1],l=r[o];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){let c=l.seq1Range.start-a.seq1Range.endExclusive,u;for(u=1;u<=c&&!(e.getElement(l.seq1Range.start-u)!==e.getElement(l.seq1Range.endExclusive-u)||t.getElement(l.seq2Range.start-u)!==t.getElement(l.seq2Range.endExclusive-u));u++);if(u--,u===c){n[n.length-1]=new $o(new Vt(a.seq1Range.start,l.seq1Range.endExclusive-c),new Vt(a.seq2Range.start,l.seq2Range.endExclusive-c));continue}l=l.delta(-u)}n.push(l)}let i=[];for(let o=0;o<n.length-1;o++){let a=n[o+1],l=n[o];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){let c=a.seq1Range.start-l.seq1Range.endExclusive,u;for(u=0;u<c&&!(!e.isStronglyEqual(l.seq1Range.start+u,l.seq1Range.endExclusive+u)||!t.isStronglyEqual(l.seq2Range.start+u,l.seq2Range.endExclusive+u));u++);if(u===c){n[o+1]=new $o(new Vt(l.seq1Range.start+c,a.seq1Range.endExclusive),new Vt(l.seq2Range.start+c,a.seq2Range.endExclusive));continue}u>0&&(l=l.delta(u))}i.push(l)}return n.length>0&&i.push(n[n.length-1]),i}s(lMe,"joinSequenceDiffsByShifting");function j7t(e,t,r){if(!e.getBoundaryScore||!t.getBoundaryScore)return r;for(let n=0;n<r.length;n++){let i=n>0?r[n-1]:void 0,o=r[n],a=n+1<r.length?r[n+1]:void 0,l=new Vt(i?i.seq1Range.endExclusive+1:0,a?a.seq1Range.start-1:e.length),c=new Vt(i?i.seq2Range.endExclusive+1:0,a?a.seq2Range.start-1:t.length);o.seq1Range.isEmpty?r[n]=cMe(o,e,t,l,c):o.seq2Range.isEmpty&&(r[n]=cMe(o.swap(),t,e,c,l).swap())}return r}s(j7t,"shiftSequenceDiffs");function cMe(e,t,r,n,i){let a=1;for(;e.seq1Range.start-a>=n.start&&e.seq2Range.start-a>=i.start&&r.isStronglyEqual(e.seq2Range.start-a,e.seq2Range.endExclusive-a)&&a<100;)a++;a--;let l=0;for(;e.seq1Range.start+l<n.endExclusive&&e.seq2Range.endExclusive+l<i.endExclusive&&r.isStronglyEqual(e.seq2Range.start+l,e.seq2Range.endExclusive+l)&&l<100;)l++;if(a===0&&l===0)return e;let c=0,u=-1;for(let f=-a;f<=l;f++){let m=e.seq2Range.start+f,h=e.seq2Range.endExclusive+f,p=e.seq1Range.start+f,g=t.getBoundaryScore(p)+r.getBoundaryScore(m)+r.getBoundaryScore(h);g>u&&(u=g,c=f)}return e.delta(c)}s(cMe,"shiftDiffToBetterPosition");function uMe(e,t,r){let n=[];for(let i of r){let o=n[n.length-1];if(!o){n.push(i);continue}i.seq1Range.start-o.seq1Range.endExclusive<=2||i.seq2Range.start-o.seq2Range.endExclusive<=2?n[n.length-1]=new $o(o.seq1Range.join(i.seq1Range),o.seq2Range.join(i.seq2Range)):n.push(i)}return n}s(uMe,"removeShortMatches");function p0e(e,t,r,n,i=!1){let o=$o.invert(r,e.length),a=[],l=new zg(0,0);function c(f,m){if(f.offset1<l.offset1||f.offset2<l.offset2)return;let h=n(e,f.offset1),p=n(t,f.offset2);if(!h||!p)return;let g=new $o(h,p),y=g.intersect(m),v=y.seq1Range.length,b=y.seq2Range.length;for(;o.length>0;){let E=o[0];if(!(E.seq1Range.intersects(g.seq1Range)||E.seq2Range.intersects(g.seq2Range)))break;let k=n(e,E.seq1Range.start),B=n(t,E.seq2Range.start),N=new $o(k,B),M=N.intersect(E);if(v+=M.seq1Range.length,b+=M.seq2Range.length,g=g.join(N),g.seq1Range.endExclusive>=E.seq1Range.endExclusive)o.shift();else break}(i&&v+b<g.seq1Range.length+g.seq2Range.length||v+b<(g.seq1Range.length+g.seq2Range.length)*2/3)&&a.push(g),l=g.getEndExclusives()}for(s(c,"scanWord");o.length>0;){let f=o.shift();f.seq1Range.isEmpty||(c(f.getStarts(),f),c(f.getEndExclusives().delta(-1),f))}return V7t(r,a)}s(p0e,"extendDiffsToEntireWordIfAppropriate");function V7t(e,t){let r=[];for(;e.length>0||t.length>0;){let n=e[0],i=t[0],o;n&&(!i||n.seq1Range.start<i.seq1Range.start)?o=e.shift():o=t.shift(),r.length>0&&r[r.length-1].seq1Range.endExclusive>=o.seq1Range.start?r[r.length-1]=r[r.length-1].join(o):r.push(o)}return r}s(V7t,"mergeSequenceDiffs");function fMe(e,t,r){let n=r;if(n.length===0)return n;let i=0,o;do{o=!1;let l=[n[0]];for(let c=1;c<n.length;c++){let m=function(p,g){let y=new Vt(f.seq1Range.endExclusive,u.seq1Range.start);return e.getText(y).replace(/\s/g,"").length<=4&&(p.seq1Range.length+p.seq2Range.length>5||g.seq1Range.length+g.seq2Range.length>5)};var a=m;s(m,"shouldJoinDiffs");let u=n[c],f=l[l.length-1];m(f,u)?(o=!0,l[l.length-1]=l[l.length-1].join(u)):l.push(u)}n=l}while(i++<10&&o);return n}s(fMe,"removeVeryShortMatchingLinesBetweenDiffs");function dMe(e,t,r){let n=r;if(n.length===0)return n;let i=0,o;do{o=!1;let c=[n[0]];for(let u=1;u<n.length;u++){let h=function(g,y){let v=new Vt(m.seq1Range.endExclusive,f.seq1Range.start);if(e.countLinesIn(v)>5||v.length>500)return!1;let E=e.getText(v).trim();if(E.length>20||E.split(/\r\n|\r|\n/).length>1)return!1;let _=e.countLinesIn(g.seq1Range),k=g.seq1Range.length,B=t.countLinesIn(g.seq2Range),N=g.seq2Range.length,M=e.countLinesIn(y.seq1Range),re=y.seq1Range.length,pe=t.countLinesIn(y.seq2Range),Z=y.seq2Range.length,G=2*40+50;function q(ie){return Math.min(ie,G)}return s(q,"cap"),Math.pow(Math.pow(q(_*40+k),1.5)+Math.pow(q(B*40+N),1.5),1.5)+Math.pow(Math.pow(q(M*40+re),1.5)+Math.pow(q(pe*40+Z),1.5),1.5)>(G**1.5)**1.5*1.3};var l=h;s(h,"shouldJoinDiffs");let f=n[u],m=c[c.length-1];h(m,f)?(o=!0,c[c.length-1]=c[c.length-1].join(f)):c.push(f)}n=c}while(i++<10&&o);let a=[];return V8e(n,(c,u,f)=>{let m=u;function h(E){return E.length>0&&E.trim().length<=3&&u.seq1Range.length+u.seq2Range.length>100}s(h,"shouldMarkAsChanged");let p=e.extendToFullLines(u.seq1Range),g=e.getText(new Vt(p.start,u.seq1Range.start));h(g)&&(m=m.deltaStart(-g.length));let y=e.getText(new Vt(u.seq1Range.endExclusive,p.endExclusive));h(y)&&(m=m.deltaEnd(y.length));let v=$o.fromOffsetPairs(c?c.getEndExclusives():zg.zero,f?f.getStarts():zg.max),b=m.intersect(v);a.length>0&&b.getStarts().equals(a[a.length-1].getEndExclusives())?a[a.length-1]=a[a.length-1].join(b):a.push(b)}),a}s(dMe,"removeVeryShortMatchingTextBetweenLongDiffs");d();var Vk=class{constructor(t,r){this.trimmedHash=t;this.lines=r}static{s(this,"LineSequence")}getElement(t){return this.trimmedHash[t]}get length(){return this.trimmedHash.length}getBoundaryScore(t){let r=t===0?0:mMe(this.lines[t-1]),n=t===this.lines.length?0:mMe(this.lines[t]);return 1e3-(r+n)}getText(t){return this.lines.slice(t.start,t.endExclusive).join(`
`)}isStronglyEqual(t,r){return this.lines[t]===this.lines[r]}};function mMe(e){let t=0;for(;t<e.length&&(e.charCodeAt(t)===32||e.charCodeAt(t)===9);)t++;return t}s(mMe,"getIndentation");var RH=class{constructor(){this.dynamicProgrammingDiffing=new _H;this.myersDiffingAlgorithm=new z9}static{s(this,"DefaultLinesDiffComputer")}computeDiff(t,r,n){if(t.length<=1&&Dv(t,r,(B,N)=>B===N))return new H9([],[],!1);if(t.length===1&&t[0].length===0||r.length===1&&r[0].length===0)return new H9([new e3(new yr(1,t.length+1),new yr(1,r.length+1),[new _u(new Ar(1,1,t.length,t[t.length-1].length+1),new Ar(1,1,r.length,r[r.length-1].length+1))])],[],!1);let i=n.maxComputationTimeMs===0?t3.instance:new wH(n.maxComputationTimeMs),o=!n.ignoreTrimWhitespace,a=new Map;function l(B){let N=a.get(B);return N===void 0&&(N=a.size,a.set(B,N)),N}s(l,"getOrCreateHash");let c=t.map(B=>l(B.trim())),u=r.map(B=>l(B.trim())),f=new Vk(c,t),m=new Vk(u,r),h=f.length+m.length<1700?this.dynamicProgrammingDiffing.compute(f,m,i,(B,N)=>t[B]===r[N]?r[N].length===0?.1:1+Math.log(1+r[N].length):.99):this.myersDiffingAlgorithm.compute(f,m,i),p=h.diffs,g=h.hitTimeout;p=h0e(f,m,p),p=fMe(f,m,p);let y=[],v=s(B=>{if(o)for(let N=0;N<B;N++){let M=b+N,re=E+N;if(t[M]!==r[re]){let pe=this.refineDiff(t,r,new $o(new Vt(M,M+1),new Vt(re,re+1)),i,o,n);for(let Z of pe.mappings)y.push(Z);pe.hitTimeout&&(g=!0)}}},"scanForWhitespaceChanges"),b=0,E=0;for(let B of p){y0(()=>B.seq1Range.start-b===B.seq2Range.start-E);let N=B.seq1Range.start-b;v(N),b=B.seq1Range.endExclusive,E=B.seq2Range.endExclusive;let M=this.refineDiff(t,r,B,i,o,n);M.hitTimeout&&(g=!0);for(let re of M.mappings)y.push(re)}v(t.length-b);let _=f0e(y,new Hb(t),new Hb(r)),k=[];return n.computeMoves&&(k=this.computeMoves(_,t,r,c,u,i,o,n)),y0(()=>{function B(M,re){if(M.lineNumber<1||M.lineNumber>re.length)return!1;let pe=re[M.lineNumber-1];return!(M.column<1||M.column>pe.length+1)}s(B,"validatePosition");function N(M,re){return!(M.startLineNumber<1||M.startLineNumber>re.length+1||M.endLineNumberExclusive<1||M.endLineNumberExclusive>re.length+1)}s(N,"validateRange");for(let M of _){if(!M.innerChanges)return!1;for(let re of M.innerChanges)if(!(B(re.modifiedRange.getStartPosition(),r)&&B(re.modifiedRange.getEndPosition(),r)&&B(re.originalRange.getStartPosition(),t)&&B(re.originalRange.getEndPosition(),t)))return!1;if(!N(M.modified,r)||!N(M.original,t))return!1}return!0}),new H9(_,k,g)}computeMoves(t,r,n,i,o,a,l,c){return aMe(t,r,n,i,o,a).map(m=>{let h=this.refineDiff(r,n,new $o(m.original.toOffsetRange(),m.modified.toOffsetRange()),a,l,c),p=f0e(h.mappings,new Hb(r),new Hb(n),!0);return new j9(m,p)})}refineDiff(t,r,n,i,o,a){let c=$7t(n).toRangeMapping2(t,r),u=new r3(t,c.originalRange,o),f=new r3(r,c.modifiedRange,o),m=u.length+f.length<500?this.dynamicProgrammingDiffing.compute(u,f,i):this.myersDiffingAlgorithm.compute(u,f,i),h=!1,p=m.diffs;h&&$o.assertSorted(p),p=h0e(u,f,p),h&&$o.assertSorted(p),p=p0e(u,f,p,(y,v)=>y.findWordContaining(v)),h&&$o.assertSorted(p),a.extendToSubwords&&(p=p0e(u,f,p,(y,v)=>y.findSubWordContaining(v),!0),h&&$o.assertSorted(p)),p=uMe(u,f,p),h&&$o.assertSorted(p),p=dMe(u,f,p),h&&$o.assertSorted(p);let g=p.map(y=>new _u(u.translateRange(y.seq1Range),f.translateRange(y.seq2Range)));return h&&_u.assertSorted(g),{mappings:g,hitTimeout:m.hitTimeout}}};function $7t(e){return new um(new yr(e.seq1Range.start+1,e.seq1Range.endExclusive+1),new yr(e.seq2Range.start+1,e.seq2Range.endExclusive+1))}s($7t,"toLineRangeMapping");var kH=class{static{s(this,"DiffServiceImpl")}constructor(){}dispose(){}async computeDiff(t,r,n){let i=await z7t(t,r,n);return{identical:i.identical,quitEarly:i.quitEarly,changes:a(i.changes),moves:i.moves.map(l=>new j9(new um(new yr(l[0],l[1]),new yr(l[2],l[3])),a(l[4])))};function a(l){return l.map(c=>new e3(new yr(c[0],c[1]),new yr(c[2],c[3]),c[4]?.map(u=>new _u(new Ar(u[0],u[1],u[2],u[3]),new Ar(u[4],u[5],u[6],u[7])))))}}};async function z7t(e,t,r){let n=e.split(/\r\n|\r|\n/),i=t.split(/\r\n|\r|\n/),a=new RH().computeDiff(n,i,r),l=a.changes.length>0?!1:e===t;function c(u){return u.map(f=>[f.original.startLineNumber,f.original.endLineNumberExclusive,f.modified.startLineNumber,f.modified.endLineNumberExclusive,f.innerChanges?.map(m=>[m.originalRange.startLineNumber,m.originalRange.startColumn,m.originalRange.endLineNumber,m.originalRange.endColumn,m.modifiedRange.startLineNumber,m.modifiedRange.startColumn,m.modifiedRange.endLineNumber,m.modifiedRange.endColumn])])}return s(c,"getLineChanges"),{identical:l,quitEarly:a.hitTimeout,changes:c(a.changes),moves:a.moves.map(u=>[u.lineRangeMapping.original.startLineNumber,u.lineRangeMapping.original.endLineNumberExclusive,u.lineRangeMapping.modified.startLineNumber,u.lineRangeMapping.modified.endLineNumberExclusive,c(u.changes)])}}s(z7t,"computeDiff");d();var g0e=Ze(require("crypto"));var $k=g0e.randomUUID.bind(g0e);var bMe=Ze(Gh()),v0e=Ze(hk());d();var BH=Of("ISnippyService");d();d();var zk=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),DH=65;function Y7t(e){let t=0,r;zk.lastIndex=0;do if(r=zk.exec(e),r&&(t+=1),t>=DH)break;while(r);return t}s(Y7t,"lexemeLength");function K7t(e,t){let r=0,n;zk.lastIndex=0;do if(n=zk.exec(e),n&&(r+=1,r>=t))return zk.lastIndex;while(n);return e.length}s(K7t,"offsetFirstLexemes");function hMe(e,t){let r=e.split("").reverse().join(""),n=K7t(r,t);return r.length-n}s(hMe,"offsetLastLexemes");function A0e(e){return Y7t(e)>=DH}s(A0e,"hasMinLexemeLength");d();d();var pMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,s(e,"is")})(pMe||={});var y0e;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,s(e,"is")})(y0e||={});var gMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(pMe.is)}t.is=e,s(e,"is")})(gMe||={});var C0e;(t=>{function e(r){if(y0e.is(r))return Oo.error(r);if(gMe.is(r))return Oo.ok(r)}t.to=e,s(e,"to")})(C0e||={});var AMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,s(e,"is")})(AMe||={});var yMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,s(e,"is")})(yMe||={});var CMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,s(e,"is")})(CMe||={});var xMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(AMe.is)&&"page_info"in r&&yMe.is(r.page_info)&&"license_stats"in r&&CMe.is(r.license_stats)}t.is=e,s(e,"is")})(xMe||={});var x0e;(t=>{function e(r){if(y0e.is(r))return Oo.error(r);if(xMe.is(r))return Oo.ok(r)}t.to=e,s(e,"to")})(x0e||={});var PH=class e{static{s(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,C0e.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,x0e.to)}async fetch(t,r,n){let i=this.ctx.get(fn),o=await this.ctx.get(en).getToken(),a=ZI(this.ctx,o,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${o.token}`,...Gu(this.ctx),"X-GitHub-Api-Version":Gm},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var vMe=new Gt("[CODE REFERENCING]"),K9=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(PH,this.ctx)}static{s(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Vr).getTextDocument({uri:t.toString()});if(!a){vMe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let g=await this.fetcher.fetchFilesForMatch(p.cursor);if(!g||g.isError())return;let{file_matches:y,license_stats:v}=g.val;return{match:p,files:y,licenseStats:v}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){vMe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let g=new Set(Object.keys(p.licenseStats?.count??{}));g.delete("NOASSERTION")&&g.add("unknown");let y=Array.from(g).sort(),v=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,b={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:v,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:y.map(E=>({license:E,url:`${p.match.github_url}`}))};await this.ctx.get(hf).handleIPCodeCitation(this.ctx,b)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=xs.single(r),o=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=o.start,c=a.value.substring(o.start,o.endExclusive);if(!A0e(c)){let h=a.value.slice(0,o.start),p=hMe(h,DH);l=p,c=a.value.slice(p,o.start+r.newText.length)}if(!A0e(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(o.endExclusive);return{source:c,startOffset:l,endOffset:o.endExclusive,startPosition:f,endPosition:m}}};K9=a0([js(1,jg)],K9);async function EMe(e){let t=new eH;return t.define(rH,new b0e(e)),t.define(vH,new kH),t.define(n2,new Uf(E0e,[!0])),t.define(BH,new Uf(K9,[e])),t.define(Vh,await I0e.Create(e)),t.define(Uk,new Uf(T0e)),t.seal()}s(EMe,"createInstantiationService");var b0e=class{constructor(t){this.ctx=t;this.ctx=t}static{s(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),o=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=dn.createAndMarkAsIssued(i,o);jt(this.ctx,t,a)}},E0e=class{static{s(this,"ParserServiceImpl")}getTreeSitterAST(t){}},I0e=class e{constructor(t,r){this.ctx=t;this.modelConfiguration=r}static{s(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(di).getBestChatModelConfig([ui.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n,i,o){let a=t.map(u=>e.chatMessageToClsChatMessage(u)),l=$k(),c=await this.ctx.get(fu).fetchAndStreamChat(this.ctx,a,rg.createEmptyConfigForTesting(),"nextEditSuggestion",l,async(u,f)=>{if(r)return await r(u,0,{text:f.text})},n,i,o);if(c.type==="success"){let u=[];if(r)for await(let m of c.choices)if(m.finishReason!=="snippy")await r(m.completionText,0,{text:m.completionText}),u.push(m.completionText);else return{type:"filtered",reason:"snippy",category:"snippy",requestId:l,serverRequestId:m.requestId.headerRequestId};let f=u.join("");return{type:"success",value:f}}else return{type:e.clsResponseTypeToResponseType(c.type),reason:c.type}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:zFe(t.content)};case"user":if(typeof t.content!="string"&&t.content.some(r=>r.type!=="text"))throw new Error("CLS only supports text content in user messages");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},T0e=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new NH("cl100k_base")}static{s(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new NH(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},NH=class{constructor(t){this.mode=bMe.OutputMode.Raw;this.tokenizer=Xi(t)}static{s(this,"CLSTokenizer")}tokenLength(t){if(typeof t=="string")return this.tokenizer.tokenLength(t);if(t.type===v0e.ChatCompletionContentPartKind.Text)return this.tokenizer.tokenLength(t.text);throw new Error(`Unsupported content part type: ${t.type}`)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type===v0e.ChatCompletionContentPartKind.Text)r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var LH=class extends Zs{constructor(r){super();this.workspace=r;this._garbageCollector=new S0e(20);this._documentCaches=new Map;bh(this,r.openDocuments,(n,i)=>{let o=new w0e(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(o.docId,o),i.add(Z5(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)o.handleEdit(l)})),i.add(Sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{s(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},w0e=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{s(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new _0e(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},_0e=class{constructor(t,r){this._edit=t;this._onDispose=r}static{s(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},S0e=class{constructor(t){this._maxSize=t;this._disposables=[]}static{s(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();d();var Yk=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{s(this,"Node")}},FH=class{static{s(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new Yk("",null),this._tail=new Yk("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new Yk(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var MH=class extends Zs{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new FH(50);bh(this,r.openDocuments,(n,i)=>{let o=new R0e(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(o.docId,o),i.add(Z5(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)o.handleEdit(l)})),i.add(Sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{s(this,"NextEditCache")}setNextEdits(r,n,i){let o=this._documentCaches.get(r);o&&o.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},R0e=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{s(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let o=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:o,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(o.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var QH=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{s(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,o,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,o=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:o,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},J9=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{s(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:o,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:g,activeDocumentShortenedLineCount:y,wasPreviouslyRejected:v,isShown:b,acceptance:E,logProbThreshold:_,documentsCount:k,editsCount:B,activeDocumentEditsCount:N,promptLineCount:M,promptCharCount:re,isDefaultEndpoint:pe,hadLowLogProbSuggestion:Z,nonTerminatingError:G,nEditsSuggested:q,kthEditPicked:ie,lineDistanceToMostRecentEdit:z,debounceTime:H,hasNextEdit:U,nextEditLogprob:V,maxLinesPerEdit:Y,noNextEditReasonKind:ae,noNextEditReasonMessage:te,firstEditStrategy:le,firstPickStrategyOverride:ce,fetchTime:De,fetchResult:be,fetchError:qe,fetchStartedAfterMs:Re}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:E,nonTerminatingError:G,noNextEditReasonKind:ae,noNextEditReasonMessage:te,firstEditStrategy:le,firstPickStrategyOverride:ce,fetchResult:be,fetchError:qe},{requestN:o,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(pe),activeDocumentOriginalLineCount:g,activeDocumentShortenedLineCount:y,wasPreviouslyRejected:this._boolToNum(v),isShown:this._boolToNum(b),logProbThreshold:_,documentsCount:k,editsCount:B,activeDocumentEditsCount:N,promptLineCount:M,promptCharCount:re,hadLowLogProbSuggestion:this._boolToNum(Z),nEditsSuggested:q,kthEditPicked:ie,lineDistanceToMostRecentEdit:z,debounceTime:H,fetchStartedAfterMs:Re,fetchTime:De,hasNextEdit:this._boolToNum(U),nextEditLogprob:V,maxLinesPerEdit:Y})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};J9=a0([js(0,rH)],J9);d();var X9=class{constructor(t){this.result=t}static{s(this,"NextEditResult")}};var jb=!1,IMe=300,Z9=class extends Zs{constructor(r,n,i,o,a,l,c){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._xtabHistoryTracker=o;this._parseService=a;this._instantiationService=l;this._snippyService=c;this._rejectionCollector=new LH(this._workspace);this._nextEditCache=new MH(this._workspace);this._recentlyShownCache=new D0e;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;bh(this,this._workspace.openDocuments,(u,f)=>{f.add(lne(u.value,m=>{this._cancelPendingRequestDueToDocChange(u.id,m)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(J9)}static{s(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let o=await this._workspace.getDocument(r);if(!o)return{result:void 0};let a=o.value.get(),l=new QH(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??$k());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await r2(IMe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await r2(IMe);else{p=new B0e,l.setHeaderRequestId(p.headerRequestId);let v=o.value.get();m=v;let b=await this.fetchNextEdit(p,r,l,i),E=v.value!==o.value.get().value;if(b.isError())switch(b.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=b.err.error;break;default:SS(b.err)}else if(!E){let _=b.val;_.isEmpty()||(f=_.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||_.edits.length>1)&&this._nextEditCache.setNextEdits(r,_,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new X9(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new X9(void 0);Pl(m!==void 0,"should be defined if edit is defined");let g=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",y=new X9({edit:f,showRangePreference:g,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(y,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),y}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:o,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=xs.fromOffsetEdit(o.edits).inverseOnString(o.originalText),{edits:c,editLast:u}=k0e(r.lastEdits.swap(l)),f=c.compose(),m=new Ub(new $h(r.lastEdits.apply(o.originalText)),u.toOffsetEdit().inverse(c.apply(o.text))),h=new Ll(o.text),g=pg.fromEdit(new Wc(h,f)).removeCommonSuffixPrefixLines(),y=c.edits.at(-1)?.getNewRanges().at(0),v;y&&(v=new Ll(m.text).getTransformer().getRange(y));let b=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,E=this._workspace.getWorkspaceRoot(r.docId),_=s(M=>{let pe=new pg(new Ll(m.text),M).toEdit();return TMe(pe,m)},"toEditOnDocumentAfterEditsNoShortening"),k=s(M=>m.projectBack(M),"toOffsetOnDocumentAfterEditsNoShortening"),B=s(M=>m.project(M),"toProjectedOffset"),N=new Dk(r.docId,E,r.languageId,g.base.getLines(),g.edit,v,h,c,i,_,k,B,r.lastEdit.base.getTextLength().lineCount,a,b);return{recentEdit:r.lastEdit,nextEditDoc:N,projectedDocument:m}}async fetchNextEdit(r,n,i,o){let a=await this._historyContextProvider.getHistoryContext(n);if(!a)return Oo.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=k0e(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(M=>this._shortenDocument(M,c))),f=u[l.idx],m=this._xtabHistoryTracker.getHistory(),h=new YG(r.headerRequestId,u.map(M=>M.nextEditDoc),l.idx,m,this.nextEditOptions),p=this._findExistingPendingRequest(h),g,y;if(p){g=p,jb&&console.log(`=> reusing an existing request ${g.seqid}`),i.setHeaderRequestId(p.id),i.setIsFromCache(),i.setRequest(g);let M=this._hookupCancellation(g,o);try{y=await g.result}finally{M.dispose()}}else{g=h,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=g;let M=s(()=>{this._pendingStatelessNextEditRequest===g&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(g);let re=this._hookupCancellation(g,o);try{y=await this._statelessNextEditProvider.provideNextEdit(g,g.cancellationTokenSource.token),g.setResult(y)}catch(pe){throw g.setResultError(pe),pe}finally{re.dispose(),M()}}i.setStatelessNextEditTelemetry(y.telemetry);let v=y.nextEdit;if(v.isError())return v;let b=v.val.edit;if(b.edits.length===0)return Oo.error({kind:"noSuggestions"});let _=new pg(new Ll(f.projectedDocument.text),b).toEdit(),k=TMe(_,f.projectedDocument),B=_.edits.length===k.edits.length?v.val.permutation:void 0,N=k.decompose(B);return Oo.ok(N)}_hookupCancellation(r,n){let i=new C0,o=!1,a=s(()=>{o||(o=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new $G);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){jb&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){jb&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){jb&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}jb&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(Sa(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){JO(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new Ub(new $h(r.base.value),new Vd([])),clippedRange:new yr(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Vt(0,0)),o=yr.fromRange(i);function a(m,h){return new yr(m.startLineNumber-h,m.endLineNumberExclusive+h)}s(a,"extendRange");let l=new yr(1,n.textLength.lineCount+1),c=k0e(l.intersect(a(o,100))),u=yr.subtract(l,c);return{document:new Ub(new $h(r.base.value),new Vd(u.map(m=>Ka.delete(n.getOffsetRange(new Ar(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new Bk("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await e_t(this._parseService,{getText:s(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let o=new $h(n.base.value),a=n.edit.edits.at(0)?.range??new Vt(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),g=n.edit.edits.at(-1);l=o.offsetRangeToRange(new Vt(p.range.start,g.range.endExclusive))}let c=wMe(o.offsetRangeToRange(a)),u=uH(200*50,{costFnOverride:s((p,g,y)=>{let v=wMe(y.offsetRangeToRange(p.range)),b=Z7t(c,v);return b>100?!1:b},"costFnOverride")},[{overlayNodeRoot:i,document:o,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new yr(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};Z9=a0([js(4,n2),js(5,jg),js(6,BH)],Z9);function TMe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return xs.fromOffsetEdit(r)}s(TMe,"projectBackEdit");function wMe(e){return new yr(e.start.line+1,e.end.line+1)}s(wMe,"lineRangeFromVSCodeRange");function Z7t(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}s(Z7t,"lineRangeDist");async function e_t(e,t){return await e.getTreeSitterAST(t)?.getStructure()}s(e_t,"getStructure");function k0e(e){if(!e)throw new xn("expected value to be defined, but it was not");return e}s(k0e,"assertDefined");var B0e=class{constructor(){this.headerRequestId=$k()}static{s(this,"NextEditFetchRequest")}},D0e=class{constructor(){this._cache=new SO(10)}static{s(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var _Me=10,zh=class{constructor(t){this.lastResultsById=new Sn(_Me);this.lastResultsByUri=new Sn(_Me);this.ctx=t}static{s(this,"NextEditSuggestionsManager")}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),o=this.lastResultsByUri.get(t);o&&(this.lastResultsByUri.delete(t),this.lastResultsById.delete(o.resultId),i.handleRejection(o.documentId,o.nextEditResult));let a=jd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Vr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=_r(),h={resultId:m,nextEditResult:l,documentId:a};return this.lastResultsById.set(m,h),this.lastResultsByUri.set(t,h),[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async handleAcceptance(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&(this.lastResultsByUri.delete(n.resultId),this.lastResultsById.delete(n.resultId),await r.handleAcceptance(n.documentId,n.nextEditResult))}async handleShown(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&r.handleShown(n.nextEditResult)}async createNextEditProvider(){let t=await EMe(this.ctx),r;try{let o=await this.ctx.get(dr).updateExPValuesAndAssignments(),a=t_t(this.ctx,o);r=t.createInstance(a?Vg:o2)}catch{r=t.createInstance(o2)}let n=this.ctx.get(mg),i=new s6(n);return t.createInstance(Z9,n,r,i,new EH(n))}};function t_t(e,t){let r=qn(e,wt.NESXTab);return r!==void 0?r:e.get(dr).enableNESXTab(t)}s(t_t,"shouldUseXTab");d();var n3=require("fs"),SMe=require("os"),RMe=Ze(require("path")),eT=require("process");var Ac=class{static{s(this,"PersistenceManager")}},P0e=class extends Ac{constructor(r){super();this.directory=r}static{s(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await n3.promises.mkdir(this.directory,{recursive:!0,mode:448});let o=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await n3.promises.writeFile(o,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let o=await this.readJsonObject(r);delete o[n];let a=JSON.stringify(o)+`
`;a===`{}
`?await n3.promises.rm(i):await n3.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await n3.promises.rm(n)}catch{}}async listSettings(){try{return(await n3.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await n3.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function r_t(){return eT.env.XDG_CONFIG_HOME&&RMe.isAbsolute(eT.env.XDG_CONFIG_HOME)?eT.env.XDG_CONFIG_HOME+"/github-copilot":(0,SMe.platform)()==="win32"?eT.env.USERPROFILE+"\\AppData\\Local\\github-copilot":eT.env.HOME+"/.config/github-copilot"}s(r_t,"getXdgConfigPath");function kMe(){return new P0e(r_t())}s(kMe,"makeXdgPersistenceManager");d();var BMe=require("crypto"),Kg=Ze(require("fs/promises")),DMe=require("os"),s2=Ze(require("path"));var a2=class{constructor(t){this.ctx=t;this.logger=new Gt("ripgrep")}static{s(this,"RipgrepPathResolver")}async resolvePath(){if(this.rgPath)return this.rgPath;let t=process.platform,r=process.arch;return this.rgPath=await this.resolvePathByOs(t,r),this.rgPath}async resolvePathByOs(t,r){if(this.logger.debug(this.ctx,`Start resolving ripgrep path for platform: ${t} and architecture: ${r}`),r!=="arm64"&&r!=="x64")throw new Error(`Unsupported architecture: ${r}`);let n=t==="win32"?"rg.exe":"rg";this.logger.debug(this.ctx,`__filename is ${__filename}, __dirname is ${__dirname}`);let i=s2.extname(__filename)===".ts"?s2.resolve(__dirname,"../../../packages/ripgrep/bin"):s2.resolve(__dirname,"./bin"),o=s2.resolve(i,t,r,n);if("pkg"in process){this.logger.debug(this.ctx,"Running inside pkg binary, start to copy ripgrep to a temporary location");let a=await Kg.readFile(o),l=(0,BMe.createHash)("sha256").update(a).digest("hex"),c=s2.join((0,DMe.homedir)(),".cache/pkg",l);await Kg.mkdir(c,{recursive:!0});let u=Pi(ul(o)),f=s2.join(c,u);try{await Kg.stat(f)}catch{await Kg.copyFile(o,f),this.logger.debug(this.ctx,`Copied ripgrep to ${f}`)}o=f,t!=="win32"&&await Kg.chmod(o,493).catch(m=>{this.logger.error(this.ctx,`Failed to set executable permission for ${o}: ${m}`)})}return o}};d();var PMe=require("child_process"),N0e=require("perf_hooks");var l2=new Gt("ripgrepProcessManager"),Yh=class{constructor(t,r,n){this.ctx=t;this.defaultTimeoutInMs=30*1e3;this.maxProcesses=4;this.maxPendingTasks=20;this.taskQueue=[];this.activeProcesses=new Set;this.maxProcesses=r??this.maxProcesses,this.maxPendingTasks=n??this.maxPendingTasks,l2.debug(this.ctx,`initialized with maxProcesses: ${this.maxProcesses} and maxPendingTasks: ${this.maxPendingTasks}`)}static{s(this,"RipgrepProcessManager")}dispose(){l2.debug(this.ctx,`Disposing ripgrep process manager with ${this.activeProcesses.size} active processes`),this.activeProcesses.forEach(t=>{if(!t.killed)try{t.kill()}catch(r){l2.error(this.ctx,"Failed to kill process. ",r)}}),this.activeProcesses.clear()}execute(t,r,n,i,o){return new Promise((a,l)=>{if(this.taskQueue.length>=this.maxPendingTasks){l2.error(this.ctx,`Task queue limit reached: ${this.maxPendingTasks}`),l(new Error(`Task queue limit of ${this.maxPendingTasks} reached`));return}if(o!==void 0&&o<=0){l2.error(this.ctx,`Invalid timeout value: ${o}`),l(new Error(`Invalid timeout value: ${o}`));return}l2.debug(this.ctx,`Adding task to queue: ${t} ${r.join(" ")}`),this.taskQueue.push({id:cG(),command:t,args:r,options:i,resolve:a,reject:l,timeoutInMs:o??this.defaultTimeoutInMs,token:n});let c=this.taskQueue.map(u=>this.getTaskSimpleInfo(u)).join(`
`);l2.debug(this.ctx,`Current task queue length: ${this.taskQueue.length}, task list: ${c}`),this.runNextTask()})}runNextTask(){if(this.taskQueue.length===0||this.activeProcesses.size>=this.maxProcesses)return;let t=this.taskQueue.shift(),r=N0e.performance.now();l2.debug(this.ctx,`Starting task: ${this.getTaskSimpleInfo(t)}`);try{let n=(0,PMe.spawn)(t.command,t.args,t.options);this.activeProcesses.add(n);let i="",o="",a,l=s(()=>{a&&clearTimeout(a),this.activeProcesses.delete(n),n.stdout?.removeAllListeners(),n.stderr?.removeAllListeners(),n.removeAllListeners()},"cleanup");t.timeoutInMs&&(a=setTimeout(()=>{n.killed||(n.kill(),t.reject(new Error(`Process timed out after ${t.timeoutInMs} ms. Partial output: ${i}`))),l(),this.runNextTask()},t.timeoutInMs)),t.token&&t.token.onCancellationRequested(()=>{n.killed||(n.kill(),t.reject(new Error("Process was cancelled. Partial output: "+i))),l(),this.runNextTask()}),n.stdout?.on("data",c=>{i+=c.toString()}),n.stderr?.on("data",c=>{o+=c.toString()}),n.on("close",c=>{let f=N0e.performance.now()-r;l2.debug(this.ctx,`Task ${t.id} completed in ${f} ms`),l(),c===0?t.resolve(i):c===1?t.resolve(""):t.reject(new Error(`Process exited with code ${c}: ${o}`)),this.runNextTask()}),n.on("error",c=>{l(),t.reject(new Error(`Failed to start process: ${c.message}`)),this.runNextTask()})}catch(n){t.reject(new Error(`Error spawning process: ${n.message}`)),this.runNextTask()}}getTaskSimpleInfo(t){return`${t.id} - ${t.command} ${t.args.join(" ")}`}};d();d();d();var NMe=Ze(require("node:events"));var OH="onWorkspaceWatcherChanged";var UH=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new NMe.default;this.status="created",this.startWatching()}static{s(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(OH,Zu(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(OH,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(OH,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(OH,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var $c=class{constructor(t){this.ctx=t;this.watchers=new Sn(25)}static{s(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Kr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[];for(let o of this.watchers.values())r.push(o.workspaceFolder);let n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(o=>o.uri!==t.uri&&o.uri.startsWith(n));for(let o of i)this.terminateWatching(o);return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var tT=class{static{s(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},n_t="workspaceLifecycleManager",zc=new Gt(n_t),Jg=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.watchedWorkspaces=[];this.ctx=t;let r=Ks(t,async()=>{r.dispose(),await this.start()})}static{s(this,"WorkspaceLifecycleManager")}async start(){for(let t of this.activeListeners)await t.isEnabled()?t.isStarted()?zc.debug(this.ctx,`listener ${t.constructor.name} is already started`):(zc.debug(this.ctx,`starting listener ${t.constructor.name}`),await t.start()):zc.debug(this.ctx,`listener ${t.constructor.name} is not enabled`);zc.debug(this.ctx,"WorkspaceLifecycleManager started"),this.ctx.get(Pf).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)}),await this.onWorkspacesAdded(this.ctx.get(Vr).getWorkspaceFolders(),this.ctx)}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(!t.length){zc.debug(r,"No workspaces to add.");return}zc.debug(r,`Adding workspaces: ${t.map(l=>l.uri).join(", ")}`);let n=[...this.watchedWorkspaces,...t];zc.debug(r,`Combined workspaces: ${n.map(l=>l.uri).join(", ")}`);let i=n.filter((l,c,u)=>u.findIndex(f=>f.uri===l.uri)===c&&!u.some(f=>e.isSubfolder(l,f)));zc.debug(r,`Filtered workspaces: ${i.map(l=>l.uri).join(", ")}`);let o=i.filter(l=>!this.watchedWorkspaces.some(c=>c.uri===l.uri));zc.debug(r,`New workspaces: ${o.map(l=>l.uri).join(", ")}`);let a=this.watchedWorkspaces.filter(l=>!i.some(c=>c.uri===l.uri));zc.debug(r,`Removed workspaces: ${a.map(l=>l.uri).join(", ")}`),this.watchedWorkspaces=i;for(let l of a){zc.debug(r,`Terminating watching for removed workspace: ${l.uri}`),r.get($c).terminateWatching(l);for(let u of this.activeListeners)zc.debug(r,`Notifying listener of removed workspace: ${l.uri}`),await u.onWorkspaceRemoved(l)}for(let l of o){if(!l.uri)continue;zc.debug(r,`Starting to watch new workspace: ${l.uri}`);let c=r.get($c);if(c.shouldStartWatching(l)){c.startWatching(l);let u=c.terminateSubfolderWatchers(l);if(u.length){zc.debug(r,`Terminated subfolder watchers for workspace: ${l.uri}, Subfolders: ${u.map(f=>f.uri).join(", ")}`);for(let f of this.activeListeners)await f.onWorkspaceSubfoldersTerminated(l,u)}for(let f of this.activeListeners)zc.debug(r,`Adding file change listener for workspace: ${l.uri}`),c.onFileChange(l,f.onFileChange.bind(f))}}for(let l of this.activeListeners)for(let c of o)zc.debug(r,`Notifying ${l.constructor.name} of added workspace: ${c.uri}`),await l.onWorkspaceAdded(c)}async onWorkspacesRemoved(t,r){if(t.length)for(let n of t){if(!n.uri)continue;r.get($c).terminateWatching(n),this.watchedWorkspaces=this.watchedWorkspaces.filter(o=>o.uri!==n.uri);for(let o of this.activeListeners)await o.onWorkspaceRemoved(n)}}addListener(t){this.activeListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[]}};function qH(e){e.set(Jg,new Jg(e))}s(qH,"setupWorkspaceLifecycleListener");d();d();var Al=class extends Error{static{s(this,"CanceledError")}constructor(){super("Canceled"),this.name="Canceled"}};d();var WH=class{constructor(){this._tools=new Map}static{s(this,"ToolRegistry")}registerTool(t){this._tools.set(t.id,t)}unregisterTool(t){return this._tools.delete(t)}getTool(t){return this._tools.get(t)}listTools(){return Array.from(this._tools.values())}};d();d();d();d();var o3={id:"copilot",displayName:"Copilot Language Server",description:"Copilot Language Server tool provider",isFirstPartyTool:!0},Xg={id:"copilot-editor",displayName:"Editor",description:"Editor tool provider",isFirstPartyTool:!0},L0e=class{static{s(this,"LanguageModelTool")}constructor(t){this.type=t.type,this.toolProvider=t.toolProvider,this.name=t.name,this.displayName=t.displayName??this.name,this.description=t.description,this.displayDescription=t.displayDescription??this.description,this.inputSchema=t.inputSchema,this.id=`${this.toolProvider.id}.${this.name}`,this.nameForModel=this.toolProvider.isFirstPartyTool?this.name:`${this.toolProvider.id}_${this.name}`}},i3=class extends L0e{static{s(this,"BaseLanguageModelTool")}constructor(t){super(t)}},ro=class{static{s(this,"LanguageModelTextPart")}constructor(t){this.value=t}},rT=class{static{s(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}};var no=class{static{s(this,"LanguageModelToolResult")}constructor(t,r){this.status=r,this.content=t}},FMe=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})])),status:I.Optional(I.Union([I.Literal("success"),I.Literal("error"),I.Literal("cancelled")]))}),GH=(r=>(r.Accept="accept",r.Dismiss="dismiss",r))(GH||{}),MMe=I.Object({result:I.Enum(GH)});var fm=class extends i3{static{s(this,"ClsLanguageModelTool")}constructor(t){super({...t,toolProvider:o3,type:"shared"})}};d();var i_t=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_listDir","list_dir"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"],["copilot_updateUserPreferences","update_user_preferences"],["copilot_fileSearch","file_search"],["copilot_findTextInFiles","grep_search"]]),o_t=new Map;for(let[e,t]of i_t)o_t.set(t,e);d();function nT(e){return`[${Pi(e)}](${e})`}s(nT,"formatUriForFileWidget");function Zg(e){let t=s_t(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}s(Zg,"resolvePathInput");function s_t(e){if(e.startsWith("/")||OMe()&&l_t(e)||OMe()&&e.startsWith("\\\\"))return ul(e)}s(s_t,"resolveFsUri");function OMe(){return process.platform==="win32"}s(OMe,"isWindows");function a_t(e){return e>=65&&e<=90||e>=97&&e<=122}s(a_t,"isWindowsDriveLetter");function l_t(e){return a_t(e.charCodeAt(0))&&e.charCodeAt(1)===58}s(l_t,"hasDriveLetter");function HH(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof ro?r.value:(r instanceof rT,"")).join(`
`)),t===""?"(empty)":t}s(HH,"parseToolResultToString");var jH=class extends fm{static{s(this,"EditFileTool")}constructor(){super({name:"insert_edit_into_file",displayName:"Edit File",description:`Edit a file in the workspace. Use this tool once per file that needs to be modified, even if there are multiple changes for a file. Generate the "explanation" property first.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
	return this.age;
	}
}`,displayDescription:"Edit a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to edit."}),code:I.String({description:`The code change to apply to the file.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
		return this.age;
	}
}`}),explanation:I.String({description:"A short explanation of the edit being made."})})})}async invoke(t,r,n){try{let i=await this.mapCode(r.input,t,n),o=await this.invokeClientEditFileTool(t,r,i,n);return this.getFinalEditFileResult(r,o)}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new no([new ro(o)],"error")}}async mapCode(t,r,n){let{filePath:i}=t,o=Zg(i);if(!o)throw new Error(`Invalid file path: ${i}`);return await new T9(r.ctx).mapCode({code:t.code,resource:o,markdownBeforeBlock:t.explanation},n,void 0,!0)}async invokeClientEditFileTool(t,r,n,i){let o=t.ctx.get(Yc).getToolByNameAndProvider("insert_edit_into_file",Xg);if(!o)throw new Error("Client tool insert_edit_into_file is not registered");return t.ctx.get(Yc).invokeTool(t,o.id,{toolInvocationToken:r.toolInvocationToken,input:{filePath:r.input.filePath,code:n,explanation:r.input.explanation},roundId:r.roundId,toolCallId:r.toolCallId},i)}getFinalEditFileResult(t,r){if(r.status!=="success")return r;let n=HH(r.content),i=h8({uri:Zg(t.input.filePath),languageId:"UNKNOWN"}),o=[];o.push(`<file_after_edit path="${t.input.filePath}">`),o.push("This is the new state of the file after the edit. Base future edits off of this file, no need to read it again, unless a terminal command may have changed it.");let a=new Lf({code:n,languageId:i,noFilePath:!0});return o.push(...a.renderAsArray()),o.push("</file_after_edit>"),new no([new ro(o.join(`
`))],"success")}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running insert_edit_into_file tool"};let i=Zg(n.filePath);return{progressMessage:`Editing ${nT(i)}`}}static toEditFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.code!="string")throw new Error("code must be a string");if(typeof t.explanation!="string")throw new Error("explanation must be a string");return{filePath:t.filePath,code:t.code,explanation:t.explanation}}};d();var UMe=new Gt("findFilesTool"),VH=class e extends fm{static{s(this,"FindFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"file_search",displayName:"Find Files",description:`Search for files in the workspace by glob pattern. This only returns the paths of matching files. Use this tool when you know the exact filename pattern of the files you're searching for. Glob patterns match from the root of the workspace folder. Examples:
- **/*.{js,ts} to match all js/ts files in the workspace.
- src/** to match all files under the top-level src folder.
- **/foo/**/*.js to match all js files under any foo folder in the workspace.`,displayDescription:"Search for files in the workspace by glob pattern.",inputSchema:I.Object({query:I.String({description:"Search for files with names or paths matching this glob pattern."}),maxResults:I.Optional(I.Number({description:"The maximum number of results to return. Do not use this unless necessary, it can slow things down. By default, only some matches are returned. If you use this and don't see what you're looking for, you can try again with a more specific query or a larger maxResults."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new no([new ro("Cancelled")],"cancelled");i=await t.ctx.get(a2).resolvePath()}catch(g){throw new Error(`Failed to run file_search since failed to get ripgrep path: ${String(g)}`)}let{query:o,maxResults:a=20}=r.input,l=t.turn.workspaceFolders;if(!l?.length)return new no([new ro("Failed to invoke tool file_search since no workspace folders found")],"error");let c=t.ctx.get(Yh),u={},f=l.map(async g=>{if(n.isCancellationRequested)throw new Error("Canceled");try{UMe.debug(t.ctx,`Start searching for query ${o} in workspace folder: ${g.uri.toString()}`);let y=await c.execute(i,["--files","-g",o],n,{cwd:Ga(g.uri)},e.timeOutInSeconds*1e3);UMe.debug(t.ctx,`Finished searching for query ${o} in workspace folder: ${g.uri.toString()} with results: ${y}`),u[g.uri.toString()]=y.split(`
`).map(v=>v.trim()).filter(v=>v.length>0).map(v=>`${Ga(Po(g.uri,v))}`)}catch(y){let v=y instanceof Error?y.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${g.uri.toString()}: ${v}`)}});try{await Promise.all(f)}catch(g){let y=g instanceof Error?g.message:"An unknown error occurred";return new no([new ro(y)],"error")}let m=[],h=a;for(;h>0;){let g=!1;for(let y in u)u[y].length>0&&h>0&&(m.push(u[y].shift()),h--,g=!0);if(!g)break}let p=m.length===0?`No files found matching query: ${o}`:m.length===1?`Found 1 file matching query: ${o}
${m[0]}`:`Found ${m.length} files matching query: ${o}
${m.join(`
`)}`;return new no([new ro(p)],"success")}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new no([new ro(o)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for files matching query: ${n.query}`}:{progressMessage:"Running file_search tool"}}static toFindFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.maxResults!=null&&(typeof t.maxResults!="number"||t.maxResults<0))throw new Error("maxResults must be a positive number or undefined");return{query:t.query,maxResults:typeof t.maxResults=="number"?t.maxResults:void 0}}};d();var qMe=new Gt("findTextInFilesTool"),$H=class e extends fm{static{s(this,"FindTextInFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"grep_search",displayName:"Find Text In Files",description:"Do a text search in the workspace. Use this tool when you know the exact string you're searching for.",displayDescription:"Do a text search in the workspace.",inputSchema:I.Object({query:I.String({description:"The pattern to search for in files in the workspace. Can be a regex or plain text pattern"}),isRegexp:I.Optional(I.Boolean({description:"Whether the pattern is a regex. False by default."})),includePattern:I.Optional(I.String({description:"Search files matching this glob pattern. Will be applied to the relative path of files within the workspace."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new no([new ro("Cancelled")],"cancelled");i=await t.ctx.get(a2).resolvePath()}catch(v){throw new Error(`Failed to run grep_search since failed to get ripgrep path: ${String(v)}`)}let{query:o,isRegexp:a=!1,includePattern:l}=r.input,c=20,u=t.turn.workspaceFolders;if(!u?.length)return new no([new ro("Failed to invoke tool grep_search since no workspace folders found")],"error");let f=t.ctx.get(Yh),m={},h=u.map(async v=>{if(n.isCancellationRequested)throw new Error("Canceled");try{qMe.debug(t.ctx,`Start searching for query ${o} in workspace folder: ${v.uri.toString()}`);let b=[a?"--regexp":"--fixed-strings",o,...l?["-g",l]:[],"--no-heading","--line-number","--color","never",Ga(v.uri)],E=await f.execute(i,b,n,{cwd:Ga(v.uri)},e.timeOutInSeconds*1e3);qMe.debug(t.ctx,`Finished searching for query ${o} in workspace folder: ${v.uri.toString()} with results: ${E}`),m[v.uri.toString()]=E.split(`
`).map(_=>_.trim()).filter(_=>_.length>0)}catch(b){let E=b instanceof Error?b.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${v.uri.toString()}: ${E}`)}});try{await Promise.all(h)}catch(v){let b=v instanceof Error?v.message:"An unknown error occurred";return new no([new ro(b)],"error")}let p=[],g=c;for(;g>0;){let v=!1;for(let b in m)m[b].length>0&&g>0&&(p.push(m[b].shift()),g--,v=!0);if(!v)break}let y=p.length===0?`Searched text for ${o}, no results`:p.length===1?`Searched text for: ${o}, 1 result
${p[0]}`:`Searched text for: ${o}, ${p.length} results
${p.join(`
`)}`;return new no([new ro(y)],"success")}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new no([new ro(o)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for text in files matching query: ${n.query}`}:{progressMessage:"Running grep_search tool"}}static toFindTextInFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.isRegexp!==void 0&&typeof t.isRegexp!="boolean")throw new Error("isRegexp must be a boolean");if(t.includePattern!==void 0&&typeof t.includePattern!="string")throw new Error("includePattern must be a string");return{query:t.query,isRegexp:t.isRegexp??!1,includePattern:t.includePattern}}};d();var zH=class extends fm{static{s(this,"ListDirTool")}constructor(){super({name:"list_dir",displayName:"List Directory",description:"List the contents of a directory. Result will have the name of the child. If the name ends in /, it's a folder, otherwise a file",displayDescription:"List the contents of a directory",inputSchema:I.Object({path:I.String({description:"The absolute path to the directory to list."})})})}async invoke(t,r,n){let{path:i}=r.input,o=Zg(i),l=await t.ctx.get(bo).readDirectory(o.toString());return l.length===0?new no([new ro("Folder is empty")],"success"):new no([new ro(l.map(([c,u])=>`${c}${u===2?"/":""}`).join(`
`))],"success")}prepareInvocation(t,r){let n=Zg(t.input.path);return{progressMessage:`Reading directory ${nT(n)}`}}static toListDirParams(t){if(typeof t.path!="string")throw new Error("path must be a string");return{path:t.path}}};d();var YH=class extends fm{static{s(this,"ReadFileTool")}constructor(){super({name:"read_file",displayName:"Read File",description:`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,displayDescription:"Read a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to read."}),startLineNumberBaseZero:I.Number({description:"The line number to start reading from, 0-based."}),endLineNumberBaseZero:I.Number({description:"The inclusive line number to end reading at, 0-based."})})})}async invoke(t,r,n){try{let{filePath:i,startLineNumberBaseZero:o,endLineNumberBaseZero:a}=r.input,l=Zg(i);if(!l)throw new Error(`Invalid file path: ${i}`);let u=await t.ctx.get(Qn).getOrReadTextDocument({uri:l});if(u.status==="valid"){let f=new Lf({code:u.document.getText({start:{line:o,character:0},end:{line:a+1,character:0}}),languageId:u.document.detectedLanguageId,uri:l});return new no([new ro(f.renderAsString(`
`))],"success")}else return new no([new ro(`Failed to read file ${i} with result ${JSON.stringify(u)}`)],"error")}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new no([new ro(o)],"error")}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=Zg(n.filePath);return{progressMessage:`Reading file ${nT(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.startLineNumberBaseZero!="number")throw new Error("startLineNumberBaseZero must be a number");if(typeof t.endLineNumberBaseZero!="number")throw new Error("endLineNumberBaseZero must be a number");return{filePath:t.filePath,startLineNumberBaseZero:t.startLineNumberBaseZero,endLineNumberBaseZero:t.endLineNumberBaseZero}}};function WMe(){return[new zH,new YH,new jH,new VH,new $H]}s(WMe,"getAllClsTools");var Yc=class{constructor(t){this.ctx=t;this._toolRegistry=new WH;for(let r of WMe())this._toolRegistry.registerTool(r)}static{s(this,"ToolsService")}registerTool(t){this._toolRegistry.registerTool(t)}unregisterTool(t){return typeof t=="string"?this._toolRegistry.unregisterTool(t):this._toolRegistry.unregisterTool(t.id)}prepareInvocation(t,r,n){let i=this._toolRegistry.getTool(t);if(!i)throw new Error(`Tool with id '${t}' is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){if(i.isCancellationRequested)throw new Al;let o=this._toolRegistry.getTool(r);if(!o)throw new Error(`Tool with id '${r}' is undefined`);return await o.invoke?.(t,n,i)??new no([],"success")}async invokeToolConfirmation(t,r,n,i){if(i.isCancellationRequested)throw new Al;let o=this._toolRegistry.getTool(r);if(!o)throw new Error(`Tool with id '${r}' is undefined`);return await o.invokeConfirmation?.(t,n,i)??{result:"dismiss"}}getToolById(t){return this._toolRegistry.getTool(t)}getToolByNameAndProvider(t,r){return this._toolRegistry.listTools().find(n=>n.name===t&&n.toolProvider.id===r.id)}getToolsForModel(){return Array.from(this.getToolMapForModel().values())}getToolMapForModel(){let t=new Map;for(let c of this._toolRegistry.listTools())t.has(c.toolProvider.id)||t.set(c.toolProvider.id,[]),t.get(c.toolProvider.id)?.push(c);let r=t.get(o3.id)?.find(c=>c.name==="insert_edit_into_file");r&&t.get(o3.id)?.splice(t.get(o3.id)?.indexOf(r)??0,1);let n=t.get(Xg.id)?.find(c=>c.name==="insert_edit_into_file");n&&t.get(Xg.id)?.splice(t.get(Xg.id)?.indexOf(n)??0,1);let i=new Map;r&&n&&i.set(r.nameForModel,r);let o=t.get(Xg.id)??[],a=t.get(o3.id)??[],l=Array.from(t.entries()).filter(([c])=>c!==o3.id&&c!==Xg.id).flatMap(([,c])=>c);return o.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),a.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),l.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),i}};d();d();var Vb=class{static{s(this,"MultiLanguageContextProviderFeatureLifecycle")}async dispose(){}};d();var jMe=require("crypto"),F0e=require("fs"),M0e=Ze(require("path"));var GMe="symbolDatabaseLookup",HMe="multiLanguageContextProviderDocumentSymbols",$b=class{constructor(t){this.persistenceManager=t}static{s(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(GMe,t);return r||(r=await this.createDBFile(t)),M0e.default.join(this.persistenceManager.directory,HMe,r)}async init(){let t=M0e.default.join(this.persistenceManager.directory,HMe);await this.createIfNotExists(t)}async dirExists(t){try{return await F0e.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await F0e.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,jMe.randomUUID)()}.db`;return await this.persistenceManager.update(GMe,t,r),r}async deleteDBFile(t){}};d();d();var zb=class{static{s(this,"FileSearch")}};d();var Kk=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{s(this,"FileWatcher")}};d();d();d();var KH=Ze(require("path")),VMe=require("worker_threads");function $Me(e,t){return new VMe.Worker(KH.default.resolve(KH.default.extname(__filename)!==".ts"?__dirname:KH.default.resolve(__dirname,"../../dist"),e),{workerData:t})}s($Me,"createWorker");d();var JH=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{s(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var zMe=Ze(ni());var XH="main.js",ZH=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=$Me(XH,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new JH(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{s(this,"IndexClient")}dispose(){return this.postMessageInQueue(new PM(this.id++),zMe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new kM(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new BM(this.id++,t),r)}getContext(t,r,n,i,o){return this.postMessageInQueue(new DM(this.id++,t,r,n,i),o,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new SM(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new RM(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((o,a)=>{this.promiseResolvers.set(t.id,{resolve:o,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new _M(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith(XH+"'")&&(r=new Error(`Failed to load ${XH}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`${XH} exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var Jk=Ze(ni());var oT="fallbackContextProvider",Wf=new Gt(oT),Yb=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(o,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(o,a)=>{if(o===1){Wf.debug(this.ctx,`workspace removed: ${a}`),await this.indexClient.tryRemoveIndex(a,Jk.CancellationToken.None);return}Wf.debug(this.ctx,`workspace added: ${a}`),await this.indexAddedWorkspace(a)}),this.indexClient=new ZH(i);for(let o of i){let a=o.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{Wf.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{s(this,"MultiLanguageContextIndexWatcher")}isInitializing(t){for(let[r]of this.workspaceInit)if(t.startsWith(r))return!0;return!1}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await u_t(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,Jk.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{Wf.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){Wf.debug(this.ctx,`indexing workspace ${t}`);let r=kee.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${kee.length===1?r[0]:`{${r.join(",")}}`}`,o=this.ctx.get(zb),a=await Promise.all([o.findFiles(i,{uri:t},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,Jk.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));Wf.debug(this.ctx,`found ${u.length} files to index in ${t}`),await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)})),Wf.debug(this.ctx,`finished indexing workspace ${t}`)}async indexFile(t,r){try{Wf.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,Jk.CancellationToken.None)}catch(n){Wf.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return bve(t)}};async function u_t(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}s(u_t,"createIndexableWorkspaceFolder");d();d();var YMe=100,f_t=5e3,ej=class{static{s(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,o,a,l){let c=Date.now(),u=this.get(n,i,r,c);if(u)return this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),u.value;if(!a)return t(r,n,i,o,l);let f=new Fn.CancellationTokenSource,m=s(()=>f.cancel(),"cancel"),h=t(r,n,i,o,f.token);return u=this.setBasedOnLastDelimiter(n,i,r,c,h,m),this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),h}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>YMe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>f_t))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,o,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>YMe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:o.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:_r(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};var tj=class{constructor(t){this.id=oT;this.selector=hM.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Vr),this.resolver=new Q0e(this.documentManager,t)}catch(r){throw Wf.error(t,"Failed to create multi-language context provider",r),r}}static{s(this,"MultiLanguageContextProvider")}},Q0e=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new ej}static{s(this,"MultiLanguageContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(Vb).indexWatcher;if(!n)return[];if(n.isInitializing(t.documentContext.uri))return[];let i=n.indexClient;try{let o=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(o===void 0||o?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[],c=Ag(o,a);c=c.applyEdits(l);let u=await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c.textDocument.getText(),c.textDocument.offsetAt(c.position),t.documentContext.languageId,c.editsWithPosition.length===0,r);return Wf.debug(this.ctx,`Context items found for ${t.documentContext.uri}: ${u.map(f=>JSON.stringify(f)).join(", ")}`),u}catch(o){if(O_(o))return[];throw Wf.error(this.ctx,"Failed to get context",o),o}}};var Xk=class extends tT{constructor(r){super();this.started=!1;this.ctx=r,this.ctx.get(Jg).addListener(this)}static{s(this,"AgentMultiLanguageContextProvider")}async start(){if(!this.started&&await this.isEnabled()&&!this.ctx.get(ml).providers.some(r=>r.id===oT)){let r=this.ctx.get($b);this.fileWatcher=new O0e([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.multiLanguageContextIndexWatcher=new Yb(this.ctx,this.fileWatcher,r,[]),this.fileSearch=new U0e(this.ctx),this.ctx.set(Kk,this.fileWatcher),this.ctx.set(zb,this.fileSearch),this.ctx.set(Yb,this.multiLanguageContextIndexWatcher),this.ctx.get(ml).registerContextProvider(new tj(this.ctx)),this.started=!0}}isStarted(){return this.started}async isEnabled(){let r=await this.ctx.get(dr).updateExPValuesAndAssignments(),n=dU(this.ctx,r);return n.includes(oT)||n.length===1&&n[0]==="*"}async onWorkspaceAdded(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,r.uri)}async onWorkspaceRemoved(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,r.uri)}async onWorkspaceSubfoldersTerminated(r,n){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(r,n)}async onFileChange(r){if(await this.isEnabled())for(let n of r.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(r.type),n.uri)}toFileWatcherType(r){switch(r){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},O0e=class extends Kk{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{s(this,"MultiLanguageFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},U0e=class extends zb{constructor(r){super();this.ctx=r}static{s(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get($c).getWatchedFiles(n)).map(a=>this.ctx.get(Vr).getTextDocumentUnsafe(a)?.clientUri??a.uri)}};var q0e=class extends Vb{static{s(this,"AgentMultiLanguageContextProviderFeatureLifecycle")}constructor(t){super(),this.agentMultiLanguageContextProvider=new Xk(t),t.set(Xk,this.agentMultiLanguageContextProvider)}get indexWatcher(){return this.agentMultiLanguageContextProvider?.multiLanguageContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function KMe(e){let t=e.get(Ac),r=new $b(t);e.set($b,r),e.set(Vb,new q0e(e))}s(KMe,"setupMultiLanguageContextProviderFeature");d();d();d();var e1=new Map;e1.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});e1.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});e1.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});e1.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});e1.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});e1.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var m_t=new Gt("sdk");function rj(e,t){e1.has(e.get(pn).getEditorPluginInfo().name)||m_t.warn(e,...t)}s(rj,"deprecationWarning");var Zje=Ze(sue()),op=Ze(ph());d();d();d();var on={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var yc=class extends Error{static{s(this,"SchemaValidationError")}constructor(t){super(qOe(t))}};function st(e,t){let r=ms.Compile(e);return async(n,i,o)=>{if(!r.Check(o)){let a=qOe(r.Errors(o));return[null,{code:on.InvalidParams,message:a}]}return t(n,i,o)}}s(st,"addMethodHandlerValidation");function qOe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}s(qOe,"createErrorMessage");d();var aue=Ze(ni());d();var r1=class{constructor(t){this.ctx=t}static{s(this,"AbstractCommand")}};var hj="github.copilot.finishDeviceFlow",lue=class extends r1{constructor(){super(...arguments);this.name=hj;this.arguments=I.Tuple([])}static{s(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(kn).pendingSignIn;if(!i)throw new aue.ResponseError(on.InvalidRequest,"No pending sign in");try{await this.ctx.get(lc).open(i.verificationUri)}catch(o){f0.warn(this.ctx,"Failed to open",i.verificationUri),f0.exception(this.ctx,o,hj)}try{return await i.status}catch(o){throw new aue.ResponseError(on.DeviceFlowFailed,String(o))}finally{this.ctx.get(kn).pendingSignIn=void 0}}},WOe=[lue];d();d();var ns=class extends Sn{static{s(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var sB="github.copilot.didAcceptCompletionItem",cue=class extends r1{constructor(){super(...arguments);this.name=sB;this.arguments=I.Tuple([I.String({minLength:1})])}static{s(this,"DidAcceptCommand")}handle(r,[n]){let o=this.ctx.get(ns).get(n);return o?(bU(this.ctx,o),!0):!1}},GOe=[cue];d();var ckt="github.copilot.didAcceptNextEditSuggestionItem",uue=class extends r1{constructor(){super(...arguments);this.name=ckt;this.arguments=I.Tuple([I.String({minLength:1})])}static{s(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(zh).handleAcceptance(n),!0}},HOe=[uue];d();var due="github.copilot.didAcceptPanelCompletionItem",fue=class extends r1{constructor(){super(...arguments);this.name=due;this.arguments=I.Tuple([I.String({minLength:1})])}static{s(this,"DidAcceptPanelCompletionItemCommand")}handle(r,n){let[i]=n,a=this.ctx.get(ns).get(i);return a?(Vv(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},jOe=[fue];var ukt=[...WOe,...GOe,...HOe,...jOe];function VOe(e,t){let r=new Map;for(let n of ukt){let i=new n(e),o=ms.Compile(i.arguments);r.set(i.name,{typeCheck:o,command:i})}return t.onExecuteCommand((n,i)=>{let o=r.get(n.command);if(!o)throw new Error(`Unknown command: ${n.command}`);let a=u2(n.arguments??[]);if(a.length<o.command.arguments.minItems&&(a.length=o.command.arguments.minItems),o.typeCheck.Check(n.arguments))return o.command.handle(i,a);throw new yc(o.typeCheck.Errors(n.arguments))}),[...r.keys()]}s(VOe,"registerCommands");d();var $Oe=Ze(require("node:events"));var Gf=class extends nv{constructor(r){super(new f8,new Map);this.emitters=new Map;this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{s(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let o=`${i}${fkt(n.replace(/^Debug/,""))}`;o in this.env&&(this.envSettings.set(wt[n],this.env[o]),this.setConfig(wt[n],this.env[o]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r)),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new $Oe.default),this.emitters.get(r)?.on("change",n)}};function fkt(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}s(fkt,"camelCaseToSnakeCaseAllCaps");var dkt="unknown-editor",zOe="unknown-editor-plugin",pj=class extends pn{static{s(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:dkt,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:zOe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function YOe(e){return e.getEditorPluginInfo().name!==zOe}s(YOe,"hasValidInfo");d();var JOe=require("node:events");var KOe="initialize",f2=class{constructor(){this.emitter=new JOe.EventEmitter;this.initialized=!1}static{s(this,"InitializedNotifier")}once(t){this.emitter.once(KOe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(KOe)}};d();var d2=Ze(ph());var mkt=new Map([[4,d2.MessageType.Log],[3,d2.MessageType.Info],[2,d2.MessageType.Warning],[1,d2.MessageType.Error]]),gj=class extends Ha{static{s(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!IU(t)&&n!=="console")return;let o={type:mkt.get(r),message:eTe(n,...i)},a=t.get(Wr).connection;try{a.sendNotification(new d2.NotificationType("window/logMessage"),o)}catch(l){if(l instanceof d2.ConnectionError)return;throw l}}};d();var XOe=Ze(fl());var Aj=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{s(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(Wr).connection.sendNotification(new XOe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function ZOe(e){let t=e.get(Fs),r=t.deactivate();t.setReporter(new Aj(e)),t.setRestrictedReporter(new Aj(e,!0)),await r}s(ZOe,"setupRedirectingTelemetryReporters");d();d();var yj=class{static{s(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?jt(t,"installed.reinstall"):jt(t,"installed.new")}handleUpgrade(t){jt(t,"installed.upgrade")}handleUninstall(t){jt(t,"uninstalled")}};var aB=Ze(sue());var lT=class extends yj{static{s(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(pn).getEditorPluginInfo();return await t.get(Ac).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(Ac).listSettings()).length>0}async markInstalled(t){let r=t.get(pn).getEditorPluginInfo();await t.get(Ac).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(pn).getEditorPluginInfo(),n=await t.get(Ac).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,aB.gt)((0,aB.coerce)(r.version),(0,aB.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(pn).getEditorPluginInfo();await t.get(Ac).delete("versions",r.name),(await t.get(Ac).listKeys("versions")).length===0&&await t.get(Ac).deleteSetting("versions")}};d();var eUe=require("events"),hue=Ze(require("path")),Cj=Ze(fl());var mue="didChangeWatchedFiles",hkt={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},Kh=class e{constructor(t){this.ctx=t;this.emitter=new eUe.EventEmitter}static{s(this,"LspFileWatcher")}static{this.requestType=new Cj.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(Wr).connection}init(){this.ctx.get(Go).getCapabilities().watchedFiles&&this.connection.onNotification(Cj.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(Go).getCapabilities().watchedFiles)return hkt;let i=(await this.connection.sendRequest(e.requestType,t)).files,o=[],a=[],l=[];for(let c of i){typeof c=="object"&&(c=c.uri);let u=hue.extname(c).toLowerCase();if(!M_.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}o.push(f)}return{watchedFiles:o,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(mue,t)}offDidChangeWatchedFiles(t){this.emitter.off(mue,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let o of t.changes){let a=o.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=hue.extname(o.uri).toLowerCase();if(!M_.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(o.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(mue,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(Qn).getOrReadTextDocument({uri:t});return n.status==="valid"?n.document:void 0}};d();d();var pkt=I.Object({uri:I.String({minLength:1})});async function gkt(e,t,r){let n=await e.get(Qn).getOrReadTextDocument(r);return[{status:ys(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}s(gkt,"handleCheckFileStatusChecked");var tUe=st(pkt,gkt);d();var Akt=I.Object({options:I.Optional(I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}))});async function ykt(e,t,r){return[await e.get(kn).checkAndUpdateStatus(e,r.options),null]}s(ykt,"handleCheckStatusChecked");var rUe=st(Akt,ykt);d();d();d();d();d();d();function nUe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}s(nUe,"filterUnsupportedReferences");function iUe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}s(iUe,"convertToCopilotReferences");var oUe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var s3=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{s(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),o=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,o,nUe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,o){this.deltaApplier(t,r,n,i,o),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(o=>({...o,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(o=>({...o,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var rl=class{static{s(this,"ConversationInspector")}};d();var pue={Unknown:-1,Default:0,ToolRoundExceedError:1e4};var ws=class{constructor(t){this.ctx=t;this.progressEntries=new Sn(250)}static{s(this,"ConversationProgress")}async begin(t,r,n){let i={status:"open",handler:n};this.progressEntries.set(t.id,i),await i.handler.begin(this.ctx,t,r)}async report(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&await i.handler.report(this.ctx,t,r,n)}async end(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"done",updatedAt:Date.now()}),await i.handler.end(this.ctx,t,r,n))}async cancel(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"cancelled",updatedAt:Date.now()}),await i.handler.cancel(this.ctx,t,r,n))}getProgressEntry(t){let r=this.progressEntries.get(t.id);if(r===void 0)throw new Error(`No work done token for conversation ${t.id}`);return r.status!=="open"&&Kr.error(this.ctx,`Work done token for conversation ${t.id} is already ${r.status}, last updated at ${r.updatedAt}`),r}};d();d();var n1=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{s(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let o=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,o),o}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(en).getGitHubSession(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n.accessToken}`);let o=this.ctx.get(hs).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(fn).fetch(o,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var aUe=Ze(Hf());var i1=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{s(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let o=this.doc.getText(r),a=o.match(/^\n*/)?.[0].length??0,l=o.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new Yt([(0,aUe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let o={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[o,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new Yt(u.filter(([m,h])=>!cT(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:lf(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||cT(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new Yt([["```"+this.doc.detectedLanguageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((o,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${o}`).join(`
`)}};function cT(e){return e.start.line==e.end.line&&e.start.character==e.end.character}s(cT,"isEmptyRange");var lUe=Ze(require("path"));var cUe=I.Object({uri:I.String(),visibleRange:I.Optional(Ea),selection:I.Optional(Ea)}),gue=class{constructor(t){this.turnContext=t}static{s(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Qn),n=await r.getOrReadTextDocument(t),i=ys(n);if(await this.turnContext.collectFile(Jc,t.uri,i),n.status==="valid"){let o=this.turnContext.conversation.source==="inline",a=new i1(n.document,t.selection,t.visibleRange),l=r.getRelativePath(n.document);if(i==="empty")return new Yt([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:o}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(o){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(cT(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new Yt([...c,...u])}else if(n.status==="invalid")return new Yt([`The currently open file \`${lUe.basename(t.uri)}\` is content excluded.`])}},Jc="current-editor",xj=class{constructor(t){this._resolver=t;this.id=Jc;this.type="explicit"}static{s(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new gue(t)}};d();d();var nl=class{constructor(){this.skills=[]}static{s(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},Aue=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{s(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},yue=class{constructor(t,r){this.delegate=t;this.stepId=r}static{s(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},jl=class{constructor(t,r,n,i,o,a="explicit",l=[],c=()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=o;this.type=a;this._examples=l;this._isAvailable=c}static{s(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new Aue(this._resolver(t),this.id,this.stepTitle)}processor(t){return new yue(this._processor(t),this.id)}};var uUe=I.Object({name:I.String(),url:I.String()}),fUe=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(uUe)})),remotes:I.Optional(I.Array(uUe))}),Cue=class{constructor(t){this.turnContext=t}static{s(this,"GitMetadataSkillProcessor")}value(){return .8}processSkill(t){this.turnContext.collectLabel(o1,"git repository information");let r=[];return r.push([new Yt(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new Yt([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new Yt([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new Yt(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new Yt([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new Yt(r)}},o1="git-metadata",vj=class extends jl{static{s(this,"GitMetadataSkill")}constructor(t){super(o1,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Cue(r))}};async function dUe(e){let t=await e.skillResolver.resolve(Jc);if(t){let a=t.uri,l=w5(e.ctx,a);if(Mxe(l))return{repoInfo:l,skillUsed:Jc}}let r=await e.skillResolver.resolve(o1);if(!r||!r.remotes||r.remotes.length===0){Kr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],o=jZ(i.url);if(o)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...o},skillUsed:o1}}s(dUe,"extractRepoInfo");async function mUe(e){let t=[];return await Ckt(e,t),await xkt(e,t),await vkt(e,t),t}s(mUe,"skillsToReference");async function Ckt(e,t){let r=await bkt(e);r&&t.push(r)}s(Ckt,"addRepositoryReference");async function xkt(e,t){let r=await Ekt(e);r&&t.push(r)}s(xkt,"addSelectionReference");async function vkt(e,t){let r=[],n=await Tkt(e);n&&r.push(n),r.push(...await wkt(e)),r.length>0&&t.push(...r)}s(vkt,"addFileReferences");async function bkt(e){let t=await dUe(e);if(t){let r=e.ctx.get(n1),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}s(bkt,"gitMetadataToReference");async function Ekt(e){let t=await e.skillResolver.resolve(Jc);if(t&&t.selection){let n=await e.ctx.get(Qn).getOrReadTextDocument(t),i=ys(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return Ikt(t,n.document)}}s(Ekt,"currentEditorToSelectionReference");function Ikt(e,t){if(e.selection&&!cT(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}s(Ikt,"extractSelection");async function Tkt(e){let t=await e.skillResolver.resolve(Jc);if(t){let n=await e.ctx.get(Qn).getOrReadTextDocument(t),i=ys(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.detectedLanguageId}}}}s(Tkt,"currentEditorToFileReference");async function wkt(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(Qn);for(let i of r)if(i.type==="file"){let o=await n.getOrReadTextDocument(i),a=ys(o);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),o.status==="valid"){let l=o.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:o.document.detectedLanguageId}})}}}return t}s(wkt,"fileReferenceToPlatformFileReference");d();d();d();d();var vUe=Ze(Ij()),Eue=Ze(require("path"));var bUe=500,Fkt=Math.floor(.25*bUe),Tj=class{static{s(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Eue.default.extname(__filename)===".ts"?Eue.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await vUe.job(async({text:o,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=await require(c).getTokenizerAsync(l),p=h.tokenize(o),g=p.length,y=[],v=0;for(;v<g;){let b=v+u>=g,E=b?g:v+u,_=p.slice(v,E),k=h.detokenize(_),B=o.indexOf(k);y.push({id:`${a.toString()}#${v}`,chunk:k,tokenCount:_.length,range:{start:B,end:B+k.length}}),v=b?E:E-f}return y},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:bUe,overlap:Fkt}}),n}};var Mkt="fixedSize",Qkt=new Map([["fixedSize",Tj]]);function EUe(e){let t=e==="default"?Mkt:e,r=Qkt.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}s(EUe,"getChunkingAlgorithm");d();d();var wj=Ze(Xy()),m2=Ze(require("fs")),IUe=require("os"),Jh=Ze(require("path")),uT=require("process");var Iue=5e4,Okt=new Gt("workspaceChunks"),_j=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Pi(r.uri),i=(0,wj.SHA256)(r.uri).toString().substring(0,this.pathHashLength);this.cacheRootPath=Jh.join(Ukt(),"project-context",`${n}.${i}`)}static{s(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,wj.SHA256)(t).toString().substring(0,this.pathHashLength),n=Jh.basename(t);return Jh.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await m2.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await m2.promises.mkdir(Jh.dirname(n),{recursive:!0}),await m2.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){Okt.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await m2.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await m2.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Jh.join(this.cacheRootPath,n))}}async getFileHash(t){let r=Xo(t),n="";return r&&(n=await m2.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,wj.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let o={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,o)}async deleteChunksForSource(t){let r=ul(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=Xo(t);if(!r)return[];let n;try{n=await m2.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let o of n){let a=ul(Jh.join(r,o));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await m2.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function Ukt(){return uT.env.XDG_CACHE_HOME&&Jh.isAbsolute(uT.env.XDG_CACHE_HOME)?uT.env.XDG_CACHE_HOME+"/github-copilot":(0,IUe.platform)()==="win32"?uT.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":uT.env.HOME+"/.cache/github-copilot"}s(Ukt,"getXdgCachePath");var Tue=1e4;var Sj=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new _ue;this.status="notStarted",this.workspaceChunks=new _j(t,r),this.cancellationToken=new wue,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{s(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get($c).getWatchedFiles(this.workspaceFolder);this._totalFileCount=n.length,n.length>Tue&&(this._fileCountExceeded=!0,n=n.slice(0,Tue));let i=n.map(async o=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,o))});try{await Promise.all(i)}catch(o){Ia(t,o,"ChunkingProvider.chunk"),this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>Iue&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async i=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(i.uri),await this._chunkLimiter.queue(()=>this._chunk(t,i)))});try{await Promise.all(n)}catch(i){Ia(t,i,"ChunkingProvider.chunkFiles"),this.terminateChunking()}return await this.workspaceChunks.getChunksCount()>Iue&&(this._chunkCountExceeded=!0),await this.workspaceChunks.getFilesCount()>Tue&&(this._fileCountExceeded=!0),GIe(...r.map(i=>this.workspaceChunks.getChunks(i)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(di).getBestChatModelConfig(ps("user")))}terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},wue=class{constructor(){this.cancelled=!1}static{s(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},_ue=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{s(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var ha=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{s(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=EUe(r),i=new n;return new Sj(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n.uri);let i=this.workspaceChunkingProviders.get(t.uri);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t.uri,i)),i}getParentFolder(t){let r=[];for(let n of this.workspaceChunkingProviders.values())r.push(n.workspaceFolder);return r.find(n=>{let i=n.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return t.uri!==n.uri&&t.uri.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}terminateChunking(t,r){let n=this.getImplementation(r);n.terminateChunking();let o=dn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});jt(t,"index.terminate",o),this.workspaceChunkingProviders.delete(r.uri)}async clearChunks(t,r){this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r.uri)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let o of r)i.push(...await n.deleteFileChunks(o));return i}async chunk(t,r,n,i){let o;return n&&(Array.isArray(n)?o=n:i=n),i||(i="default"),o?await this.chunkFiles(t,r,o,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),o=await i.chunk(t),l=dn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return jt(t,"index.chunk",l),o}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function kj(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}s(kj,"toChatModeEnum");var a3=class{constructor(t,r){this.request=t;this.telemetryId=_r();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[];this.id=r??this.telemetryId}static{s(this,"Turn")}},Rj=class e{constructor(t=[],r="panel",n="en",i){this.turns=t;this.source=r;this.userLanguage=n;this._telemetryId=_r();this._timestamp=Date.now();this.id=i??this.telemetryId}static{s(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage,this.id);return r._telemetryId=this.telemetryId,r._timestamp=this.timestamp,r}get telemetryId(){return this._telemetryId}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}findTurn(t){return this.turns.find(r=>r.id===t)}};d();d();d();var TUe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},wUe="Alright, This response contains a code citation.";d();var _Ue=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var SUe=Ze(require("fs")),B0=Ze(require("path"));var Sue=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],Rue="test_",uB={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},fB=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{s(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Pi(t),n=B0.extname(r).replace(".",""),i=uB[n]??{location:"sameFolder",prefix:Rue,suffix:Sue},o=[];if(i.prefix&&o.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);o.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=Xo(tf(t)),l===void 0)return}else{let u=Xo(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of o){let f=B0.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=ul(l);if(await this.fileExists(c))return Po(c,o[0])}parseTestFilePath(t){try{return ul(t)}catch(r){Zn.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Pi(t),n=B0.extname(r).replace(".",""),i=uB[n]??{location:"sameFolder",prefix:Rue,suffix:Sue},o=[];if(i.prefix&&o.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;o.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=tf(t):l=this.determineImplFolder(t);for(let c of o){let u=Po(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=Xo(t);if(r===void 0)return;let n=B0.extname(Pi(t)).replace(".",""),i,o=uB[n]?.location??"sameFolder";o==="sameFolder"?i=B0.dirname(r):i=this.determineTestFolder(r,o);let a=this.findFiles(i,`.${n}`,uB[n]);if(a.length>0)return ul(a[0])}findFiles(t,r,n){let i=this._readdir(t),o=[];for(let a of i){let l=`${t}${B0.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&o.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&o.push(l)}return o}_readdir(t){return SUe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&Xo(this.baseUri))??"",i=B0.extname(t).replace(".",""),o=this.getRelativeTestFolder(t,n,i,r);return[n,...o].filter(a=>a).join(B0.sep)}getRelativeTestFolder(t,r,n,i){let o=B0.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",o];case"cs":return[o.replace("src","src/tests")];case"java":case"scala":case"kt":return[o.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[o.replace("src","test")]:[o]}}determineImplFolder(t){let r=B0.extname(Pi(t)).replace(".",""),n=tf(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};function dB(e){let t=Pi(e),r=B0.extname(t),n=uB[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(o=>t.endsWith(o+r))||n.prefix&&!t.startsWith(n.prefix)):!!(Sue.some(o=>t.endsWith(o+r))||t.startsWith(Rue))}s(dB,"isTestFile");d();var RUe=["indexed","indexing","not_indexed"],qkt="copilot_internal/check_indexing_status",l3=class{constructor(){this._cache=new Sn(100)}static{s(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx;if(!n)return!1;let o=new URL(qkt,n.apiUrl);o.searchParams.set("nwo",r);let a=await ah(i,n,o.href);if(!a.ok)return!1;let l=await a.json();return l.docs_status==="indexed"||l.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let o=fA(r);if(!o)return!1;let a=this._cache.get(o);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,o,n);return this._cache.set(o,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function kUe(e,t,r,n){let i=Xi(t.tokenizer),o=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(o.length===0)return;let a=[],l=await e.get(en).getToken(),c=n8(e,l,"embeddings"),u=l.token,f=0;for(;f<o.length&&!n.isCancellationRequested;){let m=o.slice(f,f+t.maxBatchSize),h=await Wkt(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}s(kUe,"fetchEmbeddings");async function Wkt(e,t,r,n,i,o){let a=_r(),l=i.map(u=>u.text),c=await kx(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},o,b5(e));if(c.status!==200||o.isCancellationRequested){Ia(e,new h2(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}s(Wkt,"sendEmbeddingsRequest");d();d();var Bj=class{static{s(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var Gkt="cosine",Hkt=new Map([["cosine",Bj]]);function BUe(e){let t=e==="default"?Gkt:e,r=Hkt.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}s(BUe,"getScoringAlgorithm");d();var jf=class{constructor(){this.workspaceScoringProviders=new Sn(25)}static{s(this,"ScoringProvider")}createImplementation(t,r){let n=BUe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r.uri);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r.uri,i)),i}score(t,r,n,i,o){return this.getImplementation(t,r,o).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r.uri)}};var DUe={modelFamily:xF.textEmbedding3Small,scoringType:"default",dimensions:null};async function PUe(e,t,r,n,i,o,a,l=DUe){let c={...DUe,...l},u=Vkt(e,t,r,n);Kr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(di).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await kUe(e,f,u,o),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let g=h.findIndex(B=>B.id==="userQuery");if(g===void 0)return[];let y=h.splice(g,1)[0];if(o.isCancellationRequested)return[];let v=performance.now(),b=$kt(e,t,h,y,c.scoringType),E=performance.now();a.rerankingTimeMs=Math.floor(E-v);let _=b.slice(0,i);return Kr.debug(e,`EmbeddingsReranker: Returning ${_.length} snippets`),_.map(B=>u.find(N=>N.id===B.id).id)}s(PUe,"rerankSnippets");function Vkt(e,t,r,n){let i=n.map(o=>({id:o.id,text:o.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}s(Vkt,"formatEmbeddingsInput");function $kt(e,t,r,n,i){let o=e.get(jf);return r.map(l=>({id:l.id,score:o.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}s($kt,"scoreEmbeddings");d();d();d();var Bue=Ze(Ij());var zkt=.75,Ykt=1.2,Kkt=47,Dj=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{s(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await Pj();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,Kkt),o=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,o)}async calculateIDFValues(t){let r=this.ctx.get(ha).getChunks(this.workspaceFolder),n=CA(r,o=>({...o,chunk:o.chunk.toLowerCase()})),i=CA(n,o=>o.chunk);return await Jkt(t,i)}async calculateBM25Scores(t,r,n,i){let o=this.ctx.get(ha).getChunks(this.workspaceFolder),a=new kue(i);for await(let l of o){let c=await Xkt({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}terminateRanking(){}};async function Jkt(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],o=0;for await(let c of t){o++;let u=Bue.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((o-a[c]+.5)/(a[c]+.5)+1);return l}s(Jkt,"calculateIDFValues");async function Xkt(e,t,r,n){return{score:await Bue.job(({keywords:o,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of o){let g=u[p],y=(a.match(new RegExp(p,"g"))||[]).length,v=g*(y*(f+1)),b=y+f*(1-m+m*l/c);h+=v/b}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:Ykt,b:zkt}}),...e}}s(Xkt,"calculateBM25Score");var kue=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{s(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var eBt="bm25",tBt=new Map([["bm25",Dj]]);function NUe(e){let t=e==="default"?eBt:e,r=tBt.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}s(NUe,"getRankingAlgorithm");var Cc=class{constructor(){this.workspaceRankingProviders=new Sn(25)}static{s(this,"RankingProvider")}createImplementation(t,r,n){let i=NUe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r.uri);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r.uri,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r.uri)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function LUe(e,t){let r=e.ctx,n=await r.get(di).getBestChatModelConfig(ps("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},o=await r.get(xc).toPrompt(e,i);if(!o.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:o.messages,tools:o.toolConfig?.tools,tool_choice:o.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new Da(r),c=await g0(r,e),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=o.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Kr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Ia(r,new h2(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}s(LUe,"parseUserQuery");var FUe=Ze(Hf());var h2=class extends Error{static{s(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},Nj=class{constructor(){this.providerType="local"}static{s(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(ha),o=i.status(t.turn.workspaceFolder),a=n.get(Cc),l=a.status(n,t.turn.workspaceFolder);if(o==="completed"&&l==="completed")return Promise.resolve("indexed");if(o==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(o==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(ha).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await LUe(t,t.cancelationToken)}catch(g){let y=new h2(g);Ia(i,y,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(Cc),m=[],h=performance.now();try{let g=await f.query(i,n,l);r.localSnippetCount=g.length,m=g}catch(g){let y=new h2(g);Ia(i,y,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let o=t.ctx,a=cn(t.turn.request.message),l=[];try{l=await PUe(o,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new h2(f);Ia(o,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=o.get(Qn);for(let f of l){let m=f.split("#")[0],h=await u.getOrReadTextDocument({uri:m}),p=r.find(g=>g.id===f);if(h.status==="valid"){let g=h.document.positionAt(p.range.start),y=h.document.positionAt(p.range.end),v=Lo.range(g,y);c.push({uri:h.document.uri,range:v,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...zIe},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let o=t.ctx;return Kr.debug(o,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let o=t.ctx.get(ha).checkLimits(r);if(o.fileCountExceeded||o.chunkCountExceeded)return FUe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var QUe=Ze(MUe()),Mj=Ze(Ij()),OUe=Ze(require("os")),UUe=Ze(Hf());var iBt=Math.max(OUe.cpus().length-1,1),mB=class e{constructor(){this.isActive=!0}static{s(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new QUe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await Mj.start({maxWorkers:iBt})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await Mj.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},Pj=mB.startWorkerPool.bind(mB);var l4n=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),Nue=class{constructor(t){this.turnContext=t}static{s(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(fT);return}let r=[],n=this.turnContext.ctx.get(Qn),i=this.removeDuplicateSnippets(t);for(let o of i){let{uri:a,snippet:l,range:c}=o,u=await n.getOrReadTextDocument(o);if(u.status==="valid"){let f=new i1(u.document,c,c),m=new Yt([l]),p=dB(a)?.5:.8;r.push([`Code excerpt from file \`${Xo(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(dT,a,ys(u),c)}}if(r.length>0)return r.unshift([new Yt(["The user wants you to consider the following snippets when computing your answer."]),1]),new Yt(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},fT="collect-project-context",Lj=class extends tT{constructor(r,n=[new Nj]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(Jg).addListener(this)}static{s(this,"ProjectContextSkillResolver")}start(){this.ready=!0}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await Pj(),!r.uri))return;let n=this.ctx.get(ha),i=this.ctx.get($c),o=this.ctx.get(Cc),a=await n.chunk(this.ctx,r);n.status(r)!=="completed"&&i.terminateWatching(r),await o.initialize(this.ctx,r,a),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(ha);if(!r)return;let i=n.getParentFolder(r);if(i){let l=await n.deleteSubfolderChunks(i,r);await this.ctx.get(Cc).deleteEmbeddings(this.ctx,i,l);return}n.terminateChunking(this.ctx,r),await this.ctx.get(Cc).terminateRanking(this.ctx,r),this.ctx.get(jf).terminateScoring(this.ctx,r),n.workspaceCount===0&&await mB.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(ha),o=this.ctx.get(Cc),a=this.ctx.get(jf);for(let l of n)i.terminateChunking(this.ctx,l),await o.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r)}async onFileChange(r){if(!await this.isEnabled())return;let n=await Pj();try{let i=r.documents.map(c=>c.uri),o=r.workspaceFolder;if(!o)return;let a=this.ctx.get(ha),l=this.ctx.get(Cc);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(o,i);await l.deleteEmbeddings(this.ctx,o,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,o,r.documents);await l.addChunks(this.ctx,o,c)}}finally{await n.stopWorkerPool()}}isStarted(){return this.ready}async isEnabled(){return!0}async resolveSkill(r){await r.steps.start(fT,"Collecting relevant project context"),await r.info(UUe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),o="not_indexed",a;for(let l of RUe){let c=i.findIndex(u=>u===l);if(c!==-1){o=l,a=this.snippetProviders[c];break}}switch(o){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await YIe(r,a.providerType,c),l.length===0){await r.steps.error(fT,"No project context found");return}return await r.steps.finish(fT),l}case"indexing":{await r.steps.error(fT,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(fT,"No project context available");return}}}},dT="project-context",Fj=class extends jl{static{s(this,"ProjectContextSkill")}constructor(t){super(dT,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new Nue(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],()=>!0)}};d();var qUe=I.Object({labels:I.Array(I.String())}),Lue=class{constructor(t){this.turnContext=t}static{s(this,"ProjectLabelsSkillProcessor")}value(){return 1}processSkill(t){let r=[];return r.push([new Yt(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new Yt([`- ${n}`]),.9]),this.turnContext.collectLabel(Xh,n)}),new Yt(r)}},Xh="project-labels",Qj=class{constructor(t){this._resolver=t;this.id=Xh;this.type="explicit"}static{s(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new Lue(t)}};d();var Oj=Ze(Hf());var GUe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},HUe=Oj.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,jUe=Oj.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,oBt=Oj.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,Fue=`

`,WUe=HUe+Fue+jUe;function VUe(e){let t=1;if(e.length===0)return{reply:WUe,vulnerabilities:t};if(e==="0")return{reply:WUe,vulnerabilities:0};if(e==="help")return{reply:oBt,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=HUe+Fue:i==="c"&&(n+=jUe+Fue);return{reply:n.trimEnd(),vulnerabilities:t}}s(VUe,"parseVulnerabilitiesInstructions");var $Ue=Ze(Hf());var sBt="Oops, your response got filtered. Vote down if you think this shouldn't have happened",aBt="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",Mue=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{s(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},lBt=new Mue,Que=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{s(this,"DebugUpgradePromptTemplate")}response(t){return new Vl(aBt,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},cBt=new Que,Oue=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{s(this,"DebugNotificationPromptTemplate")}response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),o=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new Vl("Alright, I'm producing a notification",void 0,[],o)}},uBt=new Oue,Uue=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{s(this,"DebugFilterPromptTemplate")}response(t){return t.turn.status="filtered",new Vl(sBt,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},fBt=new Uue,que=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{s(this,"DebugDumpPromptTemplate")}async response(t){return new Vl(await YUe(t))}},dBt=new que,Wue=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{s(this,"DebugChristmasTreePromptTemplate")}requiredSkills(){return[Xh,Jc]}instructions(t,r){return"Create a function that prints a christmas tree"}},mBt=new Wue,Gue=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{s(this,"DebugEchoPromptTemplate")}response(t){return new Vl(cn(t.turn.request.message))}},hBt=new Gue,Hue=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{s(this,"DebugPromptPromptTemplate")}response(t,r){let n=t.ctx.get($l).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((o,a)=>{i+=$Ue.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${o}
                        \`\`\`\`
                    `}),new Vl(i)}return new Vl("No prompt available")}},pBt=new Hue,jue=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{s(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,o;if(r.length>0){let a=r.split(" ");i=a[0],o=a.slice(1).join(" ")}return t.turn.request.message=o??"",new Vl(await KUe(t,n,i))}},gBt=new jue,Vue=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{s(this,"DebugVulnerabilityPromptTemplate")}response(t,r){let{reply:n,vulnerabilities:i}=VUe(r);for(let o=0;o<i;o++)t.turn.annotations.push(GUe);return new Vl(n,void 0,t.turn.annotations)}},ABt=new Vue,$ue=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{s(this,"DebugCodeCitationPromptTemplate")}response(t){return t.turn.annotations.push(TUe),new Vl(wUe,void 0,t.turn.annotations)}},yBt=new $ue,zue=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{s(this,"DebugMarkdownRenderingPromptTemplate")}response(){return new Vl(_Ue)}},CBt=new zue,Yue=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{s(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},xBt=new Yue,Kue=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{s(this,"DebugProjectContextPromptTemplate")}requiredSkills(){return[dT]}},vBt=new Kue,Jue=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{s(this,"DebugConfirmationPromptTemplate")}response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new Vl("Alright, I'm producing a notification",void 0,[],[],[],t)}},bBt=new Jue;function zUe(){return[lBt,cBt,uBt,fBt,mBt,dBt,hBt,pBt,gBt,ABt,yBt,bBt,CBt,xBt,vBt]}s(zUe,"getDebugTemplates");d();d();function u3(e,t){if(e.length==0)return new Yt([]);let r=e.map((n,i)=>{let o;switch(t){case"linear":o=1-i/e.length;break;case"inverseLinear":o=(i+1)/e.length;break;case"positional":o=1/(i+1);break;case"inversePositional":o=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(o*=n[1],n=n[0]),[n,o]});return new Yt(r)}s(u3,"weighElidableList");var JUe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:Ea}))}),Xue=class{constructor(t){this.turnContext=t}static{s(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Qn),n=await r.getOrReadTextDocument(t);if(await this.turnContext.collectFile(f3,t.uri,ys(n)),n.status==="valid"){let i=r.getRelativePath(n.document);this.turnContext.collectLabel(f3,`problems in ${i}`);let o=this.getElidableProblems(t,n,i);return await this.preElideDocuments(o)}else this.turnContext.collectLabel(f3,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new Yt([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),u3(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new Yt([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let o=n.range,a;if(o&&(this.isEmpty(o)?a=r.document.lineAt(o.start).text:a=r.document.getText(o),a)){let l=r.document.detectedLanguageId;i.push(new Yt([["```"+l,1],[lf(a),.8],["```",1]]))}return new Yt(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(di).getBestChatModelConfig(ps("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Yt([n])}},f3="problems-in-active-document",Uj=class extends jl{static{s(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(f3,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new Xue(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var qj=class{constructor(t){this.turnContext=t}static{s(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new fB(this.turnContext.ctx,n,r?.uri),o=await i.findTestFileForSourceFile(t.uri),a=dB(t.uri);if(o&&!a){let l=t.detectedLanguageId;if(await n(o))return await this.asTestFilePrompt(l,o);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!dB(t))return;let n=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new fB(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.detectedLanguageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,o]=n;return new Yt([[`${EBt} \`${o}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Yt([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,o]=n;return new Yt([[`${IBt} \`${o}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Yt([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,o]=n;return new Yt([[`${TBt} \`${o}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Yt([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t)){let r=this.turnContext.ctx.get(Qn),n=await r.getOrReadTextDocument({uri:t});if(await this.turnContext.collectFile(Zh,t,ys(n)),n.status==="valid"){let i=r.getRelativePath(n.document);return[lf(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(bo).stat(t),!0}catch{return!1}}}},EBt="Code excerpt from the implementation source file",IBt="Code excerpt from the test file",TBt="Code excerpt from an example test file";var XUe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),efe=class{constructor(t){this.turnContext=t}static{s(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(Qn),n=new qj(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(Zh,t.testFileUri,ys(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.detectedLanguageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(Zh,t.sourceFileUri,ys(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.detectedLanguageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(Zh,t.sourceFileUri,ys(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(Zh,t.testFileUri,ys(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},Zh="test-context",Wj=class extends jl{static{s(this,"TestContextSkill")}constructor(t){super(Zh,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new efe(r))}};d();var ZUe=Ze(Hf());var eqe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:Ea}))}),tfe=class{constructor(t){this.turnContext=t}static{s(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(Zb,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new Yt(["The latest test run produced the following failures and errors:"]);return new Yt([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(Qn),n=[],i=this.groupFailuresByFile(t);for(let[o,a]of i.entries()){let l=await r.getOrReadTextDocument({uri:o});if(await this.turnContext.collectFile(Zb,o,ys(l)),l.status==="valid"){let c=r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new Yt(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let o=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new Yt([ZUe.default`\n\n- Test ${o}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new Yt(n)}appendCode(t,r,n){let i=[new Yt([`
The code of file \`${r}\` is:
`]),.6],o=[new Yt([["```"+n.detectedLanguageId,1],[lf(n.getText()),.9],["```",1]]),.7];return new Yt([[t,1],i,o])}},Zb="test-failures",Gj=class extends jl{static{s(this,"TestFailuresSkill")}constructor(t){super(Zb,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new tfe(r))}};var hm=Ze(Hf());var Vl=class{constructor(t,r,n=[],i=[],o=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=o;this.confirmationRequest=a}static{s(this,"PromptTemplateResponse")}},eE=class{constructor(t,r,n,i,o=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=o;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{s(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}requiredSkills(){return this.skills}},wBt=new eE("tests","Generate unit tests","Generate Tests",hm.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[Zh,Zb],["chat-panel","editor"]),_Bt=new eE("simplify","Simplify the code","Simplify This",hm.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],hm.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),SBt=new eE("fix","Fix problems and compile errors","Fix This",hm.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[f3],["editor","chat-panel","inline"],hm.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),RBt=new eE("explain","Explain how the code works","Explain This",hm.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],hm.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),kBt=new eE("doc","Document the current selection of code","Generate Docs",hm.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],hm.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),rfe=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{s(this,"FeedbackPromptTemplate")}response(t){let r=ofe(t.conversation),n=hm.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new Vl(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new Vl(n)}},BBt=new rfe,nfe=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{s(this,"HelpPromptTemplate")}response(t){let r=ife(t.ctx).filter(i=>i!=this),n=hm.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new Vl(n)}},DBt=new nfe;function hB(){return[wBt,_Bt,SBt,RBt,kBt,BBt,DBt,...zUe()]}s(hB,"getPromptTemplates");function ife(e){let t=hB();return!h_(e)&&!nh(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}s(ife,"getUserFacingPromptTemplates");var sfe=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{s(this,"ConversationHolder")}},Gi=class{constructor(t){this.ctx=t;this.conversations=new Sn(100)}static{s(this,"Conversations")}create(t,{source:r,userLanguage:n,conversationId:i}={}){let o=new Rj([],r??"panel",n,i);return this.conversations.set(o.id,new sfe(o,t)),o}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,o,a,l,c){let u=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.request.activeEditor=i),o&&(r.workspaceFolder=o),a&&a.length>0&&(r.workspaceFolders=a),l&&l.length>0&&(r.ignoredSkills=l.map(f=>({skillId:f}))),c&&(r.agent={agentSlug:c.agentSlug},r.confirmationResponse=c),await this.determineAndApplyAgent(u,r),await this.determineAndApplyTemplate(u,r),u.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&cn(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(cn(r.request.message),"@");(await a1(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(cn(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(cn(r.request.message),"/"),o=hB().find(a=>a.id===n);if(o){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=o.instructions?o.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),o=i.join(" ");return[n.replace(r,""),o]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(nl).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){for(let r of this.getAll()){let n=r.findTurn(t);if(n)return{conversation:r,turn:n}}}};d();function gqe(e){return typeof e>"u"||e===null}s(gqe,"isNothing");function PBt(e){return typeof e=="object"&&e!==null}s(PBt,"isObject");function NBt(e){return Array.isArray(e)?e:gqe(e)?[]:[e]}s(NBt,"toArray");function LBt(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}s(LBt,"extend");function FBt(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}s(FBt,"repeat");function MBt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}s(MBt,"isNegativeZero");var QBt=gqe,OBt=PBt,UBt=NBt,qBt=FBt,WBt=MBt,GBt=LBt,yl={isNothing:QBt,isObject:OBt,toArray:UBt,repeat:qBt,isNegativeZero:WBt,extend:GBt};function Aqe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}s(Aqe,"formatError");function gB(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Aqe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}s(gB,"YAMLException$1");gB.prototype=Object.create(Error.prototype);gB.prototype.constructor=gB;gB.prototype.toString=s(function(t){return this.name+": "+Aqe(this,t)},"toString");var Ru=gB;function afe(e,t,r,n,i){var o="",a="",l=Math.floor(i/2)-1;return n-t>l&&(o=" ... ",t=n-l+o.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+o.length}}s(afe,"getLine");function lfe(e,t){return yl.repeat(" ",t-e.length)+e}s(lfe,"padStart");function HBt(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,a=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=afe(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=yl.repeat(" ",t.indent)+lfe((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=afe(e.buffer,n[a],i[a],e.position,m),l+=yl.repeat(" ",t.indent)+lfe((e.line+1).toString(),f)+" | "+u.str+`
`,l+=yl.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=afe(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=yl.repeat(" ",t.indent)+lfe((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}s(HBt,"makeSnippet");var jBt=HBt,VBt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],$Bt=["scalar","sequence","mapping"];function zBt(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}s(zBt,"compileStyleAliases");function YBt(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(VBt.indexOf(r)===-1)throw new Ru('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=zBt(t.styleAliases||null),$Bt.indexOf(this.kind)===-1)throw new Ru('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}s(YBt,"Type$1");var Xc=YBt;function tqe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=a)}),r[i]=n}),r}s(tqe,"compileList");function KBt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(s(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}s(KBt,"compileMap");function ufe(e){return this.extend(e)}s(ufe,"Schema$1");ufe.prototype.extend=s(function(t){var r=[],n=[];if(t instanceof Xc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ru("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Xc))throw new Ru("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Ru("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Ru("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Xc))throw new Ru("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(ufe.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=tqe(i,"implicit"),i.compiledExplicit=tqe(i,"explicit"),i.compiledTypeMap=KBt(i.compiledImplicit,i.compiledExplicit),i},"extend");var JBt=ufe,XBt=new Xc("tag:yaml.org,2002:str",{kind:"scalar",construct:s(function(e){return e!==null?e:""},"construct")}),ZBt=new Xc("tag:yaml.org,2002:seq",{kind:"sequence",construct:s(function(e){return e!==null?e:[]},"construct")}),eDt=new Xc("tag:yaml.org,2002:map",{kind:"mapping",construct:s(function(e){return e!==null?e:{}},"construct")}),tDt=new JBt({explicit:[XBt,ZBt,eDt]});function rDt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}s(rDt,"resolveYamlNull");function nDt(){return null}s(nDt,"constructYamlNull");function iDt(e){return e===null}s(iDt,"isNull");var oDt=new Xc("tag:yaml.org,2002:null",{kind:"scalar",resolve:rDt,construct:nDt,predicate:iDt,represent:{canonical:s(function(){return"~"},"canonical"),lowercase:s(function(){return"null"},"lowercase"),uppercase:s(function(){return"NULL"},"uppercase"),camelcase:s(function(){return"Null"},"camelcase"),empty:s(function(){return""},"empty")},defaultStyle:"lowercase"});function sDt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}s(sDt,"resolveYamlBoolean");function aDt(e){return e==="true"||e==="True"||e==="TRUE"}s(aDt,"constructYamlBoolean");function lDt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}s(lDt,"isBoolean");var cDt=new Xc("tag:yaml.org,2002:bool",{kind:"scalar",resolve:sDt,construct:aDt,predicate:lDt,represent:{lowercase:s(function(e){return e?"true":"false"},"lowercase"),uppercase:s(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:s(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function uDt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}s(uDt,"isHexCode");function fDt(e){return 48<=e&&e<=55}s(fDt,"isOctCode");function dDt(e){return 48<=e&&e<=57}s(dDt,"isDecCode");function mDt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!uDt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!fDt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!dDt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}s(mDt,"resolveYamlInteger");function hDt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}s(hDt,"constructYamlInteger");function pDt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!yl.isNegativeZero(e)}s(pDt,"isInteger");var gDt=new Xc("tag:yaml.org,2002:int",{kind:"scalar",resolve:mDt,construct:hDt,predicate:pDt,represent:{binary:s(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:s(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:s(function(e){return e.toString(10)},"decimal"),hexadecimal:s(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ADt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function yDt(e){return!(e===null||!ADt.test(e)||e[e.length-1]==="_")}s(yDt,"resolveYamlFloat");function CDt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}s(CDt,"constructYamlFloat");var xDt=/^[-+]?[0-9]+e/;function vDt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yl.isNegativeZero(e))return"-0.0";return r=e.toString(10),xDt.test(r)?r.replace("e",".e"):r}s(vDt,"representYamlFloat");function bDt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||yl.isNegativeZero(e))}s(bDt,"isFloat");var EDt=new Xc("tag:yaml.org,2002:float",{kind:"scalar",resolve:yDt,construct:CDt,predicate:bDt,represent:vDt,defaultStyle:"lowercase"}),IDt=tDt.extend({implicit:[oDt,cDt,gDt,EDt]}),TDt=IDt,yqe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Cqe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function wDt(e){return e===null?!1:yqe.exec(e)!==null||Cqe.exec(e)!==null}s(wDt,"resolveYamlTimestamp");function _Dt(e){var t,r,n,i,o,a,l,c=0,u=null,f,m,h;if(t=yqe.exec(e),t===null&&(t=Cqe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,o,a,l,c)),u&&h.setTime(h.getTime()-u),h}s(_Dt,"constructYamlTimestamp");function SDt(e){return e.toISOString()}s(SDt,"representYamlTimestamp");var RDt=new Xc("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:wDt,construct:_Dt,instanceOf:Date,represent:SDt});function kDt(e){return e==="<<"||e===null}s(kDt,"resolveYamlMerge");var BDt=new Xc("tag:yaml.org,2002:merge",{kind:"scalar",resolve:kDt}),pfe=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function DDt(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=pfe;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}s(DDt,"resolveYamlBinary");function PDt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=pfe,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}s(PDt,"constructYamlBinary");function NDt(e){var t="",r=0,n,i,o=e.length,a=pfe;for(n=0;n<o;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}s(NDt,"representYamlBinary");function LDt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}s(LDt,"isBinary");var FDt=new Xc("tag:yaml.org,2002:binary",{kind:"scalar",resolve:DDt,construct:PDt,predicate:LDt,represent:NDt}),MDt=Object.prototype.hasOwnProperty,QDt=Object.prototype.toString;function ODt(e){if(e===null)return!0;var t=[],r,n,i,o,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,QDt.call(i)!=="[object Object]")return!1;for(o in i)if(MDt.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}s(ODt,"resolveYamlOmap");function UDt(e){return e!==null?e:[]}s(UDt,"constructYamlOmap");var qDt=new Xc("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ODt,construct:UDt}),WDt=Object.prototype.toString;function GDt(e){if(e===null)return!0;var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],WDt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}s(GDt,"resolveYamlPairs");function HDt(e){if(e===null)return[];var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}s(HDt,"constructYamlPairs");var jDt=new Xc("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:GDt,construct:HDt}),VDt=Object.prototype.hasOwnProperty;function $Dt(e){if(e===null)return!0;var t,r=e;for(t in r)if(VDt.call(r,t)&&r[t]!==null)return!1;return!0}s($Dt,"resolveYamlSet");function zDt(e){return e!==null?e:{}}s(zDt,"constructYamlSet");var YDt=new Xc("tag:yaml.org,2002:set",{kind:"mapping",resolve:$Dt,construct:zDt}),xqe=TDt.extend({implicit:[RDt,BDt],explicit:[FDt,qDt,jDt,YDt]}),m3=Object.prototype.hasOwnProperty,Hj=1,vqe=2,bqe=3,jj=4,cfe=1,KDt=2,rqe=3,JDt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,XDt=/[\x85\u2028\u2029]/,ZDt=/[,\[\]\{\}]/,Eqe=/^(?:!|!!|![a-z\-]+!)$/i,Iqe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function nqe(e){return Object.prototype.toString.call(e)}s(nqe,"_class");function l1(e){return e===10||e===13}s(l1,"is_EOL");function rE(e){return e===9||e===32}s(rE,"is_WHITE_SPACE");function ku(e){return e===9||e===32||e===10||e===13}s(ku,"is_WS_OR_EOL");function hT(e){return e===44||e===91||e===93||e===123||e===125}s(hT,"is_FLOW_INDICATOR");function ePt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}s(ePt,"fromHexCode");function tPt(e){return e===120?2:e===117?4:e===85?8:0}s(tPt,"escapedHexLen");function rPt(e){return 48<=e&&e<=57?e-48:-1}s(rPt,"fromDecimalCode");function iqe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}s(iqe,"simpleEscapeSequence");function nPt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}s(nPt,"charFromCodepoint");var Tqe=new Array(256),wqe=new Array(256);for(tE=0;tE<256;tE++)Tqe[tE]=iqe(tE)?1:0,wqe[tE]=iqe(tE);var tE;function iPt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||xqe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}s(iPt,"State$1");function _qe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=jBt(r),new Ru(t,r)}s(_qe,"generateError");function rn(e,t){throw _qe(e,t)}s(rn,"throwError");function Vj(e,t){e.onWarning&&e.onWarning.call(null,_qe(e,t))}s(Vj,"throwWarning");var oqe={YAML:s(function(t,r,n){var i,o,a;t.version!==null&&rn(t,"duplication of %YAML directive"),n.length!==1&&rn(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&rn(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&rn(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&Vj(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:s(function(t,r,n){var i,o;n.length!==2&&rn(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],Eqe.test(i)||rn(t,"ill-formed tag handle (first argument) of the TAG directive"),m3.call(t.tagMap,i)&&rn(t,'there is a previously declared suffix for "'+i+'" tag handle'),Iqe.test(o)||rn(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{rn(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o},"handleTagDirective")};function d3(e,t,r,n){var i,o,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,o=l.length;i<o;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||rn(e,"expected valid JSON character");else JDt.test(l)&&rn(e,"the stream contains non-printable characters");e.result+=l}}s(d3,"captureSegment");function sqe(e,t,r,n){var i,o,a,l;for(yl.isObject(r)||rn(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)o=i[a],m3.call(t,o)||(t[o]=r[o],n[o]=!0)}s(sqe,"mergeMappings");function pT(e,t,r,n,i,o,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&rn(e,"nested arrays are not supported inside keys"),typeof i=="object"&&nqe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&nqe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,f=o.length;u<f;u+=1)sqe(e,t,o[u],r);else sqe(e,t,o,r);else!e.json&&!m3.call(r,i)&&m3.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,rn(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}s(pT,"storeMappingPair");function gfe(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):rn(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}s(gfe,"readLineBreak");function il(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;rE(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(l1(i))for(gfe(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Vj(e,"deficient indentation"),n}s(il,"skipSeparationSpace");function Yj(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ku(r)))}s(Yj,"testDocumentSeparator");function Afe(e,t){t===1?e.result+=" ":t>1&&(e.result+=yl.repeat(`
`,t-1))}s(Afe,"writeFoldedLines");function oPt(e,t,r){var n,i,o,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),ku(p)||hT(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),ku(i)||r&&hT(i)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),ku(i)||r&&hT(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),ku(n))break}else{if(e.position===e.lineStart&&Yj(e)||r&&hT(p))break;if(l1(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,il(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(d3(e,o,a,!1),Afe(e,e.line-c),o=a=e.position,l=!1),rE(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return d3(e,o,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}s(oPt,"readPlainScalar");function sPt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(d3(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else l1(r)?(d3(e,n,i,!0),Afe(e,il(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Yj(e)?rn(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);rn(e,"unexpected end of the stream within a single quoted scalar")}s(sPt,"readSingleQuotedScalar");function aPt(e,t){var r,n,i,o,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return d3(e,r,e.position,!0),e.position++,!0;if(l===92){if(d3(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),l1(l))il(e,!1,t);else if(l<256&&Tqe[l])e.result+=wqe[l],e.position++;else if((a=tPt(l))>0){for(i=a,o=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=ePt(l))>=0?o=(o<<4)+a:rn(e,"expected hexadecimal character");e.result+=nPt(o),e.position++}else rn(e,"unknown escape sequence");r=n=e.position}else l1(l)?(d3(e,r,n,!0),Afe(e,il(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Yj(e)?rn(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}rn(e,"unexpected end of the stream within a double quoted scalar")}s(aPt,"readDoubleQuotedScalar");function lPt(e,t){var r=!0,n,i,o,a=e.tag,l,c=e.anchor,u,f,m,h,p,g=Object.create(null),y,v,b,E;if(E=e.input.charCodeAt(e.position),E===91)f=93,p=!1,l=[];else if(E===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),E=e.input.charCodeAt(++e.position);E!==0;){if(il(e,!0,t),E=e.input.charCodeAt(e.position),E===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?E===44&&rn(e,"expected the node content, but found ','"):rn(e,"missed comma between flow collection entries"),v=y=b=null,m=h=!1,E===63&&(u=e.input.charCodeAt(e.position+1),ku(u)&&(m=h=!0,e.position++,il(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,gT(e,t,Hj,!1,!0),v=e.tag,y=e.result,il(e,!0,t),E=e.input.charCodeAt(e.position),(h||e.line===n)&&E===58&&(m=!0,E=e.input.charCodeAt(++e.position),il(e,!0,t),gT(e,t,Hj,!1,!0),b=e.result),p?pT(e,l,g,v,y,b,n,i,o):m?l.push(pT(e,null,g,v,y,b,n,i,o)):l.push(y),il(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}rn(e,"unexpected end of the stream within a flow collection")}s(lPt,"readFlowCollection");function cPt(e,t){var r,n,i=cfe,o=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)cfe===i?i=m===43?rqe:KDt:rn(e,"repeat of a chomping mode identifier");else if((f=rPt(m))>=0)f===0?rn(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?rn(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(rE(m)){do m=e.input.charCodeAt(++e.position);while(rE(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!l1(m)&&m!==0)}for(;m!==0;){for(gfe(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),l1(m)){c++;continue}if(e.lineIndent<l){i===rqe?e.result+=yl.repeat(`
`,o?1+c:c):i===cfe&&o&&(e.result+=`
`);break}for(n?rE(m)?(u=!0,e.result+=yl.repeat(`
`,o?1+c:c)):u?(u=!1,e.result+=yl.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=yl.repeat(`
`,c):e.result+=yl.repeat(`
`,o?1+c:c),o=!0,a=!0,c=0,r=e.position;!l1(m)&&m!==0;)m=e.input.charCodeAt(++e.position);d3(e,r,e.position,!1)}return!0}s(cPt,"readBlockScalar");function aqe(e,t){var r,n=e.tag,i=e.anchor,o=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,rn(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!ku(a))));){if(l=!0,e.position++,il(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,gT(e,t,bqe,!1,!0),o.push(e.result),il(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)rn(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}s(aqe,"readBlockSequence");function uPt(e,t,r){var n,i,o,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,g=null,y=null,v=!1,b=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),E=e.input.charCodeAt(e.position);E!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,rn(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(E===63||E===58)&&ku(n))E===63?(v&&(pT(e,m,h,p,g,null,a,l,c),p=g=y=null),b=!0,v=!0,i=!0):v?(v=!1,i=!0):rn(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=n;else{if(a=e.line,l=e.lineStart,c=e.position,!gT(e,r,vqe,!1,!0))break;if(e.line===o){for(E=e.input.charCodeAt(e.position);rE(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),ku(E)||rn(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(pT(e,m,h,p,g,null,a,l,c),p=g=y=null),b=!0,v=!1,i=!1,p=e.tag,g=e.result;else if(b)rn(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(b)rn(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(v&&(a=e.line,l=e.lineStart,c=e.position),gT(e,t,jj,!0,i)&&(v?g=e.result:y=e.result),v||(pT(e,m,h,p,g,y,a,l,c),p=g=y=null),il(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&E!==0)rn(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&pT(e,m,h,p,g,null,a,l,c),b&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),b}s(uPt,"readBlockMapping");function fPt(e){var t,r=!1,n=!1,i,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&rn(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):rn(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ku(a);)a===33&&(n?rn(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Eqe.test(i)||rn(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),ZDt.test(o)&&rn(e,"tag suffix cannot contain flow indicator characters")}o&&!Iqe.test(o)&&rn(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{rn(e,"tag name is malformed: "+o)}return r?e.tag=o:m3.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:rn(e,'undeclared tag handle "'+i+'"'),!0}s(fPt,"readTagProperty");function dPt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&rn(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ku(r)&&!hT(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&rn(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}s(dPt,"readAnchorProperty");function mPt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ku(n)&&!hT(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&rn(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),m3.call(e.anchorMap,r)||rn(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],il(e,!0,-1),!0}s(mPt,"readAlias");function gT(e,t,r,n,i){var o,a,l,c=1,u=!1,f=!1,m,h,p,g,y,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=l=jj===r||bqe===r,n&&il(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;fPt(e)||dPt(e);)il(e,!0,-1)?(u=!0,l=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||jj===r)&&(Hj===r||vqe===r?y=t:y=t+1,v=e.position-e.lineStart,c===1?l&&(aqe(e,v)||uPt(e,v,y))||lPt(e,y)?f=!0:(a&&cPt(e,y)||sPt(e,y)||aPt(e,y)?f=!0:mPt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&rn(e,"alias node should not have any properties")):oPt(e,y,Hj===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&aqe(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&rn(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(g=e.implicitTypes[m],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(m3.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){g=p[m];break}g||rn(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&rn(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):rn(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}s(gT,"composeNode");function hPt(e){var t=e.position,r,n,i,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(il(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!ku(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&rn(e,"directive name must not be less than one character in length");a!==0;){for(;rE(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!l1(a));break}if(l1(a))break;for(r=e.position;a!==0&&!ku(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&gfe(e),m3.call(oqe,n)?oqe[n](e,n,i):Vj(e,'unknown document directive "'+n+'"')}if(il(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,il(e,!0,-1)):o&&rn(e,"directives end mark is expected"),gT(e,e.lineIndent-1,jj,!1,!0),il(e,!0,-1),e.checkLineBreaks&&XDt.test(e.input.slice(t,e.position))&&Vj(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Yj(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,il(e,!0,-1));return}if(e.position<e.length-1)rn(e,"end of the stream or a document separator is expected");else return}s(hPt,"readDocument");function Sqe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new iPt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,rn(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)hPt(r);return r.documents}s(Sqe,"loadDocuments");function pPt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Sqe(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}s(pPt,"loadAll$1");function gPt(e,t){var r=Sqe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ru("expected a single document in the stream, but found more")}}s(gPt,"load$1");var APt=pPt,yPt=gPt,Rqe={loadAll:APt,load:yPt},kqe=Object.prototype.toString,Bqe=Object.prototype.hasOwnProperty,yfe=65279,CPt=9,AB=10,xPt=13,vPt=32,bPt=33,EPt=34,ffe=35,IPt=37,TPt=38,wPt=39,_Pt=42,Dqe=44,SPt=45,$j=58,RPt=61,kPt=62,BPt=63,DPt=64,Pqe=91,Nqe=93,PPt=96,Lqe=123,NPt=124,Fqe=125,Zc={};Zc[0]="\\0";Zc[7]="\\a";Zc[8]="\\b";Zc[9]="\\t";Zc[10]="\\n";Zc[11]="\\v";Zc[12]="\\f";Zc[13]="\\r";Zc[27]="\\e";Zc[34]='\\"';Zc[92]="\\\\";Zc[133]="\\N";Zc[160]="\\_";Zc[8232]="\\L";Zc[8233]="\\P";var LPt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],FPt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function MPt(e,t){var r,n,i,o,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&Bqe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}s(MPt,"compileStyleMap");function QPt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Ru("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+yl.repeat("0",n-t.length)+t}s(QPt,"encodeHex");var OPt=1,yB=2;function UPt(e){this.schema=e.schema||xqe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=yl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=MPt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?yB:OPt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}s(UPt,"State");function lqe(e,t){for(var r=yl.repeat(" ",t),n=0,i=-1,o="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(o+=r),o+=a;return o}s(lqe,"indentString");function dfe(e,t){return`
`+yl.repeat(" ",e.indent*t)}s(dfe,"generateNextLine");function qPt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}s(qPt,"testImplicitResolving");function zj(e){return e===vPt||e===CPt}s(zj,"isWhitespace");function CB(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==yfe||65536<=e&&e<=1114111}s(CB,"isPrintable");function cqe(e){return CB(e)&&e!==yfe&&e!==xPt&&e!==AB}s(cqe,"isNsCharOrWhitespace");function uqe(e,t,r){var n=cqe(e),i=n&&!zj(e);return(r?n:n&&e!==Dqe&&e!==Pqe&&e!==Nqe&&e!==Lqe&&e!==Fqe)&&e!==ffe&&!(t===$j&&!i)||cqe(t)&&!zj(t)&&e===ffe||t===$j&&i}s(uqe,"isPlainSafe");function WPt(e){return CB(e)&&e!==yfe&&!zj(e)&&e!==SPt&&e!==BPt&&e!==$j&&e!==Dqe&&e!==Pqe&&e!==Nqe&&e!==Lqe&&e!==Fqe&&e!==ffe&&e!==TPt&&e!==_Pt&&e!==bPt&&e!==NPt&&e!==RPt&&e!==kPt&&e!==wPt&&e!==EPt&&e!==IPt&&e!==DPt&&e!==PPt}s(WPt,"isPlainSafeFirst");function GPt(e){return!zj(e)&&e!==$j}s(GPt,"isPlainSafeLast");function pB(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}s(pB,"codePointAt");function Mqe(e){var t=/^\n* /;return t.test(e)}s(Mqe,"needIndentIndicator");var Qqe=1,mfe=2,Oqe=3,Uqe=4,mT=5;function HPt(e,t,r,n,i,o,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,g=-1,y=WPt(pB(e,0))&&GPt(pB(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=pB(e,c),!CB(u))return mT;y=y&&uqe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=pB(e,c),u===AB)m=!0,p&&(h=h||c-g-1>n&&e[g+1]!==" ",g=c);else if(!CB(u))return mT;y=y&&uqe(u,f,l),f=u}h=h||p&&c-g-1>n&&e[g+1]!==" "}return!m&&!h?y&&!a&&!i(e)?Qqe:o===yB?mT:mfe:r>9&&Mqe(e)?mT:a?o===yB?mT:mfe:h?Uqe:Oqe}s(HPt,"chooseScalarStyle");function jPt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===yB?'""':"''";if(!e.noCompatMode&&(LPt.indexOf(t)!==-1||FPt.test(t)))return e.quotingType===yB?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return qPt(e,u)}switch(s(c,"testAmbiguity"),HPt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case Qqe:return t;case mfe:return"'"+t.replace(/'/g,"''")+"'";case Oqe:return"|"+fqe(t,e.indent)+dqe(lqe(t,o));case Uqe:return">"+fqe(t,e.indent)+dqe(lqe(VPt(t,a),o));case mT:return'"'+$Pt(t)+'"';default:throw new Ru("impossible error: invalid scalar style")}}()}s(jPt,"writeScalar");function fqe(e,t){var r=Mqe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}s(fqe,"blockHeader");function dqe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}s(dqe,"dropEndingNewline");function VPt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,mqe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",o,a;a=r.exec(e);){var l=a[1],c=a[2];o=c[0]===" ",n+=l+(!i&&!o&&c!==""?`
`:"")+mqe(c,t),i=o}return n}s(VPt,"foldString");function mqe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(o=a>i?a:l,c+=`
`+e.slice(i,o),i=o+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}s(mqe,"foldLine");function $Pt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=pB(e,i),n=Zc[r],!n&&CB(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||QPt(r);return t}s($Pt,"escapeString");function zPt(e,t,r){var n="",i=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(g2(e,t,l,!1,!1)||typeof l>"u"&&g2(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}s(zPt,"writeFlowSequence");function hqe(e,t,r,n){var i="",o=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(g2(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&g2(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=dfe(e,t)),e.dump&&AB===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}s(hqe,"writeBlockSequence");function YPt(e,t,r){var n="",i=e.tag,o=Object.keys(r),a,l,c,u,f;for(a=0,l=o.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),g2(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),g2(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}s(YPt,"writeFlowMapping");function KPt(e,t,r,n){var i="",o=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Ru("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=dfe(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),g2(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&AB===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=dfe(e,t)),g2(e,t+1,f,!0,m)&&(e.dump&&AB===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=o,e.dump=i||"{}"}s(KPt,"writeBlockMapping");function pqe(e,t,r){var n,i,o,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,a=i.length;o<a;o+=1)if(l=i[o],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,kqe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(Bqe.call(l.represent,c))n=l.represent[c](t,c);else throw new Ru("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}s(pqe,"detectType");function g2(e,t,r,n,i,o,a){e.tag=null,e.dump=r,pqe(e,r,!1)||pqe(e,r,!0);var l=kqe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(KPt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(YPt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?hqe(e,t-1,e.dump,i):hqe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(zPt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&jPt(e,e.dump,t,o,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ru("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}s(g2,"writeNode");function JPt(e,t){var r=[],n=[],i,o;for(hfe(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}s(JPt,"getDuplicateReferences");function hfe(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)hfe(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)hfe(e[n[i]],t,r)}s(hfe,"inspectNode");function XPt(e,t){t=t||{};var r=new UPt(t);r.noRefs||JPt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),g2(r,0,n,!0,!0)?r.dump+`
`:""}s(XPt,"dump$1");var ZPt=XPt,eNt={dump:ZPt};function Cfe(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}s(Cfe,"renamed");var r8n=Rqe.load,n8n=Rqe.loadAll,xfe=eNt.dump;var i8n=Cfe("safeLoad","load"),o8n=Cfe("safeLoadAll","loadAll"),s8n=Cfe("safeDump","dump");var nE=Ze(Hf());var vfe=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{s(this,"SkillDump")}},$l=class{constructor(){this.dump=new Sn(25);this.promptsDump=new Sn(1)}static{s(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new vfe,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function qqe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}s(qqe,"filterConversationTurns");function ofe(e){return qqe(e).getLastTurn()?.id}s(ofe,"getLastTurnId");async function YUe(e){let t=qqe(e.conversation),r=ofe(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get($l).getDump(r),o=nNt(i,t.turns);Zn.debug(e.ctx,`conversation.dump
`,`
`+o);let a=await iNt(i,e.ctx);return nE.default`
        ${rNt(e.conversation,r)}
        ${tNt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${o}
        \`\`\`${a?`
${a}`:""}
        `}s(YUe,"getConversationDump");function tNt(e){let t=e.get(pn);return nE.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}s(tNt,"getEditorInfoDumpMessage");function rNt(e,t){return nE.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}s(rNt,"getInfoDumpMessage");async function KUe(e,t,r){let n=e.ctx.get(nl),i="# Available skills",o=n.getDescriptors().filter(a=>e.ctx.get(Gi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(o=o.filter(a=>a.id===r)),o.length===0)return`No skill with id ${r} available`;for(let a of o)i+=`
- ${a.id}`;e.turn.request.message&&cn(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${cn(e.turn.request.message)}`);for(let a of o){i+=`
## ${a.id}`,i+=nE.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=nE.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${xfe(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=nE.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}s(KUe,"getSkillsDump");function nNt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let o={request:cn(n.request.message)};return n.response&&(o.response=cn(n.response.message)),o})};return xfe(r)}s(nNt,"toSimulationFormat");async function iNt(e,t){let r=e.resolutions.map(o=>o.files).flat(),n=r.filter((o,a)=>o&&r.indexOf(o)===a),i;for(let o of n)if(o&&o.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(Qn).getOrReadTextDocument(o),l;a.status==="valid"&&(l=a.document);let c=l?.getText();Zn.debug(t,`conversation.dump.file
`,c),i+=`
**${o.uri}**

\`\`\`${l?.detectedLanguageId}
${c}
\`\`\``}return i}s(iNt,"fileDump");d();function bfe(e,t){let r=Xi(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(cn(i.content)).length);return n+=t.baseTokensPerCompletion,n}s(bfe,"countMessagesTokens");d();function Wqe(e,t,r,n,i){let o=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[o,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}s(Wqe,"chatBasePrompt");d();d();d();d();d();var oNt=".github/copilot-instructions.md",sNt=".github/git-commit-instructions.md",Kj=class{static{s(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,o,a){try{let l=Po(r.uri,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&o.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let o=new qg(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(o,l,oNt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(o,l,sNt,void 0,i,0)),c});return await Promise.all(a),i}};var AT=class{static{s(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await Kj.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let o of t){let a=this.createInstructionElement(o,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function Gqe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let o of t)o.startsWith("```")?(n?(r.push([lf(i.join(`
`)),1]),i=[],r.push([new Yt([o]),1])):r.push([new Yt([o]),1]),n=!n):n?i.push(o):r.push([new Yt([o]),.8]);return n&&(r.push([lf(i.join(`
`)),1]),r.push([new Yt(["```"]),1])),new Yt(r)}s(Gqe,"fromMessage");function yT(e){let t=Efe(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],o=Hqe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?Hqe(i.response):"",l=o;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(Gqe(l))}return r.length>0?new Yt([[new Yt(["Consider the following conversation history:"]),1],[u3(r,"inverseLinear"),1]]):null}s(yT,"fromHistory");var aNt=5;function Efe(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&cn(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,aNt).reverse()}s(Efe,"filterTurns");function Hqe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=cn(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${cn(e.message)}`}s(Hqe,"formatTurnMessage");d();d();d();var lNt=4,Ife={skillIds:[]},Jj=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{s(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,o){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(di).getBestChatModelConfig(ps("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(xc).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:o,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(rl).inspectFetchResult(h),this.handleResult(h,f,cn(a),o,u.toolConfig)}else return Ife}handleResult(t,r,n,i,o){if(t.type!=="success")return this.telemetryError(r,t),Ife;let l;if(t.toolCalls&&t.toolCalls.length>0)l=o.extractArguments(t.toolCalls[0]).skillIds?.slice(0,lNt);else return Kr.error(this.ctx,"Missing tool call in meta prompt response"),Ife;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return jt(this.ctx,`${lu(i)}.metaPrompt`,c,0),jt(this.ctx,`${lu(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});jt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var Xj=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{s(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return me(t,r,"org.springframework.boot","Spring Boot"),me(t,r,"jakarta.jakartaee-api","Jakarta EE"),me(t,r,"javax:javaee-api","Java EE"),me(t,r,"org.apache.struts:struts2-core","Apache Struts"),me(t,r,"org.hibernate:hibernate-core","Hibernate"),me(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),me(t,r,"javax.faces:jsf-api","JSF"),me(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return me(t,r,"com.google.guava","Google Guava"),me(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),me(t,r,"org.apache.commons:commons-io","Apache Commons IO"),me(t,r,"joda-time:joda-time","Joda-Time"),me(t,r,"com.google.code.gson:gson","Google Gson"),me(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),me(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),me(t,r,"org.apache.commons:commons-net","Apache Commons Net"),me(t,r,"org.apache.poi:poi","Apache POI"),me(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),me(t,r,"junit:junit","JUnit"),me(t,r,"org.testng:testng","TestNG"),me(t,r,"org.spockframework:spock-core","Spock"),me(t,r,"io.cucumber:cucumber-java","Cucumber"),me(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return me(t,r,"org.mockito","Mockito"),me(t,r,"org.assertj","AssertJ"),me(t,r,"org.hamcrest","Hamcrest"),me(t,r,"org.powermock","PowerMock"),me(t,r,"org.jmock","JMock"),me(t,r,"org.easymock","EasyMock"),me(t,r,"org.jmockit:jmockit","JMockit"),me(t,r,"com.github.tomakehurst:wiremock","WireMock"),me(t,r,"org.dbunit:dbunit","DBUnit"),me(t,r,"com.icegreen:greenmail","GreenMail"),me(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),me(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),me(t,r,"io.rest-assured:rest-assured","Rest-Assured"),me(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),me(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},Zj=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{s(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"@types/node","Node.js"),me(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||me(t,r,"react","React"),me(t,r,"angular","Angular"),me(t,r,"vue","Vue.js"),me(t,r,"ember","Ember.js"),me(t,r,"backbone","Backbone.js"),me(t,r,"meteor","Meteor"),me(t,r,"polymer","Polymer"),me(t,r,"aurelia","Aurelia"),me(t,r,"knockout","Knockout.js"),me(t,r,"dojo","Dojo Toolkit"),me(t,r,"mithril","Mithril.js"),me(t,r,"marionette","Marionette.js"),me(t,r,"marko","Marko.js"),me(t,r,"svelte","Svelte"),me(t,r,"hyperapp","Hyperapp"),me(t,r,"inferno","Inferno.js"),me(t,r,"preact","Preact"),me(t,r,"riot","Riot.js"),me(t,r,"moon","Moon.js"),me(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return me(t,r,"lodash","Lodash"),me(t,r,"moment","Moment.js"),me(t,r,"axios","Axios"),me(t,r,"redux","Redux"),me(t,r,"recoil","Recoil"),me(t,r,"jquery","jQuery"),me(t,r,"d3","D3.js"),me(t,r,"underscore","Underscore.js"),me(t,r,"ramda","Ramda"),me(t,r,"immutable","Immutable.js"),me(t,r,"rxjs","RxJS"),me(t,r,"three","Three.js"),me(t,r,"socket.io","Socket.IO"),me(t,r,"express","Express.js"),me(t,r,"next","Next.js"),me(t,r,"puppeteer","Puppeteer"),me(t,r,"cheerio","Cheerio"),me(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"jest","Jest"),me(t,r,"mocha","Mocha"),me(t,r,"jasmine","Jasmine"),me(t,r,"ava","AVA"),me(t,r,"qunit","QUnit"),me(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return me(t,r,"chai","Chai"),me(t,r,"sinon","Sinon"),me(t,r,"enzyme","Enzyme"),me(t,r,"protractor","Protractor"),me(t,r,"supertest","Supertest"),me(t,r,"nock","Nock"),me(t,r,"cypress","Cypress"),me(t,r,"@testing-library/react","React Testing Library"),r}},eV=class{constructor(){this.languageId="go"}static{s(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"github.com/gorilla/mux","Gorilla Mux"),me(t,r,"github.com/go-chi/chi","Chi"),me(t,r,"github.com/gin-gonic/gin","Gin"),me(t,r,"github.com/labstack/echo","Echo"),me(t,r,"github.com/revel/revel","Revel"),me(t,r,"github.com/astaxie/beego","Beego"),me(t,r,"github.com/go-martini/martini","Martini"),me(t,r,"github.com/gobuffalo/buffalo","Buffalo"),me(t,r,"github.com/goji/goji","Goji"),me(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return me(t,r,"net/http","net/http"),me(t,r,"fmt","fmt"),me(t,r,"io","io"),me(t,r,"time","time"),me(t,r,"math","math"),me(t,r,"strconv","strconv"),me(t,r,"strings","strings"),me(t,r,"sort","sort"),me(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"github.com/onsi/ginkgo","ginkgo"),me(t,r,"github.com/onsi/gomega","gomega"),me(t,r,"github.com/stretchr/testify","testify"),me(t,r,"gopkg.in/check.v1","gocheck"),me(t,r,"github.com/franela/goblin","goblin"),me(t,r,"github.com/DATA-DOG/godog","godog"),me(t,r,"github.com/stesla/gospec","gospec"),me(t,r,"github.com/rjeczalik/gotest","gotest"),me(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return me(t,r,"github.com/stretchr/testify","Testify"),me(t,r,"github.com/smartystreets/goconvey","GoConvey"),me(t,r,"github.com/onsi/ginkgo","Ginkgo"),me(t,r,"github.com/golang/mock","GoMock"),me(t,r,"gopkg.in/check.v1","GoCheck"),me(t,r,"github.com/franela/goblin","Goblin"),me(t,r,"github.com/DATA-DOG/godog","GoDog"),me(t,r,"github.com/onsi/gomega","Gomega"),me(t,r,"github.com/stesla/gospec","GoSpec"),me(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},tV=class{constructor(){this.languageId=["python","jupyter"]}static{s(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flask","Flask"),me(t,r,"django","Django"),me(t,r,"pyramid","Pyramid"),me(t,r,"tornado","Tornado"),me(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return me(t,r,"requests","requests"),me(t,r,"numpy","numpy"),me(t,r,"pandas","pandas"),me(t,r,"scipy","scipy"),me(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"pytest","Pytest"),me(t,r,"unittest","Unittest"),me(t,r,"doctest","Doctest"),me(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mock","Mock"),me(t,r,"hypothesis","Hypothesis"),me(t,r,"behave","Behave"),me(t,r,"lettuce","Lettuce"),me(t,r,"testify","Testify"),me(t,r,"pyhamcrest","PyHamcrest"),r}},rV=class{constructor(){this.languageId=["php","blade"]}static{s(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"laravel/framework","Laravel"),me(t,r,"symfony/symfony","Symfony"),me(t,r,"slim/slim","Slim"),me(t,r,"cakephp/cakephp","CakePHP"),me(t,r,"yiisoft/yii2","Yii"),me(t,r,"zendframework/zendframework","Zend Framework"),me(t,r,"phalcon/cphalcon","Phalcon"),me(t,r,"bcosca/fatfree","Fat-Free"),me(t,r,"fuel/fuel","FuelPHP"),me(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return me(t,r,"monolog/monolog","Monolog"),me(t,r,"vlucas/phpdotenv","PHP dotenv"),me(t,r,"symfony/console","Symfony Console"),me(t,r,"guzzlehttp/guzzle","GuzzleHttp"),me(t,r,"ramsey/uuid","Ramsey UUID"),me(t,r,"doctrine/orm","Doctrine ORM"),me(t,r,"php-di/php-di","PHP-DI"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"symfony/finder","Symfony Finder"),me(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"phpunit/phpunit","PHPUnit"),me(t,r,"behat/behat","Behat"),me(t,r,"phpspec/phpspec","PHPSpec"),me(t,r,"codeception/codeception","Codeception"),me(t,r,"atoum/atoum","Atoum"),me(t,r,"pestphp/pest","PestPHP"),me(t,r,"kahlan/kahlan","Kahlan"),me(t,r,"peridot-php/peridot","Peridot"),me(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockery/mockery","Mockery"),me(t,r,"php-mock/php-mock","PHP-Mock"),me(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),me(t,r,"padraic/mockery","Padraic Mockery"),me(t,r,"phpspec/prophecy","PHPSpec Prophecy"),me(t,r,"phpunit/php-invoker","PHPUnit Invoker"),me(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),me(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},nV=class{constructor(){this.languageId="csharp"}static{s(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"Microsoft.NETCore.App",".NET Core"),me(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return me(t,r,"EntityFramework","Entity Framework"),me(t,r,"Newtonsoft.Json","Newtonsoft.Json"),me(t,r,"AutoMapper","AutoMapper"),me(t,r,"Serilog","Serilog"),me(t,r,"Dapper","Dapper"),me(t,r,"Polly","Polly"),me(t,r,"FluentValidation","FluentValidation"),me(t,r,"MediatR","MediatR"),me(t,r,"Hangfire","Hangfire"),me(t,r,"RabbitMQ.Client","RabbitMQ.Client"),me(t,r,"MassTransit","MassTransit"),me(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),me(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),me(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),me(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"xunit","xUnit"),me(t,r,"NUnit","NUnit"),me(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return me(t,r,"Moq","Moq"),me(t,r,"FluentAssertions","FluentAssertions"),me(t,r,"Bogus","Bogus"),me(t,r,"RestSharp","RestSharp"),me(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},iV=class{constructor(){this.languageId="dart"}static{s(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flutter","Flutter"),me(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return me(t,r,"dartx","dartx"),me(t,r,"provider","Provider"),me(t,r,"rxdart","RxDart"),me(t,r,"dio","Dio"),me(t,r,"json_serializable","json_serializable"),me(t,r,"freezed","Freezed"),me(t,r,"moor","Moor"),me(t,r,"hive","Hive"),me(t,r,"http","http"),me(t,r,"path","path"),me(t,r,"intl","intl"),me(t,r,"equatable","equatable"),me(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test","test"),me(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockito","mockito"),me(t,r,"bloc_test","bloc_test"),r}},oV=class{constructor(){this.languageId="ruby"}static{s(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"rails","Rails"),me(t,r,"sinatra","Sinatra"),me(t,r,"hanami","Hanami"),me(t,r,"grape","Grape"),me(t,r,"roda","Roda"),me(t,r,"padrino","Padrino"),me(t,r,"cuba","Cuba"),me(t,r,"ramaze","Ramaze"),me(t,r,"nyara","Nyara"),me(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return me(t,r,"active_record","ActiveRecord"),me(t,r,"sequel","Sequel"),me(t,r,"rom","ROM"),me(t,r,"datamapper","DataMapper"),me(t,r,"mongoid","Mongoid"),me(t,r,"neo4j","Neo4j"),me(t,r,"redis","Redis"),me(t,r,"cassandra","Cassandra"),me(t,r,"couchrest","CouchRest"),me(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"rspec","RSpec"),me(t,r,"minitest","Minitest"),me(t,r,"cucumber","Cucumber"),me(t,r,"spinach","Spinach"),me(t,r,"turnip","Turnip"),me(t,r,"bacon","Bacon"),me(t,r,"shoulda","Shoulda"),me(t,r,"test-unit","Test::Unit"),me(t,r,"wrong","Wrong"),me(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return me(t,r,"factory_bot","FactoryBot"),me(t,r,"faker","Faker"),me(t,r,"ffaker","FFaker"),me(t,r,"fabrication","Fabrication"),me(t,r,"machinist","Machinist"),me(t,r,"mocha","Mocha"),me(t,r,"flexmock","FlexMock"),me(t,r,"rr","RR"),me(t,r,"bourne","Bourne"),me(t,r,"not_a_mock","NotAMock"),r}},sV=class{constructor(){this.languageId="rust"}static{s(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"tokio","tokio"),me(t,r,"async-std","async-std"),me(t,r,"hyper","hyper"),me(t,r,"actix-web","actix-web"),me(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return me(t,r,"serde","serde"),me(t,r,"regex","regex"),me(t,r,"rand","rand"),me(t,r,"log","log"),me(t,r,"lazy_static","lazy_static"),me(t,r,"libc","libc"),me(t,r,"futures","futures"),me(t,r,"rayon","rayon"),me(t,r,"reqwest","reqwest"),me(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test-case","test-case"),me(t,r,"proptest","proptest"),me(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockall","mockall"),me(t,r,"double","double"),me(t,r,"rstest","rstest"),me(t,r,"mockiato","mockiato"),me(t,r,"mock_derive","mock_derive"),me(t,r,"mocktopus","mocktopus"),me(t,r,"mockers","mockers"),me(t,r,"mock_it","mock_it"),r}},aV=class{constructor(){this.languageId=["c","cpp"]}static{s(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function me(e,t,r,n){let i=e.libraries.find(o=>o.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}s(me,"addFromLibraries");var lV=class{constructor(t,r){this.languageId=t;this.delegates=r}static{s(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function Vqe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}s(Vqe,"determineProgrammingLanguage");var jqe=[new Xj,new Zj,new eV,new tV,new rV,new nV,new iV,new oV,new sV,new aV];function $qe(e){let t=jqe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new lV(e,jqe);return new Tfe(t)}s($qe,"getMetadataLookup");var Tfe=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{s(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var zqe=I.Object({name:I.String(),version:I.Optional(I.String())}),Yqe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(zqe),buildTools:I.Array(zqe)}),wfe=class{constructor(t){this.turnContext=t}static{s(this,"ProjectMetadataSkillProcessor")}value(){return 1}processSkill(t){let r=[];r.push([new Yt([`The user is working on a project with the following characteristics:
`]),1]);let n=$qe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new Yt(r)}addProgrammingLanguage(t,r){let n=Vqe(t);this.turnContext.collectLabel(c1,n),r.push([new Yt([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(o=>{this.turnContext.collectLabel(c1,`${o.name}${o.version?" "+o.version:""}`)});let i=n.map(o=>`  - ${o.name}${o.version?" "+o.version:""}`).join(`
`);t.push([new Yt([`${r}
${i}`]),1])}}},c1="project-metadata",cV=class{constructor(t){this._resolver=t;this.id=c1;this.type="explicit"}static{s(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new wfe(t)}};d();var Kqe=Ze(require("path"));var _fe=class{constructor(t){this.turnContext=t}static{s(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Qn),n=[],i=this.filterIncludedFiles(t),o=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(o.length>0)return n.push([new Yt(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...o),new Yt(n)}filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.getOrReadTextDocument(r),i=ys(n);if(await this.turnContext.collectFile(fV,r.uri,i),n.status==="valid"){let o=t.getRelativePath(n.document);if(i==="included"){let a=new i1(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${o}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new Yt([`The referenced file \`${o}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new Yt([`The referenced file \`${Kqe.basename(r.uri)}\` is content excluded.`]),1]]}},Sfe=class{static{s(this,"ReferencesSkillResolver")}resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},fV="references",uV=class{constructor(){this.id=fV;this.type="implicit"}static{s(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new Sfe}processor(t){return new _fe(t)}};var iE=s(()=>[c1,Xh,fV,Jc],"mandatorySkills"),dV=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new Jj(t,this.chatFetcher)}static{s(this,"ConversationContextCollector")}async collectContext(t,r,n,i,o,a){let l=[];if(o){let c=o.requiredSkills?await o.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!iE().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!iE().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!iE().includes(u)))}return l.push(...iE()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Gi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),o=t.get(Gi).getSupportedSkills(r.id),a=t.get(nl).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!o.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await a1(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...iE(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var mV=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{s(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let o=this.getRound(t);if(o||(o={roundId:t,reply:""},this.rounds.push(o)),o.toolCalls?.find(l=>l.id===r))Kr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};o.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[o]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(o=>o.status==="running").map(o=>(o.status=t,o));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let o=i.toolCalls?.find(a=>a.id===r);o?(n(o),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Kr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var hV=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{s(this,"Steps")}async start(t,r,n){let i=this.steps.find(o=>o.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Kr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var cNt="X-Initiator",uNt="X-Interaction-ID",fNt="X-Interaction-Type";var pV=class{static{s(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},Rfe=class extends pV{static{s(this,"User")}static id(){return"user"}},kfe=class extends pV{static{s(this,"Agent")}static id(){return"agent"}},Bfe=class{static{s(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[cNt]:this.initiator,[uNt]:this.interactionId,[fNt]:this.interactionType.toString()}}},Bu=class e extends Bfe{static{s(this,"LlmInteraction")}static user(t,r){return new e(Rfe,t,r)}static agent(t,r){return new e(kfe,t,r)}};var h3=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new Dfe(this),this.steps=new hV(t,r,n,t.get(ws)),this.collector=new Pfe(r,n,t.get(ws)),this.agentToolCalls=new mV(t,r,n,t.get(ws))}static{s(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?Bu.user("conversation-inline",this.turn.telemetryId):this.agentToolCalls.rounds.length?Bu.agent("conversation-panel",this.turn.telemetryId):Bu.user("conversation-panel",this.turn.telemetryId)}async collectFile(t,r,n,i){let o={type:"file",collector:t,uri:r,status:n};i&&(o.range=i),await this.collector.collect(o)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(ws).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},gV=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{s(this,"CycleError")}},xB=class extends Error{static{s(this,"ConversationAbortError")}constructor(t){super(t)}},Dfe=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{s(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Gi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get($l).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new gV(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(nl).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get($l).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof gV||i instanceof xB)throw i;Kr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},Pfe=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{s(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function Jqe(e,t){let[r,n,i]=await dNt(e,t);return i.push(...pNt(e)),r.length>0||n.length>0?[new Yt([[new Yt(["Consider the additional context:"]),1],[u3(r,"inverseLinear"),.9],...n]),i]:[null,i]}s(Jqe,"fromSkills");async function dNt(e,t){let r=[],n=[],i=[],o=[...e.turn.skills].reverse();for(let a of o){if(!await gNt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await mNt(e,a.skillId);l&&(iE().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}s(dNt,"handleSkillsInReverse");async function mNt(e,t){let n=e.ctx.get(nl).getSkill(t);try{let i=Date.now(),o=await e.skillResolver.resolve(t),a=Date.now()-i;if(o){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(o,e),f=Date.now()-c;return u?await hNt(e,n,l,u,a,f):[void 0,await yV(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await yV(e,n,"unresolvable",void 0,a)]}catch(i){if(Kr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof xB)throw i;return[void 0,await yV(e,n,"failed")]}}s(mNt,"safelyProcessSkill");async function hNt(e,t,r,n,i,o){let a;return typeof n=="string"?a=new Yt([[n,1]]):a=n,[[a,r?.value()||0],await yV(e,t,"resolved",a,i,o)]}s(hNt,"handleProcessedSkill");async function yV(e,t,r,n,i,o){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:o};if(n){let u=await e.ctx.get(di).getBestChatModelConfig(ps("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=Xi(u.tokenizer).tokenLength(f)}return e.ctx.get($l).addResolution(e.turn.id,c),c}s(yV,"determineResolution");function pNt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}s(pNt,"handleIgnoredSkills");async function gNt(e,t,r){if(t!==c1&&t!==Xh)return!0;let n=e.ctx.get(dr),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===c1:t===Xh}s(gNt,"includeSkill");var Xqe=Ze(Hf());var oE=class{static{s(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=yT(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[o,a]=await this.elidableSkills(t,r);return o!==null&&(i!==null&&n.push(["",.1]),n.push([o,.8])),[new Yt(n),a]}async elidableSkills(t,r){return await Jqe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await AT.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let o=Nf(t.conversation.getLastTurn().request.message),a;i?typeof o=="string"?a=i+`

`+o:a=[{type:"text",text:i},...o]:a=o;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},CV=class extends oE{static{s(this,"PanelUserPromptStrategy")}suffix(t){return Xqe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var Zqe=Ze(Hf());var xV=class extends oE{static{s(this,"InlineUserPromptStrategy")}suffix(t){return Zqe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var Nfe=Ze(Hf());var vV=class{static{s(this,"MetaPromptStrategy")}elidableContent(t){let r=yT(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new Yt(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return Nfe.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=VNe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:DC(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(o=>`  - ${o}`).join(`
`)}`),n}promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,o=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:o},{role:"system",content:this.suffix(n)},{role:"user",content:Nfe.default`
                    This is the user's question: 
                    ${cn(i).trim()} 
                `.trim()}],[]]}};d();var eWe=Ze(Hf());var bV=class{static{s(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=DC(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return eWe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}elidableContent(t){let r=yT(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new Yt(n)}promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var ANt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],EV=class extends oE{static{s(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=Nf(t.conversation.getLastTurn().request.message),o=[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}];return Promise.resolve([o,[]])}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:ANt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=DC(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let o of n)if(!(!oO(o,"keyword")||!o.keyword||typeof o.keyword!="string")&&(i.add(o.keyword.toLowerCase()),!(!oO(o,"variations")||!o.variations||!Array.isArray(o.variations))))for(let a of o.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var Lfe=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{s(this,"PromptStrategyDescriptor")}};function vB(e,t,r){return new Lfe(e,t,r)}s(vB,"descriptor");var tWe=[vB("user",ps("user"),()=>new CV),vB("inline",ps("inline"),()=>new xV),vB("meta",ps("meta"),()=>new vV),vB("suggestions",ps("suggestions"),()=>new bV),vB("synonyms",ps("synonyms"),()=>new EV)],IV=class{static{s(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=tWe.find(o=>o.promptType===r&&o.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return tWe}};var nWe=require("console");var xc=class{constructor(t,r=new IV){this.ctx=t;this.promptStrategyFactory=r}static{s(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,o]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(rl).inspectPrompt({type:r.promptType,prompt:rWe(a),tokens:l}),this.ctx.get($l).addPrompt(t.turn.id,rWe(a),r.promptType),{messages:a,tokens:l,skillResolutions:o,toolConfig:n.toolConfig?.(r)}}elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,nWe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),o=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:yNt(l.content.elide(o).getText())}).filter(l=>l.content.length>0);return[a,bfe(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),bfe(n,r)}async safetyPrompt(t){let r=await this.ctx.get(kn).getSession(this.ctx),n=this.ctx.get(pn).getEditorInfo().readableName??this.ctx.get(pn).getEditorInfo().name,i=CNt(process.platform);return Wqe(this.ctx,n,r?.login,i,t)}};function yNt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}s(yNt,"processResultOfElidableText");function rWe(e){return e.map(t=>cn(t.content)).join(`

`)}s(rWe,"debugChatMessages");function CNt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}s(CNt,"mapPlatformToOs");var TV=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{s(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let o=await this.ctx.get(di).getBestChatModelConfig(ps("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:o},l=await this.ctx.get(xc).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:o,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Kr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Kr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Kr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Kr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Kr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var CT=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{s(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,o,a,l,c){switch(HIe(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,o.extendedBy({},{fileCount:this.turnContext.ctx.get(ha).workspaceCount})),await this.turnContext.ctx.get(rl).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,o,c);case"offTopic":return this.processOffTopicFetchResult(o,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:cn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:MC.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,o,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},jIe(this.turnContext.ctx,this.turnContext.conversation,o,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,o,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:cn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new TV(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Kr.debug(this.turnContext.ctx,"Computed followup",l),Kr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let o=n.extendedBy({messageSource:"chat.suggestions",suggestionId:_r(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return KIe(this.turnContext.ctx,r,o,i),{message:t.followUp,id:o.properties.suggestionId,type:o.properties.suggestion}}processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",VIe(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};d();var wV=I.Union([I.String(),I.Number()]),sE=I.Union([I.String(),I.Number()]),xNt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),_V=I.Object({uri:I.String(),position:I.Optional(_l)}),bB=I.Object({type:I.Literal("file"),uri:I.String(),visibleRange:I.Optional(Ea),selection:I.Optional(Ea),status:I.Optional(xNt),range:I.Optional(Ea)}),xT=I.Union([bB,oUe]),pm=I.Union([I.Literal("panel"),I.Literal("inline")]),vNt=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),Ffe=I.Union([I.String(),I.Array(vNt)]),iWe=I.Object({request:Ffe,response:I.Optional(I.String()),agentSlug:I.Optional(I.String()),turnId:I.Optional(sE)});function SV(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}s(SV,"convertToMessageContent");function RV(e,t){if(e=Nf(e),typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}s(RV,"appendToMessage");var kV=I.Union([I.Literal("Ask"),I.Literal("Agent")]),bNt=I.Object({type:I.String(),description:I.String()}),oWe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),bNt),required:I.Array(I.String())})),confirmationMessages:I.Optional(I.Object({title:I.String(),message:I.String()}))}),BV=I.Object({uri:I.String(),name:I.String()});var Mfe="generate-response",DV=class extends Error{constructor(r,n,i,o){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=o}static{s(this,"RemoteAgentAuthorizationError")}},EB=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(ws),this.chatFetcher=this.chatFetcher??new Da(r.ctx),this.postProcessor=new CT(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{s(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(o){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,o);let a=o instanceof Error?o.message:String(o);this.turn.status="error",this.turn.response={message:a,type:"meta"},o instanceof DV?await this.endProgress({unauthorized:{authorizationUri:o.authorizationUri,agentSlug:o.agentSlug,agentName:o.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let o=await g0(this.turnContext.ctx,this.turnContext,{languageId:i?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(rl).inspectPrompt(l),await n.steps.start(Mfe,"Generating response");let c=this.augmentTelemetry(a,o,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,o.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:Nf(t.turn.request.message),copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return _r()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return Efe(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:Nf(r.request.message)}),r.response&&r.response.type==="model"){let i=iUe(r.response.references);n.push({role:"assistant",content:Nf(r.response.message),copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await mUe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,o,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new s3((m,h,p,g,y)=>{let v=y?{...y,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:g.map(b=>({message:b.message,severity:"warning"})),confirmationRequest:v}),this.turn.response?(this.turn.response.message=RV(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),v&&(this.turn.confirmationRequest=v)}),c=await this.turnContext.ctx.get(en).getGitHubSession(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:cn(this.turn.request.message)},authToken:c?.accessToken,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,o.extendedBy(this.addExtensibilityInfoTelemetry()),cn(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new DV("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return yS(this.conversation,"conversationPanel",cn(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(Mfe,t.error.message):await r.steps.finish(Mfe)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var IB=class{constructor(t,r,n,i,o,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=o;this.endpoint=a}static{s(this,"RemoteAgent")}additionalSkills(){return[]}turnProcessor(t){return new EB(this,t)}},PV=class extends IB{static{s(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new EB(this,t)}};d();var ENt="github",ep=class{static{s(this,"RemoteAgentRegistry")}},NV=class extends ep{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{s(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await Jx(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(Zn.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||Zn.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||Zn.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==ENt).map(i=>new IB(i.id,i.slug,i.name,i.description,i.avatar_url))}};var Qfe=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{s(this,"ProjectAgent")}additionalSkills(){return[dT]}};async function a1(e){let t=[];return t.push(new PV),t.push(...await e.get(ep).agents()),t.push(new Qfe),t}s(a1,"getAgents");d();var sWe=Ze(fl());async function LV(e){let t=await e.get(kn).checkAndUpdateStatus(e);if(t.status!=="OK")throw new sWe.ResponseError(on.NoCopilotToken,`Not authenticated: ${t.status}`)}s(LV,"verifyAuthenticated");function wo(e){return async(t,r,n)=>(await LV(t),e(t,r,n))}s(wo,"ensureAuthenticated");var INt=I.Object({});async function TNt(e,t,r){return[(await a1(e)).map(o=>({slug:o.slug,name:o.name,description:o.description,avatarUrl:o.avatarUrl})),null]}s(TNt,"handleConversationAgentsChecked");var aWe=wo(st(INt,TNt));d();d();var TB=Ze(fl());function wNt(e,t,r){let n=dn.createAndMarkAsIssued({languageId:String(t.detectedLanguageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return jt(e,"getCompletions.docVersionMismatch",n)}s(wNt,"telemetryVersionMismatch");async function tp(e,t,r){let i=e.get(Vr).getTextDocumentUnsafe(t);if(!i)throw new TB.ResponseError(on.InvalidParams,`Document for URI could not be found: ${t.uri}`);await LV(e);let o=await Sv(e,t,i.getText());if(o.status==="invalid")throw e.get(Yi).setInactive(o.reason),new TB.ResponseError(on.CopilotNotAvailable,o.reason);if(t.version!==void 0&&i.version!==t.version)throw r?.isCancellationRequested||(wNt(e,i,t.version),D0.debug(e,`Requested document version was ${t.version} but actual document version was ${i.version}.`)),new TB.ResponseError(on.ContentModified,"Document Version Mismatch");return i}s(tp,"getTextDocument");async function u1(e,t,r){let n=t.textDocument??t.doc;if(!n){await LV(e);return}try{return await tp(e,n,r)}catch(i){if(i instanceof TB.ResponseError&&i.code===on.CopilotNotAvailable)return;throw i}}s(u1,"getTextDocumentIfAvailable");var _Nt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),SNt=I.Object({turnId:sE,codeBlockIndex:I.Number(),source:_Nt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(_V),textDocument:I.Optional(eu),position:I.Optional(_l),conversationSource:I.Optional(pm)});async function RNt(e,t,r){let n=await u1(e,r,t),i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters},o=r.position??r.doc?.position;n&&o&&(i={...i,currentLine:o.line});let a=W5(r.conversationSource),l=await g0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return Af(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a},i,`${lu(a)}.acceptedCopy`,l),["OK",null]}s(RNt,"handleConversationCodeCopyChecked");var lWe=st(SNt,RNt);d();var kNt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),BNt=I.Object({turnId:sE,source:kNt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(_V),textDocument:I.Optional(eu),position:I.Optional(_l),conversationSource:I.Optional(pm)});async function DNt(e,t,r){let n=await u1(e,r,t),i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters},o=r.position??r.doc?.position;n&&o&&(i={...i,insertionOffset:n.offsetAt(o),currentLine:o.line});let a=W5(r.conversationSource),l=await g0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return Af(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${lu(a)}.acceptedInsert`,l),["OK",null]}s(DNt,"handleConversationCodeInsertChecked");var cWe=st(BNt,DNt);d();d();var FV=I.Array(Ea);function MV(e){if(e.textDocument?.uri)return{uri:e.textDocument.uri,selection:e.selection,visibleRange:e.visibleRanges?.[0]}}s(MV,"resolveAsActiveEditor");d();var uWe=Ze(fl());var QV=new uWe.ProgressType,Ofe=class{constructor(t){this.progressToken=t}static{s(this,"WorkDoneProgressHandler")}async begin(t,r,n){await t.get(Wr).connection.sendProgress(QV,this.progressToken,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(t,r,n,i){await t.get(Wr).connection.sendProgress(QV,this.progressToken,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(t,r,n,i){await t.get(Wr).connection.sendProgress(QV,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,...i})}async cancel(t,r,n,i){await t.get(Wr).connection.sendProgress(QV,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i})}};function vT(e){return new Ofe(e.workDoneToken)}s(vT,"createProgressHandler");d();d();d();var Du=class extends Error{constructor(r){super(r.message);this.conversationError=r;this.name="AgentConversationError"}static{s(this,"AgentConversationError")}};d();var A2=class extends Error{static{s(this,"ToolCallCanceledError")}constructor(t){super(t),this.name="Canceled"}};d();var bT=class extends Error{static{s(this,"ToolRoundExceedError")}constructor(){super('Oops, maximum tool attempts reached. You can type "continue" to proceed or rephrase your request.'),this.name="ToolRoundExceedError"}};d();d();var fWe="```",wB=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,PNt=String.raw`${fWe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${fWe}`,NNt=new RegExp(wB+`
`+PNt,"gs"),Ufe=["replace","delete"];function qfe(e,t){let r=e.matchAll(NNt),n=Array.from(r),i=[];for(let o of n){let a=o.groups;if(!a||!Ufe.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((y,v)=>{f[v]=y.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=Wfe([h],t);if(!p)continue;let g={text:p,uri:t.uri};i.push({...h,updatedDocument:g})}return i}s(qfe,"extractEditsFromTaggedCodeblocks");function Wfe(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,o=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||o<0||o<i)&&!(i>=r.length||o>=r.length)){if(a==="delete")r.splice(i,o-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,o-i+1,...l)}}}return r.join(`
`)}s(Wfe,"applyEditsToDocument");d();d();d();d();var y2=class{constructor(t,r,n=[]){this.textDocumentResult=t;this.range=r;this.descriptions=n;this.descriptions=n}static{s(this,"FileAttachment")}render(){if(this.textDocumentResult.status!=="valid")return[];let t=this.textDocumentResult.document,r=new Lf({code:t.getText(this.range),languageId:t.detectedLanguageId,uri:t.uri}),n=["<attachment>"];return n.push(...this.descriptions),n.push(...r.renderAsArray()),n.push("</attachment>"),n}};var LNt=new Gt("activeEditorPrompt");async function dWe(e,t){let r=[],n=e.turnContext.turn.request.activeEditor;if(n){if(t.isCancellationRequested)throw new Al;let i=await e.textDocumentProvider.getByUri(n.uri);if(i.status==="valid")if(n.selection&&FNt(n.selection)){let o=new y2(i,n.selection,["User's active selection, this should be the main focus:",`Excerpt from ${Pi(n.uri)}, lines ${n.selection.start.line+1} to ${n.selection.end.line+1}:`]);r.push(...o.render());let a=new y2(i,void 0,["User's active file for additional context:"]);r.push(...a.render())}else if(n.visibleRange){let o=new y2(i,n.visibleRange,["User's current visible code:",`Excerpt from ${Pi(n.uri)}, lines ${n.visibleRange.start.line+1} to ${n.visibleRange.end.line+1}:`]);r.push(...o.render())}else{let o=new y2(i,void 0,["User's active file for additional context:"]);r.push(...o.render())}else LNt.warn(e.context,`Failed to read file in active editor ${n.uri} with status ${i.status} and reason ${i.status==="notfound"?i.message:i.reason}`)}return r}s(dWe,"processActiveEditor");function FNt(e){return e.start.line!==e.end.line||e.start.character!==e.end.character}s(FNt,"notEmptySelection");var MNt=new Gt("fileReferencesPrompt");async function mWe(e,t){let r=e.turnContext.turn.request.references?.filter(a=>a.type==="file")||[];if(r.length===0&&!e.turnContext.turn.request.activeEditor)return[];let[n,i]=await Promise.all([Promise.all(r.map(async a=>{if(t.isCancellationRequested)throw new Al;let l=[],c=await e.textDocumentProvider.getByUri(a.uri);if(c.status==="valid"){let u=new y2(c,void 0,[]);u&&l.push(...u.render())}else MNt.warn(e.context,`Failed to read file ${a.uri} with status ${c.status} and reason ${c.status==="notfound"?c.message:c.reason}`);return l})),dWe(e,t)]),o=n.flat();return o.length>0||i.length>0?["<attachments>",...o,...i,"</attachments>"]:[]}s(mWe,"processFileReferences");d();d();function hWe(e){return e.reduce((r,n)=>r+n.value.length,0)+Math.max(0,e.length-1)}s(hWe,"partsLength");async function gWe(e,t=1/0,r){let n=pWe(0,e,t),i=t-hWe(n);for(;;){let o=!1,a=[];for(let l of n)if(l.type==="text")a.push(l);else if(l.type==="dir"){a.push({type:"text",uri:l.uri,value:l.value});let c=await l.getChildren();if(r?.isCancellationRequested)return QNt();let u=pWe(l.level+1,c,i-1);u.length&&(o=!0,i-=hWe(u)+1,a.push(...u))}if(n=a,!o)break}return{files:n.map(o=>o.uri).filter(o=>o!==void 0),tree:n.map(o=>o.value).join(`
`)}}s(gWe,"visualFileTree");function pWe(e,t,r){let n="	".repeat(e),i=[],o=r;for(let a=0;a<t.length;++a){let l=t[a],c=n+l.name+(l.type===2?"/":"");if(c.length>o){let u=n+"...";for(;u.length>o&&i.length>0;)o+=i.pop().value.length+1;u.length<=o&&i.push({type:"text",uri:void 0,value:u});break}l.type===2?i.push({type:"dir",uri:l.uri,level:e,value:c,getChildren:l.getChildren}):i.push({type:"text",uri:l.uri,value:c}),o-=c.length,a!==t.length-1&&(o-=1)}return i}s(pWe,"toParts");var QNt=s(()=>({tree:"",files:[]}),"emptyTree");async function AWe(e,t,r,n){let i=await ONt(e,t,r,n);if(!i.length)return"";let o;if(i.length===1)o=i[0].tree.tree;else{o="";for(let{label:l,tree:c}of i){o+=`${l}/
`;for(let u of c.tree.split(`
`))o+=`	${u}
`}}let a=FC(o);return["I am working in a workspace that has the following structure:",a,o,a,"This view of the workspace structure may be truncated. You can use tools to collect more context if needed."].join(`
`)}s(AWe,"generateWorkspaceStructurePrompt");async function ONt(e,t,r,n){return t.length?Promise.all(t.map(async i=>{let o=i.name,a=await gWe(await yWe(e,i.uri,r,n),r.maxLength/t.length,n);return{label:o,tree:a}})):[]}s(ONt,"generateWorkspaceStructure");async function yWe(e,t,r,n){if(n.isCancellationRequested)return[];let i;try{i=await e.get(bo).readDirectory(t)}catch{return[]}return n.isCancellationRequested?[]:(i.sort((o,a)=>o[1]===a[1]?o[0].localeCompare(a[0]):o[1]===2?1:-1),Promise.all(i.map(([o,a])=>{let l=Po(t,o);return r.excludeDotFiles&&o.startsWith(".")||WNt(l)?null:a===2?{type:2,uri:l,name:o,getChildren:s(()=>yWe(e,l,r,n),"getChildren")}:{type:1,uri:l,name:o}})).then(o=>o.filter(a=>a!=null)))}s(yWe,"buildFileList");var UNt=["node_modules","venv","out","dist",".git",".yarn",".npm",".venv","foo.asar",".vscode-test"],qNt=[".ds_store","thumbs.db","package-lock.json","yarn.lock",".cache"];function WNt(e){return!!(qNt.includes(Pi(e).toLowerCase())||Xo(e)?.toLowerCase()?.split(/[/\\]/g)?.some(r=>UNt.includes(r)))}s(WNt,"shouldAlwaysIgnoreFile");var CWe=new Gt("editAgentPrompt"),OV=class{constructor(t,r){this._toolsService=t;this.props=r;this.ctx=r.turnContext.ctx,this.turnContext=r.turnContext,this.currentTurn=r.turnContext.turn}static{s(this,"EditAgentPrompt")}async render(t){let r=this.turnContext.conversation.turns.slice(0,-1),n=this.createChatMessagesFromHistory(r),i=Rle(this.currentTurn.response?.message,!0),o=[{role:"system",content:this.buildSystemMessage().join(`
`)},...n,{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:(await this.buildUserPrompt(this.props.userMessage,t)).join(`
`)},...i];return i.length&&o.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),o}createChatMessagesFromHistory(t){let r=[];for(let n of t)if(n.request&&r.push({role:"user",content:Nf(n.request.message)}),n.response){let i=Rle(n.response.message,!0);i.forEach(o=>r.push(this.fixToolCallsInResponse(o,i)))}return r}fixToolCallsInResponse(t,r){if(t.tool_calls&&t.tool_calls.length){let n=t.tool_calls,i=[];for(let o of n)r.find(l=>l.role==="tool"&&l.tool_call_id===o.id)?i.push(o):CWe.warn(this.ctx,`Tool call ${o.id} does not have a result in the response. Removing it from the tool calls history.`);t.tool_calls=i}return t}addToolCallModelResponse(t,r){let n={role:"assistant",content:t,tool_calls:r.length?r:void 0};this.currentTurn.response?this.currentTurn.response.message=lk(this.currentTurn.response.message,n):this.currentTurn.response={message:[n],type:"model"}}addToolCallResult(t,r){let n="";switch(t.status){case"error":n="Tool call failed with error: ";break;case"cancelled":n="Tool call is cancelled with result: ";break;default:case"success":n=""}let i=n+HH(t.content),o={role:"tool",content:i,tool_call_id:r};if(!this.currentTurn.response)this.currentTurn.response={message:[o],type:"model"};else{if(sG(this.currentTurn.response.message)&&this.currentTurn.response.message.find(l=>l.role==="tool"&&l.tool_call_id===r)){CWe.info(this.ctx,`Tool call result for ${r} already exists in the turn response. Ignoring the new one.`);return}this.currentTurn.response.message=lk(this.currentTurn.response.message,o)}}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`Respond in the following locale: ${this.props.turnContext.conversation.userLanguage}.`),t}buildDefaultAgentPrompt(){let t=this._toolsService.getToolMapForModel().get("get_errors")!==void 0,r=this._toolsService.getToolMapForModel().get("run_in_terminal")!==void 0,n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=this._toolsService.getToolMapForModel().get("update_user_preferences")!==void 0,o=[];return o.push("<instructions>"),o.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),o.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),o.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),o.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),o.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),o.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),o.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),o.push("Think creatively and explore the workspace in order to make a complete fix."),o.push("Don't repeat yourself after a tool call, pick up where you left off."),o.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n?"or replace_string_in_file":""} tool instead.`),r&&o.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),o.push("You don't need to read a file if it's already provided in context."),o.push("</instructions>"),o.push("<toolUseInstructions>"),o.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),o.push("Always output valid JSON when using a tool."),o.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),o.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),o.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),o.push("Never say the name of a tool to a user."),o.push(`For example, instead of saying that you'll use the run_in_terminal tool, say "I'll run the command in a terminal".`),o.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),o.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&o.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i&&o.push("After you have performed the user's task, if the user corrected something you did, expressed a coding preference, or communicated a fact that you need to remember, use the update_user_preferences tool to save their preferences."),o.push("</toolUseInstructions>"),o.push("<editFileInstructions>"),n?(o.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),o.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),o.push("Use the insert_edit_into_file tool to insert code into a file."),o.push("When editing files, group your changes by file."),o.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),o.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),o.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(o.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),o.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),o.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),o.push(`NEVER print a codeblock that represents a change to a file, use insert_edit_into_file ${n?"or replace_string_in_file":""} instead.`),o.push(`For each file, give a short description of what needs to be changed, then use the ${n?"replace_string_in_file or":""} insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.`)),o.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&o.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),o.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),o.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),o.push(`// ${Gl}`),o.push("changed code"),o.push(`// ${Gl}`),o.push("changed code"),o.push(`// ${Gl}`),o.push(""),o.push("Here is an example of how you should format an edit to an existing Person class:"),o.push("class Person {"),o.push(`	// ${Gl}`),o.push("	age: number;"),o.push(`	// ${Gl}`),o.push("	getAge() {"),o.push("		return this.age;"),o.push("	}"),o.push("}"),o.push("</editFileInstructions>"),o}async buildUserPrompt(t,r){let n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=[],o=await mWe({turnContext:this.props.turnContext,textDocumentProvider:this.props.textDocumentProvider,context:this.ctx},r);return o.length>0&&i.push(...o),i.push("<context>"),i.push(`${this.getCurrentDate()}`),i.push(`${this.getUserOS()}`),i.push(`${this.getWorkspaceFoldersHint()}`),i.push(`${await this.getWorkspaceStructureHint(r)}`),i.push("</context>"),i.push("<reminder>"),i.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${Gl}\` to represent regions of unchanged code.`),n&&i.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),i.push("</reminder>"),i.push("<prompt>"),i.push(t),i.push("</prompt>"),i}getWorkspaceFoldersHint(){return this.props.workspaceFolders&&this.props.workspaceFolders.length>0?`I am working in a workspace with the following folders:
${this.props.workspaceFolders.map(r=>` - ${Xo(r.uri)}`).join(`
`)}`:"There is no workspace currently open."}async getWorkspaceStructureHint(t){return this.props.workspaceFolders?await AWe(this.props.turnContext.ctx,this.props.workspaceFolders,{maxLength:2e3,excludeDotFiles:!0},t):""}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};d();function Gfe(e){if(e instanceof Error)return e.stack?e.stack:e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}s(Gfe,"toString");var xWe=15,ET=new Gt("toolCallingLoop"),UV=class e{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.toolCallRounds=[];this.conversationProgress=t.ctx.get(ws),this.conversation=t.conversation,this.turn=t.turn,this.toolsService=t.ctx.get(Yc),this.prompt=new OV(this.toolsService,{turnContext:this.turnContext,userMessage:cn(this.turnContext.turn.request.message),workspaceFolders:this.turnContext.turn.workspaceFolders,textDocumentProvider:new qg(this.turnContext.ctx)}),this.requestId=_r()}static{s(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t){this.abortIfCanceled(t);let r=0,n;for(;;){r++,this.abortIfCanceled(t),this.validateIteration(r,n);let i=await this.runOne(r,t);if(n={...i},this.toolCallRounds.push(i.round),!i.round.toolCalls.length||i.response.type!=="success"&&i.response.type!=="tool_calls"){this.turn.status==="in-progress"&&(this.turn.status="success");return}}}async runOne(t,r){this.abortIfCanceled(r);let n=await this.prompt.render(r),i="",o=new s3((f,m,h,p)=>{let g=f.trim().match(wB)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:m,references:h,hideText:g,notifications:p.map(y=>({severity:"warning",message:y.message})),editAgentRounds:[{roundId:t,reply:f}]}),this.turn.annotations.push(...m??[]),i+=f});this.abortIfCanceled(r);let a=await this.turnContext.ctx.get(dr).updateExPValuesAndAssignments();a.properties.requestId=this.requestId;let l=this.toolsService.getToolsForModel();this.abortIfCanceled(r);let c={messages:n,modelConfiguration:this.modelConfiguration,uiKind:"conversationPanel",tools:this.getAvailableChatTools(l),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()};ET.debug(this.turnContext.ctx,`Send request for iteration ${t} for turn ${this.turn.id} with: ${JSON.stringify(c,null,2)}`);let u=await this.chatFetcher.fetchResponse(c,r,a,(f,m)=>o.isFinishedAfter(f,m));return this.processChatFetchResult(t,u,i,l,r)}async processChatFetchResult(t,r,n,i,o){switch(this.abortIfCanceled(o),ET.debug(this.turnContext.ctx,`Processing fetch type: ${r.type} in iteration ${t} for turn ${this.turn.id}: ${JSON.stringify(r,null,2)}`),r.type){case"success":return this.turn.status="success",this.prompt.addToolCallModelResponse(n,[]),{response:r,round:{response:r.value,toolInputRetry:0,toolCalls:[]}};case"offTopic":throw this.turn.status="off-topic",new Du({message:"Sorry, but I can only assist with programming related questions.",responseIsFiltered:!0});case"canceled":throw new Al;case"failed":throw this.turn.status="error",new Du({message:MC.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw this.turn.status="filtered",new Du({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw this.turn.status="error",new Du({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw this.turn.status="error",new Du({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw this.turn.status="error",new Du({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw this.turn.status="error",new Du({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw this.turn.status="error",new Du({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"tool_calls":return await this.handleToolCalls(r,n,i,t,o);case"successMultiple":case"unknown":default:throw this.turn.status="error",new Du({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}async handleToolCalls(t,r,n,i,o){if(t.type!=="tool_calls")throw new Error(`Expected tool_calls type but got ${t.type}`);if(!t.toolCalls)throw new Error("Tool calls are required but were not provided");let a=t.toolCalls.map(l=>{if(!l.id){let c=`cls_${e.NextToolCallId++}`;l.id=c}return l});this.prompt.addToolCallModelResponse(r,a);for(let l of a)await this.handleSingleToolCall(l,n,i,o);return{response:t,round:{response:r,toolInputRetry:0,toolCalls:a.map(l=>({id:l.id,name:l.function.name,arguments:JSON.stringify(l.function.arguments)}))}}}async handleSingleToolCall(t,r,n,i){if(!t.id)throw new Error(`Tool call id is required but was not provided for function ${t.function.name}`);let o=this.findToolByName(r,t.function.name);if(o)try{let a=DC(t),l=this.toolsService.prepareInvocation(o.id,{input:a},i),c=this.turnContext.turn.needToolCallConfirmation!==void 0?this.turnContext.turn.needToolCallConfirmation:!1;await this.requestToolInvocationApproval(l,c,o.id,a,n,t.id,i),this.abortIfCanceled(i),await this.turnContext.agentToolCalls.start(n,t.id,o.name,l.progressMessage||`Running ${o.displayName} tool`);let u=await this.toolsService.invokeTool(this.turnContext,o.id,{toolInvocationToken:t.id,input:a,roundId:n,toolCallId:t.id},i);this.abortIfCanceled(i),await this.turnContext.agentToolCalls.finish(n,t.id),this.prompt.addToolCallResult(u,t.id)}catch(a){if(a instanceof A2||a instanceof Al)throw this.turn.status="cancelled",this.prompt.addToolCallResult(new no([new ro("")],"cancelled"),t.id),new A2(a.message);{ET.error(this.turnContext.ctx,`Error while invoking tool ${t.id}: ${Gfe(a)}`,a);let l=new no([new ro(Gfe(a).substring(0,300))],"error");this.prompt.addToolCallResult(l,t.id),this.abortIfCanceled(i),await this.turnContext.agentToolCalls.finish(n,t.id)}}else{let a=`Tool with name ${t.function.name} not found in registered tools`;ET.error(this.turnContext.ctx,a);let l=new no([new ro(a)],"error");this.prompt.addToolCallResult(l,t.id)}}getAvailableChatTools(t){return t.map(r=>({type:"function",function:{name:r.nameForModel,description:r.description,parameters:r.inputSchema}}))}findToolByName(t,r){return t.find(n=>n.nameForModel===r)}abortIfCanceled(t){if(t.isCancellationRequested)throw this.turn.status="cancelled",new Al}async requestToolInvocationApproval(t,r,n,i,o,a,l){if(t.confirmationMessages&&r){let c=await this.toolsService.invokeToolConfirmation(this.turnContext,n,{title:t.confirmationMessages.title,message:t.confirmationMessages.message,input:i,roundId:o,toolCallId:a},l);switch(c.result){case"dismiss":throw this.turn.status="cancelled",new A2("Cancelled by user");case"accept":return Promise.resolve();default:throw new A2(`Invalid confirmation result ${c.result}`)}}else ET.debug(this.turnContext.ctx,`Tool call confirmation not required for ${n} with confirmation messages '${t.confirmationMessages?.message}' and needToolConfirm '${r}'`)}validateIteration(t,r){if(r&&t>xWe)throw ET.debug(this.turnContext.ctx,`Tool calling loop exceeds max iterations ${xWe} for turn ${this.turn.id}`),new bT}};var qV=new Gt("agenticTurnProcessor"),WV=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get(ws),this.chatFetcher=this.chatFetcher??new Da(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{s(this,"AgenticTurnProcessor")}async process(t,r,n,i,o){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,o)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.updateTurnResponseWithError(l),await this.endProgress({error:{message:l,code:pue.Unknown,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,o,a){if(!r.isCancellationRequested){await this.conversationProgress.begin(this.conversation,this.turn,t),r.onCancellationRequested(async()=>{qV.info(this.turnContext.ctx,`Cancellation requested for turn ${this.turn.id}`),this.turn.status="cancelled",await this.cancelProgress()});try{let l=await Oh.getModelConfiguration(this.turnContext.ctx,"edits",a);await new UV(this.turnContext,this.chatFetcher,l).run(r),await this.endProgress({})}catch(l){if(l instanceof A2)qV.info(this.turnContext.ctx,`Tool call canceled for turn ${this.turn.id}`,l),this.turn.status="cancelled",await this.cancelProgress();else if(l instanceof Al)qV.info(this.turnContext.ctx,`Turn ${this.turn.id} was cancelled`,l),this.turn.status="cancelled",this.updateTurnResponseWithError("Cancelled by user"),await this.cancelProgress();else if(l instanceof bT)this.turn.status="error",this.updateTurnResponseWithError(l.message),await this.endProgress({error:{message:l.message,code:pue.ToolRoundExceedError,responseIsIncomplete:!0}});else if(l instanceof Du)this.turn.status="error",this.updateTurnResponseWithError(l.message),await this.endProgress({error:l.conversationError});else throw qV.error(this.turnContext.ctx,`Error in processing turn ${this.turn.id}`,l),l}}}updateTurnResponseWithError(t){this.turn.response?.message?this.turn.response.message=lk(this.turn.response?.message,{role:"assistant",content:t}):this.turn.response={message:t,type:"meta"}}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.agentToolCalls.finishAll("cancelled"),await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var Hfe="collect-context",jfe="generate-response",GV=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(ws),this.chatFetcher=this.chatFetcher??new Da(t.ctx),this.postProcessor=new CT(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{s(this,"ModelTurnProcessor")}async process(t,r,n,i,o){try{await this.processWithModel(t,r,this.turnContext,n,i,o)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,o,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await g0(this.turnContext.ctx,this.turnContext,{languageId:o?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=hB().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await a1(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(Hfe,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(di).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,o?.detectedLanguageId??"",void 0,f);if(!m)await n.steps.error(Hfe,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(Hfe),await n.steps.start(jfe,"Generating response");let h=this.augmentTelemetry(m,l,c,i,o);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,o,a),g=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:g}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Kr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,o,a){let c=await new dV(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,o,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,o,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new s3((p,g,y,v)=>{let b=p.trim().match(wB)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:g,references:y,hideText:b,notifications:v.map(E=>({severity:"warning",message:E.message}))}),this.turn.response?this.turn.response.message=RV(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...g??[]),l+=p,this.strategy.currentDocument){let E=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);E&&E.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:E}),c+=E.length)}}),f=await Oh.getModelConfiguration(this.turnContext.ctx,"user",a);t=Oh.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:cn(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,(p,g)=>u.isFinishedAfter(p,g));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,cn(this.turn.request.message),this.strategy.uiKind,o)}augmentTelemetry(t,r,n,i,o){let a;return i?(this.turn.request.type="follow-up",$Ie(this.turnContext.ctx,this.conversation,this.strategy.uiKind,cn(this.turn.request.message),t.tokens,i.type,i.id,o,r),a=yS(this.conversation,this.strategy.uiKind,cn(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=yS(this.conversation,this.strategy.uiKind,cn(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(jfe,t.error.message):await r.steps.finish(jfe)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var HV=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{s(this,"PanelTurnProcessorStrategy")}processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let o="user",a=await t.ctx.get(di).getBestChatModelConfig(ps(o)),l={promptType:o,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(xc).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},jV=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{s(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let o=await this.getDocumentIfValid(i.uri);if(!o)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(di).getBestChatModelConfig(ps(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=o),await this.ctx.get(xc).toPrompt(t,c)}async processResponse(t){let r=[],n=cn(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(Jc);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(Qn).getOrReadTextDocument({uri:t});if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=qfe(t,r).filter(a=>Ufe.includes(a.mode)),o=Wfe(i,r);if(o)return await this.ctx.get(rl).documentDiff({original:r.getText(),updated:o}),{uri:r.uri,text:o}}extractEditsFromResponse(t,r){return qfe(t,r)}};d();d();var vWe=Ze(fl()),bWe=Ze(ph());var P0=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new vWe.ProtocolRequestType("conversation/context");this.typeCheck=ms.Compile(n)}static{s(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(Wr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let o=await r.sendRequest(this.requestType,n),[a,l]=o;if(l){let c=new bWe.ResponseError(l.code,l.message,l.data);Kr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(o){Kr.error(this.ctx,`Error while resolving skill ${this.skillId}`,o);return}if(i!=null){if(!this.typeCheck.Check(i))throw new yc(this.typeCheck.Errors(i));return i}}};var Vfe=class{constructor(t,r,n="",i="",o=[],a=[]){this.progressToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=o;this.references=a}static{s(this,"SyntheticTurn")}},C2=class{constructor(){this.turns=[]}static{s(this,"SyntheticTurns")}add(t,r,n="",i="",o=[],a=[]){let l=new Vfe(t,r,n,i,o,a);return this.turns.push(l),l}get(t){return this.turns.find(r=>r.progressToken===t)}},VV=class{constructor(t,r){this.turnContext=t;this.syntheticTurn=r;this.conversationProgress=t.ctx.get(ws)}static{s(this,"SyntheticTurnProcessor")}async process(t,r){try{await this.processWithSyntheticTurns(this.syntheticTurn,t,r)}catch(n){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Gi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(o=>n.skills.includes(o));for(let o of i){let l=await new P0(this.turnContext.ctx,o,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await Rv(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:_r()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var x2=class{static{s(this,"TurnProcessorFactory")}async createProcessor(t,r,n){let i=t.ctx.get(C2).get(r);if(i)return new VV(t,i);let a=(await a1(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new jV(t.ctx):l=new HV(t.ctx),t.turn.chatMode==="Agent"?new WV(t):(n!==void 0&&(l.computeSuggestions=n),new GV(t,l))}};d();var EWe=Ze(fl());var IT=class{static{s(this,"WorkspaceFoldersValidator")}static validate(t){if(!t)return;let r=new Set;for(let n of t){if(r.has(n.uri))throw new EWe.ResponseError(on.InvalidParams,`Duplicate workspace folder uri ${n.uri}`);r.add(n.uri)}}};d();function $V(e){if(e&&e.uri.length>0)return[{uri:e.uri,name:Pi(e.uri)}]}s($V,"resolveAsWorkspaceFolders");d();d();var GNt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Pu=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=s((t,r)=>this._isCancelled?GNt(t,r):(this.handlers.push(t.bind(r)),{dispose:s(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{s(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var N0=class{constructor(){this.tokens=new Sn(250)}static{s(this,"ProgressTokens")}add(t,r){let n=new Fn.CancellationTokenSource,i=new Pu([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var HNt=I.Object({conversationId:I.Optional(wV),workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(iWe,{minItems:1}),capabilities:I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Array(I.String())}),doc:I.Optional(eu),textDocument:I.Optional(eu),selection:I.Optional(Ea),visibleRanges:I.Optional(FV),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(xT)),source:I.Optional(pm),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(BV)),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(kV),needToolCallConfirmation:I.Optional(I.Boolean())});async function jNt(e,t,r){IT.validate(r.workspaceFolders);let n=await u1(e,r,t);r.capabilities.allSkills&&(r.capabilities.skills=e.get(nl).getDescriptors().map(f=>f.id));let i=e.get(Gi).create(r.capabilities,r);await VNt(e,i,r,n);let o=i.turns[i.turns.length-1],a=vT(r),l=e.get(N0).add(a.progressToken,t),c=new h3(e,i,o,l);return await(await e.get(x2).createProcessor(c,a.progressToken,r.computeSuggestions)).process(a,l,void 0,n,r.model),[{conversationId:i.id,turnId:o.id,agentSlug:o.agent?.agentSlug,modelFamily:r.model},null]}s(jNt,"handleConversationCreateChecked");async function VNt(e,t,r,n){for(let i of r.turns){let o=SV(i.request),a=new a3({message:o,type:"user"},i.turnId);i.response&&(a.response={message:i.response,type:"model"}),i.agentSlug&&(a.agent={agentSlug:i.agentSlug}),a.chatMode=kj(r.chatMode),a.needToolCallConfirmation=r.needToolCallConfirmation;let l=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,c=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:$V(l),u=MV({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});await e.get(Gi).addTurn(t.id,a,r.references,u,l,c,r.ignoredSkills,void 0)}}s(VNt,"addTurns");var IWe=st(HNt,jNt);d();var $Nt=I.Object({conversationId:I.String()});function zNt(e,t,r){return e.get(Gi).destroy(r.conversationId),["OK",null]}s(zNt,"handleConversationDestroyChecked");var TWe=wo(st($Nt,zNt));d();var YNt=I.Object({});function KNt(e,t,r){return[{path:e.get(Ac).directory},null]}s(KNt,"handleConversationPersistenceChecked");var wWe=wo(st(YNt,KNt));d();d();var SWe=Ze(require("node:events"));var $fe=class{static{s(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(kn).getSession(t),n=t.get(Ta),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},zfe=class{static{s(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(en).getToken()).envelope.chat_enabled?"ok":"failed"}}},JNt=[new $fe,new zfe],_We="onPreconditionsChanged",gm=class{constructor(t,r=JNt){this.ctx=t;this.checks=r;this.emitter=new SWe.default;Ks(t,async()=>{await this.check()})}static{s(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(_We,t)}emit(t){this.emitter.emit(_We,t)}};var XNt=I.Object({forceCheck:I.Optional(I.Boolean())});async function ZNt(e,t,r){let n=r.forceCheck??!1;return[await e.get(gm).check(n),null]}s(ZNt,"handleConversationPreconditionsChecked");var RWe=wo(st(XNt,ZNt));d();var eLt=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(eu),textDocument:I.Optional(eu),source:I.Optional(pm)});async function tLt(e,t,r){let n=await u1(e,r,t),i=W5(r.source),o="unrated";r.rating>0?o="positive":r.rating<0&&(o="negative");let a=await g0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return Af(e,n,{rating:o,uiKind:i},{},`${lu(i)}.messageRating`,a),["OK",null]}s(tLt,"handleConversationRatingChecked");var kWe=st(eLt,tLt);d();d();var zV=class extends i3{static{s(this,"ClientLanguageModelTool")}constructor(t){super({...t,toolProvider:Xg,type:"client"}),this.confirmationMessages=t.confirmationMessages}prepareInvocation(t,r){return{progressMessage:`Running ${this.name} tool`,confirmationMessages:this.confirmationMessages}}async invoke(t,r,n){let i={name:this.name,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(PC).invokeClientTool(t,i)}catch(o){throw new Error(`Failed to invoke client tool ${this.name}: ${String(o)}`)}}async invokeConfirmation(t,r,n){if(n.isCancellationRequested)throw new Al;let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Ug).invokeClientToolConfirmation(t,i)}catch(o){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(o)}`)}}};var rLt=I.Object({tools:I.Array(oWe)});function nLt(e,t,r){return r.tools.forEach(n=>{e.get(Yc).registerTool(new zV({name:n.name,description:n.description,inputSchema:n.inputSchema,confirmationMessages:n.confirmationMessages}))}),["OK",null]}s(nLt,"conversationRegisterToolsChecked");var BWe=st(rLt,nLt);d();var iLt=I.Object({});function oLt(e,t,r){return[ife(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}s(oLt,"handleConversationTemplatesChecked");var DWe=wo(st(iLt,oLt));d();var sLt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:wV,turnId:I.Optional(sE),message:Ffe,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),doc:I.Optional(eu),textDocument:I.Optional(eu),selection:I.Optional(Ea),visibleRanges:I.Optional(FV),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(xT)),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(BV)),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:$Ne,model:I.Optional(I.String()),chatMode:I.Optional(kV),needToolCallConfirmation:I.Optional(I.Boolean())});async function aLt(e,t,r){IT.validate(r.workspaceFolders);let n=await u1(e,r,t),i=e.get(Gi),o=i.get(r.conversationId),a=SV(r.message),l=new a3({message:a,type:"user"},r.turnId);l.chatMode=kj(r.chatMode),l.needToolCallConfirmation=r.needToolCallConfirmation;let c=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,u=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:$V(c),f=MV({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});l=await i.addTurn(o.id,l,r.references,f,c,u,r.ignoredSkills,r.confirmationResponse);let m=vT(r),h=e.get(N0).add(m.progressToken,t),p=new h3(e,o,l,h);return await(await e.get(x2).createProcessor(p,m.progressToken,r.computeSuggestions)).process(m,h,r.followUp,n,r.model),[{conversationId:o.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}s(aLt,"handleConversationTurnChecked");var PWe=st(sLt,aLt);d();var lLt=I.Object({conversationId:I.String(),turnId:I.String(),source:I.Optional(pm)});async function cLt(e,t,r){e.get(Gi).deleteTurn(r.conversationId,r.turnId);let i=W5(r.source),o=await g0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:""});return Af(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${lu(i)}.messageDelete`,o),["OK",null]}s(cLt,"handleConversationTurnDeleteChecked");var NWe=wo(st(lLt,cLt));d();var uLt=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})});function fLt(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}s(fLt,"buildSystemMessage");function dLt(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,o=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,o,"```","","</currentChange>"].join(`
`)}s(dLt,"buildUserMessage");function mLt(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,o;for(;(o=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=o;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let g=n[p],y=Math.max(g.search(/\S/),0),v=g.trimEnd().length,b={uri:e.uri,range:{start:{line:p,character:y},end:{line:p,character:v}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(b)}return r}s(mLt,"parseReviewComments");async function hLt(e,t,r){if(!r.document.text)return[null,{code:on.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:on.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:on.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:on.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:on.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(Da),o=await e.get(di).getBestChatModelConfig([ui.Gpt4]),a=[{role:"system",content:fLt()},{role:"user",content:dLt(r)}],l=await e.get(dr).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:o,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Bu.user("code-review",_r())},t,l);if(c.type!=="success")return[null,{code:on.InternalError,message:"Failed to generate code review"}];let u=mLt(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}s(hLt,"handleCopilotCodeReviewChecked");var LWe=wo(st(uLt,hLt));d();d();var p3=class{constructor(t,r,n,i,o){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=o;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,YA.uriToPath(a.uri))}static{s(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return Bu.user("conversation-edit-panel",this.editTurnId)}};d();async function YV(e,t,r,n){let o=e.get(tl).create("panel","en"),a=new QC({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new p3(e,o,a,n,ui.Gpt4o),u=e.get(gc);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}s(YV,"streamMockedResult");d();var pLt=I.Object({enableMock:I.Boolean()}),f1=class{constructor(){this.enableMock=!1}static{s(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};function gLt(e,t,r){return e.get(f1).setMockEnabled(r.enableMock),["OK",null]}s(gLt,"handleTestingSetCopilotEditsResponseChecked");var FWe=st(pLt,gLt);var ALt=I.Object({request:I.String(),response:I.Optional(I.String())}),yLt=I.Union([I.Literal("panel")]),CLt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(ALt,{minItems:1}),workingSet:I.Optional(I.Array(bB)),source:I.Optional(yLt),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function xLt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new QC({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}s(xLt,"buildEditConversation");async function vLt(e,t,r){if(e.get(f1).isMockEnabled())return await YV(e,_r(),_r(),r.partialResultToken),[[],null];let n=xLt(e.get(tl),r),i=n.getLastTurn(),o=new p3(e,n,i,r.partialResultToken,r.model),a=e.get(N0).add(r.partialResultToken,t);return[await e.get(KA).createOrContinueEditConversation(o,a),null]}s(vLt,"handleEditConversationCreateChecked");var MWe=wo(st(CLt,vLt));d();var bLt=I.Object({editConversationId:I.String()});function ELt(e,t,r){return e.get(tl).destroy(r.editConversationId),["OK",null]}s(ELt,"handleEditConversationDestroyChecked");var QWe=wo(st(bLt,ELt));d();var ILt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(bB)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function TLt(e,t,r){let n=e.get(t),i=new QC({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}s(TLt,"buildEditConversation");async function wLt(e,t,r){if(e.get(f1).isMockEnabled())return await YV(e,r.editConversationId,_r(),r.partialResultToken),[[],null];let n=e.get(tl),i=TLt(n,r.editConversationId,r),o=i.getLastTurn(),a=new p3(e,i,o,r.partialResultToken,r.model),l=e.get(N0).add(r.partialResultToken,t);return[await e.get(KA).createOrContinueEditConversation(a,l),null]}s(wLt,"handleEditConversationTurnChecked");var OWe=wo(st(ILt,wLt));d();var _Lt=I.Object({editConversationId:I.String(),editTurnId:I.String(),source:I.Optional(pm)});async function SLt(e,t,r){e.get(tl).deleteTurn(r.editConversationId,r.editTurnId);let i=await AS(e,r.editTurnId,r.editConversationId,{languageId:""});return Af(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${lu("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}s(SLt,"handleEditConversationTurnDeleteChecked");var UWe=wo(st(_Lt,SLt));d();var RLt=I.Object({}),kLt=I.Object({servers:I.Array(I.Object({name:I.String(),tools:I.Array(I.Object({name:I.String(),status:I.Enum(mk)}))}))});function BLt(e,t,r){return[e.get(Ff).getAllTools(),null]}s(BLt,"handleGetMCPToolsChecked");function DLt(e,t,r){for(let{name:i,tools:o}of r.servers)for(let{name:a,status:l}of o)e.get(Ff).updateMCPToolStatus(i,a,l);return[e.get(Ff).getAllTools(),null]}s(DLt,"handleUpdateMCPToolsStatusChecked");var qWe=st(RLt,BLt),WWe=st(kLt,DLt);d();var PLt=I.Object({});async function NLt(e,t,r){let n=await e.get(en).getToken();return[LLt(await e.get(of).getMetadata(),n),null]}s(NLt,"handleCopilotModelsChecked");function LLt(e,t){let r=t.getTokenValue("editor_preview_features")=="0",n=Sd.filterModelsWithEditorPreviewFeatures(e,r),i=[];return n.forEach(o=>{if(o.model_picker_enabled===!0){let a=[];o.capabilities.type==="chat"?(a.push("chat-panel"),a.push("edit-panel"),a.push("inline"),!K3e.has(o.capabilities.family)&&o.capabilities.supports?.tool_calls&&(o.capabilities.limits?.max_prompt_tokens??!1)&&a.push("agent-panel"),i.push({modelFamily:o.capabilities.family,modelName:o.name,modelPolicy:o.policy,scopes:a,id:o.id,preview:o.preview??!1,isChatDefault:o.is_chat_default??!1,isChatFallback:o.is_chat_fallback??!1,capabilities:{supports:{vision:o.capabilities.supports?.vision??!1}},billing:o.billing?{isPremium:o.billing?.is_premium??!0,multiplier:o.billing?.multiplier??0}:void 0})):o.capabilities.type==="completion"?i.push({modelFamily:o.capabilities.family,modelName:o.name,modelPolicy:o.policy,scopes:["completion"],id:o.id,preview:o.preview??!1,isChatDefault:o.is_chat_default??!1,isChatFallback:o.is_chat_fallback??!1,capabilities:{supports:{vision:o.capabilities.supports?.vision??!1}},billing:o.billing?{isPremium:o.billing?.is_premium??!0,multiplier:o.billing?.multiplier??0}:void 0}):i.push({modelFamily:o.capabilities.family,modelName:o.name,modelPolicy:o.policy,scopes:a,id:o.id,preview:o.preview??!1,isChatDefault:o.is_chat_default??!1,isChatFallback:o.is_chat_fallback??!1,capabilities:{supports:{vision:o.capabilities.supports?.vision??!1}},billing:o.billing?{isPremium:o.billing?.is_premium??!0,multiplier:o.billing?.multiplier??0}:void 0})}}),i}s(LLt,"filterModels");var GWe=wo(st(PLt,NLt));d();var FLt=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function MLt(e,t,r){return r.model&&r.status==="enabled"?await e.get(of).acceptModelPolicy(r.model)?["OK",null]:[null,{code:on.InternalError,message:"Failed to accept model policy"}]:[null,{code:on.InvalidRequest,message:"Invalid model or status"}]}s(MLt,"handleCopilotModelsPolicyChecked");var HWe=wo(st(FLt,MLt));d();d();var v2=10;function jWe(e,t){let r=t,n=e.lineAt(t.line);return n.isEmptyOrWhitespace||(r=n.range.end),r}s(jWe,"panelPositionForDocument");d();var Yfe=new Gt("solutions");async function*QLt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}s(QLt,"trimChoices");var TT=class{constructor(t,r,n,i){this.textDocument=t;this.startPosition=r;this.cancellationToken=n;this.solutionCountTarget=i;this.targetPosition=jWe(this.textDocument,this.startPosition)}static{s(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function KV(e){return e.replace(/\s+/g,"")}s(KV,"normalizeCompletionText");async function OLt(e,t){let r=t.targetPosition,n=t.textDocument,i=w5(e,n.uri),o=_r(),a=dn.createAndMarkAsIssued({headerRequestId:o,languageId:n.detectedLanguageId,source:"open copilot"},{});t.savedTelemetryData=await e.get(dr).updateExPValuesAndAssignments({uri:n.uri,languageId:n.detectedLanguageId},a);let l=await c6(e,Ag(n,r),t.savedTelemetryData);if(l.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(l.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(l.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(l.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(l.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let c=l.prompt,u=l.trailingWs;u.length>0&&(t.startPosition=Lo.position(t.startPosition.line,t.startPosition.character-u.length));let f=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...JI(c),solutionCount:t.solutionCountTarget,promptEndPos:n.offsetAt(r)}),Yfe.debug(e,"prompt:",c),jt(e,"solution.requested",t.savedTelemetryData);let m=e.get(fh).forLanguage(e,n.detectedLanguageId,t.savedTelemetryData),h=af(n.detectedLanguageId),p=ES(n,r),g={stream:!0,extra:{language:n.detectedLanguageId,next_indent:p.next??0,prompt_tokens:c.prefixTokens??0,suffix_tokens:c.suffixTokens??0}};m==="parsing"&&!h&&(g.stop=[`

`,`\r
\r
`]);let y=T5(e,t.savedTelemetryData),v={prompt:c,languageId:n.detectedLanguageId,repoInfo:i,ourRequestId:o,engineModelId:y.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:g,headers:y.headers},b;switch(m){case"server":b=s(()=>{},"finishedCb"),g.extra.force_indent=p.prev??-1,g.extra.trim_by_indentation=!0;break;case"parsingandserver":b=h?bS(e,n,t.startPosition,!1):()=>{},g.extra.force_indent=p.prev??-1,g.extra.trim_by_indentation=!0;break;case"parsing":default:b=h?bS(e,n,t.startPosition,!1):()=>{};break}let E=t.savedTelemetryData,_=await e.get(fu).fetchAndStreamCompletions(e,v,E.extendedBy(),b,f);if(_.type==="failed"||_.type==="canceled")return{status:"FinishedWithError",error:`${_.type}: ${_.reason}`};let k=_.choices;k=QLt(k),k=gS(k,M=>WS(e,n,r,M,!1,Yfe));let B=gS(k,async M=>{let re=M.completionText;Yfe.info(e,`Open Copilot completion: [${M.completionText}]`);let pe=await u8e(e,n,r,M.completionText)??Lo.position(r.line,0),[Z]=l6(n.getText(Lo.range(pe,r)));re=Z+re;let G=M.completionText;u.length>0&&G.startsWith(u)&&(G=G.substring(u.length));let q=M.meanLogProb,ie=q!==void 0?Math.exp(q):0,z=E.extendedBy({choiceIndex:M.choiceIndex.toString()});return{completionText:G,insertText:re,range:Lo.range(pe,r),meanProb:ie,meanLogProb:q||0,requestId:M.requestId,choiceIndex:M.choiceIndex,telemetryData:z,copilotAnnotations:M.copilotAnnotations}});return $We(f,B[Symbol.asyncIterator]())}s(OLt,"launchSolutions");async function VWe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await VWe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}s(VWe,"reportSolutions");async function JV(e,t,r){return e.get(Yi).withProgress(async()=>{let i=OLt(e,t);return await VWe(i,r)})}s(JV,"runSolutions");async function $We(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:$We(e,t)}}s($We,"generateSolutionsStream");var YWe=Ze(Xy()),SB=Ze(fl());d();d();function XV(e,t){let r=e.split(`
`),n=t,i=t,o=r[t.line],a=o.indexOf("%");a!==-1&&(o=o.substring(0,a)+o.substring(a+1),n={line:t.line,character:a});let l=o.indexOf("^");if(l!==-1){let c=o.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");o=o.substring(0,l)+o.substring(l+1,c)+o.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:o,lines:r,start:n,end:i}}s(XV,"parseChallengeDoc");var ULt=I.Object({text:I.String(),score:I.Number()}),qLt=I.Object({documents:I.Array(ULt),options:I.Optional(I.Object({}))});async function ZV(e,t,r){let n=_r();for(let i=0;i<t.length&&i<10;i++){let{text:o,score:a}=t[i],{cursorLine:l,lines:c,start:u}=XV(o,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:_r(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:rg.createEmptyConfigForTesting()})}await r.onFinishedNormally()}s(ZV,"runTestSolutions");var rp=class{constructor(t){this.documents=t}static{s(this,"ExternalTestingPanelCompletionDocuments")}};function WLt(e,t,r){return e.forceSet(rp,new rp(r.documents)),["OK",null]}s(WLt,"handleTestingSetPanelCompletionDocumentsChecked");var zWe=st(qLt,WLt);var KWe=GL.type;function GLt(e,t,r,n,i){let o=KV(n.completionText),a=(0,YWe.SHA256)(o).toString();return e.get(ns).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:due,title:`Accept completion ${i}`,arguments:[a]}}}s(GLt,"makeCompletion");function Jfe(e,t){return`${e}/${t}`}s(Jfe,"progressMessage");var Kfe=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{s(this,"SolutionHandler")}get service(){return this.ctx.get(Wr)}async onSolution(t){this.count+=1;let r=GLt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(SB.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:Jfe(this.count,v2),percentage:Math.round(100*this.count/v2)})}onFinishedNormally(){return HLt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(SB.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function HLt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(SB.WorkDoneProgress.type,e,{kind:"end",message:Jfe(r,v2)})}s(HLt,"reportDone");var _B;async function jLt(e,t,r){let n=await tp(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(Wr).connection.sendProgress(SB.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:Jfe(0,v2),percentage:0});let o=[],a=s(f=>(o.push(f),Promise.resolve()),"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=s(async f=>{await e.get(Wr).connection.sendProgress(GL.partialResult,l,{items:[f]})},"onCompletion"));let c=new Kfe(e,r,a),u=e.get(rp);if(u.documents){let f=u.documents;await ZV(i,f,c)}else{c.offset=n.offsetAt(i);let f=new TT(n,i,t,v2);await JV(e,f,c)}return c.error!==void 0?[null,{code:on.InternalError,message:c.error}]:[{items:o},null]}s(jLt,"handleChecked");async function VLt(e,t,r){_B&&(_B.cancel(),_B.dispose()),_B=new Fn.CancellationTokenSource;let n=_B.token,i=new Pu([t,n]);try{return await jLt(e,i,r)}catch(o){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:on.ServerCancelled,message:"Request was superseded by a new request"}];throw o}}s(VLt,"handleCheckedWithAbort");var JWe=st($Ce,VLt);d();d();d();function zLt(e){let t=e.get(hs).getLoginReachabilityUrl(),r=e.get(hs).getAPIUrl(),n=e.get(hs).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(hs).getLastKnownEndpointUrl("api","_ping"),o=e.get(hs).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return s(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(o),url:o}]}s(zLt,"urlsToCheck");async function XWe(e){let t=zLt(e).map(async({label:r,url:n})=>{let{message:i,status:o}=await YLt(e,n);return{label:r,url:n,message:i,status:o}});return await Promise.all(t)}s(XWe,"checkReachability");async function YLt(e,t){try{let r=await e.get(fn).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}s(YLt,"determineReachability");var Am=Ze(require("os")),wT=Ze(require("tls"));async function ZWe(e){return{sections:[KLt(e),JLt(),await ZLt(e),XLt(),eFt(e),await tFt(e)]}}s(ZWe,"collectDiagnostics");function eGe(e){return e.sections.map(rFt).join(Am.EOL+Am.EOL)}s(eGe,"formatDiagnosticsAsMarkdown");function KLt(e){return{name:"Copilot",items:{Version:zx(e),Build:Td(e),Editor:Gu(e)["Editor-Version"]}}}s(KLt,"collectCopilotSection");function JLt(){return{name:"Environment",items:{http_proxy:b2("http_proxy"),https_proxy:b2("https_proxy"),no_proxy:b2("no_proxy"),SSL_CERT_FILE:b2("SSL_CERT_FILE"),SSL_CERT_DIR:b2("SSL_CERT_DIR"),OPENSSL_CONF:b2("OPENSSL_CONF")}}}s(JLt,"collectEnvironmentSection");function XLt(){return{name:"Node setup",items:{"Number of root certificates":wT.rootCertificates.length,"Operating system":Am.type(),"Operating system version":Am.release(),"Operating system architecture":Am.arch(),NODE_OPTIONS:b2("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:b2("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:b2("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":wT.DEFAULT_MIN_VERSION,"tls default max version":wT.DEFAULT_MAX_VERSION}}}s(XLt,"collectNodeSection");async function ZLt(e){let t={};try{let r=await e.get(en).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}s(ZLt,"collectFeatureFlagsSection");function eFt(e){let t=e.get(fn);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}s(eFt,"collectNetworkConfigSection");async function tFt(e){return{name:"Reachability",items:Object.fromEntries((await XWe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}s(tFt,"collectReachabilitySection");function b2(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}s(b2,"findEnvironmentVariable");function rFt(e){return`## ${e.name}`+Am.EOL+Am.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(Am.EOL)}s(rFt,"formatSectionAsMarkdown");var nFt=I.Object({});async function iFt(e){return[{report:eGe(await ZWe(e))},null]}s(iFt,"handleDiagnosticsChecked");var tGe=st(nFt,iFt);d();d();d();d();function rGe(e,t,r){function n(o,a,l){let c=new RegExp(`^(${a})+`,"g");return o.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}s(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let o=s(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=o(t.displayText),t.completionText=o(t.completionText)}else if(e.insertSpaces===!0){let o=s(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=o(t.displayText),t.completionText=o(t.completionText),r){let a=s(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}s(rGe,"normalizeIndentCharacter");function nGe(e,t,r,n,i,o,a){let l=n.lineAt(i),c=t.map(u=>{let f=Lo.range(Lo.position(i.line,0),Lo.position(i.line,i.character+u.suffixCoverage)),m="";if(o&&(u.completion=rGe(o,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=Lo.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:_r(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}s(nGe,"completionsFromGhostTextResults");async function Xfe(e,t,r,n={}){let i=0;n.selectedCompletionInfo?.text&&(t=t.addSelectedCompletionInfo(n.selectedCompletionInfo),i=t.position.character-n.selectedCompletionInfo.range.end.character);let o=await One(e,t,r,n);if(o.type!=="success")return o;let[a,l]=o.value;if(r?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:o.telemetryBlob}};let c=Y9e(e,t.textDocument,t.position,l),u=nGe(e,a,l,t.textDocument,t.position,n.formattingOptions,c);if(u.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:o.telemetryData};let f=u.map(m=>{let{start:h,end:p}=m.range,g=Fn.Range.create(h,Fn.Position.create(p.line,p.character-i));return{...m,range:g}});return{...o,value:f}}s(Xfe,"getInlineCompletionsResult");async function e$(e,t,r,n,i={}){oFt(e,t,r);let o=await Xfe(e,Ag(t,r),n,i);return i8e(e,o)}s(e$,"getInlineCompletions");function oFt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});cO.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}s(oFt,"logCompletionLocation");var cGe=Ze(fl());d();var iGe=require("crypto");var _T=class{static{s(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new ede(t,this.id)}},ede=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{s(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(Wr),o=(0,iGe.randomUUID)(),a=i.connection.onProgress(UL.type,o,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(UL.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:o},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function ST(e,t,r){try{let n=e.get(ml),i=new Map;n.providers.forEach(o=>{i.set(o.id,o)}),t.providers.forEach(o=>{let a=i.get(o.id);a&&a instanceof _T&&a.resolver.setContextItems(o.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(o=>{let a=i.get(o);a&&a instanceof _T&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){Zn.error(e,"Failed to set context items on context providers",n)}}s(ST,"setContextItems");var Zfe={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function oGe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return _a(r.uri,i,Zfe);if(typeof i=="object"){let o=!0;return"language"in i&&(o&&=r.languageId==(i.language||"")),"scheme"in i&&(o&&=_a(r.uri,i.scheme||"",Zfe)),"pattern"in i&&(o&&=_a(r.uri,i.pattern||"",Zfe)),o}}catch{return!1}return!1}).some(Boolean)?10:0}s(oGe,"match");d();var sFt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),g3=class{constructor(t,r){this.documents=t;this.basename=r}static{s(this,"ExternalTestingCompletionDocuments")}};function aFt(e,t,r){return e.forceSet(g3,new g3(r.documents,r.basename||"")),["OK",null]}s(aFt,"handleTestingSetCompletionDocumentsChecked");var sGe=new Gt("setCompletionDocuments"),lGe=st(sFt,aFt);function t$(e,t,r,n){let i=e.get(g3);if(i.documents){let o=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){sGe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=lFt(i,r);return a&&a.length>0?aGe(a,o,t):void 0}else return sGe.debug(e,"Returning completions for all pre-set documents"),aGe(i.documents,o,t)}}s(t$,"getTestCompletions");function aGe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:o,start:a,end:l}=XV(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(o.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}s(aGe,"sliceAndMapCompletions");function lFt(e,t){return e.basename===Pi(t)?e.documents||[]:[]}s(lFt,"getFilteredDocs");var uGe=I.Object({doc:I.Object({position:_l,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:u_,version:I.Number()}),contextItems:I.Optional(Nre)}),RB;async function fGe(e,t,r,n){RB&&(RB.cancel(),RB.dispose()),RB=new Fn.CancellationTokenSource;let i=new Pu([t,RB.token]);r.contextItems&&ST(e,r.contextItems);let o=t$(e,r.doc.position,r.doc.uri,n);if(o)return[{completions:o.map(h=>({uuid:_r(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await tp(e,r.doc,i)}catch(m){if(!(m instanceof cGe.ResponseError))throw m;switch(m.code){case on.CopilotNotAvailable:case on.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await e$(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(ns);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}s(fGe,"handleGetCompletionsHelper");var dGe=st(uGe,(e,t,r)=>fGe(e,t,r,!1)),mGe=st(uGe,(e,t,r)=>fGe(e,t,r,!0));d();var hGe=Ze(Xy()),RT=Ze(fl());var cFt=I.Object({doc:I.Object({position:_l,uri:u_,version:I.Number()}),panelId:I.String()});function uFt(e,t,r,n,i){let o=KV(i.completionText),a=(0,hGe.SHA256)(o).toString();return e.get(ns).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}s(uFt,"makeSolution");var tde=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{s(this,"SolutionHandler")}get service(){return this.ctx.get(Wr)}onSolution(t){return this.service.connection.sendNotification(new RT.NotificationType("PanelSolution"),uFt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return pGe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new RT.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function pGe(e,t){return t.connection.sendNotification(new RT.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}s(pGe,"reportDone");var kB;async function fFt(e,t,r){kB&&(kB.cancel(),kB.dispose()),kB=new Fn.CancellationTokenSource;let n=new Pu([t,kB.token]),i=r.doc.position,o=Lo.range(i,i),a=new tde(e,r,o),l=e.get(rp);if(l.documents){let c=l.documents;ZV(i,c,a)}else{let c;try{c=await tp(e,r.doc,n)}catch(f){if(!(f instanceof RT.ResponseError))throw f;switch(f.code){case on.CopilotNotAvailable:case on.ContentModified:return dFt(e,r)}throw f}a.offset=c.offsetAt(i);let u=new TT(c,i,n,v2);JV(e,u,a)}return[{solutionCountTarget:v2},null]}s(fFt,"handleGetPanelCompletionsChecked");async function dFt(e,t){return await pGe(t.panelId,e.get(Wr)),[{solutionCountTarget:0},null]}s(dFt,"produceEmptySolutions");var gGe=st(cFt,fFt);d();var mFt=I.Object({});function hFt(e,t,r){return[{version:e.get(Ao).getDisplayVersion(),buildType:Td(e),runtimeVersion:`node/${process.versions.node}`},null]}s(hFt,"handleGetVersionChecked");var AGe=st(mFt,hFt);d();var pFt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String())});async function gFt(e,t){let r=["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"];return t&&r.push(`
Current git branch name: ${t}`),e&&r.push(`
Respond in the following locale: ${e}`),r.join(`
`)}s(gFt,"buildSystemMessage");function AFt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}s(AFt,"buildUserMessage");async function yFt(e,t,r){if(r.changes.length===0)return[null,{code:on.InvalidRequest,message:"No changes provided"}];let n=new Da(e),i=await e.get(di).getBestChatModelConfig([ui.Gpt4oMini,ui.Gpt4o,ui.Gpt4]),o=[{uri:r.workspaceFolder?r.workspaceFolder:ul(process.cwd())}],a=await AT.getInstructions(e,o,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=e.get(Gi),c=l.create({skills:[o1]}),u=new a3({message:"",type:"user"});await l.addTurn(c.id,u);let f=vT({workDoneToken:_r()});await e.get(ws).begin(c,u,f);let p=(await new h3(e,c,u,t).skillResolver.resolve(o1))?.head?.name,g=[{role:"system",content:await gFt(r.userLanguage,p)},{role:"user",content:AFt(r,a)}],y=await e.get(dr).updateExPValuesAndAssignments(),v=await n.fetchResponse({modelConfiguration:i,messages:g,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Bu.user("git-commit",_r())},t,y);if(v.type!=="success")return[null,{code:on.InternalError,message:"Failed to generate commit message"}];let b=v.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:b?b[1].trim():v.value.trim()},null]}s(yFt,"handleGitCommitGenerateChecked");var yGe=wo(st(pFt,yFt));d();var xGe=sZ.type,BB;function CGe(e){return{title:"Completion Accepted",command:sB,arguments:[e]}}s(CGe,"makeCommand");async function CFt(e,t,r){BB&&(BB.cancel(),BB.dispose());let n=r.context.triggerKind===1;BB=new Fn.CancellationTokenSource;let i=BB.token,o=new Pu([t,i]);r.contextItems&&ST(e,r.contextItems,r.data);let a=t$(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:CGe(_r()),...p}))},null];let l=await tp(e,r.textDocument,o),c=r.position,u=await e$(e,l,c,o,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:on.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:on.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(ns);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:CGe(h.uuid),insertText:h.insertText,range:h.range}))},null]}s(CFt,"handleChecked");var vGe=st(AO,(e,t,r)=>CFt(e,t,r));d();var bGe=cZ.type,DB;async function vFt(e,t,r){DB&&(DB.cancel(),DB.dispose());let n=r.context.triggerKind===1;DB=new Fn.CancellationTokenSource;let i=DB.token,o=new Pu([t,i]);r.contextItems&&ST(e,r.contextItems);let a=await tp(e,r.textDocument,o),l=await Xfe(e,Ag(a,r.position),o,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}s(vFt,"handleChecked");var EGe=st(AO,(e,t,r)=>vFt(e,t,r));d();d();function rde(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return kT(i)}s(rde,"asReadableCert");function kT(e){return e.replace(/\s/g,"")}s(kT,"normalizeNewlines");var EFt=I.Object({});async function IFt(e){return[{certificates:(await e.get(el).getAllRootCAs()).map(kT)},null]}s(IFt,"handleListCertificatesChecked");var IGe=st(EFt,IFt);d();async function TFt(e,t,r){let n=e.get(zh);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=ac(r.textDocument.uri);e.get(mg).onUserPositionChange(i,new nn(r.position.line,r.position.character));let o=await n.handleNextEditRequest(i,r.textDocument.version,t);return o?[{edits:o.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:sB,arguments:[l.id]}}))},null]:[{edits:[]},null]}s(TFt,"handleChecked");var TGe=st(jCe,TFt);d();var wFt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1}))});function _Ft(e,t,r){let n=e.get(ns),i=n.get(r.uuid);if(i){n.delete(r.uuid);let o=SFt(r,i);Vv(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,o,i.copilotAnnotations)}return["OK",null]}s(_Ft,"notifyAcceptedChecked");function SFt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}s(SFt,"getSuggestionStatus");var wGe=st(wFt,_Ft);d();var RFt=I.Object({uuids:I.Array(I.String())});function kFt(e,t,r){let n=e.get(ns),i=r.uuids.flatMap(o=>n.get(o)??[]);if(i.length>0){let o=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));vU(e,"ghostText",o.offset,o.uri,a),e.get(v0).resetState()}return["OK",null]}s(kFt,"notifyRejectedChecked");var _Ge=st(RFt,kFt);d();var BFt=I.Object({uuid:I.String({minLength:1})});function DFt(e,t,r){let i=e.get(ns).get(r.uuid);return i&&uO(e,i.triggerCategory,i),["OK",null]}s(DFt,"notifyShownChecked");var SGe=st(BFt,DFt);d();var PFt=x8e;function NFt(e,t,r){let n=e.get(ml),i={unregistered:[],registered:[]};return r.providers.forEach(o=>{try{let a=new _T(e,o.id,o.selector);n.registerContextProvider(a),i.registered.push(o.id)}catch{i.unregistered.push(o.id)}}),[i,null]}s(NFt,"registerContextProviders");var RGe=st(PFt,NFt);d();d();var kGe=require("net");function nde(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}s(nde,"getProxyFromEnvironment");function LFt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}s(LFt,"getRejectUnauthorizedFromEnvironment");var BGe=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function DGe(e){let r={proxy:nde(e),proxyStrictSSL:LFt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}s(DGe,"getHttpSettingsFromEnvironment");function PB(e){(0,kGe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:FFt(r),proxyAuth:MFt(n,i)}}s(PB,"proxySettingFromUrl");function FFt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}s(FFt,"parsePort");function MFt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}s(MFt,"getAuth");d();var ode=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),QFt=I.Object({uri:I.Optional(I.String())}),OFt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),NGe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(QFt),http:I.Optional(BGe),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),sde=Object.keys(NGe.properties).filter(e=>e!=="github"),UFt=I.Intersect([NGe,OFt]),qFt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(ode),authProvider:I.Optional(I.Never())}),PGe=ms.Compile(qFt),ide=ms.Compile(UFt);async function LGe(e,t){if(!PGe.Check(t))throw new yc(PGe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&await ade(e,r),t.networkProxy!==void 0&&r$(e,t.networkProxy),await NB(e,r)}s(LGe,"notifyChangeConfiguration");async function ade(e,t){for(let i of ide.Errors(t)){let o=i.path.split("/")?.[1];D0.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[o]}if(!ide.Check(t))throw new yc(ide.Errors(t));let r=e.get(Gf);r.setConfig(wt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(wt.DelayCompletions,t.delayCompletions),r.setConfig(wt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(wt.FilterCompletions,t.filterCompletions),t.http&&lde(e,t.http);let n=t["github-enterprise"];n&&(e.get(hs).updateBaseUrl(e,n.uri),e.get(kn).updateEnterpriseConfig(e,n)),t.github?.copilot&&await WFt(e,t.github.copilot)}s(ade,"applySettingsToConfiguration");async function WFt(e,t){let r=e.get(Gf);for(let n of Object.values(wt)){let i=gve(t,n);r.setConfig(n,i)}t.mcp?await GFt(e,t.mcp):await HFt(e)}s(WFt,"applyCopilotConfiguration");function lde(e,t){let r=e.get(Gf),n=e.get(fn);if(t.proxy===void 0&&(t=DGe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=PB(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;D0.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}s(lde,"applyHttpConfiguration");function r$(e,t){if(!t){e.get(fn).proxySettings=void 0,e.get(fn).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(fn).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(fn).rejectUnauthorized=t.rejectUnauthorized??!0}s(r$,"applyNetworkProxyConfiguration");async function GFt(e,t){try{let r=JSON.parse(t);await e.get(Ff).updateMCPServers(r)}catch(r){D0.error(e,"Failed to apply MCP configuration",r)}}s(GFt,"applyMCPConfiguration");async function HFt(e){await e.get(Ff).updateMCPServers({})}s(HFt,"removeMCPConfiguration");async function NB(e,t){if(!e.get(Go).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await v5(e,"agent",r)}await e.get(en).primeToken()}s(NB,"initializePostConfigurationDependencies");var FGe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),jFt=I.Object({editorInfo:FGe,editorPluginInfo:FGe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(ode),authProvider:I.Optional(I.Never()),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function VFt(e,t,r){e.get(pn).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),rj(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&await ade(e,r.editorConfiguration);let n=e.get(fn),i=e.get(Gf).env,o=nde(i);if(r.editorInfo.name==="VisualStudio"){if(o)n.proxySettings=PB(o);else if(r.networkProxy){r$(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?r$(e,r.networkProxy):o&&(n.proxySettings=PB(o));return await NB(e,r.editorConfiguration),["OK",null]}s(VFt,"handleSetEditorInfoChecked");var MGe=st(jFt,VFt);d();var $Ft=I.Object({options:I.Optional(I.Object({}))});async function zFt(e,t,r){let n=e.get(kn).pendingSignIn?.status;if(n===void 0)return[null,{code:on.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(o){return[null,{code:on.DeviceFlowFailed,message:String(o)}]}finally{e.get(kn).pendingSignIn=void 0}}s(zFt,"handleSignInConfirmChecked");var QGe=st($Ft,zFt);d();var YFt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function KFt(e,t,r){try{let n=e.get(kn),i=await n.checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(i.status==="OK")return[{status:"AlreadySignedIn",user:i.user},null];let o=r.githubAppId??e.get(Ta).findAppIdToAuthenticate(),a=await e.get(Tv).getToken(e,o,n.getConfiguredUrls()),l=a.waitForAuth.then(async c=>(e.get(Ta).githubAppId=o,await e.get(kn).setPersistedSession(c),await e.get(kn).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(kn).pendingSignIn={verificationUri:a.verification_uri,status:l},[{status:"PromptUserDeviceFlow",userCode:a.user_code,verificationUri:a.verification_uri,expiresIn:a.expires_in,interval:a.interval,command:{command:hj,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Vs))throw n;return[null,{code:on.DeviceFlowFailed,message:n.message}]}}s(KFt,"handleSignInInitiateChecked");var cde=st(YFt,KFt);d();var JFt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function XFt(e,t,r){let n=r.githubToken,i=r.user,o=r.githubAppId;return await e.get(kn).setPersistedSession({accessToken:n,login:i,githubAppId:o}),[await e.get(kn).checkAndUpdateStatus(e),null]}s(XFt,"handleSignInWithGithubTokenChecked");var OGe=st(JFt,XFt);d();var ZFt=I.Object({options:I.Optional(I.Object({}))});async function eMt(e,t,r){return await e.get(kn).deletePersistedSession(),[await e.get(kn).checkAndUpdateStatus(e),null]}s(eMt,"handleSignOutChecked");var UGe=st(ZFt,eMt);d();var tMt=I.Object({});function rMt(e,t,r){return KEe(e),["OK",null]}s(rMt,"handleTelemetryAuthNotifyDismissedChecked");var qGe=st(tMt,rMt);d();var nMt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});function iMt(e,t,r){return YEe(e,r.authSource),["OK",null]}s(iMt,"handleTelemetryAuthNotifyShownChecked");var WGe=st(nMt,iMt);d();var oMt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function sMt(e,t,r){return NQ(e,r.authType),["OK",null]}s(sMt,"handleTelemetryGitHubLoginSuccessChecked");var GGe=st(oMt,sMt);d();var aMt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function lMt(e,t,r){return PQ(e,r.authSource,r.authType),["OK",null]}s(lMt,"handleTelemetryNewGitHubLoginChecked");var HGe=st(aMt,lMt);d();var cMt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),ude=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{s(this,"AgentEditorError")}};function uMt(e,t,r){let n=e.get(Ao),i=e.get(pn).getEditorPluginInfo(),o=r.properties||{},a;r.platform&&r.exception_detail&&e1.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:mZ(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},e1.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new ude(r.stacktrace??"N/A",i.name);return l.stack=void 0,Ia(e,l,void 0,o,a),["OK",null]}s(uMt,"handleTelemetryExceptionChecked");var jGe=st(cMt,uMt);d();d();d();d();d();d();var VGe=Ze(require("tls"));var n$=class{static{s(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(el)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=VGe.createSecureContext({_vscodeAdditionalCaCerts:t}),i=n.context;for(let o of t)i.addCACert(o);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};d();var QT=Ze(aje(),1),iHn={ALPN_HTTP2:QT.default.ALPN_HTTP2,ALPN_HTTP2C:QT.default.ALPN_HTTP2C,ALPN_HTTP1_1:QT.default.ALPN_HTTP1_1,ALPN_HTTP1_0:QT.default.ALPN_HTTP1_0},{fetch:oHn,context:lje,reset:sHn,noCache:aHn,h1:lHn,keepAlive:cHn,h1NoCache:uHn,keepAliveNoCache:fHn,cacheStats:dHn,clearCache:mHn,offPush:hHn,onPush:pHn,createUrl:gHn,timeoutSignal:AHn,Body:yHn,Headers:cje,Request:CHn,Response:xHn,AbortController:I$,AbortError:T$,AbortSignal:uje,FetchBaseError:vHn,FetchError:bHn,ALPN_HTTP2:EHn,ALPN_HTTP2C:IHn,ALPN_HTTP1_1:THn,ALPN_HTTP1_0:wHn}=QT.default;var OT=class extends fn{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=s((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,o)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new n$(r),this.proxySocketFactory=r.get(Og)}static{s(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Ao);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),lje({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,o=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),o=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw o?new M7(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new Zy(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new I$}};d();d();var WB=require("fs");var UT=class extends bo{static{s(this,"LocalFileSystem")}async readFileString(t){return(await WB.promises.readFile(Ga(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(Ga(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async readDirectory(t){let r=Ga(t),n=await WB.promises.readdir(r,{withFileTypes:!0}),i=[];for(let o of n)i.push([o.name,o.isFile()?1:2]);return i}async statWithLink(t){let r=await WB.promises.lstat(t);if(r.isSymbolicLink())try{let n=await WB.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};d();var w$=class extends ep{constructor(r=[]){super();this._agents=r}static{s(this,"TestRemoteAgentRegistry")}agents(){return this._agents}};d();var _$=class extends rl{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{s(this,"TestConversationInspector")}shouldInspect(){return!0}inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var Gde=class extends el{constructor(r){super();this.certificates=r}static{s(this,"TestCertificateReader")}getAllRootCAs(){return this.certificates}},dje=s(e=>new Gde(e),"createTestCertificateReader");function Vde(e,t,r){let n=new Hde;n.set("x-github-request-id","1");for(let[i,o]of Object.entries(r||{}))n.set(i,o);return new Zy(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}s(Vde,"createFakeResponse");function mje(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),Vde(e,n,Object.assign({"content-type":"application/json"},r))}s(mje,"createFakeJsonResponse");var GB=class extends fn{constructor(){super(...arguments);this.name="FakeFetcher"}static{s(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new jde}};var S$=class extends GB{static{s(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var Hde=class{constructor(){this.headers=new Map}static{s(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},jde=class{constructor(){this.signal={aborted:!1,addEventListener:s(()=>{},"addEventListener"),removeEventListener:s(()=>{},"removeEventListener")}}static{s(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};d();function tUt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}s(tUt,"fakeChatModelConfiguration");function rUt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}s(rUt,"fakeEmbeddingModelConfiguration");var R$=class extends di{static{s(this,"TestModelConfigurationProvider")}getBestChatModelConfig(t){let r=t[0];return Promise.resolve(tUt(r))}getFirstMatchingEmbeddingModelConfiguration(t){return Promise.resolve(rUt(t))}};d();var k$=class extends lc{constructor(){super(...arguments);this.openedUrls=[];this.opened=new L8}static{s(this,"TestUrlOpener")}open(r){return this.openedUrls.push(r),this.opened.resolve(),Promise.resolve()}},B$=class extends ja{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{s(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let o=n.find(a=>a.title===this.actionToPerform);i=o?Promise.resolve(o):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function hje(e,t,r,n){return gA.create(_3e(e),t,r,n,t)}s(hje,"createTextDocument");var $de=class extends Vr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._focusSubscribers.push(o),{dispose:s(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==o)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._changeSubscribers.push(o),{dispose:s(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==o)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._openSubscribers.push(o),{dispose:s(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==o)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._closeSubscribers.push(o),{dispose:s(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==o)},"dispose")}},"onDidCloseTextDocument")}static{s(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r.map(n=>({uri:n.uri,name:n.name??Pi(n.uri)}))}async readTextDocumentFromDisk(r){return super.readTextDocumentFromDisk(r)}getTextDocumentsUnsafe(){return this._openTextDocuments}setTextDocument(r,n,i){let o=hje(r,n,0,i);return this._openTextDocuments.push(o),o}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let o=this._openTextDocuments[i];this._openTextDocuments[i]=hje(r,o.clientLanguageId,o.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},D$=class extends $de{constructor(r){super(r);this.contents=new Map}static{s(this,"TestTextDocumentManager")}readTextDocumentFromDisk(r){return Promise.resolve(this.contents.get(r))}setDiskContents(r,n){this.contents.set(r,n)}};var zde=class extends Ha{static{s(this,"NullLog")}logIt(...t){}};function nUt(e){let t=new S8;return t.set(sg,e),t.set(nv,e),t.set(Ao,new Ao),t.set(Ed,new Ed({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(el,dje([])),t.set(Og,nG(t)),t.set(Gp,new Gp),t.set(sh,new lF),t.set(gf,new gf),t.set(Xp,new Xp),t.set(eg,new eg),t.set(ic,new ic(t,"tid=test",!0)),t.set(Fs,new Fs),t.set(ja,new B$),t.set(lc,new k$),t.set(ng,new d6),t.set(Ha,new zde),t.set(tu,new tu),t.set(Bs,new Bs("test-session","test-machine")),t.set(hs,new w9(t)),t.set(nf,new nf),v5(t,"copilot-test",!0),t.set(dr,new dr(t)),t.set(xh,new xh),t.set(pf,new pf),t.set(fh,new u8),t.set(en,new x3("tid=test")),t.set(Yi,new gF),t.set(Bo,new Bo),t.set(Th,gU(t)),t.set(v0,new v0),t.set($d,new $d),t.set(kA,kA.default),t.set(Pf,new Pf),t.set(Sd,new Sd(t,!1)),t.set(Ta,new Ta),t.set(Qn,new Qn(t)),t.set(hf,new LQ),t.set(Dl,new Dl),t.set(ml,fU(t,async(r,n,i)=>n.find(o=>o==="*")?1:n.find(o=>typeof o!="string"&&o.language===i.languageId)?10:0)),iUt(t),t.set(Ch,new Ch(t)),t.set(Go,new Go),t}s(nUt,"_createBaselineContext");function iUt(e){e.set(Gi,new Gi(e)),e.set(ws,new ws(e)),e.set(xc,new xc(e)),e.set(nl,new nl),e.set($l,new $l),e.set(rl,new _$),e.set(gm,new gm(e,[])),e.set(di,new R$),e.set(ep,new w$),e.set(n1,new n1(e)),e.set(l3,new l3),e.set(ha,new ha(e)),e.set(Cc,new Cc),e.set(jf,new jf)}s(iUt,"registerConversation");function pje(){let e=nUt(new nv(new f8,new Map));return e.set(fn,new S$),e.set(pn,new Yde),e.set(Vr,new D$(e)),e.set(bo,new UT),e.set(qc,new qc(e)),e.set(tl,new tl(e)),e.set(gc,new lG(e)),qH(e),e}s(pje,"createLibTestingContext");var Yde=class extends pn{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{s(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var Aje=Ze(require("fs"));var gje=`${process.env.HOME}/.copilot-testing-gh-token`,P$,N$;async function yje(e){e.forceSet(en,new x3(await oUt()))}s(yje,"setTestingCopilotTokenManager");var oUt=s(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(N$)return N$;let t=e||process.env.GITHUB_COPILOT_TOKEN||await sUt(),r=pje(),n=new OT(r);return r.forceSet(fn,n),N$=mF(r,{...e8({}),accessToken:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Vs('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),N$},"getCopilotToken");async function sUt(){try{P$??=(await Aje.promises.readFile(gje)).toString().trim()}catch{P$??=process.env.GITHUB_TOKEN??""}if(!P$)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${gje}. Run "npm run get_token" to get one.`);return P$}s(sUt,"getTestingGitHubToken");function Cje(e){return new cA({token:`test token ${_r()}`,refresh_in:0,expires_at:0,...e})}s(Cje,"createTestCopilotToken");var Kde=class extends en{constructor(r){super();this.copilotToken=r;this.wasReset=!1;this.ghSession=xje()}static{s(this,"FakeCopilotTokenManagerFromCopilotToken")}async getGitHubSession(){return Promise.resolve(this.ghSession)}getToken(){return Promise.resolve(this.copilotToken)}resetToken(){this.wasReset=!0}checkCopilotToken(){return Promise.resolve({status:"OK"})}},L$=class extends Kde{static{s(this,"TestCopilotTokenManager")}constructor(t){super(Cje(t))}},x3=class extends L${static{s(this,"FixedCopilotTokenManager")}constructor(t){super({token:t})}};function xje(e={}){return{accessToken:_r(),...e,...e8(e)}}s(xje,"testGitHubSession");var F$=class extends kn{static{s(this,"NotAuthManager")}constructor(){super(null,null)}getPersistedSession(){return Promise.resolve(void 0)}checkAndUpdateStatus(){return Promise.resolve({status:"NotSignedIn"})}},qT=class extends kn{constructor(r=new x3("tid=valid-copilot-token"),n=""){super(null,r);this.githubAppId=n}static{s(this,"AlwaysAuthManager")}getPersistedSession(){return Promise.resolve({login:"user",accessToken:"",githubAppId:this.githubAppId,...this.getConfiguredUrls()})}};var aUt=I.Object({options:I.Optional(I.Object({}))});async function lUt(e,t,r){return e.forceSet(kn,new qT),e.get(en).resetToken(),e.get(Yi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}s(lUt,"handleTestingAlwaysAuthChecked");var vje=st(aUt,lUt);d();var cUt=I.Object({messages:I.Array(I.Object({role:I.Enum(pl),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(ui)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function uUt(e,t,r){let n=new Da(e),i=await e.get(di).getBestChatModelConfig([r.modelFamily??ui.Gpt35turbo]),o=await AS(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:Bu.user("test",_r())},t,o),null]}s(uUt,"handleChatMLChecked");var bje=wo(st(cUt,uUt));d();d();var Eje=require("crypto"),Ije=require("http"),Tje=require("stream"),wje=require("util"),GT=Ze(ph());var fUt=9e4,dUt=new GT.ProtocolRequestType("copilot/fetch"),mUt=new GT.ProtocolRequestType("copilot/fetchCancel"),hUt=new GT.ProgressType,pUt=new GT.ProtocolRequestType("copilot/fetchDisconnectAll"),d1=class extends Error{static{s(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},WT=class extends fn{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(Ao).getVersion()}`}static{s(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(Wr).connection.sendRequest(pUt,{})}makeAbortController(){return new I$}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,o=this.ctx.get(Wr).connection,a=(0,Eje.randomUUID)(),l=new Fn.CancellationTokenSource,c=new Tje.PassThrough,u=s(()=>{o.sendRequest(mUt,{workDoneToken:a})},"sendCancelRequest"),f=s(()=>{c.emit("error",new T$("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof uje))throw new d1("EditorFetcher received unexpected abort signal");if(i.aborted)throw new T$("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}o.onProgress(hUt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new d1(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let g=setTimeout(()=>{p(new d1("Request timed out from lsp server"))},n.timeout??fUt),y=s(()=>{p(new T$("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",y),o.sendRequest(dUt,AUt(r,a,n),l.token).then(h).catch(v=>{let b="EditorFetcher request failed";v&&typeof v=="object"&&"message"in v&&(b+=`: ${String(v.message)}`),v&&typeof v=="object"&&"data"in v&&(b+=`: ${(0,wje.inspect)(v.data)}`),p(new d1(b))}).finally(()=>{i?.removeEventListener("abort",y),clearTimeout(g)})});if(!m.status)throw new d1("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new Zy(m.status,Ije.STATUS_CODES[m.status]??"",new cje(m.headers),()=>gUt(c),()=>c)}};function gUt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}s(gUt,"consumeStream");function AUt(e,t,r){let{timeout:n,method:i}=r,o=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(o["content-type"]="application/json"),{url:e,headers:o,body:a,timeout:n,method:i,workDoneToken:t}}s(AUt,"convertOptionsToParams");var yUt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function CUt(e,t,r){let n=new WT(e),i=n.makeAbortController(),o=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:o,...f});c&&i.abort();let h;try{h=await m}catch(y){return[{error:`Fetch stream error: ${y instanceof d1?y.message:String(y)}`},null]}let{status:p}=h,g=Object.fromEntries(Array.from(h.headers));try{if(u){let v=h.body();for await(let b of v){let E=b.toString();return i.abort(),[{status:p,headers:g,body:E},null]}}let y=await h.text();return[{status:p,headers:g,body:y},null]}catch(y){return[{error:`Fetch stream error: ${y instanceof d1?y.message:String(y)}`},null]}}s(CUt,"handleTestingFetchChecked");var _je=st(yUt,CUt);d();var xUt=I.Object({});async function vUt(e,t,r){return await e.get(Bo).flush(),["OK",null]}s(vUt,"handleTestingFlushPromiseQueueChecked");var Sje=st(xUt,vUt);d();var bUt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function EUt(e,t,r){try{await e.get(Jg).start();let n=e.get(Yb),i=r.timeout??1e3,o=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-o<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}s(EUt,"handleTestingGetContextChecked");var Rje=st(bUt,EUt);d();var IUt=I.Object({uri:I.String()});async function TUt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return[{uri:r.uri,languageId:i?.clientLanguageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}s(TUt,"handleGetDocumentChecked");var kje=st(IUt,TUt);d();d();d();var M$=Ze(require("assert"));var _2=class{constructor(){this.events=[];this.errors=[]}static{s(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return M$.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){M$.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};var HT=class extends Bo{static{s(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var wUt=I.Object({});async function _Ut(e,t,r){let n=e.get(Fs),i=n.getReporter(e),o=n.getRestrictedReporter(e);if(!(i instanceof _2)||!(o instanceof _2||o===void 0))return[null,{code:on.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(Bo);return a instanceof HT&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:o?.events||[],errors:o?.errors||[]}},null]}s(_Ut,"handleTestingGetTelemetryChecked");var Bje=st(wUt,_Ut);d();var SUt=I.Object({options:I.Optional(I.Object({}))});async function RUt(e,t,r){e.forceSet(kn,new F$),e.get(en).resetToken();try{await e.get(en).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}s(RUt,"handleTestingNeverAuthChecked");var Dje=st(SUt,RUt);d();d();var Jde=class extends GB{static{s(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(mje(200,this.fullConfig)):Promise.resolve(Vde(404,""))}},Q$=class extends Jde{constructor(r,n){super(r);this.delegate=n}static{s(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var kUt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});function BUt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(fn,new Q$(n,e.get(fn)))}return["OK",null]}s(BUt,"handleTestingOverrideExpFlagsChecked");var Pje=st(kUt,BUt);d();var DUt=I.Object({rules:Are});function PUt(e,t,r){let n=e.get(qc);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:on.InternalError,message:"Could not set content exclusion rules"}]}s(PUt,"handleTestingSetContentExclusionRulesChecked");var Nje=st(DUt,PUt);d();var NUt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(xT)),options:I.Optional(I.Object({}))});function LUt(e,t,r){return e.get(C2).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}s(LUt,"handleTestingSetSyntheticTurnsChecked");var Lje=st(NUt,LUt);d();var FUt=I.Object({telemetryCapture:I.Boolean()});async function MUt(e,t,r){return r.telemetryCapture?(await v5(e,"agent",!1),e.get(Fs).setReporter(new _2),e.get(Fs).setRestrictedReporter(new _2),e.forceSet(Bo,new HT)):(await v5(e,"agent",!0),e.forceSet(Bo,new Bo)),["OK",null]}s(MUt,"handleTestingSetTelemetryCaptureChecked");var Fje=st(FUt,MUt);d();var QUt=I.Object({});async function OUt(e,t,r){let n=e.get(ja),i=e.get(Ha);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>o(3,"response from message request",a?.title)).catch(a=>o(1,"error sending show message request",a)),["OK",null];function o(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}s(o,"sendNotification")}s(OUt,"handleTriggerShowMessageChecked");var Mje=st(QUt,OUt);d();var UUt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function qUt(e,t,r){return await yje(e),e.forceSet(kn,new qT(e.get(en),r.githubAppId)),["OK",null]}s(qUt,"handleTestingUseTestingTokenChecked");var Qje=st(UUt,qUt);d();var WUt=I.Object({});async function GUt(e,t,r){return await new lT().uninstall(e),["OK",null]}s(GUt,"handleUninstallChecked");var Oje=st(WUt,GUt);d();var HUt=v8e;function jUt(e,t,r){let n=e.get(ml),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(o=>{try{n.unregisterContextProvider(o.id),i.unregistered.push(o.id)}catch{i.notUnregistered.push(o.id)}}),[i,null]}s(jUt,"unregisterContextProviders");var Uje=st(HUt,jUt);d();var Xde=Ze(require("os"));var VUt=I.Object({expectedCertificate:I.String()});async function $Ut(e,t,r){let i=(await rG(e).getAllRootCAs()).map(kT),o=kT(r.expectedCertificate);return i.includes(o)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${rde(o)}. Only found those installed on the system:${Xde.EOL}${i.map(a=>"- "+rde(a)).join(Xde.EOL)}`},null]}s($Ut,"handleVerifyCertificateChecked");var qje=st(VUt,$Ut);d();var zUt=I.Object({});async function YUt(){return[{status:!!await new ak().load()},null]}s(YUt,"handleVerifyKerberosChecked");var Wje=st(zUt,YUt);d();var KUt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function JUt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}s(JUt,"handleVerifyStateChecked");var Gje=st(KUt,JUt);d();var XUt=I.Object({});function ZUt(e,t,r){return[e.get(Vr).getWorkspaceFolders().map(i=>{let o=new URL(i.uri),a=decodeURIComponent(o.pathname);return{...i,path:a}}),null]}s(ZUt,"handleVerifyWorkspaceStateChecked");var Hje=st(XUt,ZUt);var mE=class{constructor(t){this.handlers=t}static{s(this,"MethodHandlers")}};function jje(){let e=new Map;return e.set(xGe.method,vGe),e.set(bGe.method,EGe),e.set("getCompletions",dGe),e.set("getCompletionsCycling",mGe),e.set("getPanelCompletions",gGe),e.set(KWe.method,JWe),e.set("getVersion",AGe),e.set("setEditorInfo",MGe),e.set("checkStatus",rUe),e.set("checkFileStatus",tUe),e.set("signInInitiate",cde),e.set("signIn",cde),e.set("signInConfirm",QGe),e.set("signInWithGithubToken",OGe),e.set("signOut",UGe),e.set("notifyShown",SGe),e.set("notifyAccepted",wGe),e.set("notifyRejected",_Ge),e.set("telemetry/exception",jGe),e.set("telemetry/authNotifyDismissed",qGe),e.set("telemetry/authNotifyShown",WGe),e.set("telemetry/gitHubLoginSuccess",GGe),e.set("telemetry/newGitHubLogin",HGe),e.set("textDocument/copilotInlineEdit",TGe),e.set("testing/overrideExpFlags",Pje),e.set("testing/alwaysAuth",vje),e.set("testing/neverAuth",Dje),e.set("testing/useTestingToken",Qje),e.set("testing/setCompletionDocuments",lGe),e.set("testing/setPanelCompletionDocuments",zWe),e.set("testing/triggerShowMessageRequest",Mje),e.set("testing/getTelemetry",Bje),e.set("testing/setTelemetryCapture",Fje),e.set("testing/flushPromiseQueue",Sje),e.set("testing/getDocument",kje),e.set("testing/chatml",bje),e.set("testing/setSyntheticTurns",Lje),e.set("testing/fetch",_je),e.set("testing/setContentExclusionRules",Nje),e.set("testing/setCopilotEditsResponse",FWe),e.set("testing/getContext",Rje),e.set("uninstall",Oje),e.set("debug/diagnostics",tGe),e.set("debug/listCertificates",IGe),e.set("debug/verifyState",Gje),e.set("debug/verifyCertificate",qje),e.set("debug/verifyKerberos",Wje),e.set("debug/verifyWorkspaceState",Hje),e.set("context/registerProviders",RGe),e.set("context/unregisterProviders",Uje),e.set("conversation/preconditions",RWe),e.set("conversation/persistence",wWe),e.set("conversation/create",IWe),e.set("conversation/turn",PWe),e.set("conversation/turnDelete",NWe),e.set("conversation/destroy",TWe),e.set("conversation/rating",kWe),e.set("conversation/copyCode",lWe),e.set("conversation/insertCode",cWe),e.set("conversation/templates",DWe),e.set("conversation/agents",aWe),e.set("conversation/registerTools",BWe),e.set("copilot/models",GWe),e.set("copilot/setModelPolicy",HWe),e.set("copilot/codeReview",LWe),e.set("git/commitGenerate",yGe),e.set("editConversation/create",MWe),e.set("editConversation/turn",OWe),e.set("editConversation/turnDelete",UWe),e.set("editConversation/destroy",QWe),e.set("mcp/getTools",qWe),e.set("mcp/updateToolsStatus",WWe),new mE(e)}s(jje,"getAllMethods");d();d();d();var Vje=Ze(ph());var m1=class{constructor(t){this.ctx=t}static{s(this,"AbstractNotification")}get type(){return new Vje.NotificationType(this.name)}};var Zde=class extends m1{constructor(){super(...arguments);this.name=rZ.method;this.params=PCe}static{s(this,"DidChangeAuthNotificationHandler")}handle(r){let n=this.ctx.get(kn);r?.handle&&r?.accessToken?n.setTransientSession({accessToken:r.accessToken,login:r.handle,githubAppId:r.githubAppId}):n.setTransientSession(null)}},$je=[Zde];d();var eme=class extends m1{constructor(){super(...arguments);this.name=aZ.method;this.params=qCe}static{s(this,"DidShowCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],o=this.ctx.get(ns).get(n);o&&K9e(this.ctx,o)}},tme=class extends m1{constructor(){super(...arguments);this.name=uZ.method;this.params=VCe}static{s(this,"DidShowInlineEditNotificationHandler")}async handle(r){let n=r.item.command.arguments[0];await this.ctx.get(zh).handleShown(n)}},rme=class extends m1{constructor(){super(...arguments);this.name=lZ.method;this.params=WCe}static{s(this,"DidPartiallyAcceptCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,o=this.ctx.get(ns),a=o.get(n);a&&(o.delete(n),i>=a.insertText.length?bU(this.ctx,a):J9e(this.ctx,a,i))}},zje=[eme,tme,rme];d();var O$=class extends m1{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{s(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(N0).cancel(r.token)}};var eqt=[...$je,...zje,O$];function Yje(e,t){for(let r of eqt){let n=new r(e),i=ms.Compile(n.params);t.onNotification(n.type,Zu(e,async o=>{u2(o),i.Check(o)?await n.handle(o):D0.error(e,`Notification ${n.name}:`,new yc(i.Errors(o)))},`Notification ${n.name}`))}}s(Yje,"registerNotifications");d();var Jje=Ze(require("events")),U$=Ze(fl());var Kje=new Gt("AgentTextDocumentConfiguration"),nme=class{constructor(t){this.ctx=t;this.emitter=new Jje.default}static{s(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return gA.create(t,r,n,i)}catch(o){throw Kje.exception(this.ctx,o,".create"),o}}update(t,r,n){try{let i=[];for(let a of r)if(U$.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let o={document:{uri:t.uri,version:n},contentChanges:i};return this.emitter.emit("change",o),gA.withChanges(t,r,n)}catch(i){throw Kje.exception(this.ctx,i,".update"),i}}},v3=class extends Vr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",o),{dispose:s(()=>{this._textDocumentConfiguration.emitter.removeListener("change",o)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",o),{dispose:s(()=>{this._textDocumentConfiguration.emitter.removeListener("open",o)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",o),{dispose:s(()=>{this._textDocumentConfiguration.emitter.removeListener("close",o)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=s((r,n,i)=>this.connection.onNotification(oZ.type,o=>{let a=("textDocument"in o?o.textDocument:o)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new nme(r),this._notebookDocuments=new U$.NotebookDocuments(this._textDocumentConfiguration)}static{s(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(Wr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(ac(i.uri),o),this._textDocumentConfiguration.emitter.emit("open",{document:{...i,uri:o.uri}})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=ac(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,o,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=ac(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getTextDocumentsUnsafe(){return[...this._documents.values()]}getTextDocumentUnsafe(r){return this._documents.get(ac(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:s(()=>n.cells.map((i,o)=>this.wrapCell(i,o)).filter(i=>!!i),"getCells"),getCellFor:s(({uri:i})=>{let o=n.cells.findIndex(a=>a.document===i);return o!==-1?this.wrapCell(n.cells[o],o):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var Xje=ms.Compile(QCe);function u2(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=u2(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=u2(t[r])}return e}}s(u2,"purgeNulls");var Wr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(Ha)}static{s(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),Yje(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(Ao).getDisplayVersion(),nodeVersion:process.versions.node},i,o=s(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...sde].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of sde)f[m]=u.shift();c.settings=f}return LGe(t,u2(c))}catch(u){D0.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(v3).didChangeWorkspaceFolders(c),t.get(Pf).emit(c)}catch(u){D0.exception(t,u,"didChangeWorkspaceFolders")}}s(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=u2(c.initializationOptions);if(f){if(!Xje.Check(f))throw new yc(Xje.Errors(f));let g=f,y=t.get(pn);g.editorPluginInfo?y.setEditorAndPluginInfo({version:"unknown",...g.editorPluginInfo},g.editorInfo&&{version:"unknown",...g.editorInfo},g.relatedPluginInfo??[]):D0.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),g.copilotIntegrationId&&y.setCopilotIntegrationId(g.copilotIntegrationId),g.githubAppId&&(t.get(Ta).githubAppId=g.githubAppId),g.copilotCapabilities&&(u=g.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(v3).init(c.workspaceFolders??[]),o9e(this.ctx),t.get(Pf).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(Go).setCapabilities(u),"openURL"in u&&rj(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=s(async()=>{this.initialized||(this.initialized=!0,D0.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await o({}):await NB(t),this.installationTelemetryTimer=setTimeout(()=>{new lT().startup(t).catch(()=>{})},1e3),t.get(f2).emit(),await C9e(t))},"onInitialized");return r.onInitialized(Zu(t,p,"onInitialized")),t.get(Kh).init(),u?.token&&t.get(kn).setTransientSession(null),u?.redirectedTelemetry&&await ZOe(t),Zje.lt(process.versions.node,"20.8.0")&&D0.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:op.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:VOe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(Zu(t,o,"onDidChangeConfiguration")),r.listen();let l=new gj;this.ctx.forceSet(Ha,l)}async messageHandler(t,r,n){let i=this.ctx.get(mE).handlers.get(t);if(!i)return new op.ResponseError(on.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new op.ResponseError(on.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new op.ResponseError(on.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!YOe(this.ctx.get(pn)))throw new op.ResponseError(on.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),u2(r);try{let[o,a]=await i(this.ctx,n,r);return a?new op.ResponseError(a.code,a.message,a.data):o}catch(o){if(n.isCancellationRequested)return new op.ResponseError(on.RequestCancelled,"Request was canceled");if(o instanceof Vs)return new op.ResponseError(on.NoCopilotToken,`Not authenticated: ${o.message}`);throw o instanceof op.ResponseError||D0.exception(this.ctx,o,`Request ${t}`),o}}async onExit(){try{this.ctx.get(Yh).dispose()}catch(t){D0.exception(this.ctx,t,"failed to dispose ripgrep process manager")}this.ctx.forceSet(Ha,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),jne(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(Bo).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(Fs).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},D0=new Gt("lsp");var q$=class e extends Hv{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{s(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(Wr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",o="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case o:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let o={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(o),o.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),dl.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){dl.debug(this.context,`Fetching related files for ${r.uri}`);let o=this.context.get(Go).getCapabilities().related??!1;if(e.relatedCapabilityTelemetry(this.context,n,o),!o)return dl.debug(this.context,"`copilot/related` not supported"),a9e;try{let a=await this.service.connection.sendRequest(fZ.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){dl.exception(this.context,a,".copilotRelated");return}}static{this.telemetrySent=!1}static relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,jt(r,"copilotRelated.hasRelatedCapability",n)}catch(o){dl.exception(r,o,"copilotRelated")}}};d();var eVe=Ze(fl());var ime=new Gt("copilotTokenManager"),ome=class e extends r8{static{s(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new eVe.ProtocolRequestType("copilot/token")}constructor(t,r=!1){super(t,r)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(Wr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw ime.debug(this.ctx,"Envelope missing from copilot/token response"),new wd({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:o,envelope:a,tokenEndpoint:l}=r;ime.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new cA(a);if(c.isExpired())throw new Vs("Expired token in copilot/token response");if(i&&n){let u;if(l!==void 0){try{u=new URL(l).origin}catch{ime.warn(this.ctx,`Invalid token endpoint URL <${l}>`)}this.ctx.get(hs).updateBaseUrlFromTokenEndpoint(this.ctx,l)}this.ctx.get(kn).setTransientSession({accessToken:n,login:i,githubAppId:o,apiUrl:u},!1)}else if(!await this.getGitHubSession())throw new wd({reason:"NotSignedIn"});return d_(this.ctx,c),a}catch(r){throw r instanceof Error?new Vs(r.message,r):r}}},HB=class extends en{constructor(r,n=new r8(r,!0)){super();this.ctx=r;this.fallback=n;this.client=new ome(r,!0)}static{s(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(Go).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var tqt=new Gt("Public Code References"),W$=class extends hf{static{s(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",o=(r.matchingText??"").replace(/[\r\n]/g," ");tqt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${o}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(Go).getCapabilities().ipCodeCitation===!0&&await t.get(Wr).connection.sendNotification(nZ.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function tVe(e){rqt(e)}s(tVe,"activateExtensibilityPlatformFeature");function rqt(e){e.set(ep,new NV(e)),e.set(n1,new n1(e))}s(rqt,"registerContextDependencies");d();var rVe=I.String(),sme=class{constructor(t){this.turnContext=t}static{s(this,"BuildLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(H$,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},H$="build-logs",G$=class extends jl{static{s(this,"BuildLogsSkill")}constructor(t){super(H$,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new sme(r))}};d();var nqt=I.Object({uri:I.String(),visibleRange:I.Optional(Ea),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),nVe=I.Object({files:I.Array(nqt)}),iqt=3,ame=class{constructor(t){this.turnContext=t}static{s(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=this.toElidableDocs(r),i=u3(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(Qn),i=[];for(let o of r){let a=await n.getOrReadTextDocument(o),l=ys(a);if(await this.turnContext.collectFile(V$,o.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,o]),i.length===iqt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}toElidableDocs(t){return t.map(r=>{let[n,i]=r,o=this.turnContext.ctx.get(Qn).getRelativePath(n),a=new i1(n,void 0,i.visibleRange);return new Yt([[`Code excerpt from file \`${o}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])})}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(di).getBestChatModelConfig(ps("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Yt([n])}},V$="recent-files",j$=class extends jl{static{s(this,"RecentFilesSkill")}constructor(t){super(V$,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new ame(r))}};d();var iVe=I.String(),lme=class{constructor(t){this.turnContext=t}static{s(this,"RuntimeLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(z$,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},z$="runtime-logs",$$=class extends jl{static{s(this,"RuntimeLogsSkill")}constructor(t){super(z$,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new lme(r))}};d();var Y$=Ze(ph());var K$=class extends rl{constructor(r){super();this.ctx=r}static{s(this,"AgentConversationInspector")}shouldInspect(){return zL(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(Wr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new Y$.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new Y$.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new Y$.NotificationType("conversation/documentDiff"),r)}};d();var oVe=Ze(fl());var jB=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(gm).onChange(r=>{this.sendNotification(r)})}static{s(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(Wr).connection.sendNotification(new oVe.NotificationType(this.notificationEndpoint),t)}};function sVe(e){oqt(e),sqt(e),tVe(e)}s(sVe,"activateConversationFeature");function oqt(e){e.set(Gi,new Gi(e)),e.set($l,new $l),e.set(xc,new xc(e)),e.set(di,new AG(e)),e.set(C2,new C2),e.set(ws,new ws(e)),e.set(gm,new gm(e)),e.set(jB,new jB(e)),e.set(of,new CF(e,new yF(e))),e.set(x2,new x2),e.set(l3,new l3),e.set(rl,new K$(e)),e.set(ha,new ha(e)),e.set(Cc,new Cc),e.set(jf,new jf)}s(oqt,"registerContextDependencies");function sqt(e){let t=new nl;t.registerSkill(new Fj(new Lj(e))),t.registerSkill(new cV(new P0(e,c1,Yqe))),t.registerSkill(new Qj(new P0(e,Xh,qUe))),t.registerSkill(new xj(new P0(e,Jc,cUe))),t.registerSkill(new uV),t.registerSkill(new j$(new P0(e,V$,nVe))),t.registerSkill(new vj(new P0(e,o1,fUe))),t.registerSkill(new Uj(new P0(e,f3,JUe))),t.registerSkill(new $$(new P0(e,z$,iVe))),t.registerSkill(new G$(new P0(e,H$,rVe))),t.registerSkill(new Wj(new P0(e,Zh,XUe))),t.registerSkill(new Gj(new P0(e,Zb,eqe))),e.set(nl,t)}s(sqt,"registerSkills");d();var aVe=Ze(ni());var J$=class extends gc{static{s(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(Wr).connection.sendProgress(new aVe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var lVe=Ze(fl()),cVe=Ze(ph());var X$=class extends Ug{constructor(){super(...arguments);this.requestType=new lVe.ProtocolRequestType("conversation/invokeClientToolConfirmation");this.typeCheck=ms.Compile(MMe)}static{s(this,"AgentClientToolConfirmationInvoker")}async invokeClientToolConfirmation(r,n){let i=this.ctx.get(Wr).connection,o;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new cVe.ResponseError(c.code,c.message,c.data);throw Kr.error(this.ctx,`ResponseError while invoking client tool confirmation ${n.name}`,u),new Error(`Failed to invoke client tool confirmation ${n.name}: ${c.message}`)}o=l}catch(a){throw new Error(`Failed to invoke client tool confirmation ${n.name}: ${String(a)}`)}if(o==null)throw new Error(`Failed to invoke client tool confirmation ${n.name}: No result returned`);if(!this.typeCheck.Check(o))throw new yc(this.typeCheck.Errors(o));return o}};d();var uVe=Ze(fl()),fVe=Ze(ph());var Z$=class extends PC{constructor(){super(...arguments);this.requestType=new uVe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=ms.Compile(FMe)}static{s(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get(Wr).connection,o;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new fVe.ResponseError(c.code,c.message,c.data);throw Kr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}o=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(o==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(o))throw new yc(this.typeCheck.Errors(o));return this.transformToToolResult(o)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new ro(i.value):new rT(i.value));return new no(n,r.status??"success")}};d();var cme=Ze(ph());var aqt={type:new cme.NotificationType("featureFlagsNotification")},lqt={type:new cme.NotificationType("copilot/didChangeFeatureFlags")},VB=class{constructor(t){this.ctx=t;Ks(t,r=>this.sendNotification(r))}static{s(this,"FeatureFlagsNotifier")}async sendNotification(t){let r=this.ctx,n=r.get(dr),i=await n.updateExPValuesAndAssignments(),o=!1;t.envelope.chat_enabled&&(o=n.ideEnableCopilotEditsAgent(i));let a={},l=Rne(r,i);l.length>0&&(a.ExpContextProviders=l);let c=new Map;uU(r,c,i);for(let[m,h]of c.entries())a[m]=h;let u=r.get(Go),f=r.get(Wr).connection;if(u.getCapabilities().didChangeFeatureFlags)await f.sendNotification(lqt.type,{envelope:{...t.envelope,token:void 0,expires_at:void 0,refresh_in:void 0,user_notification:void 0,limited_user_quotas:void 0,limited_user_reset_date:void 0,error_details:void 0,organization_list:void 0,enterprise_list:void 0,endpoints:void 0},token:t.getTokenValues(),activeExps:a,cea:o});else{let m={rt:t.getTokenValue("rt")==="1",sn:t.getTokenValue("sn")==="1",chat:t.envelope.chat_enabled??!1,ic:t.envelope.chat_enabled??!1,pc:!0,cea:o,ae:a};t.envelope.xcode_chat&&t.envelope.chat_enabled&&(m.xc=!0),await f.sendNotification(aqt.type,m)}}};d();var ez=class extends Yi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{s(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(Wr).connection.sendNotification(dZ.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(Wr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var dVe=new UT;d();d();d();var sp=new Gt("CopilotMCP");d();d();d();d();var io;(function(e){e.assertEqual=i=>i;function t(i){}s(t,"assertIs"),e.assertIs=t;function r(i){throw new Error}s(r,"assertNever"),e.assertNever=r,e.arrayToEnum=i=>{let o={};for(let a of i)o[a]=a;return o},e.getValidEnumValues=i=>{let o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(let l of o)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},e.find=(i,o)=>{for(let a of i)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}s(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(io||(io={}));var fme;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(fme||(fme={}));var Dr=io.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),R2=s(e=>{switch(typeof e){case"undefined":return Dr.undefined;case"string":return Dr.string;case"number":return isNaN(e)?Dr.nan:Dr.number;case"boolean":return Dr.boolean;case"function":return Dr.function;case"bigint":return Dr.bigint;case"symbol":return Dr.symbol;case"object":return Array.isArray(e)?Dr.array:e===null?Dr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Dr.promise:typeof Map<"u"&&e instanceof Map?Dr.map:typeof Set<"u"&&e instanceof Set?Dr.set:typeof Date<"u"&&e instanceof Date?Dr.date:Dr.object;default:return Dr.unknown}},"getParsedType"),Ht=io.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cqt=s(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),$f=class e extends Error{static{s(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(o){return o.message},n={_errors:[]},i=s(o=>{for(let a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}},"processError");return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,io.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};$f.create=e=>new $f(e);var $T=s((e,t)=>{let r;switch(e.code){case Ht.invalid_type:e.received===Dr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ht.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,io.jsonStringifyReplacer)}`;break;case Ht.unrecognized_keys:r=`Unrecognized key(s) in object: ${io.joinValues(e.keys,", ")}`;break;case Ht.invalid_union:r="Invalid input";break;case Ht.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${io.joinValues(e.options)}`;break;case Ht.invalid_enum_value:r=`Invalid enum value. Expected ${io.joinValues(e.options)}, received '${e.received}'`;break;case Ht.invalid_arguments:r="Invalid function arguments";break;case Ht.invalid_return_type:r="Invalid function return type";break;case Ht.invalid_date:r="Invalid date";break;case Ht.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:io.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ht.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ht.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ht.custom:r="Invalid input";break;case Ht.invalid_intersection_types:r="Intersection results could not be merged";break;case Ht.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ht.not_finite:r="Number must be finite";break;default:r=t.defaultError,io.assertNever(e)}return{message:r}},"errorMap"),gVe=$T;function uqt(e){gVe=e}s(uqt,"setErrorMap");function tz(){return gVe}s(tz,"getErrorMap");var rz=s(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)l=u(a,{data:t,defaultError:l}).message;return{...i,path:o,message:l}},"makeIssue"),fqt=[];function Er(e,t){let r=tz(),n=rz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$T?void 0:$T].filter(i=>!!i)});e.common.issues.push(n)}s(Er,"addIssueToContext");var e0=class e{static{s(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return On;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let o=await i.key,a=await i.value;n.push({key:o,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return On;o.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[o.value]=a.value)}return{status:t.value,value:n}}},On=Object.freeze({status:"aborted"}),VT=s(e=>({status:"dirty",value:e}),"DIRTY"),L0=s(e=>({status:"valid",value:e}),"OK"),dme=s(e=>e.status==="aborted","isAborted"),mme=s(e=>e.status==="dirty","isDirty"),hE=s(e=>e.status==="valid","isValid"),YB=s(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");function nz(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}s(nz,"__classPrivateFieldGet");function AVe(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}s(AVe,"__classPrivateFieldSet");var jr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(jr||(jr={}));var $B,zB,vm=class{static{s(this,"ParseInputLazyPath")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},mVe=s((e,t)=>{if(hE(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new $f(e.common.issues);return this._error=r,this._error}}},"handleResult");function ei(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:s((a,l)=>{var c,u;let{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},"customMap"),description:i}}s(ei,"processCreateParams");var ti=class{static{s(this,"ZodType")}get description(){return this._def.description}_getType(t){return R2(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:R2(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new e0,ctx:{common:t.parent.common,data:t.data,parsedType:R2(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(YB(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:R2(t)},o=this._parseSync({data:t,path:i.path,parent:i});return mVe(i,o)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:R2(t)};if(!this["~standard"].async)try{let o=this._parseSync({data:t,path:[],parent:i});return hE(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((n=(r=o?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>hE(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:R2(t)},i=this._parse({data:t,path:n.path,parent:n}),o=await(YB(i)?i:Promise.resolve(i));return mVe(n,o)}refine(t,r){let n=s(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"getIssueProperties");return this._refinement((i,o)=>{let a=t(i),l=s(()=>o.addIssue({code:Ht.custom,...n(i)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new zf({schema:this,typeName:Dn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s(r=>this["~validate"](r),"validate")}}optional(){return xm.create(this,this._def)}nullable(){return p1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return B2.create(this)}promise(){return I3.create(this,this._def)}or(t){return vE.create([this,t],this._def)}and(t){return bE.create(this,t,this._def)}transform(t){return new zf({...ei(this._def),schema:this,typeName:Dn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new _E({...ei(this._def),innerType:this,defaultValue:r,typeName:Dn.ZodDefault})}brand(){return new KB({typeName:Dn.ZodBranded,type:this,...ei(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new SE({...ei(this._def),innerType:this,catchValue:r,typeName:Dn.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return JB.create(this,t)}readonly(){return RE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},dqt=/^c[^\s-]{8,}$/i,mqt=/^[0-9a-z]+$/,hqt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pqt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gqt=/^[a-z0-9_-]{21}$/i,Aqt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yqt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cqt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xqt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ume,vqt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bqt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Eqt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Iqt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tqt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wqt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yVe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_qt=new RegExp(`^${yVe}$`);function CVe(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}s(CVe,"timeRegexSource");function Sqt(e){return new RegExp(`^${CVe(e)}$`)}s(Sqt,"timeRegex");function xVe(e){let t=`${yVe}T${CVe(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}s(xVe,"datetimeRegex");function Rqt(e,t){return!!((t==="v4"||!t)&&vqt.test(e)||(t==="v6"||!t)&&Eqt.test(e))}s(Rqt,"isValidIP");function kqt(e,t){if(!Aqt.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}s(kqt,"isValidJWT");function Bqt(e,t){return!!((t==="v4"||!t)&&bqt.test(e)||(t==="v6"||!t)&&Iqt.test(e))}s(Bqt,"isValidCidr");var b3=class e extends ti{static{s(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Dr.string){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_type,expected:Dr.string,received:o.parsedType}),On}let n=new e0,i;for(let o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let a=t.data.length>o.value,l=t.data.length<o.value;(a||l)&&(i=this._getOrReturnCtx(t,i),a?Er(i,{code:Ht.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&Er(i,{code:Ht.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Cqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"email",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")ume||(ume=new RegExp(xqt,"u")),ume.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"emoji",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")pqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"uuid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")gqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"nanoid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")dqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"cuid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")mqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"cuid2",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")hqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"ulid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Er(i,{validation:"url",code:Ht.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"regex",code:Ht.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?xVe(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?_qt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?Sqt(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?yqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"duration",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?Rqt(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"ip",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?kqt(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"jwt",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?Bqt(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"cidr",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?Tqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"base64",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?wqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"base64url",code:Ht.invalid_string,message:o.message}),n.dirty()):io.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ht.invalid_string,...jr.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...jr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...jr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...jr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...jr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...jr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...jr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...jr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...jr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...jr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...jr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...jr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...jr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...jr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...jr.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...jr.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...jr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...jr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...jr.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...jr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...jr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...jr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...jr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...jr.errToObj(r)})}nonempty(t){return this.min(1,jr.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};b3.create=e=>{var t;return new b3({checks:[],typeName:Dn.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ei(e)})};function Dqt(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return o%a/Math.pow(10,i)}s(Dqt,"floatSafeRemainder");var pE=class e extends ti{static{s(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Dr.number){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_type,expected:Dr.number,received:o.parsedType}),On}let n,i=new e0;for(let o of this._def.checks)o.kind==="int"?io.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Dqt(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.not_finite,message:o.message}),i.dirty()):io.assertNever(o);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,jr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:jr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:jr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:jr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jr.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&io.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};pE.create=e=>new pE({checks:[],typeName:Dn.ZodNumber,coerce:e?.coerce||!1,...ei(e)});var gE=class e extends ti{static{s(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Dr.bigint)return this._getInvalidInput(t);let n,i=new e0;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):io.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return Er(r,{code:Ht.invalid_type,expected:Dr.bigint,received:r.parsedType}),On}gte(t,r){return this.setLimit("min",t,!0,jr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:jr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jr.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};gE.create=e=>{var t;return new gE({checks:[],typeName:Dn.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ei(e)})};var AE=class extends ti{static{s(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Dr.boolean){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.boolean,received:n.parsedType}),On}return L0(t.data)}};AE.create=e=>new AE({typeName:Dn.ZodBoolean,coerce:e?.coerce||!1,...ei(e)});var yE=class e extends ti{static{s(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Dr.date){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_type,expected:Dr.date,received:o.parsedType}),On}if(isNaN(t.data.getTime())){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_date}),On}let n=new e0,i;for(let o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):io.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:jr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:jr.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};yE.create=e=>new yE({checks:[],coerce:e?.coerce||!1,typeName:Dn.ZodDate,...ei(e)});var zT=class extends ti{static{s(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==Dr.symbol){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.symbol,received:n.parsedType}),On}return L0(t.data)}};zT.create=e=>new zT({typeName:Dn.ZodSymbol,...ei(e)});var CE=class extends ti{static{s(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==Dr.undefined){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.undefined,received:n.parsedType}),On}return L0(t.data)}};CE.create=e=>new CE({typeName:Dn.ZodUndefined,...ei(e)});var xE=class extends ti{static{s(this,"ZodNull")}_parse(t){if(this._getType(t)!==Dr.null){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.null,received:n.parsedType}),On}return L0(t.data)}};xE.create=e=>new xE({typeName:Dn.ZodNull,...ei(e)});var E3=class extends ti{static{s(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return L0(t.data)}};E3.create=e=>new E3({typeName:Dn.ZodAny,...ei(e)});var k2=class extends ti{static{s(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return L0(t.data)}};k2.create=e=>new k2({typeName:Dn.ZodUnknown,...ei(e)});var ap=class extends ti{static{s(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return Er(r,{code:Ht.invalid_type,expected:Dr.never,received:r.parsedType}),On}};ap.create=e=>new ap({typeName:Dn.ZodNever,...ei(e)});var YT=class extends ti{static{s(this,"ZodVoid")}_parse(t){if(this._getType(t)!==Dr.undefined){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.void,received:n.parsedType}),On}return L0(t.data)}};YT.create=e=>new YT({typeName:Dn.ZodVoid,...ei(e)});var B2=class e extends ti{static{s(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Dr.array)return Er(r,{code:Ht.invalid_type,expected:Dr.array,received:r.parsedType}),On;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(Er(r,{code:a?Ht.too_big:Ht.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Er(r,{code:Ht.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Er(r,{code:Ht.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new vm(r,a,r.path,l)))).then(a=>e0.mergeArray(n,a));let o=[...r.data].map((a,l)=>i.type._parseSync(new vm(r,a,r.path,l)));return e0.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:jr.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:jr.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:jr.toString(r)}})}nonempty(t){return this.min(1,t)}};B2.create=(e,t)=>new B2({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dn.ZodArray,...ei(t)});function jT(e){if(e instanceof Nu){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=xm.create(jT(n))}return new Nu({...e._def,shape:s(()=>t,"shape")})}else return e instanceof B2?new B2({...e._def,type:jT(e.element)}):e instanceof xm?xm.create(jT(e.unwrap())):e instanceof p1?p1.create(jT(e.unwrap())):e instanceof h1?h1.create(e.items.map(t=>jT(t))):e}s(jT,"deepPartialify");var Nu=class e extends ti{static{s(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=io.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Dr.object){let u=this._getOrReturnCtx(t);return Er(u,{code:Ht.invalid_type,expected:Dr.object,received:u.parsedType}),On}let{status:n,ctx:i}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ap&&this._def.unknownKeys==="strip"))for(let u in i.data)a.includes(u)||l.push(u);let c=[];for(let u of a){let f=o[u],m=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new vm(i,m,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ap){let u=this._def.unknownKeys;if(u==="passthrough")for(let f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(Er(i,{code:Ht.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let f of l){let m=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new vm(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let f of c){let m=await f.key,h=await f.value;u.push({key:m,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>e0.mergeObjectSync(n,u)):e0.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return jr.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:s((r,n)=>{var i,o,a,l;let c=(a=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=jr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:s(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:s(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:Dn.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return io.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:s(()=>r,"shape")})}omit(t){let r={};return io.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:s(()=>r,"shape")})}deepPartial(){return jT(this)}partial(t){let r={};return io.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new e({...this._def,shape:s(()=>r,"shape")})}required(t){let r={};return io.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof xm;)o=o._def.innerType;r[n]=o}}),new e({...this._def,shape:s(()=>r,"shape")})}keyof(){return vVe(io.objectKeys(this.shape))}};Nu.create=(e,t)=>new Nu({shape:s(()=>e,"shape"),unknownKeys:"strip",catchall:ap.create(),typeName:Dn.ZodObject,...ei(t)});Nu.strictCreate=(e,t)=>new Nu({shape:s(()=>e,"shape"),unknownKeys:"strict",catchall:ap.create(),typeName:Dn.ZodObject,...ei(t)});Nu.lazycreate=(e,t)=>new Nu({shape:e,unknownKeys:"strip",catchall:ap.create(),typeName:Dn.ZodObject,...ei(t)});var vE=class extends ti{static{s(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(o){for(let l of o)if(l.result.status==="valid")return l.result;for(let l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let a=o.map(l=>new $f(l.ctx.common.issues));return Er(r,{code:Ht.invalid_union,unionErrors:a}),On}if(s(i,"handleResults"),r.common.async)return Promise.all(n.map(async o=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let o,a=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let l=a.map(c=>new $f(c));return Er(r,{code:Ht.invalid_union,unionErrors:l}),On}}get options(){return this._def.options}};vE.create=(e,t)=>new vE({options:e,typeName:Dn.ZodUnion,...ei(t)});var S2=s(e=>e instanceof EE?S2(e.schema):e instanceof zf?S2(e.innerType()):e instanceof IE?[e.value]:e instanceof TE?e.options:e instanceof wE?io.objectValues(e.enum):e instanceof _E?S2(e._def.innerType):e instanceof CE?[void 0]:e instanceof xE?[null]:e instanceof xm?[void 0,...S2(e.unwrap())]:e instanceof p1?[null,...S2(e.unwrap())]:e instanceof KB||e instanceof RE?S2(e.unwrap()):e instanceof SE?S2(e._def.innerType):[],"getDiscriminator"),iz=class e extends ti{static{s(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Dr.object)return Er(r,{code:Ht.invalid_type,expected:Dr.object,received:r.parsedType}),On;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Er(r,{code:Ht.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),On)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let o of r){let a=S2(o.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of a){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,o)}}return new e({typeName:Dn.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...ei(n)})}};function hme(e,t){let r=R2(e),n=R2(t);if(e===t)return{valid:!0,data:e};if(r===Dr.object&&n===Dr.object){let i=io.objectKeys(t),o=io.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(let l of o){let c=hme(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===Dr.array&&n===Dr.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let a=e[o],l=t[o],c=hme(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Dr.date&&n===Dr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}s(hme,"mergeValues");var bE=class extends ti{static{s(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=s((o,a)=>{if(dme(o)||dme(a))return On;let l=hme(o.value,a.value);return l.valid?((mme(o)||mme(a))&&r.dirty(),{status:r.value,value:l.data}):(Er(n,{code:Ht.invalid_intersection_types}),On)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};bE.create=(e,t,r)=>new bE({left:e,right:t,typeName:Dn.ZodIntersection,...ei(r)});var h1=class e extends ti{static{s(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.array)return Er(n,{code:Ht.invalid_type,expected:Dr.array,received:n.parsedType}),On;if(n.data.length<this._def.items.length)return Er(n,{code:Ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),On;!this._def.rest&&n.data.length>this._def.items.length&&(Er(n,{code:Ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((a,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new vm(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>e0.mergeArray(r,a)):e0.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};h1.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new h1({items:e,typeName:Dn.ZodTuple,rest:null,...ei(t)})};var oz=class e extends ti{static{s(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.object)return Er(n,{code:Ht.invalid_type,expected:Dr.object,received:n.parsedType}),On;let i=[],o=this._def.keyType,a=this._def.valueType;for(let l in n.data)i.push({key:o._parse(new vm(n,l,n.path,l)),value:a._parse(new vm(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?e0.mergeObjectAsync(r,i):e0.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ti?new e({keyType:t,valueType:r,typeName:Dn.ZodRecord,...ei(n)}):new e({keyType:b3.create(),valueType:t,typeName:Dn.ZodRecord,...ei(r)})}},KT=class extends ti{static{s(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.map)return Er(n,{code:Ht.invalid_type,expected:Dr.map,received:n.parsedType}),On;let i=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new vm(n,l,n.path,[u,"key"])),value:o._parse(new vm(n,c,n.path,[u,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let c of a){let u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return On;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let c of a){let u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return On;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}};KT.create=(e,t,r)=>new KT({valueType:t,keyType:e,typeName:Dn.ZodMap,...ei(r)});var JT=class e extends ti{static{s(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.set)return Er(n,{code:Ht.invalid_type,expected:Dr.set,received:n.parsedType}),On;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Er(n,{code:Ht.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Er(n,{code:Ht.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function a(c){let u=new Set;for(let f of c){if(f.status==="aborted")return On;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}s(a,"finalizeSet");let l=[...n.data.values()].map((c,u)=>o._parse(new vm(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new e({...this._def,minSize:{value:t,message:jr.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:jr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};JT.create=(e,t)=>new JT({valueType:e,minSize:null,maxSize:null,typeName:Dn.ZodSet,...ei(t)});var sz=class e extends ti{static{s(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Dr.function)return Er(r,{code:Ht.invalid_type,expected:Dr.function,received:r.parsedType}),On;function n(l,c){return rz({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,tz(),$T].filter(u=>!!u),issueData:{code:Ht.invalid_arguments,argumentsError:c}})}s(n,"makeArgsIssue");function i(l,c){return rz({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,tz(),$T].filter(u=>!!u),issueData:{code:Ht.invalid_return_type,returnTypeError:c}})}s(i,"makeReturnsIssue");let o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof I3){let l=this;return L0(async function(...c){let u=new $f([]),f=await l._def.args.parseAsync(c,o).catch(p=>{throw u.addIssue(n(c,p)),u}),m=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(m,o).catch(p=>{throw u.addIssue(i(m,p)),u})})}else{let l=this;return L0(function(...c){let u=l._def.args.safeParse(c,o);if(!u.success)throw new $f([n(c,u.error)]);let f=Reflect.apply(a,this,u.data),m=l._def.returns.safeParse(f,o);if(!m.success)throw new $f([i(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:h1.create(t).rest(k2.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||h1.create([]).rest(k2.create()),returns:r||k2.create(),typeName:Dn.ZodFunction,...ei(n)})}},EE=class extends ti{static{s(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};EE.create=(e,t)=>new EE({getter:e,typeName:Dn.ZodLazy,...ei(t)});var IE=class extends ti{static{s(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return Er(r,{received:r.data,code:Ht.invalid_literal,expected:this._def.value}),On}return{status:"valid",value:t.data}}get value(){return this._def.value}};IE.create=(e,t)=>new IE({value:e,typeName:Dn.ZodLiteral,...ei(t)});function vVe(e,t){return new TE({values:e,typeName:Dn.ZodEnum,...ei(t)})}s(vVe,"createZodEnum");var TE=class e extends ti{static{s(this,"ZodEnum")}constructor(){super(...arguments),$B.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return Er(r,{expected:io.joinValues(n),received:r.parsedType,code:Ht.invalid_type}),On}if(nz(this,$B,"f")||AVe(this,$B,new Set(this._def.values),"f"),!nz(this,$B,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return Er(r,{received:r.data,code:Ht.invalid_enum_value,options:n}),On}return L0(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};$B=new WeakMap;TE.create=vVe;var wE=class extends ti{static{s(this,"ZodNativeEnum")}constructor(){super(...arguments),zB.set(this,void 0)}_parse(t){let r=io.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Dr.string&&n.parsedType!==Dr.number){let i=io.objectValues(r);return Er(n,{expected:io.joinValues(i),received:n.parsedType,code:Ht.invalid_type}),On}if(nz(this,zB,"f")||AVe(this,zB,new Set(io.getValidEnumValues(this._def.values)),"f"),!nz(this,zB,"f").has(t.data)){let i=io.objectValues(r);return Er(n,{received:n.data,code:Ht.invalid_enum_value,options:i}),On}return L0(t.data)}get enum(){return this._def.values}};zB=new WeakMap;wE.create=(e,t)=>new wE({values:e,typeName:Dn.ZodNativeEnum,...ei(t)});var I3=class extends ti{static{s(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Dr.promise&&r.common.async===!1)return Er(r,{code:Ht.invalid_type,expected:Dr.promise,received:r.parsedType}),On;let n=r.parsedType===Dr.promise?r.data:Promise.resolve(r.data);return L0(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};I3.create=(e,t)=>new I3({type:e,typeName:Dn.ZodPromise,...ei(t)});var zf=class extends ti{static{s(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s(a=>{Er(n,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let a=i.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return On;let c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?On:c.status==="dirty"||r.value==="dirty"?VT(c.value):c});{if(r.value==="aborted")return On;let l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?On:l.status==="dirty"||r.value==="dirty"?VT(l.value):l}}if(i.type==="refinement"){let a=s(l=>{let c=i.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?On:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?On:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hE(a))return a;let l=i.transform(a.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>hE(a)?Promise.resolve(i.transform(a.value,o)).then(l=>({status:r.value,value:l})):a);io.assertNever(i)}};zf.create=(e,t,r)=>new zf({schema:e,typeName:Dn.ZodEffects,effect:t,...ei(r)});zf.createWithPreprocess=(e,t,r)=>new zf({schema:t,effect:{type:"preprocess",transform:e},typeName:Dn.ZodEffects,...ei(r)});var xm=class extends ti{static{s(this,"ZodOptional")}_parse(t){return this._getType(t)===Dr.undefined?L0(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};xm.create=(e,t)=>new xm({innerType:e,typeName:Dn.ZodOptional,...ei(t)});var p1=class extends ti{static{s(this,"ZodNullable")}_parse(t){return this._getType(t)===Dr.null?L0(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};p1.create=(e,t)=>new p1({innerType:e,typeName:Dn.ZodNullable,...ei(t)});var _E=class extends ti{static{s(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Dr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};_E.create=(e,t)=>new _E({innerType:e,typeName:Dn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ei(t)});var SE=class extends ti{static{s(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return YB(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new $f(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $f(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};SE.create=(e,t)=>new SE({innerType:e,typeName:Dn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ei(t)});var XT=class extends ti{static{s(this,"ZodNaN")}_parse(t){if(this._getType(t)!==Dr.nan){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.nan,received:n.parsedType}),On}return{status:"valid",value:t.data}}};XT.create=e=>new XT({typeName:Dn.ZodNaN,...ei(e)});var Pqt=Symbol("zod_brand"),KB=class extends ti{static{s(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},JB=class e extends ti{static{s(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return s(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?On:o.status==="dirty"?(r.dirty(),VT(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})},"handleAsync")();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?On:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:Dn.ZodPipeline})}},RE=class extends ti{static{s(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=s(i=>(hE(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return YB(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};RE.create=(e,t)=>new RE({innerType:e,typeName:Dn.ZodReadonly,...ei(t)});function hVe(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}s(hVe,"cleanParams");function bVe(e,t={},r){return e?E3.create().superRefine((n,i)=>{var o,a;let l=e(n);if(l instanceof Promise)return l.then(c=>{var u,f;if(!c){let m=hVe(t,n),h=(f=(u=m.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;i.addIssue({code:"custom",...m,fatal:h})}});if(!l){let c=hVe(t,n),u=(a=(o=c.fatal)!==null&&o!==void 0?o:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:u})}}):E3.create()}s(bVe,"custom");var Nqt={object:Nu.lazycreate},Dn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dn||(Dn={}));var Lqt=s((e,t={message:`Input not instance of ${e.name}`})=>bVe(r=>r instanceof e,t),"instanceOfType"),EVe=b3.create,IVe=pE.create,Fqt=XT.create,Mqt=gE.create,TVe=AE.create,Qqt=yE.create,Oqt=zT.create,Uqt=CE.create,qqt=xE.create,Wqt=E3.create,Gqt=k2.create,Hqt=ap.create,jqt=YT.create,Vqt=B2.create,$qt=Nu.create,zqt=Nu.strictCreate,Yqt=vE.create,Kqt=iz.create,Jqt=bE.create,Xqt=h1.create,Zqt=oz.create,eWt=KT.create,tWt=JT.create,rWt=sz.create,nWt=EE.create,iWt=IE.create,oWt=TE.create,sWt=wE.create,aWt=I3.create,pVe=zf.create,lWt=xm.create,cWt=p1.create,uWt=zf.createWithPreprocess,fWt=JB.create,dWt=s(()=>EVe().optional(),"ostring"),mWt=s(()=>IVe().optional(),"onumber"),hWt=s(()=>TVe().optional(),"oboolean"),pWt={string:s(e=>b3.create({...e,coerce:!0}),"string"),number:s(e=>pE.create({...e,coerce:!0}),"number"),boolean:s(e=>AE.create({...e,coerce:!0}),"boolean"),bigint:s(e=>gE.create({...e,coerce:!0}),"bigint"),date:s(e=>yE.create({...e,coerce:!0}),"date")},gWt=On,xe=Object.freeze({__proto__:null,defaultErrorMap:$T,setErrorMap:uqt,getErrorMap:tz,makeIssue:rz,EMPTY_PATH:fqt,addIssueToContext:Er,ParseStatus:e0,INVALID:On,DIRTY:VT,OK:L0,isAborted:dme,isDirty:mme,isValid:hE,isAsync:YB,get util(){return io},get objectUtil(){return fme},ZodParsedType:Dr,getParsedType:R2,ZodType:ti,datetimeRegex:xVe,ZodString:b3,ZodNumber:pE,ZodBigInt:gE,ZodBoolean:AE,ZodDate:yE,ZodSymbol:zT,ZodUndefined:CE,ZodNull:xE,ZodAny:E3,ZodUnknown:k2,ZodNever:ap,ZodVoid:YT,ZodArray:B2,ZodObject:Nu,ZodUnion:vE,ZodDiscriminatedUnion:iz,ZodIntersection:bE,ZodTuple:h1,ZodRecord:oz,ZodMap:KT,ZodSet:JT,ZodFunction:sz,ZodLazy:EE,ZodLiteral:IE,ZodEnum:TE,ZodNativeEnum:wE,ZodPromise:I3,ZodEffects:zf,ZodTransformer:zf,ZodOptional:xm,ZodNullable:p1,ZodDefault:_E,ZodCatch:SE,ZodNaN:XT,BRAND:Pqt,ZodBranded:KB,ZodPipeline:JB,ZodReadonly:RE,custom:bVe,Schema:ti,ZodSchema:ti,late:Nqt,get ZodFirstPartyTypeKind(){return Dn},coerce:pWt,any:Wqt,array:Vqt,bigint:Mqt,boolean:TVe,date:Qqt,discriminatedUnion:Kqt,effect:pVe,enum:oWt,function:rWt,instanceof:Lqt,intersection:Jqt,lazy:nWt,literal:iWt,map:eWt,nan:Fqt,nativeEnum:sWt,never:Hqt,null:qqt,nullable:cWt,number:IVe,object:$qt,oboolean:hWt,onumber:mWt,optional:lWt,ostring:dWt,pipeline:fWt,preprocess:uWt,promise:aWt,record:Zqt,set:tWt,strictObject:zqt,string:EVe,symbol:Oqt,transformer:pVe,tuple:Xqt,undefined:Uqt,union:Yqt,unknown:Gqt,void:jqt,NEVER:gWt,ZodIssueCode:Ht,quotelessJson:cqt,ZodError:$f});var pme="2025-03-26",wVe=[pme,"2024-11-05","2024-10-07"],az="2.0",_Ve=xe.union([xe.string(),xe.number().int()]),SVe=xe.string(),AWt=xe.object({progressToken:xe.optional(_Ve)}).passthrough(),lp=xe.object({_meta:xe.optional(AWt)}).passthrough(),Yf=xe.object({method:xe.string(),params:xe.optional(lp)}),XB=xe.object({_meta:xe.optional(xe.object({}).passthrough())}).passthrough(),g1=xe.object({method:xe.string(),params:xe.optional(XB)}),cp=xe.object({_meta:xe.optional(xe.object({}).passthrough())}).passthrough(),lz=xe.union([xe.string(),xe.number().int()]),RVe=xe.object({jsonrpc:xe.literal(az),id:lz}).merge(Yf).strict(),kVe=s(e=>RVe.safeParse(e).success,"isJSONRPCRequest"),BVe=xe.object({jsonrpc:xe.literal(az)}).merge(g1).strict(),DVe=s(e=>BVe.safeParse(e).success,"isJSONRPCNotification"),PVe=xe.object({jsonrpc:xe.literal(az),id:lz,result:cp}).strict(),gme=s(e=>PVe.safeParse(e).success,"isJSONRPCResponse"),T3;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(T3||(T3={}));var NVe=xe.object({jsonrpc:xe.literal(az),id:lz,error:xe.object({code:xe.number().int(),message:xe.string(),data:xe.optional(xe.unknown())})}).strict(),LVe=s(e=>NVe.safeParse(e).success,"isJSONRPCError"),FVe=xe.union([RVe,BVe,PVe,NVe]),BE=cp.strict(),cz=g1.extend({method:xe.literal("notifications/cancelled"),params:XB.extend({requestId:lz,reason:xe.string().optional()})}),MVe=xe.object({name:xe.string(),version:xe.string()}).passthrough(),yWt=xe.object({experimental:xe.optional(xe.object({}).passthrough()),sampling:xe.optional(xe.object({}).passthrough()),roots:xe.optional(xe.object({listChanged:xe.optional(xe.boolean())}).passthrough())}).passthrough(),CWt=Yf.extend({method:xe.literal("initialize"),params:lp.extend({protocolVersion:xe.string(),capabilities:yWt,clientInfo:MVe})});var xWt=xe.object({experimental:xe.optional(xe.object({}).passthrough()),logging:xe.optional(xe.object({}).passthrough()),completions:xe.optional(xe.object({}).passthrough()),prompts:xe.optional(xe.object({listChanged:xe.optional(xe.boolean())}).passthrough()),resources:xe.optional(xe.object({subscribe:xe.optional(xe.boolean()),listChanged:xe.optional(xe.boolean())}).passthrough()),tools:xe.optional(xe.object({listChanged:xe.optional(xe.boolean())}).passthrough())}).passthrough(),Ame=cp.extend({protocolVersion:xe.string(),capabilities:xWt,serverInfo:MVe,instructions:xe.optional(xe.string())}),vWt=g1.extend({method:xe.literal("notifications/initialized")});var uz=Yf.extend({method:xe.literal("ping")}),bWt=xe.object({progress:xe.number(),total:xe.optional(xe.number())}).passthrough(),fz=g1.extend({method:xe.literal("notifications/progress"),params:XB.merge(bWt).extend({progressToken:_Ve})}),dz=Yf.extend({params:lp.extend({cursor:xe.optional(SVe)}).optional()}),mz=cp.extend({nextCursor:xe.optional(SVe)}),QVe=xe.object({uri:xe.string(),mimeType:xe.optional(xe.string())}).passthrough(),OVe=QVe.extend({text:xe.string()}),UVe=QVe.extend({blob:xe.string().base64()}),EWt=xe.object({uri:xe.string(),name:xe.string(),description:xe.optional(xe.string()),mimeType:xe.optional(xe.string())}).passthrough(),IWt=xe.object({uriTemplate:xe.string(),name:xe.string(),description:xe.optional(xe.string()),mimeType:xe.optional(xe.string())}).passthrough(),TWt=dz.extend({method:xe.literal("resources/list")}),yme=mz.extend({resources:xe.array(EWt)}),wWt=dz.extend({method:xe.literal("resources/templates/list")}),Cme=mz.extend({resourceTemplates:xe.array(IWt)}),_Wt=Yf.extend({method:xe.literal("resources/read"),params:lp.extend({uri:xe.string()})}),xme=cp.extend({contents:xe.array(xe.union([OVe,UVe]))}),SWt=g1.extend({method:xe.literal("notifications/resources/list_changed")}),RWt=Yf.extend({method:xe.literal("resources/subscribe"),params:lp.extend({uri:xe.string()})}),kWt=Yf.extend({method:xe.literal("resources/unsubscribe"),params:lp.extend({uri:xe.string()})}),BWt=g1.extend({method:xe.literal("notifications/resources/updated"),params:XB.extend({uri:xe.string()})}),DWt=xe.object({name:xe.string(),description:xe.optional(xe.string()),required:xe.optional(xe.boolean())}).passthrough(),PWt=xe.object({name:xe.string(),description:xe.optional(xe.string()),arguments:xe.optional(xe.array(DWt))}).passthrough(),NWt=dz.extend({method:xe.literal("prompts/list")}),vme=mz.extend({prompts:xe.array(PWt)}),LWt=Yf.extend({method:xe.literal("prompts/get"),params:lp.extend({name:xe.string(),arguments:xe.optional(xe.record(xe.string()))})}),hz=xe.object({type:xe.literal("text"),text:xe.string()}).passthrough(),pz=xe.object({type:xe.literal("image"),data:xe.string().base64(),mimeType:xe.string()}).passthrough(),gz=xe.object({type:xe.literal("audio"),data:xe.string().base64(),mimeType:xe.string()}).passthrough(),qVe=xe.object({type:xe.literal("resource"),resource:xe.union([OVe,UVe])}).passthrough(),FWt=xe.object({role:xe.enum(["user","assistant"]),content:xe.union([hz,pz,gz,qVe])}).passthrough(),bme=cp.extend({description:xe.optional(xe.string()),messages:xe.array(FWt)}),MWt=g1.extend({method:xe.literal("notifications/prompts/list_changed")}),QWt=xe.object({title:xe.optional(xe.string()),readOnlyHint:xe.optional(xe.boolean()),destructiveHint:xe.optional(xe.boolean()),idempotentHint:xe.optional(xe.boolean()),openWorldHint:xe.optional(xe.boolean())}).passthrough(),OWt=xe.object({name:xe.string(),description:xe.optional(xe.string()),inputSchema:xe.object({type:xe.literal("object"),properties:xe.optional(xe.object({}).passthrough())}).passthrough(),annotations:xe.optional(QWt)}).passthrough(),UWt=dz.extend({method:xe.literal("tools/list")}),Eme=mz.extend({tools:xe.array(OWt)}),Az=cp.extend({content:xe.array(xe.union([hz,pz,gz,qVe])),isError:xe.boolean().default(!1).optional()}),Pni=Az.or(cp.extend({toolResult:xe.unknown()})),qWt=Yf.extend({method:xe.literal("tools/call"),params:lp.extend({name:xe.string(),arguments:xe.optional(xe.record(xe.unknown()))})}),WWt=g1.extend({method:xe.literal("notifications/tools/list_changed")}),WVe=xe.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),GWt=Yf.extend({method:xe.literal("logging/setLevel"),params:lp.extend({level:WVe})}),HWt=g1.extend({method:xe.literal("notifications/message"),params:XB.extend({level:WVe,logger:xe.optional(xe.string()),data:xe.unknown()})}),jWt=xe.object({name:xe.string().optional()}).passthrough(),VWt=xe.object({hints:xe.optional(xe.array(jWt)),costPriority:xe.optional(xe.number().min(0).max(1)),speedPriority:xe.optional(xe.number().min(0).max(1)),intelligencePriority:xe.optional(xe.number().min(0).max(1))}).passthrough(),$Wt=xe.object({role:xe.enum(["user","assistant"]),content:xe.union([hz,pz,gz])}).passthrough(),zWt=Yf.extend({method:xe.literal("sampling/createMessage"),params:lp.extend({messages:xe.array($Wt),systemPrompt:xe.optional(xe.string()),includeContext:xe.optional(xe.enum(["none","thisServer","allServers"])),temperature:xe.optional(xe.number()),maxTokens:xe.number().int(),stopSequences:xe.optional(xe.array(xe.string())),metadata:xe.optional(xe.object({}).passthrough()),modelPreferences:xe.optional(VWt)})}),YWt=cp.extend({model:xe.string(),stopReason:xe.optional(xe.enum(["endTurn","stopSequence","maxTokens"]).or(xe.string())),role:xe.enum(["user","assistant"]),content:xe.discriminatedUnion("type",[hz,pz,gz])}),KWt=xe.object({type:xe.literal("ref/resource"),uri:xe.string()}).passthrough(),JWt=xe.object({type:xe.literal("ref/prompt"),name:xe.string()}).passthrough(),XWt=Yf.extend({method:xe.literal("completion/complete"),params:lp.extend({ref:xe.union([JWt,KWt]),argument:xe.object({name:xe.string(),value:xe.string()}).passthrough()})}),Ime=cp.extend({completion:xe.object({values:xe.array(xe.string()).max(100),total:xe.optional(xe.number().int()),hasMore:xe.optional(xe.boolean())}).passthrough()}),ZWt=xe.object({uri:xe.string().startsWith("file://"),name:xe.optional(xe.string())}).passthrough(),eGt=Yf.extend({method:xe.literal("roots/list")}),tGt=cp.extend({roots:xe.array(ZWt)}),rGt=g1.extend({method:xe.literal("notifications/roots/list_changed")}),Nni=xe.union([uz,CWt,XWt,GWt,LWt,NWt,TWt,wWt,_Wt,RWt,kWt,qWt,UWt]),Lni=xe.union([cz,fz,vWt,rGt]),Fni=xe.union([BE,YWt,tGt]),Mni=xe.union([uz,zWt,eGt]),Qni=xe.union([cz,fz,HWt,BWt,SWt,WWt,MWt]),Oni=xe.union([BE,Ame,Ime,bme,vme,yme,Cme,xme,Az,Eme]),kE=class extends Error{static{s(this,"McpError")}constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}};var nGt=6e4,yz=class{static{s(this,"Protocol")}constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this.setNotificationHandler(cz,r=>{let n=this._requestHandlerAbortControllers.get(r.params.requestId);n?.abort(r.params.reason)}),this.setNotificationHandler(fz,r=>{this._onprogress(r)}),this.setRequestHandler(uz,r=>({}))}_setupTimeout(t,r,n,i,o=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(i,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:o,onTimeout:i})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),new kE(T3.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){this._transport=t,this._transport.onclose=()=>{this._onclose()},this._transport.onerror=r=>{this._onerror(r)},this._transport.onmessage=(r,n)=>{gme(r)||LVe(r)?this._onresponse(r):kVe(r)?this._onrequest(r,n):DVe(r)?this._onnotification(r):this._onerror(new Error(`Unknown message type: ${JSON.stringify(r)}`))},await this._transport.start()}_onclose(){var t;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._transport=void 0,(t=this.onclose)===null||t===void 0||t.call(this);let n=new kE(T3.ConnectionClosed,"Connection closed");for(let i of r.values())i(n)}_onerror(t){var r;(r=this.onerror)===null||r===void 0||r.call(this,t)}_onnotification(t){var r;let n=(r=this._notificationHandlers.get(t.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(i=>this._onerror(new Error(`Uncaught error in notification handler: ${i}`)))}_onrequest(t,r){var n,i,o,a;let l=(n=this._requestHandlers.get(t.method))!==null&&n!==void 0?n:this.fallbackRequestHandler;if(l===void 0){(i=this._transport)===null||i===void 0||i.send({jsonrpc:"2.0",id:t.id,error:{code:T3.MethodNotFound,message:"Method not found"}}).catch(f=>this._onerror(new Error(`Failed to send an error response: ${f}`)));return}let c=new AbortController;this._requestHandlerAbortControllers.set(t.id,c);let u={signal:c.signal,sessionId:(o=this._transport)===null||o===void 0?void 0:o.sessionId,_meta:(a=t.params)===null||a===void 0?void 0:a._meta,sendNotification:s(f=>this.notification(f,{relatedRequestId:t.id}),"sendNotification"),sendRequest:s((f,m,h)=>this.request(f,m,{...h,relatedRequestId:t.id}),"sendRequest"),authInfo:r?.authInfo,requestId:t.id};Promise.resolve().then(()=>l(t,u)).then(f=>{var m;if(!c.signal.aborted)return(m=this._transport)===null||m===void 0?void 0:m.send({result:f,jsonrpc:"2.0",id:t.id})},f=>{var m,h;if(!c.signal.aborted)return(m=this._transport)===null||m===void 0?void 0:m.send({jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(f.code)?f.code:T3.InternalError,message:(h=f.message)!==null&&h!==void 0?h:"Internal error"}})}).catch(f=>this._onerror(new Error(`Failed to send response: ${f}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,i=Number(r),o=this._progressHandlers.get(i);if(!o){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let a=this._responseHandlers.get(i),l=this._timeoutInfo.get(i);if(l&&a&&l.resetTimeoutOnProgress)try{this._resetTimeout(i)}catch(c){a(c);return}o(n)}_onresponse(t){let r=Number(t.id),n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),gme(t))n(t);else{let i=new kE(t.error.code,t.error.message,t.error.data);n(i)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)===null||t===void 0?void 0:t.close())}request(t,r,n){let{relatedRequestId:i,resumptionToken:o,onresumptiontoken:a}=n??{};return new Promise((l,c)=>{var u,f,m,h,p;if(!this._transport){c(new Error("Not connected"));return}((u=this._options)===null||u===void 0?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(t.method),(f=n?.signal)===null||f===void 0||f.throwIfAborted();let g=this._requestMessageId++,y={...t,jsonrpc:"2.0",id:g};n?.onprogress&&(this._progressHandlers.set(g,n.onprogress),y.params={...t.params,_meta:{progressToken:g}});let v=s(_=>{var k;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),(k=this._transport)===null||k===void 0||k.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(_)}},{relatedRequestId:i,resumptionToken:o,onresumptiontoken:a}).catch(B=>this._onerror(new Error(`Failed to send cancellation: ${B}`))),c(_)},"cancel");this._responseHandlers.set(g,_=>{var k;if(!(!((k=n?.signal)===null||k===void 0)&&k.aborted)){if(_ instanceof Error)return c(_);try{let B=r.parse(_.result);l(B)}catch(B){c(B)}}}),(m=n?.signal)===null||m===void 0||m.addEventListener("abort",()=>{var _;v((_=n?.signal)===null||_===void 0?void 0:_.reason)});let b=(h=n?.timeout)!==null&&h!==void 0?h:nGt,E=s(()=>v(new kE(T3.RequestTimeout,"Request timed out",{timeout:b})),"timeoutHandler");this._setupTimeout(g,b,n?.maxTotalTimeout,E,(p=n?.resetTimeoutOnProgress)!==null&&p!==void 0?p:!1),this._transport.send(y,{relatedRequestId:i,resumptionToken:o,onresumptiontoken:a}).catch(_=>{this._cleanupTimeout(g),c(_)})})}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);let n={...t,jsonrpc:"2.0"};await this._transport.send(n,r)}setRequestHandler(t,r){let n=t.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(i,o)=>Promise.resolve(r(t.parse(i),o)))}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){this._notificationHandlers.set(t.shape.method.value,n=>Promise.resolve(r(t.parse(n))))}removeNotificationHandler(t){this._notificationHandlers.delete(t)}};function GVe(e,t){return Object.entries(t).reduce((r,[n,i])=>(i&&typeof i=="object"?r[n]=r[n]?{...r[n],...i}:i:r[n]=i,r),{...e})}s(GVe,"mergeCapabilities");var Cz=class extends yz{static{s(this,"Client")}constructor(t,r){var n;super(r),this._clientInfo=t,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{}}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=GVe(this._capabilities,t)}assertCapability(t,r){var n;if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n[t]))throw new Error(`Server does not support ${t} (required for ${r})`)}async connect(t,r){if(await super.connect(t),t.sessionId===void 0)try{let n=await this.request({method:"initialize",params:{protocolVersion:pme,capabilities:this._capabilities,clientInfo:this._clientInfo}},Ame,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!wVe.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,this._instructions=n.instructions,await this.notification({method:"notifications/initialized"})}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){var r,n,i,o,a;switch(t){case"logging/setLevel":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.logging))throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.prompts))throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((i=this._serverCapabilities)===null||i===void 0)&&i.resources))throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!(!((o=this._serverCapabilities)===null||o===void 0)&&o.tools))throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!(!((a=this._serverCapabilities)===null||a===void 0)&&a.completions))throw new Error(`Server does not support completions (required for ${t})`);break;case"initialize":break;case"ping":break}}assertNotificationCapability(t){var r;switch(t){case"notifications/roots/list_changed":if(!(!((r=this._capabilities.roots)===null||r===void 0)&&r.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break;case"notifications/initialized":break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"ping":break}}async ping(t){return this.request({method:"ping"},BE,t)}async complete(t,r){return this.request({method:"completion/complete",params:t},Ime,r)}async setLoggingLevel(t,r){return this.request({method:"logging/setLevel",params:{level:t}},BE,r)}async getPrompt(t,r){return this.request({method:"prompts/get",params:t},bme,r)}async listPrompts(t,r){return this.request({method:"prompts/list",params:t},vme,r)}async listResources(t,r){return this.request({method:"resources/list",params:t},yme,r)}async listResourceTemplates(t,r){return this.request({method:"resources/templates/list",params:t},Cme,r)}async readResource(t,r){return this.request({method:"resources/read",params:t},xme,r)}async subscribeResource(t,r){return this.request({method:"resources/subscribe",params:t},BE,r)}async unsubscribeResource(t,r){return this.request({method:"resources/unsubscribe",params:t},BE,r)}async callTool(t,r=Az,n){return this.request({method:"tools/call",params:t},r,n)}async listTools(t,r){return this.request({method:"tools/list",params:t},Eme,r)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}};d();var P$e=Ze(B$e(),1),ZB=Ze(require("node:process"),1),N$e=require("node:stream");d();var vz=class{static{s(this,"ReadBuffer")}append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),kGt(r)}clear(){this._buffer=void 0}};function kGt(e){return FVe.parse(JSON.parse(e))}s(kGt,"deserializeMessage");function D$e(e){return JSON.stringify(e)+`
`}s(D$e,"serializeMessage");var BGt=ZB.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function DGt(){let e={};for(let t of BGt){let r=ZB.default.env[t];r!==void 0&&(r.startsWith("()")||(e[t]=r))}return e}s(DGt,"getDefaultEnvironment");var bz=class{static{s(this,"StdioClientTransport")}constructor(t){this._abortController=new AbortController,this._readBuffer=new vz,this._stderrStream=null,this._serverParams=t,(t.stderr==="pipe"||t.stderr==="overlapped")&&(this._stderrStream=new N$e.PassThrough)}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((t,r)=>{var n,i,o,a,l,c;this._process=(0,P$e.default)(this._serverParams.command,(n=this._serverParams.args)!==null&&n!==void 0?n:[],{env:(i=this._serverParams.env)!==null&&i!==void 0?i:DGt(),stdio:["pipe","pipe",(o=this._serverParams.stderr)!==null&&o!==void 0?o:"inherit"],shell:!1,signal:this._abortController.signal,windowsHide:ZB.default.platform==="win32"&&PGt(),cwd:this._serverParams.cwd}),this._process.on("error",u=>{var f,m;if(u.name==="AbortError"){(f=this.onclose)===null||f===void 0||f.call(this);return}r(u),(m=this.onerror)===null||m===void 0||m.call(this,u)}),this._process.on("spawn",()=>{t()}),this._process.on("close",u=>{var f;this._process=void 0,(f=this.onclose)===null||f===void 0||f.call(this)}),(a=this._process.stdin)===null||a===void 0||a.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)}),(l=this._process.stdout)===null||l===void 0||l.on("data",u=>{this._readBuffer.append(u),this.processReadBuffer()}),(c=this._process.stdout)===null||c===void 0||c.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)}),this._stderrStream&&this._process.stderr&&this._process.stderr.pipe(this._stderrStream)})}get stderr(){var t,r;return this._stderrStream?this._stderrStream:(r=(t=this._process)===null||t===void 0?void 0:t.stderr)!==null&&r!==void 0?r:null}processReadBuffer(){for(var t,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(t=this.onmessage)===null||t===void 0||t.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){this._abortController.abort(),this._process=void 0,this._readBuffer.clear()}send(t){return new Promise(r=>{var n;if(!(!((n=this._process)===null||n===void 0)&&n.stdin))throw new Error("Not connected");let i=D$e(t);this._process.stdin.write(i)?r():this._process.stdin.once("drain",r)})}};function PGt(){return"type"in ZB.default}s(PGt,"isElectron");var Ez=class{constructor(t,r,n){this.transport=null;this.ctx=t,this.mcp=new Cz({name:r,version:n})}static{s(this,"MCPStdioServer")}async connect(t){this.transport=new bz(t);try{await this.mcp.connect(this.transport)}catch(r){throw sp.error(this.ctx,"Connection failed:",r),r}}async getToolsList(){let t=[];return this.transport&&(t=(await this.mcp.listTools()).tools.map(n=>({name:n.name,description:n.description,inputSchema:{...n.inputSchema||{},properties:n.inputSchema?.properties||{},type:n.inputSchema?.type||"object"},_status:"enabled"}))),t}async callTool(t,r){try{let n=await this.mcp.callTool({name:t,arguments:r});return n&&typeof n=="object"?n.content?JSON.stringify(n.content):(sp.error(this.ctx,`Error calling tool ${t}: `+JSON.stringify(n)),`Error calling tool ${t}: `+JSON.stringify(n)):(sp.error(this.ctx,`Error calling tool ${t}: `+String(n)),`Error calling tool ${t}: `+String(n))}catch(n){sp.error(this.ctx,`Error calling tool ${t}:`,n);let i=n instanceof Error?n.message:"An unknown error occurred";return"Error calling tool "+t+": "+i}}async cleanup(){this.transport&&await this.mcp.close()}};d();var Iz=class extends i3{static{s(this,"McpLanguageModelTool")}constructor(t,r){super({...t,toolProvider:{id:t.serverName,displayName:t.serverName,description:t.serverName,isFirstPartyTool:!1},type:"mcp"}),this.invoker=r}prepareInvocation(t,r){let n={title:`Confirm MCP Tool: ${this.name}`,message:`Do you want to allow the external MCP tool "${this.toolProvider.displayName}/${this.displayName}" to run?`};return{progressMessage:`Running MCP tool: ${this.displayName}`,confirmationMessages:n}}async invoke(t,r,n){let i=await this.invoker(r.input);return new no([new ro(i)],"success")}async invokeConfirmation(t,r,n){if(n.isCancellationRequested)throw new Al;let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Ug).invokeClientToolConfirmation(t,i)}catch(o){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(o)}`)}}};var L$e=Ze(fl());var Tz=class e extends Ff{constructor(r){super();this.MCPServersMap=new Map;this.cachedMCPServerTools=[];this.ctx=r}static{s(this,"CLSMCPManager")}static{this.requestType=new L$e.ProtocolNotificationType("copilot/mcpTools")}async updateMCPServers(r){await this.clearAllServers();for(let n of Object.keys(r))await this.addServer({name:n,...r[n]});await this.getAndCacheAllTools(),this.registerTools(),await this.notifyClient()}getAllTools(){return this.cachedMCPServerTools}updateMCPToolStatus(r,n,i){let o=this.getTool(r,n);if(!o){sp.error(this.ctx,`Not found MCP ${r} server ${n} tool`);return}o._status=i,i==="enabled"?this.ctx.get(Yc).getToolById(`${r}.${n}`)||this.registerTool(r,o):this.unregisterTool(r,n)}async callTool(r,n,i){let o=this.MCPServersMap.get(r);if(o){let{status:a,server:l}=o;if(a==="running"&&l)return await l.callTool(n,i)}throw new Error(`MCP server ${r} is not running`)}getTool(r,n){let o=this.getAllTools().find(a=>a.name===r)?.tools;return!o||o.length===0?null:o.find(a=>a.name===n)||null}async getAndCacheAllTools(){let r=[];for(let n of this.MCPServersMap.keys()){let i=this.MCPServersMap.get(n);try{if(i.status==="running"&&i.server){let o=await i.server.getToolsList();o.forEach(a=>{let l=a.name,c=this.getToolStatus(n,l);c&&(a._status=c)}),r.push({name:n,status:i.status,tools:o})}else i.status==="error"?r.push({name:n,status:i.status,tools:[],error:i.error}):r.push({name:n,status:i.status,tools:[]})}catch(o){sp.error(this.ctx,`Error getting tools list for MCP server ${n}:`,o);let a=o instanceof Error?`message: ${o.message} stack: ${o.stack}`:String(o);r.push({name:n,status:i.status,tools:[],error:a})}}this.cachedMCPServerTools=r}getToolStatus(r,n){let i=this.getTool(r,n);return i?i._status:null}async addServer(r){try{this.MCPServersMap.set(r.name,{status:"stopped",server:null});let n=new Ez(this.ctx,r.name,r.version||"1.0.0");await n.connect(r),this.MCPServersMap.set(r.name,{status:"running",server:n})}catch(n){sp.error(this.ctx,`Error initializing MCP server ${r.name}:`,n);let i=n instanceof Error?`message: ${n.message} stack: ${n.stack}`:String(n);this.MCPServersMap.set(r.name,{status:"error",server:null,error:i}),this.ctx.get(ja).showWarningMessageOnlyOnce(`${r.name}.initialize`,`Failed to initialize MCP server '${r.name}'. Please check the logs for more details.`)}}async notifyClient(){let r=this.getAllTools();await this.ctx.get(Wr).connection.sendNotification(e.requestType,{servers:r})}registerTools(){for(let r of this.cachedMCPServerTools){let{name:n,tools:i}=r;for(let o of i)this.registerTool(n,o)}}registerTool(r,n){let{name:i,description:o,inputSchema:a,_status:l}=n;sp.debug(this.ctx,"register MCP Tool:",r,i,o,a,l),l!=="disabled"&&this.ctx.get(Yc).registerTool(new Iz({serverName:r,name:i,displayName:`${r}_${i}`,description:o||"",displayDescription:o||"",inputSchema:a},c=>(sp.debug(this.ctx,"copilot MCP Invoker:",r,i,c),this.callTool(r,i,c))))}unregisterAllTools(){for(let r of this.cachedMCPServerTools){let{name:n,tools:i}=r;for(let o of i){let{name:a}=o;this.unregisterTool(n,a)}}}unregisterTool(r,n){this.ctx.get(Yc).unregisterTool(`${r}.${n}`)}async clearAllServers(){this.unregisterAllTools();for(let r of this.MCPServersMap.values()){let{status:n,server:i}=r;n==="running"&&i&&await i.cleanup()}this.MCPServersMap.clear()}};d();d();var NGt=new Gt("fetcher"),LGt="https://default.exp-tas.com/",wz=class extends fn{constructor(r,n,i,o){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=o}static{s(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(Sc(i)||`${r}/`.startsWith(LGt))throw i;NGt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let o=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),o}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var F$e=new Gt("fetcher"),_z=class extends fn{constructor(r,n=new OT(r),i=new WT(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new wz(r,n,i,()=>{F$e.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(f2).once(()=>{this.updateFetcher()}),r.get(Gf).onConfigChange(wt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=qn(r,wt.FetchStrategy)}static{s(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(Go).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=qn(this.ctx,wt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(F$e.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var Sz=class extends ja{constructor(r){super();this.ctx=r}static{s(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(Wr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var M$e=Ze(require("crypto")),Q$e=require("os");var FGt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function MGt(e){let t=e.replace(/-/g,":").toLowerCase();return!FGt.has(t)}s(MGt,"validateMacAddress");function QGt(){let e=(0,Q$e.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(MGt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(QGt,"getMac");var Nme;function OGt(){try{let e=QGt();return M$e.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}s(OGt,"getMacMachineId");function O$e(){return Nme||(Nme=OGt()||_r()),Nme}s(O$e,"getMachineId");var UGt=_r()+Date.now(),U$e=new Bs(UGt,O$e());d();d();var eD=Ze(require("node:process"),1),Vme=require("node:buffer"),$me=Ze(require("node:path"),1),oze=require("node:url"),sze=Ze(require("node:util"),1),zme=Ze(require("node:child_process"),1),PE=Ze(require("node:fs/promises"),1);d();var Ome=Ze(require("node:process"),1),G$e=Ze(require("node:os"),1),H$e=Ze(require("node:fs"),1);d();var q$e=Ze(require("node:fs"),1);d();var Fme=Ze(require("node:fs"),1);var Lme;function qGt(){try{return Fme.default.statSync("/.dockerenv"),!0}catch{return!1}}s(qGt,"hasDockerEnv");function WGt(){try{return Fme.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}s(WGt,"hasDockerCGroup");function Mme(){return Lme===void 0&&(Lme=qGt()||WGt()),Lme}s(Mme,"isDocker");var Qme,GGt=s(()=>{try{return q$e.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function tw(){return Qme===void 0&&(Qme=GGt()||Mme()),Qme}s(tw,"isInsideContainer");var W$e=s(()=>{if(Ome.default.platform!=="linux")return!1;if(G$e.default.release().toLowerCase().includes("microsoft"))return!tw();try{return H$e.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!tw():!1}catch{return!1}},"isWsl"),rw=Ome.default.env.__IS_WSL_TEST__?W$e:W$e();d();function DE(e,t,r){let n=s(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}s(DE,"defineLazyProperty");d();var Z$e=require("node:util"),kz=Ze(require("node:process"),1),eze=require("node:child_process");d();var j$e=require("node:util"),V$e=Ze(require("node:process"),1),$$e=require("node:child_process");var HGt=(0,j$e.promisify)($$e.execFile);async function Ume(){if(V$e.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await HGt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}s(Ume,"defaultBrowserId");d();d();var z$e=Ze(require("node:process"),1),Y$e=require("node:util"),qme=require("node:child_process");var jGt=(0,Y$e.promisify)(qme.execFile);async function K$e(e,{humanReadableOutput:t=!0}={}){if(z$e.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await jGt("osascript",["-e",e,r]);return n.trim()}s(K$e,"runAppleScript");async function Wme(e){return K$e(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}s(Wme,"bundleName");d();var J$e=require("node:util"),X$e=require("node:child_process");var VGt=(0,J$e.promisify)(X$e.execFile),$Gt={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},Rz=class extends Error{static{s(this,"UnknownBrowserError")}};async function Gme(e=VGt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new Rz(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=$Gt[n];if(!i)throw new Rz(`Unknown browser ID: ${n}`);return i}s(Gme,"defaultBrowser");var zGt=(0,Z$e.promisify)(eze.execFile),YGt=s(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function Hme(){if(kz.default.platform==="darwin"){let e=await Ume();return{name:await Wme(e),id:e}}if(kz.default.platform==="linux"){let{stdout:e}=await zGt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:YGt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(kz.default.platform==="win32")return Gme();throw new Error("Only macOS, Linux, and Windows are supported")}s(Hme,"defaultBrowser");var KGt=sze.default.promisify(zme.default.execFile),jme=$me.default.dirname((0,oze.fileURLToPath)(importMetaUrlShim)),tze=$me.default.join(jme,"xdg-open"),{platform:nw,arch:rze}=eD.default,JGt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await PE.default.access(r,PE.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await PE.default.readFile(r,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),aze=s(async()=>`${await JGt()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"getPowershellPathFromWsl");async function XGt(){let e=await aze(),r=Vme.Buffer.from('(Get-ItemProperty -Path "HKCU:\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice").ProgId',"utf16le").toString("base64"),{stdout:n}=await KGt(e,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),i=n.trim(),o={ChromeHTML:"com.google.chrome",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return o[i]?{id:o[i]}:{}}s(XGt,"getWindowsDefaultBrowserFromWsl");var nze=s(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),Bz=s(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return nze(e.app,l=>Bz({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return nze(t,l=>Bz({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=rw?await XGt():await Hme();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),Bz({...e,app:{name:iw[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],o={};if(nw==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(nw==="win32"||rw&&!tw()&&!t){n=rw?await aze():`${eD.default.env.SYSTEMROOT||eD.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),rw||(o.windowsVerbatimArguments=!0);let l=["Start"];e.wait&&l.push("-Wait"),t?(l.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&l.push(`"${e.target}"`),r.length>0&&(r=r.map(c=>`"\`"${c}\`""`),l.push("-ArgumentList",r.join(","))),e.target=Vme.Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!jme||jme==="/",c=!1;try{await PE.default.access(tze,PE.constants.X_OK),c=!0}catch{}n=eD.default.versions.electron??(nw==="android"||l||!c)?"xdg-open":tze}r.length>0&&i.push(...r),e.wait||(o.stdio="ignore",o.detached=!0)}nw==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=zme.default.spawn(n,i,o);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),ZGt=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Bz({...t,target:e})},"open");function ize(e){if(typeof e=="string"||Array.isArray(e))return e;let{[rze]:t}=e;if(!t)throw new Error(`${rze} is not supported`);return t}s(ize,"detectArchBinary");function Yme({[nw]:e},{wsl:t}){if(t&&rw)return ize(t);if(!e)throw new Error(`${nw} is not supported`);return ize(e)}s(Yme,"detectPlatformBinary");var iw={};DE(iw,"chrome",()=>Yme({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));DE(iw,"firefox",()=>Yme({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));DE(iw,"edge",()=>Yme({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));DE(iw,"browser",()=>"browser");DE(iw,"browserPrivate",()=>"browserPrivate");var Dz=ZGt;var Pz=class extends lc{constructor(r,n=new Kme){super();this.ctx=r;this.fallback=n}static{s(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(Wr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}},Kme=class extends lc{static{s(this,"SpawnUrlOpener")}async open(t){await Dz(t)}};d();d();var Nz=class extends UH{static{s(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(Kh).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,workspaceFolder:this.workspaceFolder,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(Kh).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(Kh).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let o=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);o.length&&this.onFilesDeleted(o.map(a=>({uri:a.uri})))}};var Lz=class extends $c{static{s(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new Nz(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(Go).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function lze(e){let t=new Gf(process.env),r=jNe(t);r.set(Gf,t),r.set(f2,new f2),r.set(fn,new _z(r)),r.set(Da,new Da(r)),lde(r,{});let n=kMe();r.set(Ac,n);let i=new HB(r);r.set(en,i),r.set(HB,i);let o=new lS(r,n);r.set(lS,o),r.set(kn,new kn(o,i)),r.set(Tv,new Tv),r.set(Bs,U$e),r.set(pn,new pj),r.set(mE,jje()),r.set(ns,new ns),r.set(bo,dVe),r.set(Hv,new q$(r)),r.set($c,new Lz(r)),r.set(Kh,new Kh(r)),r.set(Dl,new Dl),r.set(ml,fU(r,oGe)),qH(r),KMe(r),p8e(r),r.set(Wr,new Wr(r,e)),r.set(ja,new Sz(r)),r.set(lc,new Pz(r)),r.set(Yi,new ez(r)),r.set(VB,new VB(r));let a=new v3(r);return r.set(Vr,a),r.set(v3,a),r.set(hs,new w9(r,process.env)),r.set(qc,new qc(r)),sVe(r),iLe(r),r.set(N0,new N0),r.set(g3,new g3),r.set(rp,new rp),r.set(hf,new W$),r.set(f1,new f1),r.set(mg,new n6(r)),r.set(zh,new zh(r)),r.set(KA,new KA(r)),r.set(tl,new tl(r)),r.set(gc,new J$(r)),r.set(PC,new Z$(r)),r.set(Ug,new X$(r)),r.set(Yc,new Yc(r)),r.set(a2,new a2(r)),r.set(Yh,new Yh(r)),r.set(Ff,new Tz(r)),r}s(lze,"createLanguageServerContext");d();var Jme=require("events"),tD=Ze(require("fs"));var Mz=Ze(fl());d();var uze=Ze(require("fs")),fze=Ze(require("http")),ow=Ze(require("path"));var Fz=class{constructor(t,r){this.port=t;let n;this.server=fze.createServer((i,o)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(o.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{cze(o,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{cze(o,JSON.stringify(l))});return;default:o.writeHead(404),o.end();return}o.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;ow.basename(__dirname)!=="debug"&&(a=ow.dirname(__dirname)),n??=uze.readFileSync(ow.join(a,"dist","debugServer.html")).toString(),o.write(n),o.end()}),this.server.on("error",i=>{console.error(i)})}static{s(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function cze(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}s(cze,"writeData");var Xme=class extends Mz.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{s(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},Zme=class extends Mz.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{s(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function dze(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new Jme.EventEmitter;let l=new Fz(i,n).listen();i===0&&await Dz(`http://localhost:${l.getPort()}`)}let o=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();o==="1"||o==="true"?a=tD.openSync(`stdio${l}.log`,"w"):o&&o!=="0"&&o!=="false"&&(a=tD.openSync(o.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=s(c=>{a&&tD.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new Jme.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new Zme(t,n),r=new Xme(r,n)),[t,r]}s(dze,"wrapTransports");async function gze(){let e=zEe(process.argv.slice(2)).version(new Ao().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new bm.IPCMessageReader(process),n=new bm.IPCMessageWriter(process)):t.stdio?(r=new bm.StreamMessageReader(process.stdin),n=new bm.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await mze.mkdtemp(hze.default.tmpdir()+"/github-copilot-"));let i=(0,bm.createConnection)(bm.ProposedFeatures.all,...await dze(process.env,r,n)),o=lze(i);console=Kve(o);let a=o.get(Wr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}s(gze,"main");pze.isMainThread?require.main===module&&gze():zve()&&Yve();0&&(module.exports={getTokenizer,getTokenizerAsync,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

yargs-parser/build/lib/string-utils.js:
yargs-parser/build/lib/tokenize-arg-string.js:
yargs-parser/build/lib/yargs-parser-types.js:
yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
